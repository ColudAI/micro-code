var x4=Object.defineProperty;var B4=(e,o,n)=>o in e?x4(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n;var lo=(e,o,n)=>(B4(e,typeof o!="symbol"?o+"":o,n),n);function F4(e,o){for(var n=0;n<o.length;n++){const i=o[n];if(typeof i!="string"&&!Array.isArray(i)){for(const l in i)if(l!=="default"&&!(l in e)){const u=Object.getOwnPropertyDescriptor(i,l);u&&Object.defineProperty(e,l,u.get?u:{enumerable:!0,get:()=>i[l]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const a of u.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=n(l);fetch(l.href,u)}})();var Wn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xl(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var CN={exports:{}},oT={exports:{}},rT={exports:{}},iT={exports:{}},sT={exports:{}},SS;function Hh(){return SS||(SS=1,function(e,o){(function(n,i){e.exports=i()})(Wn,function(){var n={},i,l,u,a,h,p,m,$,T,w,A,R,L,M,B,G,j,F,x,D,U,te,Y,J,ee,ue,oe,X,K,q,z,ne,ge,Q,Oe,Re,_e,se,ke,Be,et,ut,dt,gt,we,le,ce,re,Me,Ne,$e,Fe,Le,qe,Xe,at,Ee,Ie,he,me,Se,xe,Ke,C,k,de,Ce,Te,Ve,tt,Et,St,Bt,qt,sn,dn,y,N,S,b,v,I,H,pe,rt,bt,Ft,ln,Hn,kt,En,On,hr,br,jr,xi,Yn,Vl,Ns,Ra,Xr,pr,wt,Xt,Pn,uo,Ho,Yo,rs,La,zu,Qh,ld,Wu,Ul,ju,Xu,is,Co,Bi,Hl,Ku,qh,Yu,ad,ud,tl,Qu,qu,ss,Ma,nl,Pa,cd,Zh,Da,xa,Zu,Kr,dd,hd,Ba,pd,fd,gd,Jh,Fa,_i,Va,md,$d,vd,ep,co,je,pt,Ot,xt,Ht,en,hn,eo,Mo,Mn,fr,qo,ls,xn,_o,As,bi,ol,rl,Ua,Gl,bo,bg,Yr,Tg,tp,Rs,_d,Ha,po,Ti,Ju,as,bd,yg,mv,Td,np,ec,Ga,op,rp,Eg,ip,sp,Cg,$v,zl,yd,Ig,tc,Nr,lp,nc,ap,up,il,Sg,Og,vv,_v,za,bv,kg,cp,dp,sl,us,Ed,hp,pp,Fi,yi,Cd,wg,wo,fp,oc,Wa,ja,it,$t,ct,Yt,$n,Gn,Go,oo,gp,Tv,Qr,Tr,yv,Xa,qr,to,qn,Ev,mp,Vi,$p,Cv,Id,Ka,ll,Ya,Ng,Qa,vp,_p,Sd,bp,Wl,jl,Od,Iv,Ag,Tp,rc,qa,yp,Ep,Rg,Sv,Zr,Vt,no,gr,fo,cs,ic,zt,go,kd,Za,Ja,eu,sc,Xl,Lg,Mg,lc,ac,Pg,wd,Kl,Cp,be,Yl,Nd,Jr,Nn,Dg,xg,Ad,Ql,Bg,Ip,Ov,kv,Fg,Ei,wv,Nv,Av,Rv,Rd,ds,Vg,Ug,Lv,Ld,Hg,Ui,Mv,Gg,Ci,zg,Wg,jg,Xg,Kg,Sp,Md,Pd,Yg,Op,tu,uc,Qg,kp,qg,hs,Dd,ql,ei,Zl,xd,Bd,nu,al,wp,Np,cc,Zg,Jg,Zo,Ap,Rp,Hi,Fd,ou,ul,Vd,sr,dc,Pv,Dv,xv,Lp,Bv,hc,em,Fv,tm,ru,nm,om,Mp,rm,im,sm,lm,Pp,Ud,am,Hd,Dp,um,cm,rn;i=function(t,r,s,c){if(!(t instanceof Rt)&&typeof t!="string"||`${t}`.trim()==="")throw Error('Invalid type "'+t+'". The type must be a non-empty string or a Blockly.registry.Type.');if(t=`${t}`.toLowerCase(),typeof r!="string"||r.trim()==="")throw Error('Invalid name "'+r+'". The name must be a non-empty string.');const g=r.toLowerCase();if(!s)throw Error("Can not register a null value");let P=cl[t],ae=xp[t];if(P||(P=cl[t]=Object.create(null),ae=xp[t]=Object.create(null)),l(t,s),!c&&P[g])throw Error('Name "'+g+'" with type "'+t+'" already registered.');P[g]=s,ae[g]=r},l=function(t,r){switch(t){case String(Rt.FIELD):if(typeof r.fromJson!="function")throw Error('Type "'+t+'" must have a fromJson function')}},u=function(t,r){t=`${t}`.toLowerCase(),r=r.toLowerCase();const s=cl[t];s&&s[r]?(delete cl[t][r],delete xp[t][r]):console.warn("Unable to unregister ["+r+"]["+t+"] from the registry.")},a=function(t,r,s){t=`${t}`.toLowerCase(),r=r.toLowerCase();const c=cl[t];if(!c||!c[r]){if(r="Unable to find ["+r+"]["+t+"] in the registry.",s)throw Error(r+" You must require or register a "+t+" plugin.");return console.warn(r),null}return c[r]},h=function(t,r){return t=`${t}`.toLowerCase(),r=r.toLowerCase(),(t=cl[t])?!!t[r]:!1},p=function(t,r,s){return a(t,r,s)},m=function(t,r,s){return a(t,r,s)},$=function(t,r,s){t=`${t}`.toLowerCase();var c=cl[t];if(!c){if(c=`Unable to find [${t}] in the registry.`,s)throw Error(`${c} You must require or register a ${t} plugin.`);return console.warn(c),null}if(!r)return c;t=xp[t],s=Object.create(null);for(const g of Object.keys(c))s[t[g]]=c[g];return s},T=function(t,r,s){return r=r.plugins[String(t)]||Ls,typeof r=="function"?r:p(t,r,s)},w=function(t){return iu[t]||null},A=function(){const t=[];for(const r in iu)t.push(iu[r]);return t},R=function(t){iu[t.id]=t},L=function(t){delete iu[t.id]},M=function(){return Uv},B=function(t){Uv=t},G=function(){return Bp},j=function(t){Bp=t},F=function(){return kn},x=function(t){kn=t},D=function(t){for(;t.options.parentWorkspace;)t=t.options.parentWorkspace;const r=t.getParentSvg(),s=t.getCachedParentSvgSize();var c=r.parentElement;if(c instanceof HTMLElement){var g=c.offsetWidth;c=c.offsetHeight,s.width!==g&&(r.setAttribute("width",g+"px"),t.setCachedParentSvgSize(g,null)),s.height!==c&&(r.setAttribute("height",c+"px"),t.setCachedParentSvgSize(null,c)),t.resize()}},U=function(t,r){const s=Object.create(null),c=t.getDescendants(!0);r&&(t=t.getNextBlock())&&(t=c.indexOf(t),c.splice(t,c.length-t));for(let g=0,P;P=c[g];g++)s[P.type]?s[P.type]++:s[P.type]=1;return s},te=function(t){return function(){this.jsonInit(t)}},Y=function(t){Hv.defineBlocksWithJsonArrayInternal(t)},J=function(t){n.defineBlocks$$module$build$src$core$common(n.createBlockDefinitionsFromJsonArray$$module$build$src$core$common(t))},n.createBlockDefinitionsFromJsonArray$$module$build$src$core$common=function(t){const r={};for(let s=0;s<t.length;s++){const c=t[s];if(!c){console.warn(`Block definition #${s} in JSON array is ${c}. Skipping`);continue}const g=c.type;g?r[g]={init:te(c)}:console.warn(`Block definition #${s} in JSON array is missing a type attribute. Skipping.`)}return r},n.defineBlocks$$module$build$src$core$common=function(t){for(const r of Object.keys(t)){const s=t[r];r in Ar&&console.warn(`Block definiton "${r}" overwrites previous definition.`),Ar[r]=s}},ee=function(){return"blockly-"+(P1++).toString(36)},ue=function(){return Gv.genUid()},oe=function(t){dl=t},X=function(){return dl},K=function(t){Gd.fireInternal(t)},q=function(t){if(Q()){if(!au.length)try{requestAnimationFrame(()=>{setTimeout(z,0)})}catch{setTimeout(z,0)}au.push(t)}},z=function(){var t=ne(au,!0);au.length=0;for(let s=0,c;c=t[s];s++)if(c.workspaceId){var r=w(c.workspaceId);r&&r.fireChangeListener(c)}t=new Set(t.map(s=>s.workspaceId));for(const s of t){if(!s||(t=w(s),!t))continue;t=t.getUndoStack();let c;for(r=t.length;0<r;r--){const g=t[r-1];if(g.group==="")break;if(c===void 0)c=g.group;else if(g.group!==c)break}c&&r!=t.length-1&&(r=t.splice(r,t.length-r),r=ne(r,!0),t.push(...r))}},ne=function(t,r){t=t.slice(),r||t.reverse();const s=[],c=Object.create(null);for(let ae=0,ze;ze=t[ae];ae++)if(!ze.isNull()){var g=[ze.isUiEvent?gc:ze.type,ze.blockId,ze.workspaceId].join(" "),P=c[g];const vt=P?P.event:null;P?ze.type===n.MOVE$$module$build$src$core$events$utils&&P.index===ae-1?(g=ze,vt.newParentId=g.newParentId,vt.newInputName=g.newInputName,vt.newCoordinate=g.newCoordinate,g.reason&&(vt.reason?(g=new Set(g.reason.concat(vt.reason)),vt.reason=Array.from(g)):vt.reason=g.reason),P.index=ae):ze.type===n.CHANGE$$module$build$src$core$events$utils&&ze.element===vt.element&&ze.name===vt.name?vt.newValue=ze.newValue:ze.type===oa?(P=ze,vt.viewTop=P.viewTop,vt.viewLeft=P.viewLeft,vt.scale=P.scale,vt.oldScale=P.oldScale):(ze.type!==Ms||vt.type!==ps)&&(c[g]={event:ze,index:ae},s.push(ze)):(c[g]={event:ze,index:ae},s.push(ze))}t=s.filter(function(ae){return!ae.isNull()}),r||t.reverse();for(let ae=1,ze;ze=t[ae];ae++)ze.type===n.CHANGE$$module$build$src$core$events$utils&&ze.element==="mutation"&&t.unshift(t.splice(ae,1)[0]);return t},ge=function(){for(let t=0,r;r=au[t];t++)r.recordUndo=!1},n.disable$$module$build$src$core$events$utils=function(){fc++},n.enable$$module$build$src$core$events$utils=function(){fc--},Q=function(){return fc===0},n.getGroup$$module$build$src$core$events$utils=function(){return hm},n.setGroup$$module$build$src$core$events$utils=function(t){Gd.setGroupInternal(t)},Oe=function(t){hm=typeof t=="boolean"?t?ue():"":t},Re=function(t){const r=[];t=t.getDescendants(!1);for(let s=0,c;c=t[s];s++)r[s]=c.id;return r},_e=function(t,r){const s=se(t.type);if(!s)throw Error("Unknown event type.");return s.fromJson(t,r)},se=function(t){const r=p(Rt.EVENT,t);if(!r)throw Error(`Event type ${t} not found in registry.`);return r},ke=function(t){if((t.type===n.MOVE$$module$build$src$core$events$utils||t.type===n.CREATE$$module$build$src$core$events$utils)&&t.workspaceId){var r=w(t.workspaceId);if(!t.blockId)throw Error("Encountered a blockEvent without a proper blockId");if(t=r.getBlockById(t.blockId)){const s=dl;try{dl=!1;const c=t.getParent();if(c&&c.isEnabled()){const g=t.getDescendants(!1);for(let P=0,ae;ae=g[P];P++)ae.setEnabled(!0)}else if((t.outputConnection||t.previousConnection)&&!r.isDragging())do t.setEnabled(!1),t=t.getNextBlock();while(t)}finally{dl=s}}}},Be=function(t){return t.saveState!==void 0&&t.loadState!==void 0},et=function(t){({document:zd=zd,DOMParser:lr=lr,XMLSerializer:ni=ni}=t),Vp=new lr,Up=new ni},n.createElement$$module$build$src$core$utils$xml=function(t){return zd.createElementNS(zv,t)},n.createTextNode$$module$build$src$core$utils$xml=function(t){return zd.createTextNode(t)},n.textToDom$$module$build$src$core$utils$xml=function(t){let r=Vp.parseFromString(t,"text/xml");if(r&&r.documentElement&&!r.getElementsByTagName("parsererror").length)return r.documentElement;if((r=Vp.parseFromString(t,"text/html"))&&r.body.firstChild&&r.body.firstChild.nodeName.toLowerCase()==="xml")return r.body.firstChild;throw Error(`DOMParser was unable to parse: ${t}`)},ut=function(t){return dt(Up.serializeToString(t))},dt=function(t){return t.replace(D1,r=>`&#${r.charCodeAt(0)};`)},gt=function(t,r,s,c){t=t+" was deprecated in "+r+" and will be deleted in "+s+".",c&&(t+=`
Use `+c+" instead."),console.warn(t)},we=function(t,r,s){t=document.createElementNS(Wd,`${t}`);for(const c in r)t.setAttribute(c,`${r[c]}`);return s&&s.appendChild(t),t},le=function(t,r){return r=r.split(" "),r.every(s=>t.classList.contains(s))?!1:(t.classList.add(...r),!0)},ce=function(t,r){t.classList.remove(...r.split(" "))},re=function(t,r){return r=r.split(" "),r.every(s=>!t.classList.contains(s))?!1:(t.classList.remove(...r),!0)},Me=function(t,r){return t.classList.contains(r)},Ne=function(t){return t&&t.parentNode?t.parentNode.removeChild(t):null},$e=function(t,r){const s=r.nextSibling;if(r=r.parentNode,!r)throw Error("Reference node has no parent.");s?r.insertBefore(t,s):r.appendChild(t)},Fe=function(t,r){return gt("Blockly.utils.dom.containsNode","version 10","version 11",'Use native "contains" DOM method'),t.contains(r)},Le=function(t,r){t.style.transform=r,t.style["-webkit-transform"]=r},qe=function(){fm++,Mr||(Mr=Object.create(null))},Xe=function(){fm--,fm||(Mr=null)},at=function(t){const r=t.textContent+`
`+t.className.baseVal;let s;if(Mr&&(s=Mr[r]))return s;try{s=t.getComputedTextLength()}catch{return 8*t.textContent.length}return Mr&&(Mr[r]=s),s},Ee=function(t,r,s,c){return Ie(t,r+"pt",s,c)},Ie=function(t,r,s,c){const g=t.textContent;t=g+`
`+t.className.baseVal;var P;return Mr&&(P=Mr[t])||(jd||(P=document.createElement("canvas"),P.className="blocklyComputeCanvas",document.body.appendChild(P),jd=P.getContext("2d")),jd.font=s+" "+r+" "+c,P=g?jd.measureText(g).width:0,Mr&&(Mr[t]=P)),P},he=function(t,r,s,c){const g=document.createElement("span");g.style.font=s+" "+r+" "+c,g.textContent=t,t=document.createElement("div"),t.style.width="1px",t.style.height="0",r=document.createElement("div"),r.setAttribute("style","position: fixed; top: 0; left: 0; display: flex;"),r.appendChild(g),r.appendChild(t),document.body.appendChild(r),s={height:0,baseline:0};try{r.style.alignItems="baseline",s.baseline=t.offsetTop-g.offsetTop,r.style.alignItems="flex-end",s.height=t.offsetTop-g.offsetTop}finally{document.body.removeChild(r)}return s},me=function(t,r){gm(t,r)},Se=function(t){gm=t},xe=function(t,r){Kd.confirmInternal(t,r)},Ke=function(t,r){Xd(t,r)},C=function(t){Xd=t},k=function(t,r,s){Hp(t,r,s)},de=function(t){Hp=t},Ce=function(t){return t.getVariableModel!==void 0},Te=function(t){return t.getProcedureDef!==void 0},Ve=function(t){return t.getProcedureCall!==void 0&&t.renameProcedure!==void 0},n.allUsedVarModels$$module$build$src$core$variables=function(t){t=t.getAllBlocks(!1);const r=new Set;for(let s=0;s<t.length;s++){const c=t[s].getVarModels();if(c)for(let g=0;g<c.length;g++){const P=c[g];P.getId()&&r.add(P)}}return Array.from(r.values())},n.allDeveloperVariables$$module$build$src$core$variables=function(t){t=t.getAllBlocks(!1);const r=new Set;for(let c=0,g;g=t[c];c++){var s=g.getDeveloperVariables;if(s){s=s();for(let P=0;P<s.length;P++)r.add(s[P])}}return Array.from(r.values())},tt=function(t){let r=[];const s=document.createElement("button");return s.setAttribute("text","%{BKY_NEW_VARIABLE}"),s.setAttribute("callbackKey","CREATE_VARIABLE"),t.registerButtonCallback("CREATE_VARIABLE",function(c){sn(c.getTargetWorkspace())}),r.push(s),t=Et(t),r=r.concat(t)},Et=function(t){t=t.getVariablesOfType("");const r=[];if(0<t.length){var s=t[t.length-1];if(Ar.variables_set){var c=n.createElement$$module$build$src$core$utils$xml("block");c.setAttribute("type","variables_set"),c.setAttribute("gap",Ar.math_change?"8":"24"),c.appendChild(n.generateVariableFieldDom$$module$build$src$core$variables(s)),r.push(c)}if(Ar.math_change&&(c=n.createElement$$module$build$src$core$utils$xml("block"),c.setAttribute("type","math_change"),c.setAttribute("gap",Ar.variables_get?"20":"8"),c.appendChild(n.generateVariableFieldDom$$module$build$src$core$variables(s)),s=n.textToDom$$module$build$src$core$utils$xml('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),c.appendChild(s),r.push(c)),Ar.variables_get){t.sort(mc.compareByName);for(let g=0,P;P=t[g];g++)s=n.createElement$$module$build$src$core$utils$xml("block"),s.setAttribute("type","variables_get"),s.setAttribute("gap","8"),s.appendChild(n.generateVariableFieldDom$$module$build$src$core$variables(P)),r.push(s)}}return r},St=function(t){return $m.generateUniqueNameInternal(t)},Bt=function(t){return qt(zp.charAt(0),t.getAllVariableNames())},qt=function(t,r){if(!r.length)return t;const s=zp;let c="",g=s.indexOf(t);for(;;){let P=!1;for(let ae=0;ae<r.length;ae++)if(r[ae].toLowerCase()===t){P=!0;break}if(!P)break;g++,g===s.length&&(g=0,c=`${Number(c)+1}`),t=s.charAt(g)+c}return t},sn=function(t,r,s){function c(P){dn(n.Msg$$module$build$src$core$msg.NEW_VARIABLE_TITLE,P,function(ae){if(ae){var ze=N(ae,t);if(ze){if(ze.type===g)var vt=n.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS.replace("%1",ze.name);else vt=n.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,vt=vt.replace("%1",ze.name).replace("%2",ze.type);me(vt,function(){c(ae)})}else t.createVariable(ae,g),r&&r(ae)}else r&&r(null)})}const g=s||"";c("")},n.renameVariable$$module$build$src$core$variables=function(t,r,s){function c(g){const P=n.Msg$$module$build$src$core$msg.RENAME_VARIABLE_TITLE.replace("%1",r.name);dn(P,g,function(ae){if(ae){var ze=y(ae,r.type,t),vt=S(r.name,ae,t);if(ze||vt){var Qt="";ze?Qt=n.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",ze.name).replace("%2",ze.type):vt&&(Qt=n.Msg$$module$build$src$core$msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER.replace("%1",ae).replace("%2",vt)),me(Qt,function(){c(ae)})}else t.renameVariableById(r.getId(),ae),s&&s(ae)}else s&&s(null)})}c("")},dn=function(t,r,s){k(t,r,function(c){c&&(c=c.replace(/[\s\xa0]+/g," ").trim(),c===n.Msg$$module$build$src$core$msg.RENAME_VARIABLE||c===n.Msg$$module$build$src$core$msg.NEW_VARIABLE)&&(c=null),s(c)})},y=function(t,r,s){s=s.getVariableMap().getAllVariables(),t=t.toLowerCase();for(let c=0,g;g=s[c];c++)if(g.name.toLowerCase()===t&&g.type!==r)return g;return null},N=function(t,r){r=r.getVariableMap().getAllVariables(),t=t.toLowerCase();for(let s=0,c;c=r[s];s++)if(c.name.toLowerCase()===t)return c;return null},S=function(t,r,s){return s.getProcedureMap().getProcedures().length?b(t,r,s):v(t,r,s)},b=function(t,r,s){t=t.toLowerCase(),r=r.toLowerCase(),s=s.getProcedureMap().getProcedures();for(const g of s){var c=g.getParameters().filter(Ce).map(P=>P.getVariableModel().name);if(c&&(s=c.some(P=>P.toLowerCase()===t),c=c.some(P=>P.toLowerCase()===r),s&&c))return g.getName()}return null},v=function(t,r,s){t=t.toLowerCase(),r=r.toLowerCase(),s=s.getAllBlocks(!1);for(const g of s){if(!Te(g))continue;s=g.getProcedureDef();var c=s[1];const P=c.some(ae=>ae.toLowerCase()===t);if(c=c.some(ae=>ae.toLowerCase()===r),P&&c)return s[0]}return null},n.generateVariableFieldDom$$module$build$src$core$variables=function(t){const r=n.createElement$$module$build$src$core$utils$xml("field");return r.setAttribute("name","VAR"),r.setAttribute("id",t.getId()),r.setAttribute("variabletype",t.type),t=n.createTextNode$$module$build$src$core$utils$xml(t.name),r.appendChild(t),r},n.getOrCreateVariablePackage$$module$build$src$core$variables=function(t,r,s,c){let g=n.getVariable$$module$build$src$core$variables(t,r,s,c);return g||(g=I(t,r,s,c)),g},n.getVariable$$module$build$src$core$variables=function(t,r,s,c){const g=t.getPotentialVariableMap();let P=null;if(r&&(P=t.getVariableById(r),!P&&g&&(P=g.getVariableById(r)),P))return P;if(s){if(c===void 0)throw Error("Tried to look up a variable by name without a type");P=t.getVariable(s,c),!P&&g&&(P=g.getVariable(s,c))}return P},I=function(t,r,s,c){const g=t.getPotentialVariableMap();return s||(s=St(t.isFlyout?t.targetWorkspace:t)),g?g.createVariable(s,c,r):t.createVariable(s,c,r)},H=function(t,r){t=t.getAllVariables();const s=[];if(r.length!==t.length)for(let c=0;c<t.length;c++){const g=t[c];r.indexOf(g)===-1&&s.push(g)}return s},pe=function(t,r){rt(),gl=setTimeout(function(){r&&r.handleRightClick(t)},vm)},rt=function(){gl&&(clearTimeout(gl),gl=0)},bt=function(){$c=null},Ft=function(t){return!t.type.startsWith("pointer")||t instanceof PointerEvent&&Hn(t)},ln=function(t){return`${t.pointerId}`},Hn=function(t){const r=ln(t);return $c?$c===r:t.type==="pointerdown"?($c=r,!0):!1},kt=function(t,r,s,c,g){function P(ze){(g||Ft(ze))&&(s?c.call(s,ze):c(ze))}const ae=[];if(r in Bs)for(let ze=0;ze<Bs[r].length;ze++){const vt=Bs[r][ze];t.addEventListener(vt,P,!1),ae.push([t,vt,P])}else t.addEventListener(r,P,!1),ae.push([t,r,P]);return ae},En=function(t,r,s,c){function g(ae){s?c.call(s,ae):c(ae)}const P=[];if(r in Bs)for(let ae=0;ae<Bs[r].length;ae++){const ze=Bs[r][ae];t.addEventListener(ze,g,!1),P.push([t,ze,g])}else t.addEventListener(r,g,!1),P.push([t,r,g]);return P},On=function(t){const r=t[t.length-1][2];for(;t.length;){const[s,c,g]=t.pop();s.removeEventListener(c,g,!1)}return r},hr=function(t){if(t.target instanceof HTMLElement){if(t.target.isContentEditable||t.target.getAttribute("data-is-text-input")==="true")return!0;if(t.target instanceof HTMLInputElement)return t=t.target,t.type==="text"||t.type==="number"||t.type==="email"||t.type==="password"||t.type==="search"||t.type==="tel"||t.type==="url";if(t.target instanceof HTMLTextAreaElement)return!0}return!1},br=function(t){return t.ctrlKey&&mr?!0:t.button===2},jr=function(t,r,s){const c=r.createSVGPoint();return c.x=t.clientX,c.y=t.clientY,s||(s=r.getScreenCTM().inverse()),c.matrixTransform(s)},xi=function(t){switch(t.deltaMode){default:return{x:t.deltaX,y:t.deltaY};case 1:return{x:t.deltaX*Kp,y:t.deltaY*Kp};case 2:return{x:t.deltaX*Yv,y:t.deltaY*Yv}}},Yn=function(t){if(hu)throw Error("CSS already injected");Yp+=`
`+t},Vl=function(t,r){hu||(hu=!0,t&&(t=r.replace(/[\\/]$/,""),r=Yp.replace(/<<<PATH>>>/g,t),Yp="",t=document.createElement("style"),t.id="blockly-common-style",r=document.createTextNode(r),t.appendChild(r),document.head.insertBefore(t,document.head.firstChild)))},Ns=function(t){return Qv.getSizeInternal(t)},Ra=function(t){if(pr(t,"display")!=="none")return Xr(t);const r=t.style,s=r.display,c=r.visibility,g=r.position;r.visibility="hidden",r.position="absolute",r.display="inline";const P=t.offsetWidth;return t=t.offsetHeight,r.display=s,r.position=g,r.visibility=c,new Zn(P,t)},Xr=function(t){return new Zn(t.offsetWidth,t.offsetHeight)},pr=function(t,r){return t=window.getComputedStyle(t),t[r]||t.getPropertyValue(r)},wt=function(t){const r=new Pt(0,0);t=t.getBoundingClientRect();var s=document.documentElement;return s=new Pt(window.pageXOffset||s.scrollLeft,window.pageYOffset||s.scrollTop),r.x=t.left+s.x,r.y=t.top+s.y,r},Xt=function(){const t=document.body,r=document.documentElement;return new Pt(t.scrollLeft||r.scrollLeft,t.scrollTop||r.scrollTop)},Pn=function(t){const r=parseFloat(pr(t,"borderLeftWidth")),s=parseFloat(pr(t,"borderRightWidth")),c=parseFloat(pr(t,"borderTopWidth"));return t=parseFloat(pr(t,"borderBottomWidth")),new ro(c,t,r,s)},uo=function(t,r,s){t=Ho(t,r,s),r.scrollLeft=t.x,r.scrollTop=t.y},Ho=function(t,r,s){var c=wt(t),g=wt(r),P=Pn(r);const ae=c.x-g.x-P.left;return c=c.y-g.y-P.top,g=Xr(t),t=r.clientWidth-g.width,g=r.clientHeight-g.height,P=r.scrollLeft,r=r.scrollTop,s?(P+=ae-t/2,r+=c-g/2):(P+=Math.min(ae,Math.max(ae-t,0)),r+=Math.min(c,Math.max(c-g,0))),new Pt(P,r)},Yo=function(t){const r=new Pt(0,0);var s=t.x&&t.getAttribute("x");const c=t.y&&t.getAttribute("y");return s&&(r.x=parseInt(s)),c&&(r.y=parseInt(c)),(s=(s=t.getAttribute("transform"))&&s.match(Tm))&&(r.x+=Number(s[1]),s[3]&&(r.y+=Number(s[3]))),(t=t.getAttribute("style"))&&-1<t.indexOf("translate")&&(t=t.match(ym))&&(r.x+=Number(t[1]),t[3]&&(r.y+=Number(t[3]))),r},rs=function(t){let r=0,s=0;for(;t;){const c=Yo(t);if(r+=c.x,s+=c.y,(" "+(t.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")!==-1)break;t=t.parentNode}return new Pt(r,s)},La=function(){const t=Xt();return new ro(t.y,document.documentElement.clientHeight+t.y,t.x,document.documentElement.clientWidth+t.x)},zu=function(){const t=document.documentElement,r=window;return new Pt(r.pageXOffset||t.scrollLeft,r.pageYOffset||t.scrollTop)},Qh=function(t,r){var s=r.x;r=r.y;const c=t.getInjectionDiv().getBoundingClientRect();return s=new Pt(s-c.left,r-c.top),r=t.getOriginOffsetInPixels(),Pt.difference(s,r).scale(1/t.scale)},ld=function(t,r){const s=n.createElement$$module$build$src$core$utils$xml("xml");var c=Wu(n.allUsedVarModels$$module$build$src$core$variables(t));c.hasChildNodes()&&s.appendChild(c),c=t.getTopComments(!0);for(let g=0;g<c.length;g++)s.appendChild(c[g].toXmlWithXY(r));for(t=t.getTopBlocks(!0),c=0;c<t.length;c++)s.appendChild(Ul(t[c],r));return s},Wu=function(t){const r=n.createElement$$module$build$src$core$utils$xml("variables");for(let s=0;s<t.length;s++){const c=t[s],g=n.createElement$$module$build$src$core$utils$xml("variable");g.appendChild(n.createTextNode$$module$build$src$core$utils$xml(c.name)),c.type&&g.setAttribute("type",c.type),g.id=c.getId(),r.appendChild(g)}return r},Ul=function(t,r){if(t.isInsertionMarker()&&(t=t.getChildren(!1)[0],!t))return new DocumentFragment;let s=0;if(t.workspace.RTL&&(s=t.workspace.getWidth()),r=is(t,r),Da(r)){const c=t.getRelativeToSurfaceXY();r.setAttribute("x",String(Math.round(t.workspace.RTL?s-c.x:c.x))),r.setAttribute("y",String(Math.round(c.y)))}return r},ju=function(t){if(t.isSerializable()){const r=n.createElement$$module$build$src$core$utils$xml("field");return r.setAttribute("name",t.name||""),t.toXml(r)}return null},Xu=function(t,r){for(let s=0;s<t.inputList.length;s++){const c=t.inputList[s];for(let g=0;g<c.fieldRow.length;g++){const P=ju(c.fieldRow[g]);P&&r.appendChild(P)}}},is=function(t,r){if(t.isInsertionMarker())return(r=t.getChildren(!1)[0])?is(r):new DocumentFragment;const s=n.createElement$$module$build$src$core$utils$xml(t.isShadow()?"shadow":"block");if(s.setAttribute("type",t.type),r||(s.id=t.id),t.mutationToDom){var c=t.mutationToDom();c&&(c.hasChildNodes()||c.hasAttributes())&&s.appendChild(c)}if(Xu(t,s),c=t.getCommentText()){var g=t.getIcon(er.COMMENT),P=g.getBubbleSize();g=g.bubbleIsVisible();var ae=n.createElement$$module$build$src$core$utils$xml("comment");ae.appendChild(n.createTextNode$$module$build$src$core$utils$xml(c)),ae.setAttribute("pinned",`${g}`),ae.setAttribute("h",String(P.height)),ae.setAttribute("w",String(P.width)),s.appendChild(ae)}for(t.data&&(c=n.createElement$$module$build$src$core$utils$xml("data"),c.appendChild(n.createTextNode$$module$build$src$core$utils$xml(t.data)),s.appendChild(c)),c=0;c<t.inputList.length;c++){P=t.inputList[c];var ze=void 0;if(g=!0,P.type!==n.inputTypes$$module$build$src$core$inputs$input_types.DUMMY){ae=P.connection.targetBlock(),P.type===n.inputTypes$$module$build$src$core$inputs$input_types.VALUE?ze=n.createElement$$module$build$src$core$utils$xml("value"):P.type===n.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT&&(ze=n.createElement$$module$build$src$core$utils$xml("statement"));const Qt=P.connection.getShadowDom();!Qt||ae&&ae.isShadow()||ze.appendChild(Co(Qt,r)),ae&&(ae=is(ae,r),ae.nodeType===oi.ELEMENT_NODE&&(ze.appendChild(ae),g=!1)),ze.setAttribute("name",P.name),g||s.appendChild(ze)}}t.inputsInline!==void 0&&t.inputsInline!==t.inputsInlineDefault&&s.setAttribute("inline",String(t.inputsInline)),t.isCollapsed()&&s.setAttribute("collapsed","true"),t.isEnabled()||s.setAttribute("disabled","true"),t.isDeletable()||t.isShadow()||s.setAttribute("deletable","false"),t.isMovable()||t.isShadow()||s.setAttribute("movable","false"),t.isEditable()||s.setAttribute("editable","false"),ze=t.getNextBlock();let vt;return ze&&(c=is(ze,r),c.nodeType===oi.ELEMENT_NODE&&(vt=n.createElement$$module$build$src$core$utils$xml("next"),vt.appendChild(c),s.appendChild(vt))),t=t.nextConnection&&t.nextConnection.getShadowDom(),!t||ze&&ze.isShadow()||vt.appendChild(Co(t,r)),s},Co=function(t,r){let s=t=t.cloneNode(!0),c;for(;s;)if(r&&s.nodeName==="shadow"&&s.removeAttribute("id"),s.firstChild)s=s.firstChild;else{for(;s&&!s.nextSibling;){c=s,s=s.parentNode;let g;c.nodeType===oi.TEXT_NODE&&c.data.trim()===""&&((g=s)==null?void 0:g.firstChild)!==c&&Ne(c)}s&&(c=s,s=s.nextSibling,c.nodeType===oi.TEXT_NODE&&c.data.trim()===""&&Ne(c))}return t},Bi=function(t){return ut(t).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")},Hl=function(t){t=Bi(t).split("<");let r="";for(let s=1;s<t.length;s++){const c=t[s];c[0]==="/"&&(r=r.substring(2)),t[s]=r+"<"+c,c[0]!=="/"&&c.slice(-2)!=="/>"&&(r+="  ")}return t=t.join(`
`),t=t.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>"),t.replace(/^\n/,"")},Ku=function(t,r){return r.setResizesEnabled(!1),r.clear(),t=n.domToWorkspace$$module$build$src$core$xml(t,r),r.setResizesEnabled(!0),t},n.domToWorkspace$$module$build$src$core$xml=function(t,r){let s=0;r.RTL&&(s=r.getWidth());const c=[];qe();const g=n.getGroup$$module$build$src$core$events$utils();g||n.setGroup$$module$build$src$core$events$utils(!0),r.setResizesEnabled&&r.setResizesEnabled(!1);let P=!0;try{for(let ae=0,ze;ze=t.childNodes[ae];ae++){const vt=ze.nodeName.toLowerCase(),Qt=ze;if(vt==="block"||vt==="shadow"&&!X()){const Uo=n.domToBlock$$module$build$src$core$xml(Qt,r);c.push(Uo.id);let mo;const qi=parseInt((mo=Qt.getAttribute("x"))!=null?mo:"10",10);let Ff;const Vf=parseInt((Ff=Qt.getAttribute("y"))!=null?Ff:"10",10);isNaN(qi)||isNaN(Vf)||Uo.moveBy(r.RTL?s-qi:qi,Vf,["create"]),P=!1}else{if(vt==="shadow")throw TypeError("Shadow block cannot be a top-level block.");if(vt==="comment")r.rendered?$r.fromXmlRendered(Qt,r,s):Ds.fromXml(Qt,r);else if(vt==="variables"){if(P)Yu(Qt,r);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");P=!1}}}}finally{n.setGroup$$module$build$src$core$events$utils(g),Xe()}return r.setResizesEnabled&&r.setResizesEnabled(!0),K(new(se(lu))(r)),c},qh=function(t,r){if(!r.getBlocksBoundingBox)return n.domToWorkspace$$module$build$src$core$xml(t,r);var s=r.getBlocksBoundingBox();if(t=n.domToWorkspace$$module$build$src$core$xml(t,r),s&&s.top!==s.bottom){var c=s.bottom;s=r.RTL?s.right:s.left;var g=1/0;let P=-1/0,ae=1/0;for(let ze=0;ze<t.length;ze++){const vt=r.getBlockById(t[ze]).getRelativeToSurfaceXY();vt.y<ae&&(ae=vt.y),vt.x<g&&(g=vt.x),vt.x>P&&(P=vt.x)}for(c=c-ae+10,s=r.RTL?s-P:s-g,g=0;g<t.length;g++)r.getBlockById(t[g]).moveBy(s,c,["create"])}return t},n.domToBlock$$module$build$src$core$xml=function(t,r){n.disable$$module$build$src$core$events$utils();var s=r.getAllVariables();let c;try{if(c=Pa(t,r),r.rendered){const g=c,P=c.getDescendants(!1);g.setConnectionTracking(!1);for(let ae=P.length-1;0<=ae;ae--)P[ae].initSvg();for(let ae=P.length-1;0<=ae;ae--)P[ae].render(!1);setTimeout(function(){g.disposed||g.setConnectionTracking(!0)},1),g.updateDisabled(),r.resizeContents()}else{const g=c.getDescendants(!1);for(let P=g.length-1;0<=P;P--)g[P].initModel()}}finally{n.enable$$module$build$src$core$events$utils()}if(Q()){for(t=H(r,s),r=0;r<t.length;r++)s=t[r],K(new(se(pl))(s));K(new(se(n.CREATE$$module$build$src$core$events$utils))(c))}return c},Yu=function(t,r){for(let c=0;c<t.children.length;c++){var s=t.children[c];const g=s.getAttribute("type"),P=s.getAttribute("id");if(s=s.textContent,!s)break;r.createVariable(s,g,P)}},ad=function(t){const r={mutation:[],comment:[],data:[],field:[],input:[],next:[]};for(let s=0;s<t.children.length;s++){const c=t.children[s];if(c.nodeType!==oi.TEXT_NODE)switch(c.nodeName.toLowerCase()){case"mutation":r.mutation.push(c);break;case"comment":r.comment.push(c);break;case"data":r.data.push(c);break;case"title":case"field":r.field.push(c);break;case"value":case"statement":r.input.push(c);break;case"next":r.next.push(c);break;default:console.warn("Ignoring unknown tag: "+c.nodeName)}}return r},ud=function(t,r){let s=!1;for(let c=0;c<t.length;c++){const g=t[c];r.domToMutation&&(r.domToMutation(g),r.initSvg&&(s=!0))}return s},tl=function(t,r){for(let c=0;c<t.length;c++){var s=t[c];const g=s.textContent,P=s.getAttribute("pinned")==="true";let ae;const ze=parseInt((ae=s.getAttribute("w"))!=null?ae:"50",10);let vt;s=parseInt((vt=s.getAttribute("h"))!=null?vt:"50",10),r.setCommentText(g);const Qt=r.getIcon(er.COMMENT);isNaN(ze)||isNaN(s)||Qt.setBubbleSize(new Zn(ze,s)),Qt.setBubbleVisible(P),setTimeout(()=>Qt.setBubbleVisible(P),1)}},Qu=function(t,r){for(let s=0;s<t.length;s++)r.data=t[s].textContent},qu=function(t,r){for(let s=0;s<t.length;s++){const c=t[s],g=c.getAttribute("name");g?cd(r,g,c):console.warn(`Ignoring unnamed field in block ${r.type}`)}},ss=function(t){let r=null,s=null;for(let c=0;c<t.childNodes.length;c++){const g=t.childNodes[c];Da(g)&&(g.nodeName.toLowerCase()==="block"?r=g:g.nodeName.toLowerCase()==="shadow"&&(s=g))}return{childBlockElement:r,childShadowElement:s}},Ma=function(t,r,s,c){for(let P=0;P<t.length;P++){var g=t[P];const ae=g.getAttribute("name"),ze=ae?s.getInput(ae):null;if(!ze){console.warn("Ignoring non-existent input "+ae+" in block "+c);break}if(g=ss(g),g.childBlockElement){if(!ze.connection)throw TypeError("Input connection does not exist.");Pa(g.childBlockElement,r,ze.connection,!1)}if(g.childShadowElement){let vt;(vt=ze.connection)==null||vt.setShadowDom(g.childShadowElement)}}},nl=function(t,r,s){for(let c=0;c<t.length;c++){const g=ss(t[c]);if(g.childBlockElement){if(!s.nextConnection)throw TypeError("Next statement does not exist.");if(s.nextConnection.isConnected())throw TypeError("Next statement is already connected.");Pa(g.childBlockElement,r,s.nextConnection,!0)}g.childShadowElement&&s.nextConnection&&s.nextConnection.setShadowDom(g.childShadowElement)}},Pa=function(t,r,s,c){var g;const P=t.getAttribute("type");if(!P)throw TypeError("Block type unspecified: "+t.outerHTML);var ae=(g=t.getAttribute("id"))!=null?g:void 0;g=r.newBlock(P,ae),ae=ad(t);const ze=ud(ae.mutation,g);if(tl(ae.comment,g),Qu(ae.data,g),s)if(c)if(g.previousConnection)s.connect(g.previousConnection);else throw TypeError("Next block does not have previous statement.");else if(g.outputConnection)s.connect(g.outputConnection);else if(g.previousConnection)s.connect(g.previousConnection);else throw TypeError("Child block does not have output or previous statement.");if(qu(ae.field,g),Ma(ae.input,r,g,P),nl(ae.next,r,g),ze&&g.initSvg(),(r=t.getAttribute("inline"))&&g.setInputsInline(r==="true"),(r=t.getAttribute("disabled"))&&g.setEnabled(r!=="true"&&r!=="disabled"),(r=t.getAttribute("deletable"))&&g.setDeletable(r==="true"),(r=t.getAttribute("movable"))&&g.setMovable(r==="true"),(r=t.getAttribute("editable"))&&g.setEditable(r==="true"),(r=t.getAttribute("collapsed"))&&g.setCollapsed(r==="true"),t.nodeName.toLowerCase()==="shadow"){for(t=g.getChildren(!1),r=0;r<t.length;r++)if(!t[r].isShadow())throw TypeError("Shadow block not allowed non-shadow child.");if(g.getVarModels().length)throw TypeError("Shadow blocks cannot have variable references.");g.setShadow(!0)}return g},cd=function(t,r,s){const c=t.getField(r);c?c.fromXml(s):console.warn("Ignoring non-existent field "+r+" in block "+t.type)},Zh=function(t){for(let r=0;r<t.childNodes.length;r++){const s=t.childNodes[r];if(s.nodeName.toLowerCase()==="next"){t.removeChild(s);break}}},Da=function(t){return t.nodeType===oi.ELEMENT_NODE},xa=function(t,r){i(Rt.SERIALIZER,t,r)},Zu=function(t){u(Rt.SERIALIZER,t)},Kr=function(t,{addCoordinates:r=!1,addInputBlocks:s=!0,addNextBlocks:c=!0,doFullSerialization:g=!0}={}){if(t.isInsertionMarker())return null;const P={type:t.type,id:t.id};return r&&hd(t,P),dd(t,P),Ba(t,P),pd(t,P,g),fd(t,P,g),s&&gd(t,P,g),c&&Jh(t,P,g),P},dd=function(t,r){t.isCollapsed()&&(r.collapsed=!0),t.isEnabled()||(r.enabled=!1),t.isOwnDeletable()||(r.deletable=!1),t.isOwnMovable()||(r.movable=!1),t.isOwnEditable()||(r.editable=!1),t.inputsInline!==void 0&&t.inputsInline!==t.inputsInlineDefault&&(r.inline=t.inputsInline),t.data&&(r.data=t.data)},hd=function(t,r){const s=t.workspace;t=t.getRelativeToSurfaceXY(),r.x=Math.round(s.RTL?s.getWidth()-t.x:t.x),r.y=Math.round(t.y)},Ba=function(t,r){t.saveExtraState?(t=t.saveExtraState(),t!==null&&(r.extraState=t)):t.mutationToDom&&(t=t.mutationToDom(),t!==null&&(r.extraState=Bi(t).replace(' xmlns="https://developers.google.com/blockly/xml"',"")))},pd=function(t,r,s){const c=Object.create(null);for(const g of t.getIcons())Be(g)&&(t=g.saveState(s))&&(c[g.getType().toString()]=t);Object.keys(c).length&&(r.icons=c)},fd=function(t,r,s){const c=Object.create(null);for(let g=0;g<t.inputList.length;g++){const P=t.inputList[g];for(let ae=0;ae<P.fieldRow.length;ae++){const ze=P.fieldRow[ae];ze.isSerializable()&&(c[ze.name]=ze.saveState(s))}}Object.keys(c).length&&(r.fields=c)},gd=function(t,r,s){const c=Object.create(null);for(let g=0;g<t.inputList.length;g++){const P=t.inputList[g];if(!P.connection)continue;const ae=Fa(P.connection,s);ae&&(c[P.name]=ae)}Object.keys(c).length&&(r.inputs=c)},Jh=function(t,r,s){t.nextConnection&&(t=Fa(t.nextConnection,s))&&(r.next=t)},Fa=function(t,r){const s=t.getShadowState(!0);if(t=t.targetBlock(),!s&&!t)return null;const c=Object.create(null);return s&&(c.shadow=s),t&&!t.isShadow()&&(c.block=Kr(t,{doFullSerialization:r})),c},_i=function(t,r,{recordUndo:s=!1}={}){return Va(t,r,{recordUndo:s})},Va=function(t,r,{parentConnection:s,isShadow:c=!1,recordUndo:g=!1}={}){const P=X();oe(g),(g=n.getGroup$$module$build$src$core$events$utils())||n.setGroup$$module$build$src$core$events$utils(!0),n.disable$$module$build$src$core$events$utils();const ae=md(t,r,{parentConnection:s,isShadow:c});return n.enable$$module$build$src$core$events$utils(),K(new(se(n.CREATE$$module$build$src$core$events$utils))(ae)),n.setGroup$$module$build$src$core$events$utils(g),oe(P),r.rendered&&setTimeout(()=>{ae.disposed||ae.setConnectionTracking(!0)},1),ae},md=function(t,r,{parentConnection:s,isShadow:c=!1}={}){if(!t.type)throw new Cm(t);const g=r.newBlock(t.type,t.id);return g.setShadow(c),$d(g,t),vd(g,t),ep(g,t),co(s,g,t),je(g,t),pt(g,t),Ot(g,t),xt(g,t),en(g,r.rendered),g},$d=function(t,r){let s=r.x===void 0?0:r.x;r=r.y===void 0?0:r.y;const c=t.workspace;s=c.RTL?c.getWidth()-s:s,t.moveBy(s,r)},vd=function(t,r){r.collapsed&&t.setCollapsed(!0),r.deletable===!1&&t.setDeletable(!1),r.movable===!1&&t.setMovable(!1),r.editable===!1&&t.setEditable(!1),r.enabled===!1&&t.setEnabled(!1),r.inline!==void 0&&t.setInputsInline(r.inline),r.data!==void 0&&(t.data=r.data)},ep=function(t,r){r.extraState&&(t.loadExtraState?t.loadExtraState(r.extraState):t.domToMutation&&t.domToMutation(n.textToDom$$module$build$src$core$utils$xml(r.extraState)))},co=function(t,r,s){if(t){if(t.getSourceBlock().isShadow()&&!r.isShadow())throw new qv(s);if(t.type===n.inputTypes$$module$build$src$core$inputs$input_types.VALUE){var c=r.outputConnection;if(!c)throw new ii("output",r,s)}else if(c=r.previousConnection,!c)throw new ii("previous",r,s);if(!t.connect(c)){const g=r.workspace.connectionChecker;throw new aa(g.getErrorMessage(g.canConnectWithReason(c,t,!1),c,t),t.type===n.inputTypes$$module$build$src$core$inputs$input_types.VALUE?"output connection":"previous connection",r,s)}}},je=function(t,r){if(r.icons){var s=Object.keys(r.icons);for(const g of s){s=r.icons[g];var c=t.getIcon(g);if(!c){if(c=p(Rt.ICON,g,!1),!c)throw new Im(g,t,r);c=new c(t),t.addIcon(c)}Be(c)&&c.loadState(s)}}},pt=function(t,r){if(r.fields){var s=Object.keys(r.fields);for(let c=0;c<s.length;c++){const g=s[c],P=r.fields[g],ae=t.getField(g);ae?ae.loadState(P):console.warn(`Ignoring non-existant field ${g} in block ${t.type}`)}}},Ot=function(t,r){if(r.inputs){var s=Object.keys(r.inputs);for(let c=0;c<s.length;c++){const g=s[c],P=t.getInput(g);if(!P||!P.connection)throw new ii(g,t,r);Ht(P.connection,r.inputs[g])}}},xt=function(t,r){if(r.next){if(!t.nextConnection)throw new ii("next",t,r);Ht(t.nextConnection,r.next)}},Ht=function(t,r){r.shadow&&t.setShadowState(r.shadow),r.block&&md(r.block,t.getSourceBlock().workspace,{parentConnection:t})},en=function(t,r){if(r){t.setConnectionTracking(!1),t.initSvg(),t.render(!1);for(const s of t.getIcons())s.onLocationChange(t.getRelativeToSurfaceXY())}else t.initModel()},hn=function(t){return t.bubbleIsVisible!==void 0&&t.setBubbleVisible!==void 0},eo=function(t,r){if(!t||!r)throw Error("Cannot connect null connections.");t.targetConnection=r,r.targetConnection=t},Mo=function(t,r){let s=null;r=r.outputConnection;const c=r==null?void 0:r.getConnectionChecker();for(let g=0,P;P=t.inputList[g];g++){const ae=P.connection;let ze;if(ae&&((ze=c)!=null&&ze.canConnect(r,ae,!1))){if(s)return null;s=ae}}return s},Mn=function(t,r){let s;for(;s=Mo(t,r);)if(t=s.targetBlock(),!t||t.isShadow())return s;return null},fr=function(t){return t*Math.PI/180},qo=function(t){return 180*t/Math.PI},ls=function(t,r,s){if(s<t){const c=s;s=t,t=c}return Math.max(t,Math.min(r,s))},xn=function(){Fn||(Fn=document.createElement("div"),Fn.className="blocklyDropDownDiv",(F()||document.body).appendChild(Fn),Ec=document.createElement("div"),Ec.className="blocklyDropDownContent",Fn.appendChild(Ec),$u=document.createElement("div"),$u.className="blocklyDropDownArrow",Fn.appendChild($u),Fn.style.opacity="0",Fn.style.transition="transform "+nf+"s, opacity "+nf+"s",Fn.addEventListener("focusin",function(){le(Fn,"blocklyFocused")}),Fn.addEventListener("focusout",function(){re(Fn,"blocklyFocused")}))},_o=function(t){Jd=t},As=function(){return ca},bi=function(){return Ec},ol=function(){Ec.textContent="",Ec.style.width=""},rl=function(t,r){Fn.style.backgroundColor=t,Fn.style.borderColor=r},Ua=function(t,r,s,c){return Yr(bo(r),t,s,c)},Gl=function(t,r,s){return s_=!0,Yr(bg(t),t,r,s)},bo=function(t){var r=t.getSvgRoot();const s=t.workspace.scale,c=t.height*s;return t=t.width*s,r=wt(r),new ro(r.y,r.y+c,r.x,r.x+t)},bg=function(t){return t=t.getScaledBBox(),new ro(t.top,t.bottom,t.left,t.right)},Yr=function(t,r,s,c){const g=t.left+(t.right-t.left)/2,P=t.bottom;t=t.top,c&&(t+=c),c=r.getSourceBlock();let ae=c.workspace;for(;ae.options.parentWorkspace;)ae=ae.options.parentWorkspace;return _o(ae.getParentSvg().parentNode),Tg(r,c.RTL,g,P,g,t,s)},Tg=function(t,r,s,c,g,P,ae){return ca=t,gu=ae||null,Fn.style.direction=r?"rtl":"ltr",t=M(),mu=t.getRenderer().getClassName(),yc=t.getTheme().getClassName(),mu&&le(Fn,mu),yc&&le(Fn,yc),bd(s,c,g,P)},tp=function(t,r,s,c){return t=Ha(t,s.left,s.right,c.width),{initialX:t.divX,initialY:r,finalX:t.divX,finalY:r+si,arrowX:t.arrowX,arrowY:-(Zd/2+km),arrowAtTop:!0,arrowVisible:!0}},Rs=function(t,r,s,c){return t=Ha(t,s.left,s.right,c.width),{initialX:t.divX,initialY:r-c.height,finalX:t.divX,finalY:r-c.height-si,arrowX:t.arrowX,arrowY:c.height-2*km-Zd/2,arrowAtTop:!1,arrowVisible:!0}},_d=function(t,r,s){return t=Ha(t,r.left,r.right,s.width),{initialX:t.divX,initialY:0,finalX:t.divX,finalY:0,arrowAtTop:null,arrowX:null,arrowY:null,arrowVisible:!1}},Ha=function(t,r,s,c){return r=ls(r,t-c/2,s-c),t=t-Zd/2-r,s=i_,t=ls(s,t,c-s-Zd),{arrowX:t,divX:r}},po=function(){return!!ca},Ti=function(t,r){return ca===t?(r?as():Ju(),!0):!1},Ju=function(){Fn.style.transform="translate(0, 0)",Fn.style.opacity="0",wm=setTimeout(function(){as()},1e3*nf),gu&&(gu(),gu=null)},as=function(){po()&&(wm&&clearTimeout(wm),Fn.style.transform="",Fn.style.left="",Fn.style.top="",Fn.style.opacity="0",Fn.style.display="none",Fn.style.backgroundColor="",Fn.style.borderColor="",gu&&(gu(),gu=null),ol(),ca=null,mu&&(re(Fn,mu),mu=""),yc&&(re(Fn,yc),yc=""),M().markFocused())},bd=function(t,r,s,c){t=Nm.getPositionMetrics(t,r,s,c),t.arrowVisible?($u.style.display="",$u.style.transform="translate("+t.arrowX+"px,"+t.arrowY+"px) rotate(45deg)",$u.setAttribute("class",t.arrowAtTop?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):$u.style.display="none",r=Math.floor(t.initialX),s=Math.floor(t.initialY),c=Math.floor(t.finalX);const g=Math.floor(t.finalY);return Fn.style.left=r+"px",Fn.style.top=s+"px",Fn.style.display="block",Fn.style.opacity="1",Fn.style.transform="translate("+(c-r)+"px,"+(g-s)+"px)",!!t.arrowAtTop},yg=function(){if(ca){var t=ca.getSourceBlock();t=s_?bg(ca):bo(t);const r=t.left+(t.right-t.left)/2;bd(r,t.bottom,r,t.top)}else Ju()},mv=function(t,r){return gt("Blockly.utils.string.startsWith()","April 2022","April 2023","Use built-in string.startsWith"),t.startsWith(r)},Td=function(t){return t.length?t.reduce(function(r,s){return r.length<s.length?r:s}).length:0},np=function(t,r){if(!t.length)return 0;if(t.length===1)return t[0].length;let s=0;r=r||Td(t);let c;for(c=0;c<r;c++){for(var g=t[0][c],P=1;P<t.length;P++)if(g!==t[P][c])return s;g===" "&&(s=c+1)}for(g=1;g<t.length;g++)if((P=t[g][c])&&P!==" ")return s;return r},ec=function(t,r){if(!t.length)return 0;if(t.length===1)return t[0].length;let s=0;r=r||Td(t);let c;for(c=0;c<r;c++){for(var g=t[0].substr(-c-1,1),P=1;P<t.length;P++)if(g!==t[P].substr(-c-1,1))return s;g===" "&&(s=c+1)}for(g=1;g<t.length;g++)if((P=t[g].charAt(t[g].length-c-1))&&P!==" ")return s;return r},n.wrap$$module$build$src$core$utils$string=function(t,r){t=t.split(`
`);for(let s=0;s<t.length;s++)t[s]=Ga(t[s],r);return t.join(`
`)},Ga=function(t,r){if(t.length<=r)return t;const s=t.trim().split(/\s+/);for(var c=0;c<s.length;c++)s[c].length>r&&(r=s[c].length);var g=-1/0;let P,ae=1;do{c=g,P=t,t=[],g=s.length/ae;let ze=1;for(let vt=0;vt<s.length-1;vt++)ze<(vt+1.5)/g?(ze++,t[vt]=!0):t[vt]=!1;t=rp(s,t,r),g=op(s,t,r),t=Eg(s,t),ae++}while(g>c);return P},op=function(t,r,s){const c=[0],g=[];for(var P=0;P<t.length;P++)c[c.length-1]+=t[P].length,r[P]===!0?(c.push(0),g.push(t[P].charAt(t[P].length-1))):r[P]===!1&&c[c.length-1]++;for(t=Math.max(...c),r=0,P=0;P<c.length;P++)r-=2*Math.pow(Math.abs(s-c[P]),1.5),r-=Math.pow(t-c[P],1.5),".?!".indexOf(g[P])!==-1?r+=s/3:",;)]}".indexOf(g[P])!==-1&&(r+=s/4);return 1<c.length&&c[c.length-1]<=c[c.length-2]&&(r+=.5),r},rp=function(t,r,s){let c=op(t,r,s),g;for(let P=0;P<r.length-1;P++){if(r[P]===r[P+1])continue;const ae=[].concat(r);ae[P]=!ae[P],ae[P+1]=!ae[P+1];const ze=op(t,ae,s);ze>c&&(c=ze,g=ae)}return g?rp(t,g,s):r},Eg=function(t,r){const s=[];for(let c=0;c<t.length;c++)s.push(t[c]),r[c]!==void 0&&s.push(r[c]?`
`:" ");return s.join("")},n.isNumber$$module$build$src$core$utils$string=function(t){return/^\s*-?\d+(\.\d+)?\s*$/.test(t)},ip=function(t){of=t},sp=function(){return of},Cg=function(){return th},$v=function(){return xo},zl=function(t){if(t=yd(t)){for(t=t.tooltip;typeof t=="function";)t=t();if(typeof t!="string")throw Error("Tooltip function must return a string.");return t}return""},yd=function(t){for(;t&&t.tooltip;){if(typeof t.tooltip=="string"||typeof t.tooltip=="function")return t;t=t.tooltip}return null},Ig=function(){xo||(xo=document.createElement("div"),xo.className="blocklyTooltipDiv",(F()||document.body).appendChild(xo))},tc=function(t){t.mouseOverWrapper_=En(t,"pointerover",null,lp),t.mouseOutWrapper_=En(t,"pointerout",null,nc),t.addEventListener("pointermove",ap,!1)},Nr=function(t){t&&(On(t.mouseOverWrapper_),On(t.mouseOutWrapper_),t.removeEventListener("pointermove",ap))},lp=function(t){Cc||(t=yd(t.currentTarget),Wi!==t&&(il(),nh=null,Wi=t),clearTimeout(a_))},nc=function(t){Cc||(a_=setTimeout(function(){nh=Wi=null,il()},1),clearTimeout(_u),_u=0)},ap=function(t){if(Wi&&Wi.tooltip&&!Cc)if(th){const r=Am-t.pageX;t=Rm-t.pageY,Math.sqrt(r*r+t*t)>u_&&il()}else nh!==Wi&&(clearTimeout(_u),Am=t.pageX,Rm=t.pageY,_u=setTimeout(bv,c_))},up=function(){nh=Wi=null,il()},il=function(){th&&(th=!1,xo&&(xo.style.display="none")),_u&&(clearTimeout(_u),_u=0)},Sg=function(){il(),Cc=!0},Og=function(){Cc=!1},vv=function(){xo&&Wi&&(typeof of=="function"?of(xo,Wi):_v())},_v=function(){var t=zl(Wi);t=n.wrap$$module$build$src$core$utils$string(t,l_),t=t.split(`
`);for(let r=0;r<t.length;r++){const s=document.createElement("div");s.appendChild(document.createTextNode(t[r])),xo.appendChild(s)}},za=function(t){const r=document.documentElement.clientWidth,s=document.documentElement.clientHeight;let c=Am;c=t?c-(Lm+xo.offsetWidth):c+Lm;let g=Rm+Mm;return g+xo.offsetHeight>s+window.scrollY&&(g-=xo.offsetHeight+2*Mm),t?c=Math.max(Ic-window.scrollX,c):c+xo.offsetWidth>r+window.scrollX-2*Ic&&(c=r-xo.offsetWidth-2*Ic),{x:c,y:g}},bv=function(){if(!Cc&&(nh=Wi,xo)){xo.textContent="",vv();var t=Wi.RTL;xo.style.direction=t?"rtl":"ltr",xo.style.display="block",th=!0;var{x:r,y:s}=za(t);xo.style.left=r+"px",xo.style.top=s+"px"}},kg=function(){return Pm},cp=function(t){Pm=t},dp=function(){return Dm},sl=function(t){Dm=t},us=function(t){t=`${t}`.toLowerCase().trim();var r=d_[t];if(r||(r=t.substring(0,2)==="0x"?"#"+t.substring(2):t,r=r[0]==="#"?r:"#"+r,/^#[0-9a-f]{6}$/.test(r)))return r;if(/^#[0-9a-f]{3}$/.test(r))return["#",r[1],r[1],r[2],r[2],r[3],r[3]].join("");var s=t.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return s&&(t=Number(s[1]),r=Number(s[2]),s=Number(s[3]),0<=t&&256>t&&0<=r&&256>r&&0<=s&&256>s)?Ed(t,r,s):null},Ed=function(t,r,s){return r=t<<16|r<<8|s,16>t?"#"+(16777216|r).toString(16).substr(1):"#"+r.toString(16)},hp=function(t){return t=us(t),t?(t=parseInt(t.substr(1),16),[t>>16,t>>8&255,t&255]):[0,0,0]},pp=function(t,r,s){let c=0,g=0,P=0;if(r===0)P=g=c=s;else{const ae=Math.floor(t/60),ze=t/60-ae;t=s*(1-r);const vt=s*(1-r*ze);switch(r=s*(1-r*(1-ze)),ae){case 1:c=vt,g=s,P=t;break;case 2:c=t,g=s,P=r;break;case 3:c=t,g=vt,P=s;break;case 4:c=r,g=t,P=s;break;case 5:c=s,g=t,P=vt;break;case 6:case 0:c=s,g=r,P=t}}return Ed(Math.floor(c),Math.floor(g),Math.floor(P))},Fi=function(t,r,s){return t=us(t),!t||(r=us(r),!r)?null:(t=hp(t),r=hp(r),Ed(Math.round(r[0]+s*(t[0]-r[0])),Math.round(r[1]+s*(t[1]-r[1])),Math.round(r[2]+s*(t[2]-r[2]))))},yi=function(t){return pp(t,Pm,255*Dm)},Cd=function(t,r){const s=[];var c=t.split("");c.push("");var g=0;t=[];let P=null;for(let vt=0;vt<c.length;vt++){var ae=c[vt];if(g===0)ae==="%"?((g=t.join(""))&&s.push(g),t.length=0,g=1):t.push(ae);else if(g===1)ae==="%"?(t.push(ae),g=0):r&&"0"<=ae&&"9">=ae?(g=2,P=ae,(ae=t.join(""))&&s.push(ae),t.length=0):ae==="{"?g=3:(t.push("%",ae),g=0);else if(g===2)if("0"<=ae&&"9">=ae)P+=ae;else{var ze=void 0;s.push(parseInt((ze=P)!=null?ze:"",10)),vt--,g=0}else g===3&&(ae===""?(t.splice(0,0,"%{"),vt--,g=0):ae!=="}"?t.push(ae):(g=t.join(""),/[A-Z]\w*/i.test(g)?(ae=g.toUpperCase(),(ae=ae.startsWith("BKY_")?ae.substring(4):null)&&ae in n.Msg$$module$build$src$core$msg?(g=n.Msg$$module$build$src$core$msg[ae],typeof g=="string"?Array.prototype.push.apply(s,Cd(g,r)):r?s.push(`${g}`):s.push(g)):s.push("%{"+g+"}")):s.push("%{"+g+"}"),g=t.length=0))}for((r=t.join(""))&&s.push(r),ze=[],t.length=0,c=0;c<s.length;c++)typeof s[c]=="string"?t.push(s[c]):((r=t.join(""))&&ze.push(r),t.length=0,ze.push(s[c]));return(r=t.join(""))&&ze.push(r),t.length=0,ze},wg=function(t){return Cd(t,!0)},wo=function(t){return typeof t!="string"?t:(t=Cd(t,!1),t.length?String(t[0]):"")},fp=function(t){let r=!0;const s=n.Msg$$module$build$src$core$msg,c=t.match(/%{BKY_[A-Z]\w*}/gi);if(c)for(let g=0;g<c.length;g++){const P=c[g].toUpperCase();s[P.slice(6,-1)]===void 0&&(console.warn("No message string for "+c[g]+" in "+t),r=!1)}return r},oc=function(t){const r=typeof t=="string"?wo(t):t;var s=Number(r);if(!isNaN(s)&&0<=s&&360>=s)return{hue:s,hex:pp(s,kg(),255*dp())};if(s=us(r))return{hue:null,hex:s};throw s='Invalid colour: "'+r+'"',t!==r&&(s+=' (from "'+t+'")'),Error(s)},Wa=function(){return li},ja=function(t){li=t},it=function(){li||(li=document.createElement("div"),li.className="blocklyWidgetDiv",(F()||document.body).appendChild(li))},$t=function(t,r,s){ct(),Sc=t,rf=s,(t=li)&&(t.style.direction=r?"rtl":"ltr",t.style.display="block",r=M(),bu=r.getRenderer().getClassName(),Oc=r.getTheme().getClassName(),bu&&le(t,bu),Oc&&le(t,Oc))},ct=function(){if(Yt()){Sc=null;var t=li;t&&(t.style.display="none",t.style.left="",t.style.top="",rf&&rf(),rf=null,t.textContent="",bu&&(re(t,bu),bu=""),Oc&&(re(t,Oc),Oc=""),M().markFocused())}},Yt=function(){return!!Sc},$n=function(t){Sc===t&&ct()},Gn=function(t,r,s){li.style.left=t+"px",li.style.top=r+"px",li.style.height=s+"px"},Go=function(t,r,s,c){const g=gp(t,r,s);t=oo(t,r,s,c),0>g?Gn(t,0,s.height+g):Gn(t,g,s.height)},oo=function(t,r,s,c){return c?Math.min(Math.max(r.right-s.width,t.left),t.right-s.width):Math.max(Math.min(r.left,t.right-s.width),t.left)},gp=function(t,r,s){return r.bottom+s.height>=t.bottom?r.top-s.height:r.bottom},Tv=function(t){return!(t==null||!t.repositionForWindowResize)},Qr=function(){Tv(Sc)&&Sc.repositionForWindowResize()||ct()},Tr=function(t,r){i(Rt.FIELD,t,r)},yv=function(t){u(Rt.FIELD,t)},n.fromJson$$module$build$src$core$field_registry=function(t){return h_.fromJsonInternal(t)},Xa=function(t){const r=m(Rt.FIELD,t.type);if(r){if(typeof r.fromJson!="function")throw new TypeError("returned Field was not a IRegistrableField");return r.fromJson(t)}return console.warn("Blockly could not create a field of type "+t.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null},qr=function(t,r){t.setAttribute(V1,r)},to=function(t,r,s){Array.isArray(s)&&(s=s.join(" ")),t.setAttribute(F1+r,`${s}`)},qn=function(t){let r=!1;const s=t.map(([ae,ze])=>typeof ae=="string"?[wo(ae),ze]:(r=!0,[ae.alt!==null?Object.assign({},ae,{alt:wo(ae.alt)}):Object.assign({},ae),ze]));if(r||2>t.length)return{options:s};var c=s.map(([ae])=>ae),g=Td(c);t=np(c,g);const P=ec(c,g);return!t&&!P||g<=t+P?{options:s}:(g=t?c[0].substring(0,t-1):void 0,c=P?c[0].substr(1-P):void 0,{options:Ev(s,t,P),prefix:g,suffix:c})},Ev=function(t,r,s){return t.map(([c,g])=>[c.substring(r,c.length-s),g])},mp=function(t){if(!Array.isArray(t))throw TypeError("FieldDropdown options must be an array.");if(!t.length)throw TypeError("FieldDropdown options must not be an empty array.");let r=!1;for(let s=0;s<t.length;s++){const c=t[s];Array.isArray(c)?typeof c[1]!="string"?(r=!0,console.error("Invalid option["+s+"]: Each FieldDropdown option id must be a string. Found "+c[1]+" in: ",c)):c[0]&&typeof c[0]!="string"&&typeof c[0].src!="string"&&(r=!0,console.error("Invalid option["+s+"]: Each FieldDropdown option must have a string label or image description. Found"+c[0]+" in: ",c)):(r=!0,console.error("Invalid option["+s+"]: Each FieldDropdown option must be an array. Found: ",c))}if(r)throw TypeError("Found invalid FieldDropdown options.")},Vi=function(t,r){for(const s in r)t[s]=r[s]!==null&&typeof r[s]=="object"?Vi(t[s]||Object.create(null),r[s]):r[s];return t},$p=function(t){return t?((t instanceof Element||typeof t=="string")&&(t=_p(t),t=Ng(t)),Cv(t),t):null},Cv=function(t){const r=t.kind;if(t=t.contents,r&&r!==f_&&r!==Fm)throw Error("Invalid toolbox kind "+r+". Please supply either "+f_+" or "+Fm);if(!t)throw Error("Toolbox must have a contents attribute.")},Id=function(t){return t?t.contents?t.contents:Array.isArray(t)&&0<t.length&&!t[0].nodeType?t:Qa(t):[]},Ka=function(t){return g_.hasCategoriesInternal(t)},ll=function(t){if(!t)return!1;const r=t.kind;return r?r===Fm:!!t.contents.filter(function(s){return s.kind.toUpperCase()==="CATEGORY"}).length},Ya=function(t){return t&&t.contents?!!t.contents.filter(function(r){return r.kind.toUpperCase()==="CATEGORY"}).length:!1},Ng=function(t){const r={contents:Qa(t)};return t instanceof Node&&vp(t,r),r},Qa=function(t){const r=[];let s=t.childNodes;s||(s=t);for(let c=0,g;g=s[c];c++){if(!g.tagName)continue;t={};const P=g.tagName.toUpperCase();t.kind=P,P==="BLOCK"?t.blockxml=g:g.childNodes&&0<g.childNodes.length&&(t.contents=Qa(g)),vp(g,t),r.push(t)}return r},vp=function(t,r){for(let s=0;s<t.attributes.length;s++){const c=t.attributes[s];-1<c.nodeName.indexOf("css-")?(r.cssconfig=r.cssconfig||{},r.cssconfig[c.nodeName.replace("css-","")]=c.value):r[c.nodeName]=c.value}},_p=function(t){let r=null;if(t)if(typeof t=="string"){if(r=n.textToDom$$module$build$src$core$utils$xml(t),r.nodeName.toLowerCase()!=="xml")throw TypeError("Toolbox should be an <xml> document.")}else t instanceof Element&&(r=t);return r},n.register$$module$build$src$core$extensions=function(t,r){if(typeof t!="string"||t.trim()==="")throw Error('Error: Invalid extension name "'+t+'"');if(kc[t])throw Error('Error: Extension "'+t+'" is already registered.');if(typeof r!="function")throw Error('Error: Extension "'+t+'" must be a function');kc[t]=r},n.registerMixin$$module$build$src$core$extensions=function(t,r){if(!r||typeof r!="object")throw Error('Error: Mixin "'+t+'" must be a object');n.register$$module$build$src$core$extensions(t,function(){this.mixin(r)})},n.registerMutator$$module$build$src$core$extensions=function(t,r,s,c){const g='Error when registering mutator "'+t+'": ';rc(g,r);const P=Ag(r,g);if(s&&typeof s!="function")throw Error(g+'Extension "'+t+'" is not a function');n.register$$module$build$src$core$extensions(t,function(){P&&this.setMutator(new n.MutatorIcon$$module$build$src$core$icons$mutator_icon(c||[],this)),this.mixin(r),s&&s.apply(this)})},Sd=function(t){bp(t)?delete kc[t]:console.warn('No extension mapping for name "'+t+'" found to unregister')},bp=function(t){return!!kc[t]},Wl=function(t,r,s){const c=kc[t];if(typeof c!="function")throw Error('Error: Extension "'+t+'" not found.');let g;if(s?jl(t,r):g=qa(r),c.apply(r),s)rc('Error after applying mutator "'+t+'": ',r);else if(!yp(g,r))throw Error('Error when applying extension "'+t+'": mutation properties changed when applying a non-mutator extension.')},jl=function(t,r){if(qa(r).length)throw Error('Error: tried to apply mutation "'+t+'" to a block that already has mutator functions.  Block id: '+r.id)},Od=function(t,r){return Tp(t.mutationToDom,t.domToMutation,r+" mutationToDom/domToMutation")},Iv=function(t,r){return Tp(t.saveExtraState,t.loadExtraState,r+" saveExtraState/loadExtraState")},Ag=function(t,r){return Tp(t.compose,t.decompose,r+" compose/decompose")},Tp=function(t,r,s){if(t&&r){if(typeof t!="function"||typeof r!="function")throw Error(s+" must be a function");return!0}if(!t&&!r)return!1;throw Error(s+"Must have both or neither functions")},rc=function(t,r){const s=Od(r,t),c=Iv(r,t);if(!s&&!c)throw Error(t+"Mutations must contain either XML hooks, or JSON hooks, or both");Ag(r,t)},qa=function(t){const r=[];return t.domToMutation!==void 0&&r.push(t.domToMutation),t.mutationToDom!==void 0&&r.push(t.mutationToDom),t.saveExtraState!==void 0&&r.push(t.saveExtraState),t.loadExtraState!==void 0&&r.push(t.loadExtraState),t.compose!==void 0&&r.push(t.compose),t.decompose!==void 0&&r.push(t.decompose),r},yp=function(t,r){if(r=qa(r),r.length!==t.length)return!1;for(let s=0;s<r.length;s++)if(t[s]!==r[s])return!1;return!0},Ep=function(t){if(typeof document!="object")throw Error("runAfterPageLoad() requires browser document.");if(document.readyState==="complete")t();else{const r=setInterval(function(){document.readyState==="complete"&&(clearInterval(r),t())},10)}},n.buildTooltipForDropdown$$module$build$src$core$extensions=function(t,r){const s=[];return typeof document=="object"&&Ep(function(){for(const c in r)fp(r[c])}),function(){this.type&&s.indexOf(this.type)===-1&&(Rg(this,t,r),s.push(this.type)),this.setTooltip((function(){var c=String(this.getFieldValue(t));let g=r[c];return g===null?s.indexOf(this.type)===-1&&(c="No tooltip mapping for value "+c+" of field "+t,this.type!==null&&(c+=" of block type "+this.type),console.warn(c+".")):g=wo(g),g}).bind(this))}},Rg=function(t,r,s){var c=t.getField(r);if(c instanceof Us&&!c.isOptionListDynamic()){c=c.getOptions();for(let g=0;g<c.length;g++){const P=c[g][1];s[P]===null&&console.warn("No tooltip mapping for value "+P+" of field "+r+" of block type "+t.type)}}},n.buildTooltipWithFieldText$$module$build$src$core$extensions=function(t,r){return typeof document=="object"&&Ep(function(){fp(t)}),function(){this.setTooltip((function(){const s=this.getField(r);return wo(t).replace("%1",s?s.getText():"")}).bind(this))}},Sv=function(){const t=this.tooltip;this.setTooltip((function(){const r=this.getParent();return r&&r.getInputsInline()&&r.tooltip||t}).bind(this))},Zr=function(t,r){return r=t.indexOf(r),r===-1?!1:(t.splice(r,1),!0)},Vt=function(t,r){return" "+t+","+r+" "},no=function(t,r){return" "+t+r.join("")},gr=function(t,r){return" M "+t+","+r+" "},fo=function(t,r){return" m "+t+","+r+" "},cs=function(t,r){return" l "+t+","+r+" "},ic=function(t){return" l"+t.join("")},zt=function(t,r){return" "+t+" "+r+" "},go=function(t,r,s,c){return t+" "+s+" "+s+" "+r+c},kd=function(t,r){i(Rt.ICON,t.toString(),r)},Za=function(t){u(Rt.ICON,t)},Ja=function(t){if(!(100<t.getDescendants(!1).length)){var r=t.workspace,s=t.getSvgRoot();r.getAudioManager().play("delete");var c=r.getSvgXY(s);s=s.cloneNode(!0),s.setAttribute("transform","translate("+c.x+","+c.y+")"),r.getParentSvg().appendChild(s),eu(s,{x:c.x,y:c.y,width:t.width,height:t.height},r.RTL,new Date,r.scale)}},eu=function(t,r,s,c,g){const P=(new Date().getTime()-c.getTime())/150;1<P?Ne(t):(t.setAttribute("transform","translate("+(r.x+(s?-1:1)*r.width*g/2*P)+","+(r.y+r.height*g*P)+") scale("+(1-P)*g+")"),setTimeout(eu,10,t,r,s,c,g))},sc=function(t){const r=t.workspace,s=r.scale;if(r.getAudioManager().play("click"),!(1>s)){var c=r.getSvgXY(t.getSvgRoot());t.outputConnection?(c.x+=(t.RTL?3:-3)*s,c.y+=13*s):t.previousConnection&&(c.x+=(t.RTL?-23:23)*s,c.y+=3*s),t=we(nt.CIRCLE,{cx:c.x,cy:c.y,r:0,fill:"none",stroke:"#888","stroke-width":10},r.getParentSvg()),Xl(t,new Date,s)}},Xl=function(t,r,s){const c=(new Date().getTime()-r.getTime())/150;1<c?Ne(t):(t.setAttribute("r",String(25*c*s)),t.style.opacity=String(1-c),sh=setTimeout(Xl,10,t,r,s))},Lg=function(t){if(lc(),t.workspace.getAudioManager().play("disconnect"),!(1>t.workspace.scale)){var r=t.getHeightWidth().height;r=Math.atan(10/r)/Math.PI*180,t.RTL||(r*=-1),lh=t,Mg(t,r,new Date)}},Mg=function(t,r,s){const c=(new Date().getTime()-s.getTime())/200;let g="";1>=c&&(g=`skewX(${Math.round(Math.sin(c*Math.PI*3)*(1-c)*r)})`,sh=setTimeout(Mg,10,t,r,s)),t.getSvgRoot().setAttribute("transform",`${t.getTranslation()} ${g}`)},lc=function(){lh&&(sh&&(clearTimeout(sh),sh=null),lh.getSvgRoot().setAttribute("transform",lh.getTranslation()),lh=null)},ac=function(t,r,s){const c=s.getBoundingRectangle(),g=c.right-c.left,P=ls(r.top,c.top,r.top+r.height-(c.bottom-c.top))-c.top;let ae=r.left;return r=r.left+r.width-g,t.RTL?ae=Math.min(r,ae):r=Math.max(ae,r),(t=ls(ae,c.left,r)-c.left)||P?(s.moveBy(t,P,["inbounds"]),!0):!1},Pg=function(t){return r=>{var s=t.getMetricsManager();if(s.hasFixedEdges()&&!t.isDragging()){var c;if(Fp.indexOf((c=r.type)!=null?c:"")!==-1){c=s.getScrollMetrics(!0);const g=wd(t,r);g&&(s=n.getGroup$$module$build$src$core$events$utils()||!1,n.setGroup$$module$build$src$core$events$utils(r.group),ac(t,c,g)&&!r.group&&console.warn("Moved object in bounds but there was no event group. This may break undo."),n.setGroup$$module$build$src$core$events$utils(s))}else r.type===oa&&r.scale&&r.oldScale&&r.scale>r.oldScale&&Kl(t)}}},wd=function(t,r){let s=null;switch(r.type){case n.CREATE$$module$build$src$core$events$utils:case n.MOVE$$module$build$src$core$events$utils:(s=t.getBlockById(r.blockId))&&(s=s.getRootBlock());break;case Lr:case zi:s=t.getCommentById(r.commentId)}return s},Kl=function(t){var r=t.getMetricsManager();if(r.hasFixedEdges()&&!t.isDragging()){r=r.getScrollMetrics(!0);var s=t.getTopBoundedElements();for(let c=0,g;g=s[c];c++)ac(t,r,g)}},Cp=function(t){return Yl(t),Nc||(Nc=new Promise(r=>{window.requestAnimationFrame(()=>{Nd(),r()})})),Nc},be=function(){return Nc||Promise.resolve()},Yl=function(t){$f.add(t);const r=t.getParent();r?Yl(r):mf.add(t)},Nd=function(){const t=new Set([...mf].map(r=>r.workspace));for(const r of mf){if(r.isDisposed()||r.getParent())continue;Jr(r);const s=r.getRelativeToSurfaceXY();Nn(r,s),Dg(r,s)}for(const r of t)r.resizeContents();mf.clear(),$f=new Set,Nc=null},Jr=function(t){if($f.has(t)){for(const r of t.getChildren(!1))Jr(r);t.renderEfficiently()}},Nn=function(t,r){for(const s of t.getConnections_(!1)){t=s.moveToOffset(r);const c=s.targetBlock();s.isSuperior()&&c&&(t||$f.has(c))&&Nn(c,Pt.sum(r,c.relativeCoords))}},Dg=function(t,r){if(t.getIcons){for(const s of t.getIcons())s.onLocationChange(r);for(const s of t.getChildren(!1))Dg(s,Pt.sum(r,s.relativeCoords))}},xg=function(t,r){const s=[];for(const c of t.getIcons())(!hn(c)||c.bubbleIsVisible())&&(s.push({location:r,icon:c}),c.onLocationChange(r));for(const c of t.getChildren(!1))s.push(...xg(c,Pt.sum(r,c.relativeCoords)));return s},Ad=function(t){Ao.copyInternal(t)},Ql=function(t){Fo=t.toCopyData()},Bg=function(){if(!Fo)return null;let t=Fo.source;return t.isFlyout&&(t=t.targetWorkspace),Fo.typeCounts&&t.isCapacityAvailable(Fo.typeCounts)?t.paste(Fo.saveInfo):null},Ip=function(t){return Ao.duplicateInternal(t)},Ov=function(t){const r=Fo;Ad(t);let s,c,g;return t=(g=(s=t.toCopyData())==null||(c=s.source)==null?void 0:c.paste(Fo.saveInfo))!=null?g:null,Fo=r,t},kv=function(){return $s},Fg=function(t){$s=t},Ei=function(t,r,s){if($t(b_,s,ds),r.length){var c=wv(r,s);vf=c,Nv(c,t,s),setTimeout(function(){c.focus()},1),$s=null}else Rd()},wv=function(t,r){const s=new xm;s.setRole(ai.MENU);for(let c=0;c<t.length;c++){const g=t[c],P=new Bm(g.text);P.setRightToLeft(r),P.setRole(ai.MENUITEM),s.addChild(P),P.setEnabled(g.enabled),g.enabled&&P.onAction(function(){Rd(),requestAnimationFrame(()=>{setTimeout(()=>{g.callback(g.scope)},0)})},{})}return s},Nv=function(t,r,s){const c=La();r=new ro(r.clientY+c.top,r.clientY+c.top,r.clientX+c.left,r.clientX+c.left),Av(t);const g=t.getSize();s&&(r.left+=g.width,r.right+=g.width,c.left+=g.width,c.right+=g.width),Go(c,r,g,s),t.focus()},Av=function(t){var r=Wa();if(!r)throw Error("Attempting to create a context menu when widget div is null");r=t.render(r),le(r,"blocklyContextMenu"),kt(r,"contextmenu",null,Rv),t.focus()},Rv=function(t){t.preventDefault(),t.stopPropagation()},Rd=function(){$n(b_),$s=null},ds=function(){vf&&(vf.dispose(),vf=null)},n.callbackFactory$$module$build$src$core$contextmenu=function(t,r){return()=>{n.disable$$module$build$src$core$events$utils();let s;try{s=n.domToBlock$$module$build$src$core$xml(r,t.workspace);const c=t.getRelativeToSurfaceXY();c.x=t.RTL?c.x-n.config$$module$build$src$core$config.snapRadius:c.x+n.config$$module$build$src$core$config.snapRadius,c.y+=2*n.config$$module$build$src$core$config.snapRadius,s.moveBy(c.x,c.y)}finally{n.enable$$module$build$src$core$events$utils()}Q()&&!s.isShadow()&&K(new(se(n.CREATE$$module$build$src$core$events$utils))(s)),s.select()}},Vg=function(t){return{text:n.Msg$$module$build$src$core$msg.REMOVE_COMMENT,enabled:!0,callback:function(){n.setGroup$$module$build$src$core$events$utils(!0),t.dispose(),n.setGroup$$module$build$src$core$events$utils(!1)}}},Ug=function(t){return{text:n.Msg$$module$build$src$core$msg.DUPLICATE_COMMENT,enabled:!0,callback:function(){Ip(t)}}},Lv=function(t,r){const s={enabled:!0};return s.text=n.Msg$$module$build$src$core$msg.ADD_COMMENT,s.callback=function(){const c=new $r(t,n.Msg$$module$build$src$core$msg.WORKSPACE_COMMENT_DEFAULT_TEXT,$r.DEFAULT_SIZE,$r.DEFAULT_SIZE);var g=t.getInjectionDiv().getBoundingClientRect();g=new Pt(r.clientX-g.left,r.clientY-g.top);const P=t.getOriginOffsetInPixels();g=Pt.difference(g,P),g.scale(1/t.scale),c.moveBy(g.x,g.y),t.rendered&&(c.initSvg(),c.render(),c.select())},s},Ld=function(t){let r=t.outputConnection;return(!r||t.previousConnection&&t.previousConnection.isConnected())&&(r=t.previousConnection),r},Hg=function(t){return t.isDynamic},Ui=function(t,r){i(Rt.RENDERER,t,r)},Mv=function(t){u(Rt.RENDERER,t)},Gg=function(t,r,s){return t=new(p(Rt.RENDERER,t))(t),t.init(r,s),t},Ci=function(){Vn.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.UNDO},preconditionFn(t){return 0<t.workspace.getUndoStack().length?"enabled":"disabled"},callback(t){t.workspace.undo(!1)},scopeType:Vn.ScopeType.WORKSPACE,id:"undoWorkspace",weight:1})},zg=function(){Vn.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.REDO},preconditionFn(t){return 0<t.workspace.getRedoStack().length?"enabled":"disabled"},callback(t){t.workspace.undo(!0)},scopeType:Vn.ScopeType.WORKSPACE,id:"redoWorkspace",weight:2})},Wg=function(){Vn.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.CLEAN_UP},preconditionFn(t){return t.workspace.isMovable()?1<t.workspace.getTopBlocks(!1).length?"enabled":"disabled":"hidden"},callback(t){t.workspace.cleanUp()},scopeType:Vn.ScopeType.WORKSPACE,id:"cleanWorkspace",weight:3})},jg=function(t,r){function s(P){g--,P.setCollapsed(t),g===0&&n.setGroup$$module$build$src$core$events$utils(!1)}let c=0,g=0;n.setGroup$$module$build$src$core$events$utils(!0);for(let P=0;P<r.length;P++){let ae=r[P];for(;ae;)g++,setTimeout(s.bind(null,ae),c),ae=ae.getNextBlock(),c+=10}},Xg=function(){Vn.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.COLLAPSE_ALL},preconditionFn(t){if(t.workspace.options.collapse){t=t.workspace.getTopBlocks(!1);for(let r=0;r<t.length;r++){let s=t[r];for(;s;){if(!s.isCollapsed())return"enabled";s=s.getNextBlock()}}return"disabled"}return"hidden"},callback(t){jg(!0,t.workspace.getTopBlocks(!0))},scopeType:Vn.ScopeType.WORKSPACE,id:"collapseWorkspace",weight:4})},Kg=function(){Vn.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.EXPAND_ALL},preconditionFn(t){if(t.workspace.options.collapse){t=t.workspace.getTopBlocks(!1);for(let r=0;r<t.length;r++){let s=t[r];for(;s;){if(s.isCollapsed())return"enabled";s=s.getNextBlock()}}return"disabled"}return"hidden"},callback(t){jg(!1,t.workspace.getTopBlocks(!0))},scopeType:Vn.ScopeType.WORKSPACE,id:"expandWorkspace",weight:5})},Sp=function(t,r){if(t.isDeletable())Array.prototype.push.apply(r,t.getDescendants(!1));else{t=t.getChildren(!1);for(let s=0;s<t.length;s++)Sp(t[s],r)}},Md=function(t){const r=[];t=t.getTopBlocks(!0);for(let s=0;s<t.length;s++)Sp(t[s],r);return r},Pd=function(t,r){r?n.setGroup$$module$build$src$core$events$utils(r):(n.setGroup$$module$build$src$core$events$utils(!0),r=n.getGroup$$module$build$src$core$events$utils());const s=t.shift();s&&(s.isDeadOrDying()?Pd(t,r):(s.dispose(!1,!0),setTimeout(Pd,10,t,r))),n.setGroup$$module$build$src$core$events$utils(!1)},Yg=function(){Vn.registry.register({displayText(t){return t.workspace?(t=Md(t.workspace).length,t===1?n.Msg$$module$build$src$core$msg.DELETE_BLOCK:n.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace("%1",`${t}`)):""},preconditionFn(t){return t.workspace&&0<Md(t.workspace).length?"enabled":"disabled"},callback(t){if(t.workspace){t.workspace.cancelCurrentGesture();var r=Md(t.workspace);2>r.length?Pd(r):xe(n.Msg$$module$build$src$core$msg.DELETE_ALL_BLOCKS.replace("%1",String(r.length)),function(s){s&&Pd(r)})}},scopeType:Vn.ScopeType.WORKSPACE,id:"workspaceDelete",weight:6})},Op=function(){Ci(),zg(),Wg(),Xg(),Kg(),Yg()},tu=function(){Vn.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.DUPLICATE_BLOCK},preconditionFn(t){return t=t.block,!t.isInFlyout&&t.isDeletable()&&t.isMovable()?t.isDuplicatable()?"enabled":"disabled":"hidden"},callback(t){t.block&&Ip(t.block)},scopeType:Vn.ScopeType.BLOCK,id:"blockDuplicate",weight:1})},uc=function(){Vn.registry.register({displayText(t){return t.block.hasIcon(ur.TYPE)?n.Msg$$module$build$src$core$msg.REMOVE_COMMENT:n.Msg$$module$build$src$core$msg.ADD_COMMENT},preconditionFn(t){return t=t.block,!t.isInFlyout&&t.workspace.options.comments&&!t.isCollapsed()&&t.isEditable()?"enabled":"hidden"},callback(t){t=t.block,t.hasIcon(ur.TYPE)?t.setCommentText(null):t.setCommentText("")},scopeType:Vn.ScopeType.BLOCK,id:"blockComment",weight:2})},Qg=function(){Vn.registry.register({displayText(t){return t.block.getInputsInline()?n.Msg$$module$build$src$core$msg.EXTERNAL_INPUTS:n.Msg$$module$build$src$core$msg.INLINE_INPUTS},preconditionFn(t){if(t=t.block,!t.isInFlyout&&t.isMovable()&&!t.isCollapsed()){for(let r=1;r<t.inputList.length;r++)if(!(t.inputList[r-1]instanceof Of||t.inputList[r]instanceof Of))return"enabled"}return"hidden"},callback(t){t.block.setInputsInline(!t.block.getInputsInline())},scopeType:Vn.ScopeType.BLOCK,id:"blockInline",weight:3})},kp=function(){Vn.registry.register({displayText(t){return t.block.isCollapsed()?n.Msg$$module$build$src$core$msg.EXPAND_BLOCK:n.Msg$$module$build$src$core$msg.COLLAPSE_BLOCK},preconditionFn(t){return t=t.block,!t.isInFlyout&&t.isMovable()&&t.workspace.options.collapse?"enabled":"hidden"},callback(t){t.block.setCollapsed(!t.block.isCollapsed())},scopeType:Vn.ScopeType.BLOCK,id:"blockCollapseExpand",weight:4})},qg=function(){Vn.registry.register({displayText(t){return t.block.isEnabled()?n.Msg$$module$build$src$core$msg.DISABLE_BLOCK:n.Msg$$module$build$src$core$msg.ENABLE_BLOCK},preconditionFn(t){return t=t.block,!t.isInFlyout&&t.workspace.options.disable&&t.isEditable()?t.getInheritedDisabled()?"disabled":"enabled":"hidden"},callback(t){t=t.block;const r=n.getGroup$$module$build$src$core$events$utils();r||n.setGroup$$module$build$src$core$events$utils(!0),t.setEnabled(!t.isEnabled()),n.setGroup$$module$build$src$core$events$utils(r)},scopeType:Vn.ScopeType.BLOCK,id:"blockDisable",weight:5})},hs=function(){Vn.registry.register({displayText(t){var r=t.block;return t=r.getDescendants(!1).length,(r=r.getNextBlock())&&(t-=r.getDescendants(!1).length),t===1?n.Msg$$module$build$src$core$msg.DELETE_BLOCK:n.Msg$$module$build$src$core$msg.DELETE_X_BLOCKS.replace("%1",`${t}`)},preconditionFn(t){return!t.block.isInFlyout&&t.block.isDeletable()?"enabled":"hidden"},callback(t){t.block&&t.block.checkAndDelete()},scopeType:Vn.ScopeType.BLOCK,id:"blockDelete",weight:6})},Dd=function(){Vn.registry.register({displayText(){return n.Msg$$module$build$src$core$msg.HELP},preconditionFn(t){return t=t.block,(typeof t.helpUrl=="function"?t.helpUrl():t.helpUrl)?"enabled":"hidden"},callback(t){t.block.showHelp()},scopeType:Vn.ScopeType.BLOCK,id:"blockHelp",weight:7})},ql=function(){tu(),uc(),Qg(),kp(),qg(),hs(),Dd()},ei=function(){Op(),ql()},Zl=function(t){return t.getProcedureModel!==void 0&&t.doProcedureUpdate!==void 0&&t.isProcedureDef!==void 0},xd=function(t){return t.startPublishing!==void 0&&t.stopPublishing!==void 0},Bd=function(t){const r=t.getProcedureMap().getProcedures().filter(c=>!c.getReturnTypes()).map(c=>[c.getName(),c.getParameters().map(g=>g.getName()),!1]);t.getBlocksByType("procedures_defnoreturn",!1).forEach(c=>{!Zl(c)&&Te(c)&&r.push(c.getProcedureDef())});const s=t.getProcedureMap().getProcedures().filter(c=>!!c.getReturnTypes()).map(c=>[c.getName(),c.getParameters().map(g=>g.getName()),!0]);return t.getBlocksByType("procedures_defreturn",!1).forEach(c=>{!Zl(c)&&Te(c)&&s.push(c.getProcedureDef())}),r.sort(nu),s.sort(nu),[r,s]},nu=function(t,r){return t[0].localeCompare(r[0],void 0,{sensitivity:"base"})},n.findLegalName$$module$build$src$core$procedures=function(t,r){if(r.isInFlyout)return t;for(t=t||n.Msg$$module$build$src$core$msg.UNNAMED_KEY||"unnamed";!al(t,r.workspace,r);){const s=t.match(/^(.*?)(\d+)$/);t=s?s[1]+(parseInt(s[2])+1):t+"2"}return t},al=function(t,r,s){return!wp(t,r,s)},wp=function(t,r,s){for(const c of r.getAllBlocks(!1))if(c!==s&&Te(c)&&n.Names$$module$build$src$core$names.equals(c.getProcedureDef()[0],t))return!0;s=s&&Zl(s)?s==null?void 0:s.getProcedureModel():void 0;for(const c of r.getProcedureMap().getProcedures())if(c!==s&&n.Names$$module$build$src$core$names.equals(c.getName(),t))return!0;return!1},n.rename$$module$build$src$core$procedures=function(t){var r=this.getSourceBlock();if(!r)throw new Bo;t=t.trim();const s=n.findLegalName$$module$build$src$core$procedures(t,r);Zl(r)&&!r.isInsertionMarker()&&r.getProcedureModel().setName(s);const c=this.getValue();if(c!==t&&c!==s)for(t=r.workspace.getAllBlocks(!1),r=0;r<t.length;r++){const g=t[r];g.renameProcedure&&g.renameProcedure(c,s)}return s},Np=function(t){function r(P,ae){for(let vt=0;vt<P.length;vt++){var ze=P[vt][0];const Qt=P[vt][1],Uo=n.createElement$$module$build$src$core$utils$xml("block");Uo.setAttribute("type",ae),Uo.setAttribute("gap","16");const mo=n.createElement$$module$build$src$core$utils$xml("mutation");for(mo.setAttribute("name",ze),Uo.appendChild(mo),ze=0;ze<Qt.length;ze++){const qi=n.createElement$$module$build$src$core$utils$xml("arg");qi.setAttribute("name",Qt[ze]),mo.appendChild(qi)}s.push(Uo)}}const s=[];if(Ar.procedures_defnoreturn){var c=n.createElement$$module$build$src$core$utils$xml("block");c.setAttribute("type","procedures_defnoreturn"),c.setAttribute("gap","16");var g=n.createElement$$module$build$src$core$utils$xml("field");g.setAttribute("name","NAME"),g.appendChild(n.createTextNode$$module$build$src$core$utils$xml(n.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_PROCEDURE)),c.appendChild(g),s.push(c)}return Ar.procedures_defreturn&&(c=n.createElement$$module$build$src$core$utils$xml("block"),c.setAttribute("type","procedures_defreturn"),c.setAttribute("gap","16"),g=n.createElement$$module$build$src$core$utils$xml("field"),g.setAttribute("name","NAME"),g.appendChild(n.createTextNode$$module$build$src$core$utils$xml(n.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_PROCEDURE)),c.appendChild(g),s.push(c)),Ar.procedures_ifreturn&&(c=n.createElement$$module$build$src$core$utils$xml("block"),c.setAttribute("type","procedures_ifreturn"),c.setAttribute("gap","16"),s.push(c)),s.length&&s[s.length-1].setAttribute("gap","24"),t=Bd(t),r(t[0],"procedures_callnoreturn"),r(t[1],"procedures_callreturn"),s},cc=function(t){var r=[],s=t.getBlocksByType("procedures_mutatorarg",!1);for(let P=0,ae;ae=s[P];P++)r.push(ae.getFieldValue("NAME"));s=n.createElement$$module$build$src$core$utils$xml("xml");const c=n.createElement$$module$build$src$core$utils$xml("block");c.setAttribute("type","procedures_mutatorarg");const g=n.createElement$$module$build$src$core$utils$xml("field");g.setAttribute("name","NAME"),r=qt(n.DEFAULT_ARG$$module$build$src$core$procedures,r),r=n.createTextNode$$module$build$src$core$utils$xml(r),g.appendChild(r),c.appendChild(g),s.appendChild(c),t.updateToolbox(s)},Zg=function(t){if(t.type===ps&&t.bubbleType==="mutator"&&t.isOpen&&t.blockId){t=w(t.workspaceId).getBlockById(t.blockId);var r=t.type;(r==="procedures_defnoreturn"||r==="procedures_defreturn")&&(t=t.getIcon(n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE).getWorkspace(),cc(t),t.addChangeListener(Jg))}},Jg=function(t){(t.type===n.CREATE$$module$build$src$core$events$utils||t.type===n.DELETE$$module$build$src$core$events$utils||t.type===n.CHANGE$$module$build$src$core$events$utils||t.type===hl)&&(t=w(t.workspaceId),cc(t))},Zo=function(t,r){return r.getAllBlocks(!1).filter(s=>Ap(s,t)||Ve(s)&&n.Names$$module$build$src$core$names.equals(s.getProcedureCall(),t))},Ap=function(t,r){return Zl(t)&&!t.isProcedureDef()&&t.getProcedureModel()&&n.Names$$module$build$src$core$names.equals(t.getProcedureModel().getName(),r)},n.mutateCallers$$module$build$src$core$procedures=function(t){const r=X();var s=t.getProcedureDef()[0];const c=t.mutationToDom(!0);t=Zo(s,t.workspace);for(let P=0,ae;ae=t[P];P++){s=(s=ae.mutationToDom())&&ut(s),ae.domToMutation&&ae.domToMutation(c);var g=ae.mutationToDom();g=g&&ut(g),s!==g&&(oe(!1),K(new(se(n.CHANGE$$module$build$src$core$events$utils))(ae,"mutation",null,s,g)),oe(r))}},n.getDefinition$$module$build$src$core$procedures=function(t,r){for(const s of r.getAllBlocks(!1))if(Zl(s)&&s.isProcedureDef()&&n.Names$$module$build$src$core$names.equals(s.getProcedureModel().getName(),t)||Te(s)&&n.Names$$module$build$src$core$names.equals(s.getProcedureDef()[0],t))return s;return null},Rp=function(t){sn(t.getTargetWorkspace(),void 0,"String")},Hi=function(t){sn(t.getTargetWorkspace(),void 0,"Number")},Fd=function(t){sn(t.getTargetWorkspace(),void 0,"Colour")},ou=function(t){let r=[],s=document.createElement("button");return s.setAttribute("text",n.Msg$$module$build$src$core$msg.NEW_STRING_VARIABLE),s.setAttribute("callbackKey","CREATE_VARIABLE_STRING"),r.push(s),s=document.createElement("button"),s.setAttribute("text",n.Msg$$module$build$src$core$msg.NEW_NUMBER_VARIABLE),s.setAttribute("callbackKey","CREATE_VARIABLE_NUMBER"),r.push(s),s=document.createElement("button"),s.setAttribute("text",n.Msg$$module$build$src$core$msg.NEW_COLOUR_VARIABLE),s.setAttribute("callbackKey","CREATE_VARIABLE_COLOUR"),r.push(s),t.registerButtonCallback("CREATE_VARIABLE_STRING",Rp),t.registerButtonCallback("CREATE_VARIABLE_NUMBER",Hi),t.registerButtonCallback("CREATE_VARIABLE_COLOUR",Fd),t=ul(t),r=r.concat(t)},ul=function(t){t=t.getAllVariables();const r=[];if(0<t.length){if(Ar.variables_set_dynamic){var s=t[t.length-1];const c=n.createElement$$module$build$src$core$utils$xml("block");c.setAttribute("type","variables_set_dynamic"),c.setAttribute("gap","24"),c.appendChild(n.generateVariableFieldDom$$module$build$src$core$variables(s)),r.push(c)}if(Ar.variables_get_dynamic){t.sort(mc.compareByName);for(let c=0,g;g=t[c];c++)s=n.createElement$$module$build$src$core$utils$xml("block"),s.setAttribute("type","variables_get_dynamic"),s.setAttribute("gap","8"),s.appendChild(n.generateVariableFieldDom$$module$build$src$core$variables(g)),r.push(s)}}return r},Vd=function(t,r,s,c,g,P){const ae=P.scrollbar&&P.scrollbar.canScrollVertically();return t.horizontal===Vc.LEFT?(s=g.absoluteMetrics.left+s,ae&&P.RTL&&(s+=No.scrollbarThickness)):(s=g.absoluteMetrics.left+g.viewMetrics.width-r.width-s,ae&&!P.RTL&&(s-=No.scrollbarThickness)),t.vertical===ys.TOP?t=g.absoluteMetrics.top+c:(t=g.absoluteMetrics.top+g.viewMetrics.height-r.height-c,P.scrollbar&&P.scrollbar.canScrollHorizontally()&&(t-=No.scrollbarThickness)),new ro(t,t+r.height,s,s+r.width)},sr=function(t,r){return{horizontal:r.toolboxMetrics.position===vn.LEFT||t.horizontalLayout&&!t.RTL?Vc.RIGHT:Vc.LEFT,vertical:r.toolboxMetrics.position===vn.BOTTOM?ys.TOP:ys.BOTTOM}},dc=function(t,r,s,c){const g=t.left,P=t.right-t.left,ae=t.bottom-t.top;for(let ze=0;ze<c.length;ze++){const vt=c[ze];t.intersects(vt)&&(t=s===_a.UP?vt.top-ae-r:vt.bottom+r,t=new ro(t,t+ae,g,g+P),ze=-1)}return t},Pv=function(t,r){var s=null;s=typeof t=="string"?document.getElementById(t)||document.querySelector(t):t;let c;if(!document.contains(s)&&document!==((c=s)==null?void 0:c.ownerDocument))throw Error("Error: container is not in current document");t=new Xi(r||{}),r=document.createElement("div"),r.className="injectionDiv",r.tabIndex=0,to(r,ho.LABEL,n.Msg$$module$build$src$core$msg.WORKSPACE_ARIA_LABEL),s.appendChild(r),s=Dv(r,t);const g=xv(s,t);return Lp(g),B(g),D(g),r.addEventListener("focusin",function(){B(g)}),g},Dv=function(t,r){t.setAttribute("dir","LTR"),Vl(r.hasCss,r.pathToMedia),t=we(nt.SVG,{xmlns:Wd,"xmlns:html":fl,"xmlns:xlink":ki,version:"1.1",class:"blocklySvg",tabindex:"0"},t);const s=we(nt.DEFS,{},t),c=String(Math.random()).substring(2);return r.gridPattern=p$.createDom(c,r.gridOptions,s),t},xv=function(t,r){r.parentWorkspace=null,r=new Es(r);const s=r.options;r.scale=s.zoomOptions.startScale,t.appendChild(r.createDom("blocklyMainBackground"));var c=r.getInjectionDiv(),g=r.getRenderer().getClassName();return g&&le(c,g),(g=r.getTheme().getClassName())&&le(c,g),!s.hasCategories&&s.languageTree&&(c=r.addFlyout(nt.SVG),$e(c,t)),s.hasTrashcan&&r.addTrashcan(),s.zoomOptions&&s.zoomOptions.controls&&r.addZoomControls(),r.getThemeManager().subscribe(t,"workspaceBackgroundColour","background-color"),r.translate(0,0),r.addChangeListener(Pg(r)),D(r),it(),xn(),Ig(),r},Lp=function(t){const r=t.options;var s=t.getParentSvg();if(kt(s.parentNode,"contextmenu",null,function(c){hr(c)||c.preventDefault()}),s=kt(window,"resize",null,function(){il(),t.hideComponents(!0),yg(),Qr(),D(t),Kl(t)}),t.setResizeHandlerWrapper(s),hc(),r.languageTree){s=t.getToolbox();const c=t.getFlyout(!0);s?s.init():c&&(c.init(t),c.show(r.languageTree),typeof c.scrollToStart=="function"&&c.scrollToStart())}r.hasTrashcan&&t.trashcan.init(),r.zoomOptions&&r.zoomOptions.controls&&t.zoomControls_.init(),r.moveOptions&&r.moveOptions.scrollbars?(t.scrollbar=new h$(t,r.moveOptions.scrollbars===!0||!!r.moveOptions.scrollbars.horizontal,r.moveOptions.scrollbars===!0||!!r.moveOptions.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),t.scrollbar.resize()):t.setMetrics({x:.5,y:.5}),r.hasSounds&&em(r.pathToMedia,t)},Bv=function(t){const r=M();r&&!(hr(t)||r.rendered&&!r.isVisible())&&zn.registry.onKeyDown(r,t)},hc=function(){V_||(kt(document,"scroll",null,function(){const t=A();for(let r=0,s;s=t[r];r++)s instanceof Es&&s.updateInverseScreenCTM()}),kt(document,"keydown",null,Bv),En(document,"touchend",null,rt),En(document,"touchcancel",null,rt),bc&&kt(window,"orientationchange",document,function(){D(M())})),V_=!0},em=function(t,r){function s(){for(;g.length;){const P=g.pop();P&&On(P)}c.preload()}const c=r.getAudioManager();c.load([t+"click.mp3",t+"click.wav",t+"click.ogg"],"click"),c.load([t+"disconnect.wav",t+"disconnect.mp3",t+"disconnect.ogg"],"disconnect"),c.load([t+"delete.mp3",t+"delete.ogg",t+"delete.wav"],"delete");const g=[];g.push(kt(document,"pointermove",null,s,!0)),g.push(kt(document,"touchstart",null,s,!0))},Fv=function(t){return t.getType!==void 0&&t.initView!==void 0&&t.dispose!==void 0&&t.getWeight!==void 0&&t.getSize!==void 0&&t.applyColour!==void 0&&t.hideForInsertionMarker!==void 0&&t.updateEditable!==void 0&&t.updateCollapsed!==void 0&&t.isShownWhenCollapsed!==void 0&&t.setOffsetInBlock!==void 0&&t.onLocationChange!==void 0&&t.onClick!==void 0},tm=function(t){const r={id:t.getId(),name:t.getName(),returnTypes:t.getReturnTypes()};return t.getParameters().length&&(r.parameters=t.getParameters().map(s=>ru(s))),r},ru=function(t){const r={id:t.getId(),name:t.getName()};return t.getTypes().length&&(r.types=t.getTypes()),r},nm=function(t,r,s,c){if(t=new t(c,s.name,s.id).setReturnTypes(s.returnTypes),!s.parameters)return t;for(const[g,P]of s.parameters.entries())t.insertParameter(om(r,P,c),g);return t},om=function(t,r,s){return t=new t(s,r.name,r.id),r.types&&t.setTypes(r.types),t},Mp=function(t){const r=Object.create(null),s=$(Rt.SERIALIZER,!0);for(const c in s){let g;const P=(g=s[c])==null?void 0:g.save(t);P&&(r[c]=P)}return r},rm=function(t,r,{recordUndo:s=!1}={}){var c=$(Rt.SERIALIZER,!0);if(c){c=Object.entries(c).sort((P,ae)=>ae[1].priority-P[1].priority);var g=X();oe(s),(s=n.getGroup$$module$build$src$core$events$utils())||n.setGroup$$module$build$src$core$events$utils(!0),qe(),r instanceof Es&&r.setResizesEnabled(!1);for(const[,P]of c.reverse()){let ae;(ae=P)==null||ae.clear(r)}for(let[P,ae]of c.reverse())if(t[P]){let ze;(ze=ae)==null||ze.load(t[P],r)}r instanceof Es&&r.setResizesEnabled(!0),Xe(),K(new(se(lu))(r)),n.setGroup$$module$build$src$core$events$utils(s),oe(g)}},im=function(){zn.registry.register({name:js.ESCAPE,preconditionFn(t){return!t.options.readOnly},callback(t){return t.hideChaff(),!0},keyCodes:[Cn.ESC]})},sm=function(){zn.registry.register({name:js.DELETE,preconditionFn(t){const r=G();return!t.options.readOnly&&r!=null&&r.isDeletable()},callback(t,r){return r.preventDefault(),Cl.inProgress()?!1:(G().checkAndDelete(),!0)},keyCodes:[Cn.DELETE,Cn.BACKSPACE]})},lm=function(){const t=zn.registry.createSerializedKey(Cn.C,[Cn.CTRL]),r=zn.registry.createSerializedKey(Cn.C,[Cn.ALT]),s=zn.registry.createSerializedKey(Cn.C,[Cn.META]);zn.registry.register({name:js.COPY,preconditionFn(c){const g=G();return!c.options.readOnly&&!Cl.inProgress()&&g!=null&&g.isDeletable()&&g.isMovable()},callback(c,g){return g.preventDefault(),c.hideChaff(),Ad(G()),!0},keyCodes:[t,r,s]})},Pp=function(){const t=zn.registry.createSerializedKey(Cn.X,[Cn.CTRL]),r=zn.registry.createSerializedKey(Cn.X,[Cn.ALT]),s=zn.registry.createSerializedKey(Cn.X,[Cn.META]);zn.registry.register({name:js.CUT,preconditionFn(c){const g=G();return!c.options.readOnly&&!Cl.inProgress()&&g!=null&&g instanceof Ni&&g.isDeletable()&&g.isMovable()&&!g.workspace.isFlyout},callback(){const c=G();return c?(Ad(c),c.checkAndDelete(),!0):!1},keyCodes:[t,r,s]})},Ud=function(){const t=zn.registry.createSerializedKey(Cn.V,[Cn.CTRL]),r=zn.registry.createSerializedKey(Cn.V,[Cn.ALT]),s=zn.registry.createSerializedKey(Cn.V,[Cn.META]);zn.registry.register({name:js.PASTE,preconditionFn(c){return!c.options.readOnly&&!Cl.inProgress()},callback(){return!!Bg()},keyCodes:[t,r,s]})},am=function(){const t=zn.registry.createSerializedKey(Cn.Z,[Cn.CTRL]),r=zn.registry.createSerializedKey(Cn.Z,[Cn.ALT]),s=zn.registry.createSerializedKey(Cn.Z,[Cn.META]);zn.registry.register({name:js.UNDO,preconditionFn(c){return!c.options.readOnly&&!Cl.inProgress()},callback(c){return c.hideChaff(),c.undo(!1),!0},keyCodes:[t,r,s]})},Hd=function(){const t=zn.registry.createSerializedKey(Cn.Z,[Cn.SHIFT,Cn.CTRL]),r=zn.registry.createSerializedKey(Cn.Z,[Cn.SHIFT,Cn.ALT]),s=zn.registry.createSerializedKey(Cn.Z,[Cn.SHIFT,Cn.META]),c=zn.registry.createSerializedKey(Cn.Y,[Cn.CTRL]);zn.registry.register({name:js.REDO,preconditionFn(g){return!Cl.inProgress()&&!g.options.readOnly},callback(g){return g.hideChaff(),g.undo(!0),!0},keyCodes:[t,r,s,c]})},Dp=function(){im(),sm(),lm(),Pp(),Ud(),am(),Hd()},um=function(t){return t.isSelectable()},cm=function(t){M().hideChaff(t)},rn=rn||{},rn.scope={},rn.ASSUME_ES5=!1,rn.ASSUME_NO_NATIVE_MAP=!1,rn.ASSUME_NO_NATIVE_SET=!1,rn.SIMPLE_FROUND_POLYFILL=!1,rn.ISOLATE_POLYFILLS=!1,rn.FORCE_POLYFILL_PROMISE=!1,rn.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1,rn.defineProperty=rn.ASSUME_ES5||typeof Object.defineProperties=="function"?Object.defineProperty:function(t,r,s){return t==Array.prototype||t==Object.prototype||(t[r]=s.value),t},rn.getGlobal=function(t){t=[typeof globalThis=="object"&&globalThis,t,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wn=="object"&&Wn];for(var r=0;r<t.length;++r){var s=t[r];if(s&&s.Math==Math)return s}throw Error("Cannot find global object")},rn.global=rn.getGlobal(this),rn.IS_SYMBOL_NATIVE=typeof Symbol=="function"&&typeof Symbol("x")=="symbol",rn.TRUST_ES6_POLYFILLS=!rn.ISOLATE_POLYFILLS||rn.IS_SYMBOL_NATIVE,rn.polyfills={},rn.propertyToPolyfillSymbol={},rn.POLYFILL_PREFIX="$jscp$",rn.polyfill=function(t,r,s,c){r&&(rn.ISOLATE_POLYFILLS?rn.polyfillIsolated(t,r,s,c):rn.polyfillUnisolated(t,r,s,c))},rn.polyfillUnisolated=function(t,r,s,c){for(s=rn.global,t=t.split("."),c=0;c<t.length-1;c++){var g=t[c];if(!(g in s))return;s=s[g]}t=t[t.length-1],c=s[t],r=r(c),r!=c&&r!=null&&rn.defineProperty(s,t,{configurable:!0,writable:!0,value:r})},rn.polyfillIsolated=function(t,r,s,c){var g=t.split(".");t=g.length===1,c=g[0],c=!t&&c in rn.polyfills?rn.polyfills:rn.global;for(var P=0;P<g.length-1;P++){var ae=g[P];if(!(ae in c))return;c=c[ae]}g=g[g.length-1],s=rn.IS_SYMBOL_NATIVE&&s==="es6"?c[g]:null,r=r(s),r!=null&&(t?rn.defineProperty(rn.polyfills,g,{configurable:!0,writable:!0,value:r}):r!==s&&(rn.propertyToPolyfillSymbol[g]===void 0&&(s=1e9*Math.random()>>>0,rn.propertyToPolyfillSymbol[g]=rn.IS_SYMBOL_NATIVE?rn.global.Symbol(g):rn.POLYFILL_PREFIX+s+"$"+g),rn.defineProperty(c,rn.propertyToPolyfillSymbol[g],{configurable:!0,writable:!0,value:r})))},rn.polyfill("globalThis",function(t){return t||rn.global},"es_2020","es3"),rn.arrayIteratorImpl=function(t){var r=0;return function(){return r<t.length?{done:!1,value:t[r++]}:{done:!0}}},rn.arrayIterator=function(t){return{next:rn.arrayIteratorImpl(t)}},rn.initSymbol=function(){},rn.iteratorPrototype=function(t){return t={next:t},t[Symbol.iterator]=function(){return this},t},rn.iteratorFromArray=function(t,r){t instanceof String&&(t+="");var s=0,c=!1,g={next:function(){if(!c&&s<t.length){var P=s++;return{value:r(P,t[P]),done:!1}}return c=!0,{done:!0,value:void 0}}};return g[Symbol.iterator]=function(){return g},g},rn.polyfill("Array.prototype.values",function(t){return t||function(){return rn.iteratorFromArray(this,function(r,s){return s})}},"es8","es3"),rn.polyfill("Array.prototype.flat",function(t){return t||function(r){r=r===void 0?1:r;var s=[];return Array.prototype.forEach.call(this,function(c){Array.isArray(c)&&0<r?(c=Array.prototype.flat.call(c,r-1),s.push.apply(s,c)):s.push(c)}),s}},"es9","es5"),rn.owns=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},rn.polyfill("Object.entries",function(t){return t||function(r){var s=[],c;for(c in r)rn.owns(r,c)&&s.push([c,r[c]]);return s}},"es8","es3"),rn.polyfill("Object.values",function(t){return t||function(r){var s=[],c;for(c in r)rn.owns(r,c)&&s.push(r[c]);return s}},"es8","es3");var ti=ti||{};ti.global=globalThis||root,ti.define=function(t,r){return r},ti.DEBUG=!1,ti.DISALLOW_TEST_ONLY_CODE=!ti.DEBUG,ti.provide=function(t){},ti.module=function(t){},ti.module.get=function(t){},ti.module.declareLegacyNamespace=function(){},ti.setTestOnly=function(t){if(ti.DISALLOW_TEST_ONLY_CODE)throw t=t||"",Error("Importing test-only code into non-debug environment"+(t?": "+t:"."))},ti.require=function(t){},ti.requireType=function(t){};var cl=Object.create(null),Vv={typeMap:cl},xp=Object.create(null),Ls="default",Rt=class{constructor(t){this.name=t}toString(){return this.name}};Rt.CONNECTION_CHECKER=new Rt("connectionChecker"),Rt.CURSOR=new Rt("cursor"),Rt.EVENT=new Rt("event"),Rt.FIELD=new Rt("field"),Rt.INPUT=new Rt("input"),Rt.RENDERER=new Rt("renderer"),Rt.TOOLBOX=new Rt("toolbox"),Rt.THEME=new Rt("theme"),Rt.TOOLBOX_ITEM=new Rt("toolboxItem"),Rt.FLYOUTS_VERTICAL_TOOLBOX=new Rt("flyoutsVerticalToolbox"),Rt.FLYOUTS_HORIZONTAL_TOOLBOX=new Rt("flyoutsHorizontalToolbox"),Rt.METRICS_MANAGER=new Rt("metricsManager"),Rt.BLOCK_DRAGGER=new Rt("blockDragger"),Rt.SERIALIZER=new Rt("serializer"),Rt.ICON=new Rt("icon");var Ii={};Ii.DEFAULT=Ls,Ii.TEST_ONLY=Vv,Ii.Type=Rt,Ii.getAllItems=$,Ii.getClass=p,Ii.getClassFromOptions=T,Ii.getObject=m,Ii.hasItem=h,Ii.register=i,Ii.unregister=u;var Ar=Object.create(null),iu=Object.create(null),Uv,Bp=null,kn,pc=[],Hv={defineBlocksWithJsonArrayInternal:J},Po={};Po.TEST_ONLY=Hv,Po.createBlockDefinitionsFromJsonArray=n.createBlockDefinitionsFromJsonArray$$module$build$src$core$common,Po.defineBlocks=n.defineBlocks$$module$build$src$core$common,Po.defineBlocksWithJsonArray=Y,Po.draggingConnections=pc,Po.getAllWorkspaces=A,Po.getBlockTypeCounts=U,Po.getMainWorkspace=M,Po.getParentContainer=F,Po.getSelected=G,Po.getWorkspaceById=w,Po.registerWorkspace=R,Po.setMainWorkspace=B,Po.setParentContainer=x,Po.setSelected=j,Po.svgResize=D,Po.unregisterWorkpace=L;var dm="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",Gv={genUid:()=>{const t=dm.length,r=[];for(let s=0;20>s;s++)r[s]=dm.charAt(Math.random()*t);return r.join("")}},P1=0,Rr={};Rr.TEST_ONLY=Gv,Rr.genUid=ue,Rr.getNextUniqueId=ee;var hm,dl,fc,hl,pl,Jo,Si,gc,Jl,Gi,Ms,ea,ps,ta,na,Oi,oa,Lr,ra,su,zi,lu,Fp,au,Gd,_n;hm="",dl=!0,fc=0,n.CREATE$$module$build$src$core$events$utils="create",n.CREATE$$module$build$src$core$events$utils,n.DELETE$$module$build$src$core$events$utils="delete",n.DELETE$$module$build$src$core$events$utils,n.CHANGE$$module$build$src$core$events$utils="change",n.CHANGE$$module$build$src$core$events$utils,hl="block_field_intermediate_change",n.MOVE$$module$build$src$core$events$utils="move",n.MOVE$$module$build$src$core$events$utils,pl="var_create",Jo="var_delete",Si="var_rename",gc="ui",Jl="drag",Gi="selected",Ms="click",ea="marker_move",ps="bubble_open",ta="trashcan_open",na="toolbox_item_select",Oi="theme_change",oa="viewport_change",Lr="comment_create",ra="comment_delete",su="comment_change",zi="comment_move",lu="finished_loading",Fp=[n.CREATE$$module$build$src$core$events$utils,n.MOVE$$module$build$src$core$events$utils,Lr,zi],au=[],Gd={FIRE_QUEUE:au,fireNow:z,fireInternal:q,setGroupInternal:Oe},_n={},_n.BLOCK_CHANGE=n.CHANGE$$module$build$src$core$events$utils,_n.BLOCK_CREATE=n.CREATE$$module$build$src$core$events$utils,_n.BLOCK_DELETE=n.DELETE$$module$build$src$core$events$utils,_n.BLOCK_DRAG=Jl,_n.BLOCK_FIELD_INTERMEDIATE_CHANGE=hl,_n.BLOCK_MOVE=n.MOVE$$module$build$src$core$events$utils,_n.BUBBLE_OPEN=ps,_n.BUMP_EVENTS=Fp,_n.CHANGE=n.CHANGE$$module$build$src$core$events$utils,_n.CLICK=Ms,_n.COMMENT_CHANGE=su,_n.COMMENT_CREATE=Lr,_n.COMMENT_DELETE=ra,_n.COMMENT_MOVE=zi,_n.CREATE=n.CREATE$$module$build$src$core$events$utils,_n.DELETE=n.DELETE$$module$build$src$core$events$utils,_n.FINISHED_LOADING=lu,_n.MARKER_MOVE=ea,_n.MOVE=n.MOVE$$module$build$src$core$events$utils,_n.SELECTED=Gi,_n.TEST_ONLY=Gd,_n.THEME_CHANGE=Oi,_n.TOOLBOX_ITEM_SELECT=na,_n.TRASHCAN_OPEN=ta,_n.UI=gc,_n.VAR_CREATE=pl,_n.VAR_DELETE=Jo,_n.VAR_RENAME=Si,_n.VIEWPORT_CHANGE=oa,_n.clearPendingUndo=ge,_n.disable=n.disable$$module$build$src$core$events$utils,_n.disableOrphans=ke,_n.enable=n.enable$$module$build$src$core$events$utils,_n.filter=ne,_n.fire=K,_n.fromJson=_e,_n.get=se,_n.getDescendantIds=Re,_n.getGroup=n.getGroup$$module$build$src$core$events$utils,_n.getRecordUndo=X,_n.isEnabled=Q,_n.setGroup=n.setGroup$$module$build$src$core$events$utils,_n.setRecordUndo=oe,function(t){t[t.VALUE=1]="VALUE",t[t.STATEMENT=3]="STATEMENT",t[t.DUMMY=5]="DUMMY",t[t.CUSTOM=6]="CUSTOM"}(n.inputTypes$$module$build$src$core$inputs$input_types||(n.inputTypes$$module$build$src$core$inputs$input_types={})),n.inputTypes$$module$build$src$core$inputs$input_types;var Vp={parseFromString:function(){throw Error("DOMParser was not found in the global scope and was not properly injected using injectDependencies")}},Up={serializeToString:function(){throw Error("XMLSerializer was not foundin the global scope and was not properly injected using injectDependencies")}},{document:zd,DOMParser:lr,XMLSerializer:ni}=globalThis;lr&&(Vp=new lr),ni&&(Up=new ni);var zv="https://developers.google.com/blockly/xml",D1=/[\x00-\x09\x0B\x0C\x0E-\x1F]/g,Ps={};Ps.NAME_SPACE=zv,Ps.createElement=n.createElement$$module$build$src$core$utils$xml,Ps.createTextNode=n.createTextNode$$module$build$src$core$utils$xml,Ps.domToText=ut,Ps.injectDependencies=et,Ps.textToDom=n.textToDom$$module$build$src$core$utils$xml;var er=class{constructor(t){this.name=t}toString(){return this.name}equals(t){return this.name===t.toString()}};er.MUTATOR=new er("mutator"),er.WARNING=new er("warning"),er.COMMENT=new er("comment");var pm={};pm.warn=gt;var Wd="http://www.w3.org/2000/svg",fl="http://www.w3.org/1999/xhtml",ki="http://www.w3.org/1999/xlink",oi;(function(t){t[t.ELEMENT_NODE=1]="ELEMENT_NODE",t[t.TEXT_NODE=3]="TEXT_NODE",t[t.COMMENT_NODE=8]="COMMENT_NODE"})(oi||(oi={}));var Mr=null,fm=0,jd=null,zo={};zo.HTML_NS=fl,zo.NodeType=oi,zo.SVG_NS=Wd,zo.XLINK_NS=ki,zo.addClass=le,zo.containsNode=Fe,zo.createSvgElement=we,zo.getFastTextWidth=Ee,zo.getFastTextWidthWithSizeString=Ie,zo.getTextWidth=at,zo.hasClass=Me,zo.insertAfter=$e,zo.measureFontMetrics=he,zo.removeClass=re,zo.removeClasses=ce,zo.removeNode=Ne,zo.setCssTransform=Le,zo.startTextWidthCache=qe,zo.stopTextWidthCache=Xe;var Zn=class{constructor(t,r){this.width=t,this.height=r}static equals(t,r){return t===r?!0:t&&r?t.width===r.width&&t.height===r.height:!1}},gm=function(t,r){window.alert(t),r&&r()},Xd=function(t,r){r(window.confirm(t))},Hp=function(t,r,s){s(window.prompt(t,r))},Kd={confirmInternal:Ke},ia={};ia.TEST_ONLY=Kd,ia.alert=me,ia.confirm=xe,ia.prompt=k,ia.setAlert=Se,ia.setConfirm=C,ia.setPrompt=de;var Gp,uu;n.Msg$$module$build$src$core$msg=Object.create(null),Gp=function(t){Object.keys(t).forEach(function(r){n.Msg$$module$build$src$core$msg[r]=t[r]})},uu={},uu.Msg=n.Msg$$module$build$src$core$msg,uu.setLocale=Gp;var cu=class{constructor(){this.workspaceId=void 0,this.isUiEvent=!1,this.type="",this.group=n.getGroup$$module$build$src$core$events$utils(),this.recordUndo=X()}toJson(){return{type:this.type,group:this.group}}static fromJson(t,r,s){return s.isBlank=!1,s.group=t.group||"",s.workspaceId=r.id,s}isNull(){return!1}run(t){}getEventWorkspace_(){let t;if(this.workspaceId&&(t=w(this.workspaceId)),!t)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return t}},du=class extends cu{constructor(t){super(),this.isBlank=typeof t>"u",t&&(this.varId=t.getId(),this.workspaceId=t.workspace.id)}toJson(){const t=super.toJson();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");return t.varId=this.varId,t}static fromJson(t,r,s){return r=super.fromJson(t,r,s??new du),r.varId=t.varId,r}},mm=class extends du{constructor(t){super(t),this.type=pl,t&&(this.varType=t.type,this.varName=t.name)}toJson(){const t=super.toJson();if(this.varType===void 0)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return t.varType=this.varType,t.varName=this.varName,t}static fromJson(t,r,s){return r=super.fromJson(t,r,s??new mm),r.varType=t.varType,r.varName=t.varName,r}run(t){const r=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");t?r.createVariable(this.varName,this.varType,this.varId):r.deleteVariableById(this.varId)}};i(Rt.EVENT,pl,mm);var mc=class{constructor(t,r,s,c){this.workspace=t,this.name=r,this.type=s||"",this.id_=c||ue()}getId(){return this.id_}static compareByName(t,r){return t.name.localeCompare(r.name,void 0,{sensitivity:"base"})}},fs="VARIABLE",zp="ijkmnopqrstuvwxyzabcdefgh",$m={generateUniqueNameInternal:Bt},Qo={};Qo.CATEGORY_NAME=fs,Qo.TEST_ONLY=$m,Qo.VAR_LETTER_OPTIONS=zp,Qo.allDeveloperVariables=n.allDeveloperVariables$$module$build$src$core$variables,Qo.allUsedVarModels=n.allUsedVarModels$$module$build$src$core$variables,Qo.createVariableButtonHandler=sn,Qo.flyoutCategory=tt,Qo.flyoutCategoryBlocks=Et,Qo.generateUniqueName=St,Qo.generateUniqueNameFromOptions=qt,Qo.generateVariableFieldDom=n.generateVariableFieldDom$$module$build$src$core$variables,Qo.getAddedVariables=H,Qo.getOrCreateVariablePackage=n.getOrCreateVariablePackage$$module$build$src$core$variables,Qo.getVariable=n.getVariable$$module$build$src$core$variables,Qo.nameUsedWithAnyType=N,Qo.nameUsedWithConflictingParam=S,Qo.promptName=dn,Qo.renameVariable=n.renameVariable$$module$build$src$core$variables;var Pt=class{constructor(t,r){this.x=t,this.y=r}clone(){return new Pt(this.x,this.y)}scale(t){return this.x*=t,this.y*=t,this}translate(t,r){return this.x+=t,this.y+=r,this}static equals(t,r){return t===r?!0:t&&r?t.x===r.x&&t.y===r.y:!1}static distance(t,r){const s=t.x-r.x;return t=t.y-r.y,Math.sqrt(s*s+t*t)}static magnitude(t){return Math.sqrt(t.x*t.x+t.y*t.y)}static difference(t,r){return new Pt(t.x-r.x,t.y-r.y)}static sum(t,r){return new Pt(t.x+r.x,t.y+r.y)}},Ds=class{constructor(t,r,s,c,g){this.workspace=t,this.editable=this.movable=this.deletable=!0,this.disposed_=!1,this.isComment=!0,this.id=g&&!t.getCommentById(g)?g:ue(),t.addTopComment(this),this.xy_=new Pt(0,0),this.height_=s,this.width_=c,this.RTL=t.RTL,this.content_=r,Ds.fireCreateEvent(this)}dispose(){this.disposed_||(Q()&&K(new(se(ra))(this)),this.workspace.removeTopComment(this),this.disposed_=!0)}getHeight(){return this.height_}setHeight(t){this.height_=t}getWidth(){return this.width_}setWidth(t){this.width_=t}getRelativeToSurfaceXY(){return new Pt(this.xy_.x,this.xy_.y)}moveBy(t,r){const s=new(se(zi))(this);this.xy_.translate(t,r),s.recordNew(),K(s)}isDeletable(){return this.deletable&&!(this.workspace&&this.workspace.options.readOnly)}setDeletable(t){this.deletable=t}isMovable(){return this.movable&&!(this.workspace&&this.workspace.options.readOnly)}setMovable(t){this.movable=t}isEditable(){return this.editable&&!(this.workspace&&this.workspace.options.readOnly)}setEditable(t){this.editable=t}getContent(){return this.content_}setContent(t){this.content_!==t&&(K(new(se(su))(this,this.content_,t)),this.content_=t)}toXmlWithXY(t){return t=this.toXml(t),t.setAttribute("x",String(Math.round(this.xy_.x))),t.setAttribute("y",String(Math.round(this.xy_.y))),t.setAttribute("h",String(this.height_)),t.setAttribute("w",String(this.width_)),t}toXml(t){const r=n.createElement$$module$build$src$core$utils$xml("comment");return t||(r.id=this.id),r.textContent=this.getContent(),r}static fireCreateEvent(t){if(Q()){const r=n.getGroup$$module$build$src$core$events$utils();r||n.setGroup$$module$build$src$core$events$utils(!0);try{K(new(se(Lr))(t))}finally{n.setGroup$$module$build$src$core$events$utils(r)}}}static fromXml(t,r){var s=Ds.parseAttributes(t);return r=new Ds(r,s.content,s.h,s.w,s.id),s=t.getAttribute("x"),t=t.getAttribute("y"),s=s?parseInt(s,10):NaN,t=t?parseInt(t,10):NaN,isNaN(s)||isNaN(t)||r.moveBy(s,t),Ds.fireCreateEvent(r),r}static parseAttributes(t){const r=t.getAttribute("h"),s=t.getAttribute("w"),c=t.getAttribute("x"),g=t.getAttribute("y"),P=t.getAttribute("id");if(!P)throw Error("No ID present in XML comment definition.");let ae;return{id:P,h:r?parseInt(r):100,w:s?parseInt(s):100,x:c?parseInt(c):NaN,y:g?parseInt(g):NaN,content:(ae=t.textContent)!=null?ae:""}}},xs=class extends cu{constructor(t){super(),this.recordUndo=!1,this.isUiEvent=!0,this.isBlank=typeof t>"u",this.workspaceId=t||""}},gs=class extends xs{constructor(t,r,s){super(s),this.type=Gi,this.oldElementId=t??void 0,this.newElementId=r??void 0}toJson(){const t=super.toJson();return t.oldElementId=this.oldElementId,t.newElementId=this.newElementId,t}static fromJson(t,r,s){return r=super.fromJson(t,r,s??new gs),r.oldElementId=t.oldElementId,r.newElementId=t.newElementId,r}};i(Rt.EVENT,Gi,gs);var vm=750,Wp="ontouchstart"in globalThis||!!(globalThis.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!globalThis.navigator||!globalThis.navigator.maxTouchPoints&&!globalThis.navigator.msMaxTouchPoints),$c=null,Bs={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]},gl=0,an={};an.TOUCH_ENABLED=Wp,an.TOUCH_MAP=Bs,an.checkTouchIdentifier=Hn,an.clearTouchIdentifier=bt,an.getTouchIdentifierFromEvent=ln,an.longStart=pe,an.longStop=rt,an.shouldHandleEvent=Ft;var vc,jp,sa,Wv,_c,Yd,ar,jv,Xv,_m;(function(t){function r(c){return s.indexOf(c.toUpperCase())!==-1}vc=t;const s=vc.toUpperCase();jp=r("JavaFX"),sa=r("WebKit"),Wv=r("Gecko")&&!sa,_c=r("Android"),t=globalThis.navigator&&globalThis.navigator.maxTouchPoints,Yd=r("iPad")||r("Macintosh")&&0<t,ar=r("iPhone")&&!Yd,jv=r("Macintosh"),Xv=Yd||_c&&!r("Mobile")||r("Silk"),_m=!Xv&&(ar||_c)})(globalThis.navigator&&globalThis.navigator.userAgent||"");var x1=vc,Kv=jp,bm=Wv,Xp=_c,bc=Yd,Fs=ar,mr=jv,Qd=_m,ml={};ml.ANDROID=Xp,ml.GECKO=bm,ml.IPAD=bc,ml.IPHONE=Fs,ml.JavaFx=Kv,ml.MAC=mr,ml.MOBILE=Qd,ml.raw=x1;var Kp=40,Yv=125,$l={};$l.bind=En,$l.conditionalBind=kt,$l.getScrollDeltaPixels=xi,$l.isRightButton=br,$l.isTargetInput=hr,$l.mouseToSvg=jr,$l.unbind=On;var hu=!1,Yp=`
.blocklySvg {
  background-color: #fff;
  outline: none;
  overflow: hidden;  /* IE overflows by default. */
  position: absolute;
  display: block;
}

.blocklyWidgetDiv {
  display: none;
  position: absolute;
  z-index: 99999;  /* big value for bootstrap3 compatibility */
}

.injectionDiv {
  height: 100%;
  position: relative;
  overflow: hidden;  /* So blocks in drag surface disappear at edges */
  touch-action: none;
}

.blocklyNonSelectable {
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
}

.blocklyBlockCanvas.blocklyCanvasTransitioning,
.blocklyBubbleCanvas.blocklyCanvasTransitioning {
  transition: transform .5s;
}

.blocklyTooltipDiv {
  background-color: #ffffc7;
  border: 1px solid #ddc;
  box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);
  color: #000;
  display: none;
  font: 9pt sans-serif;
  opacity: .9;
  padding: 2px;
  position: absolute;
  z-index: 100000;  /* big value for bootstrap3 compatibility */
}

.blocklyDropDownDiv {
  position: absolute;
  left: 0;
  top: 0;
  z-index: 1000;
  display: none;
  border: 1px solid;
  border-color: #dadce0;
  background-color: #fff;
  border-radius: 2px;
  padding: 4px;
  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);
}

.blocklyDropDownDiv.blocklyFocused {
  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);
}

.blocklyDropDownContent {
  max-height: 300px;  /* @todo: spec for maximum height. */
  overflow: auto;
  overflow-x: hidden;
  position: relative;
}

.blocklyDropDownArrow {
  position: absolute;
  left: 0;
  top: 0;
  width: 16px;
  height: 16px;
  z-index: -1;
  background-color: inherit;
  border-color: inherit;
}

.blocklyDropDownButton {
  display: inline-block;
  float: left;
  padding: 0;
  margin: 4px;
  border-radius: 4px;
  outline: none;
  border: 1px solid;
  transition: box-shadow .1s;
  cursor: pointer;
}

.blocklyArrowTop {
  border-top: 1px solid;
  border-left: 1px solid;
  border-top-left-radius: 4px;
  border-color: inherit;
}

.blocklyArrowBottom {
  border-bottom: 1px solid;
  border-right: 1px solid;
  border-bottom-right-radius: 4px;
  border-color: inherit;
}

.blocklyResizeSE {
  cursor: se-resize;
  fill: #aaa;
}

.blocklyResizeSW {
  cursor: sw-resize;
  fill: #aaa;
}

.blocklyResizeLine {
  stroke: #515A5A;
  stroke-width: 1;
}

.blocklyHighlightedConnectionPath {
  fill: none;
  stroke: #fc3;
  stroke-width: 4px;
}

.blocklyPathLight {
  fill: none;
  stroke-linecap: round;
  stroke-width: 1;
}

.blocklySelected>.blocklyPathLight {
  display: none;
}

.blocklyDraggable {
  cursor: grab;
  cursor: -webkit-grab;
}

.blocklyDragging {
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

  /* Changes cursor on mouse down. Not effective in Firefox because of
     https://bugzilla.mozilla.org/show_bug.cgi?id=771241 */
.blocklyDraggable:active {
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

.blocklyDragging.blocklyDraggingDelete {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyDragging>.blocklyPath,
.blocklyDragging>.blocklyPathLight {
  fill-opacity: .8;
  stroke-opacity: .8;
}

.blocklyDragging>.blocklyPathDark {
  display: none;
}

.blocklyDisabled>.blocklyPath {
  fill-opacity: .5;
  stroke-opacity: .5;
}

.blocklyDisabled>.blocklyPathLight,
.blocklyDisabled>.blocklyPathDark {
  display: none;
}

.blocklyInsertionMarker>.blocklyPath,
.blocklyInsertionMarker>.blocklyPathLight,
.blocklyInsertionMarker>.blocklyPathDark {
  fill-opacity: .2;
  stroke: none;
}

.blocklyMultilineText {
  font-family: monospace;
}

.blocklyNonEditableText>text {
  pointer-events: none;
}

.blocklyFlyout {
  position: absolute;
  z-index: 20;
}

.blocklyText text {
  cursor: default;
}

/*
  Don't allow users to select text.  It gets annoying when trying to
  drag a block and selected text moves instead.
*/
.blocklySvg text {
  user-select: none;
  -ms-user-select: none;
  -webkit-user-select: none;
  cursor: inherit;
}

.blocklyHidden {
  display: none;
}

.blocklyFieldDropdown:not(.blocklyHidden) {
  display: block;
}

.blocklyIconGroup {
  cursor: default;
}

.blocklyIconGroup:not(:hover),
.blocklyIconGroupReadonly {
  opacity: .6;
}

.blocklyIconShape {
  fill: #00f;
  stroke: #fff;
  stroke-width: 1px;
}

.blocklyIconSymbol {
  fill: #fff;
}

.blocklyMinimalBody {
  margin: 0;
  padding: 0;
}

.blocklyHtmlInput {
  border: none;
  border-radius: 4px;
  height: 100%;
  margin: 0;
  outline: none;
  padding: 0;
  width: 100%;
  text-align: center;
  display: block;
  box-sizing: border-box;
}

/* Remove the increase and decrease arrows on the field number editor */
input.blocklyHtmlInput[type=number]::-webkit-inner-spin-button,
input.blocklyHtmlInput[type=number]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}

input[type=number] {
  -moz-appearance: textfield;
}

.blocklyMainBackground {
  stroke-width: 1;
  stroke: #c6c6c6;  /* Equates to #ddd due to border being off-pixel. */
}

.blocklyMutatorBackground {
  fill: #fff;
  stroke: #ddd;
  stroke-width: 1;
}

.blocklyFlyoutBackground {
  fill: #ddd;
  fill-opacity: .8;
}

.blocklyMainWorkspaceScrollbar {
  z-index: 20;
}

.blocklyFlyoutScrollbar {
  z-index: 30;
}

.blocklyScrollbarHorizontal,
.blocklyScrollbarVertical {
  position: absolute;
  outline: none;
}

.blocklyScrollbarBackground {
  opacity: 0;
}

.blocklyScrollbarHandle {
  fill: #ccc;
}

.blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,
.blocklyScrollbarHandle:hover {
  fill: #bbb;
}

/* Darken flyout scrollbars due to being on a grey background. */
/* By contrast, workspace scrollbars are on a white background. */
.blocklyFlyout .blocklyScrollbarHandle {
  fill: #bbb;
}

.blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,
.blocklyFlyout .blocklyScrollbarHandle:hover {
  fill: #aaa;
}

.blocklyInvalidInput {
  background: #faa;
}

.blocklyVerticalMarker {
  stroke-width: 3px;
  fill: rgba(255,255,255,.5);
  pointer-events: none;
}

.blocklyComputeCanvas {
  position: absolute;
  width: 0;
  height: 0;
}

.blocklyNoPointerEvents {
  pointer-events: none;
}

.blocklyContextMenu {
  border-radius: 4px;
  max-height: 100%;
}

.blocklyDropdownMenu {
  border-radius: 2px;
  padding: 0 !important;
}

.blocklyDropdownMenu .blocklyMenuItem {
  /* 28px on the left for icon or checkbox. */
  padding-left: 28px;
}

/* BiDi override for the resting state. */
.blocklyDropdownMenu .blocklyMenuItemRtl {
  /* Flip left/right padding for BiDi. */
  padding-left: 5px;
  padding-right: 28px;
}

.blocklyWidgetDiv .blocklyMenu {
  background: #fff;
  border: 1px solid transparent;
  box-shadow: 0 0 3px 1px rgba(0,0,0,.3);
  font: normal 13px Arial, sans-serif;
  margin: 0;
  outline: none;
  padding: 4px 0;
  position: absolute;
  overflow-y: auto;
  overflow-x: hidden;
  max-height: 100%;
  z-index: 20000;  /* Arbitrary, but some apps depend on it... */
}

.blocklyWidgetDiv .blocklyMenu.blocklyFocused {
  box-shadow: 0 0 6px 1px rgba(0,0,0,.3);
}

.blocklyDropDownDiv .blocklyMenu {
  background: inherit;  /* Compatibility with gapi, reset from goog-menu */
  border: inherit;  /* Compatibility with gapi, reset from goog-menu */
  font: normal 13px "Helvetica Neue", Helvetica, sans-serif;
  outline: none;
  position: relative;  /* Compatibility with gapi, reset from goog-menu */
  z-index: 20000;  /* Arbitrary, but some apps depend on it... */
}

/* State: resting. */
.blocklyMenuItem {
  border: none;
  color: #000;
  cursor: pointer;
  list-style: none;
  margin: 0;
  /* 7em on the right for shortcut. */
  min-width: 7em;
  padding: 6px 15px;
  white-space: nowrap;
}

/* State: disabled. */
.blocklyMenuItemDisabled {
  color: #ccc;
  cursor: inherit;
}

/* State: hover. */
.blocklyMenuItemHighlight {
  background-color: rgba(0,0,0,.1);
}

/* State: selected/checked. */
.blocklyMenuItemCheckbox {
  height: 16px;
  position: absolute;
  width: 16px;
}

.blocklyMenuItemSelected .blocklyMenuItemCheckbox {
  background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;
  float: left;
  margin-left: -24px;
  position: static;  /* Scroll with the menu. */
}

.blocklyMenuItemRtl .blocklyMenuItemCheckbox {
  float: right;
  margin-right: -24px;
}
`,Qp={};Qp.inject=Vl,Qp.register=Yn;var ro=class{constructor(t,r,s,c){this.top=t,this.bottom=r,this.left=s,this.right=c}getHeight(){return this.bottom-this.top}getWidth(){return this.right-this.left}contains(t,r){return t>=this.left&&t<=this.right&&r>=this.top&&r<=this.bottom}intersects(t){return!(this.left>t.right||this.right<t.left||this.top>t.bottom||this.bottom<t.top)}},nt=class{constructor(t){this.tagName=t}toString(){return this.tagName}};nt.ANIMATE=new nt("animate"),nt.CIRCLE=new nt("circle"),nt.CLIPPATH=new nt("clipPath"),nt.DEFS=new nt("defs"),nt.FECOMPOSITE=new nt("feComposite"),nt.FECOMPONENTTRANSFER=new nt("feComponentTransfer"),nt.FEFLOOD=new nt("feFlood"),nt.FEFUNCA=new nt("feFuncA"),nt.FEGAUSSIANBLUR=new nt("feGaussianBlur"),nt.FEPOINTLIGHT=new nt("fePointLight"),nt.FESPECULARLIGHTING=new nt("feSpecularLighting"),nt.FILTER=new nt("filter"),nt.FOREIGNOBJECT=new nt("foreignObject"),nt.G=new nt("g"),nt.IMAGE=new nt("image"),nt.LINE=new nt("line"),nt.PATH=new nt("path"),nt.PATTERN=new nt("pattern"),nt.POLYGON=new nt("polygon"),nt.RECT=new nt("rect"),nt.SVG=new nt("svg"),nt.TEXT=new nt("text"),nt.TSPAN=new nt("tspan");var Qv={getSizeInternal:Ra},vl={};vl.TEST_ONLY=Qv,vl.getBorderBox=Pn,vl.getComputedStyle=pr,vl.getContainerOffsetToScrollInto=Ho,vl.getPageOffset=wt,vl.getSize=Ns,vl.getViewportPageOffset=Xt,vl.scrollIntoContainerView=uo;var Tm=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/,ym=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/,B1={XY_REGEX:Tm,XY_STYLE_REGEX:ym},_l={};_l.TEST_ONLY=B1,_l.getDocumentScroll=zu,_l.getInjectionDivXY=rs,_l.getRelativeXY=Yo,_l.getViewportBBox=La,_l.screenToWsCoordinates=Qh;var Wo=8,la=3,Em=2,$r=class extends Ds{constructor(t,r,s,c,g){super(t,r,s,c,g),this.onMouseMoveWrapper=this.onMouseUpWrapper=null,this.eventsInit=!1,this.deleteIconBorder=this.deleteGroup=this.resizeGroup=this.foreignObject=this.svgHandleTarget=this.svgRectTarget=this.textarea=null,this.rendered=this.autoLayout=this.focused=!1,this.svgGroup=we(nt.G,{class:"blocklyComment"}),this.workspace=t,this.svgRect_=we(nt.RECT,{class:"blocklyCommentRect",x:0,y:0,rx:la,ry:la}),this.svgGroup.appendChild(this.svgRect_),this.render()}dispose(){this.disposed_||(G()===this&&(this.unselect(),this.workspace.cancelCurrentGesture()),Q()&&K(new(se(ra))(this)),Ne(this.svgGroup),this.disposeInternal(),n.disable$$module$build$src$core$events$utils(),super.dispose(),n.enable$$module$build$src$core$events$utils())}initSvg(t){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");this.workspace.options.readOnly||this.eventsInit||(kt(this.svgRectTarget,"pointerdown",this,this.pathMouseDown),kt(this.svgHandleTarget,"pointerdown",this,this.pathMouseDown)),this.eventsInit=!0,this.updateMovable(),this.getSvgRoot().parentNode||this.workspace.getBubbleCanvas().appendChild(this.getSvgRoot()),!t&&this.textarea&&this.textarea.select()}pathMouseDown(t){const r=this.workspace.getGesture(t);r&&r.handleBubbleStart(t,this)}showContextMenu(t){throw Error("The implementation of showContextMenu should be monkey-patched in by blockly.ts")}select(){if(G()!==this){var t=null;if(G()){t=G().id,n.disable$$module$build$src$core$events$utils();try{G().unselect()}finally{n.enable$$module$build$src$core$events$utils()}}t=new(se(Gi))(t,this.id,this.workspace.id),K(t),j(this),this.addSelect()}}unselect(){if(G()===this){var t=new(se(Gi))(this.id,null,this.workspace.id);K(t),j(null),this.removeSelect(),this.blurFocus()}}addSelect(){le(this.svgGroup,"blocklySelected"),this.setFocus()}removeSelect(){le(this.svgGroup,"blocklySelected"),this.blurFocus()}addFocus(){le(this.svgGroup,"blocklyFocused")}removeFocus(){re(this.svgGroup,"blocklyFocused")}getRelativeToSurfaceXY(){let t=0,r=0,s=this.getSvgRoot();if(s)do{const c=Yo(s);t+=c.x,r+=c.y,s=s.parentNode}while(s&&s!==this.workspace.getBubbleCanvas()&&s!==null);return this.xy_=new Pt(t,r)}moveBy(t,r){const s=new(se(zi))(this),c=this.getRelativeToSurfaceXY();this.translate(c.x+t,c.y+r),this.xy_=new Pt(c.x+t,c.y+r),s.recordNew(),K(s),this.workspace.resizeContents()}translate(t,r){this.xy_=new Pt(t,r),this.getSvgRoot().setAttribute("transform","translate("+t+","+r+")")}moveDuringDrag(t){t=`translate(${t.x}, ${t.y})`,this.getSvgRoot().setAttribute("transform",t)}moveTo(t,r){this.translate(t,r)}clearTransformAttributes(){this.getSvgRoot().removeAttribute("transform")}getBoundingRectangle(){var t=this.getRelativeToSurfaceXY();const r=this.getHeightWidth(),s=t.y,c=t.y+r.height;let g;return this.RTL?(g=t.x-r.width,t=t.x):(g=t.x,t=t.x+r.width),new ro(s,c,g,t)}updateMovable(){this.isMovable()?le(this.svgGroup,"blocklyDraggable"):re(this.svgGroup,"blocklyDraggable")}setMovable(t){super.setMovable(t),this.updateMovable()}setEditable(t){super.setEditable(t),this.textarea&&(this.textarea.readOnly=!t)}setDragging(t){t?le(this.getSvgRoot(),"blocklyDragging"):re(this.getSvgRoot(),"blocklyDragging")}getSvgRoot(){return this.svgGroup}getContent(){return this.textarea?this.textarea.value:this.content_}setContent(t){super.setContent(t),this.textarea&&(this.textarea.value=t)}setDeleteStyle(t){t?le(this.svgGroup,"blocklyDraggingDelete"):re(this.svgGroup,"blocklyDraggingDelete")}setAutoLayout(t){}toXmlWithXY(t){let r=0;this.workspace.RTL&&(r=this.workspace.getWidth()),t=this.toXml(t);const s=this.getRelativeToSurfaceXY();return t.setAttribute("x",String(Math.round(this.workspace.RTL?r-s.x:s.x))),t.setAttribute("y",String(Math.round(s.y))),t.setAttribute("h",String(this.getHeight())),t.setAttribute("w",String(this.getWidth())),t}toCopyData(){return{saveInfo:this.toXmlWithXY(),source:this.workspace,typeCounts:null}}getHeightWidth(){return{width:this.getWidth(),height:this.getHeight()}}render(){if(!this.rendered){var t=this.getHeightWidth(),r=this.createEditor();this.svgGroup.appendChild(r),this.svgHandleTarget=we(nt.RECT,{class:"blocklyCommentHandleTarget",x:0,y:0}),this.svgGroup.appendChild(this.svgHandleTarget),this.svgRectTarget=we(nt.RECT,{class:"blocklyCommentTarget",x:0,y:0,rx:la,ry:la}),this.svgGroup.appendChild(this.svgRectTarget),this.addResizeDom(),this.isDeletable()&&this.addDeleteDom(),this.setSize(t.width,t.height),this.textarea.value=this.content_,this.rendered=!0,this.resizeGroup&&kt(this.resizeGroup,"pointerdown",this,this.resizeMouseDown),this.isDeletable()&&(kt(this.deleteGroup,"pointerdown",this,this.deleteMouseDown),kt(this.deleteGroup,"pointerout",this,this.deleteMouseOut),kt(this.deleteGroup,"pointerup",this,this.deleteMouseUp))}}createEditor(){this.foreignObject=we(nt.FOREIGNOBJECT,{x:0,y:$r.TOP_OFFSET,class:"blocklyCommentForeignObject"});const t=document.createElementNS(fl,"body");t.setAttribute("xmlns",fl),t.className="blocklyMinimalBody";const r=document.createElementNS(fl,"textarea");return r.className="blocklyCommentTextarea",r.setAttribute("dir",this.RTL?"RTL":"LTR"),r.readOnly=!this.isEditable(),t.appendChild(r),this.textarea=r,this.foreignObject.appendChild(t),kt(r,"wheel",this,function(s){s.stopPropagation()}),kt(r,"change",this,function(s){this.setContent(r.value)}),this.foreignObject}addResizeDom(){this.resizeGroup=we(nt.G,{class:this.RTL?"blocklyResizeSW":"blocklyResizeSE"},this.svgGroup),we(nt.POLYGON,{points:`0,${Wo} ${Wo},${Wo} ${Wo},0`},this.resizeGroup),we(nt.LINE,{class:"blocklyResizeLine",x1:Wo/3,y1:Wo-1,x2:Wo-1,y2:Wo/3},this.resizeGroup),we(nt.LINE,{class:"blocklyResizeLine",x1:2*Wo/3,y1:Wo-1,x2:Wo-1,y2:2*Wo/3},this.resizeGroup)}addDeleteDom(){this.deleteGroup=we(nt.G,{class:"blocklyCommentDeleteIcon"},this.svgGroup),this.deleteIconBorder=we(nt.CIRCLE,{class:"blocklyDeleteIconShape",r:"7",cx:"7.5",cy:"7.5"},this.deleteGroup),we(nt.LINE,{x1:"5",y1:"10",x2:"10",y2:"5",stroke:"#fff","stroke-width":"2"},this.deleteGroup),we(nt.LINE,{x1:"5",y1:"5",x2:"10",y2:"10",stroke:"#fff","stroke-width":"2"},this.deleteGroup)}resizeMouseDown(t){this.unbindDragEvents(),br(t)||(this.workspace.startDrag(t,new Pt(this.workspace.RTL?-this.width_:this.width_,this.height_)),this.onMouseUpWrapper=kt(document,"pointerup",this,this.resizeMouseUp),this.onMouseMoveWrapper=kt(document,"pointermove",this,this.resizeMouseMove),this.workspace.hideChaff()),t.stopPropagation()}deleteMouseDown(t){this.deleteIconBorder&&le(this.deleteIconBorder,"blocklyDeleteIconHighlighted"),t.stopPropagation()}deleteMouseOut(t){this.deleteIconBorder&&re(this.deleteIconBorder,"blocklyDeleteIconHighlighted")}deleteMouseUp(t){this.dispose(),t.stopPropagation()}unbindDragEvents(){this.onMouseUpWrapper&&(On(this.onMouseUpWrapper),this.onMouseUpWrapper=null),this.onMouseMoveWrapper&&(On(this.onMouseMoveWrapper),this.onMouseMoveWrapper=null)}resizeMouseUp(t){bt(),this.unbindDragEvents()}resizeMouseMove(t){this.autoLayout=!1,t=this.workspace.moveDrag(t),this.setSize(this.RTL?-t.x:t.x,t.y)}resizeComment(){const t=this.getHeightWidth(),r=$r.TOP_OFFSET,s=2*Em;let c;(c=this.foreignObject)==null||c.setAttribute("width",String(t.width));let g;if((g=this.foreignObject)==null||g.setAttribute("height",String(t.height-r)),this.RTL){let P;(P=this.foreignObject)==null||P.setAttribute("x",String(-t.width))}this.textarea&&(this.textarea.style.width=t.width-s+"px",this.textarea.style.height=t.height-s-r+"px")}setSize(t,r){t=Math.max(t,45),r=Math.max(r,20+$r.TOP_OFFSET),this.width_=t,this.height_=r,this.svgRect_.setAttribute("width",`${t}`),this.svgRect_.setAttribute("height",`${r}`);let s;(s=this.svgRectTarget)==null||s.setAttribute("width",`${t}`);let c;(c=this.svgRectTarget)==null||c.setAttribute("height",`${r}`);let g;(g=this.svgHandleTarget)==null||g.setAttribute("width",`${t}`);let P;if((P=this.svgHandleTarget)==null||P.setAttribute("height",String($r.TOP_OFFSET)),this.RTL){this.svgRect_.setAttribute("transform","scale(-1 1)");let ae;(ae=this.svgRectTarget)==null||ae.setAttribute("transform","scale(-1 1)")}if(this.resizeGroup)if(this.RTL){this.resizeGroup.setAttribute("transform","translate("+(-t+Wo)+","+(r-Wo)+") scale(-1 1)");let ae;(ae=this.deleteGroup)==null||ae.setAttribute("transform","translate("+(-t+Wo)+","+-Wo+") scale(-1 1)")}else{this.resizeGroup.setAttribute("transform","translate("+(t-Wo)+","+(r-Wo)+")");let ae;(ae=this.deleteGroup)==null||ae.setAttribute("transform","translate("+(t-Wo)+","+-Wo+")")}this.resizeComment()}disposeInternal(){this.disposed_=!0}setFocus(){this.focused=!0,setTimeout(()=>{this.disposed_||(this.textarea.focus(),this.addFocus(),this.svgRectTarget&&le(this.svgRectTarget,"blocklyCommentTargetFocused"),this.svgHandleTarget&&le(this.svgHandleTarget,"blocklyCommentHandleTargetFocused"))},0)}blurFocus(){this.focused=!1,setTimeout(()=>{this.disposed_||(this.textarea.blur(),this.removeFocus(),this.svgRectTarget&&re(this.svgRectTarget,"blocklyCommentTargetFocused"),this.svgHandleTarget&&re(this.svgHandleTarget,"blocklyCommentHandleTargetFocused"))},0)}static fromXmlRendered(t,r,s){n.disable$$module$build$src$core$events$utils();let c;try{const g=Ds.parseAttributes(t);if(c=new $r(r,g.content,g.h,g.w,g.id),r.rendered&&(c.initSvg(!0),c.render()),!isNaN(g.x)&&!isNaN(g.y))if(r.RTL){const P=s||r.getWidth();c.moveBy(P-g.x,g.y)}else c.moveBy(g.x,g.y)}finally{n.enable$$module$build$src$core$events$utils()}return Ds.fireCreateEvent(c),c}};$r.DEFAULT_SIZE=100,$r.TOP_OFFSET=10,Yn(`
.blocklyCommentForeignObject {
  position: relative;
  z-index: 0;
}

.blocklyCommentRect {
  fill: #E7DE8E;
  stroke: #bcA903;
  stroke-width: 1px;
}

.blocklyCommentTarget {
  fill: transparent;
  stroke: #bcA903;
}

.blocklyCommentTargetFocused {
  fill: none;
}

.blocklyCommentHandleTarget {
  fill: none;
}

.blocklyCommentHandleTargetFocused {
  fill: transparent;
}

.blocklyFocused>.blocklyCommentRect {
  fill: #B9B272;
  stroke: #B9B272;
}

.blocklySelected>.blocklyCommentTarget {
  stroke: #fc3;
  stroke-width: 3px;
}

.blocklyCommentDeleteIcon {
  cursor: pointer;
  fill: #000;
  display: none;
}

.blocklySelected > .blocklyCommentDeleteIcon {
  display: block;
}

.blocklyDeleteIconShape {
  fill: #000;
  stroke: #000;
  stroke-width: 1px;
}

.blocklyDeleteIconShape.blocklyDeleteIconHighlighted {
  stroke: #fc3;
}
`);var ri={};ri.appendDomToWorkspace=qh,ri.blockToDom=is,ri.blockToDomWithXY=Ul,ri.clearWorkspaceAndLoadFromXml=Ku,ri.deleteNext=Zh,ri.domToBlock=n.domToBlock$$module$build$src$core$xml,ri.domToPrettyText=Hl,ri.domToText=Bi,ri.domToVariables=Yu,ri.domToWorkspace=n.domToWorkspace$$module$build$src$core$xml,ri.variablesToDom=Wu,ri.workspaceToDom=ld;var bl=class extends Error{},Cm=class extends bl{constructor(t){super("Expected to find a 'type' property, defining the block type"),this.state=t}},ii=class extends bl{constructor(t,r,s){super(`The block ${r.toDevString()} is missing a(n) ${t}
connection`),this.block=r,this.state=s}},aa=class extends bl{constructor(t,r,s,c){super(`The block ${s.toDevString()} could not connect its
${r} to its parent, because: ${t}`),this.childBlock=s,this.childState=c}},qv=class extends bl{constructor(t){super(`Encountered a real block which is defined as a child of a shadow
block. It is an invariant of Blockly that shadow blocks only have shadow
children`),this.state=t}},Im=class extends bl{constructor(t,r,s){super(`Cannot add an icon of type '${t}' to the block ${r.toDevString()}, because there is no icon registered with type '${t}'. Make sure that all of your icons have been registered.`),this.block=r,this.state=s}},pu={};pu.BadConnectionCheck=aa,pu.DeserializationError=bl,pu.MissingBlockType=Cm,pu.MissingConnection=ii,pu.RealChildOfShadow=qv,pu.UnregisteredIcon=Im;var Zv=100,Jv=75,e_=50,qp={};qp.BLOCKS=e_,qp.PROCEDURES=Jv,qp.VARIABLES=Zv;var Sm={};Sm.register=xa,Sm.unregister=Zu;var t_=class{constructor(){this.priority=e_}save(t){const r=[];for(const s of t.getTopBlocks(!1))(t=Kr(s,{addCoordinates:!0,doFullSerialization:!1}))&&r.push(t);return r.length?{languageVersion:0,blocks:r}:null}load(t,r){t=t.blocks;for(const s of t)_i(s,r,{recordUndo:X()})}clear(t){for(const r of t.getTopBlocks(!1))r.dispose(!1)}};xa("blocks",new t_);var qd={};qd.BlockSerializer=t_,qd.append=_i,qd.appendInternal=Va,qd.save=Kr;var fu=class extends cu{constructor(t){super(),this.isBlank=!t,t&&(this.blockId=t.id,this.workspaceId=t.workspace.id)}toJson(){const t=super.toJson();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return t.blockId=this.blockId,t}static fromJson(t,r,s){return r=super.fromJson(t,r,s??new fu),r.blockId=t.blockId,r}},Om=class extends fu{constructor(t){super(t),this.type=n.CREATE$$module$build$src$core$events$utils,t&&(t.isShadow()&&(this.recordUndo=!1),this.xml=Ul(t),this.ids=Re(t),this.json=Kr(t,{addCoordinates:!0}))}toJson(){const t=super.toJson();if(!this.xml)throw Error("The block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");return t.xml=Bi(this.xml),t.ids=this.ids,t.json=this.json,this.recordUndo||(t.recordUndo=this.recordUndo),t}static fromJson(t,r,s){return r=super.fromJson(t,r,s??new Om),r.xml=n.textToDom$$module$build$src$core$utils$xml(t.xml),r.ids=t.ids,r.json=t.json,t.recordUndo!==void 0&&(r.recordUndo=t.recordUndo),r}run(t){const r=this.getEventWorkspace_();if(!this.json)throw Error("The block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(t)_i(this.json,r);else for(t=0;t<this.ids.length;t++){const s=this.ids[t],c=r.getBlockById(s);c?c.dispose(!1):s===this.blockId&&console.warn("Can't uncreate non-existent block: "+s)}}};i(Rt.EVENT,n.CREATE$$module$build$src$core$events$utils,Om);var n_=class extends cu{constructor(t){super(),this.isBlank=!0,this.recordUndo=!1,this.type=lu,this.isBlank=!!t,t&&(this.workspaceId=t.id)}};i(Rt.EVENT,lu,n_);var ua=class extends fu{constructor(t,r,s,c,g){super(t),this.type=n.CHANGE$$module$build$src$core$events$utils,t&&(this.element=r,this.name=s||void 0,this.oldValue=c,this.newValue=g)}toJson(){const t=super.toJson();if(!this.element)throw Error("The changed element is undefined. Either pass an element to the constructor, or call fromJson");return t.element=this.element,t.name=this.name,t.oldValue=this.oldValue,t.newValue=this.newValue,t}static fromJson(t,r,s){return r=super.fromJson(t,r,s??new ua),r.element=t.element,r.name=t.name,r.oldValue=t.oldValue,r.newValue=t.newValue,r}isNull(){return this.oldValue===this.newValue}run(t){var r=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");if(r=r.getBlockById(this.blockId),!r)throw Error("The associated block is undefined. Either pass a block to the constructor, or call fromJson");var s=r.getIcon(er.MUTATOR);switch(s&&hn(s)&&s.bubbleIsVisible()&&s.setBubbleVisible(!1),t=t?this.newValue:this.oldValue,this.element){case"field":(r=r.getField(this.name))?r.setValue(t):console.warn("Can't set non-existent field: "+this.name);break;case"comment":r.setCommentText(t||null);break;case"collapsed":r.setCollapsed(!!t);break;case"disabled":r.setEnabled(!t);break;case"inline":r.setInputsInline(!!t);break;case"mutation":s=ua.getExtraBlockState_(r),r.loadExtraState?r.loadExtraState(JSON.parse(t||"{}")):r.domToMutation&&r.domToMutation(n.textToDom$$module$build$src$core$utils$xml(t||"<mutation/>")),K(new ua(r,"mutation",null,s,t));break;default:console.warn("Unknown change type: "+this.element)}}static getExtraBlockState_(t){return t.saveExtraState?(t=t.saveExtraState())?JSON.stringify(t):"":t.mutationToDom&&(t=t.mutationToDom())?Bi(t):""}};i(Rt.EVENT,n.CHANGE$$module$build$src$core$events$utils,ua);var Zp=class extends fu{constructor(t){if(super(t),this.type=n.DELETE$$module$build$src$core$events$utils,t){if(t.getParent())throw Error("Connected blocks cannot be deleted.");t.isShadow()&&(this.recordUndo=!1),this.oldXml=Ul(t),this.ids=Re(t),this.wasShadow=t.isShadow(),this.oldJson=Kr(t,{addCoordinates:!0})}}toJson(){const t=super.toJson();if(!this.oldXml)throw Error("The old block XML is undefined. Either pass a block to the constructor, or call fromJson");if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(this.wasShadow===void 0)throw Error("Whether the block was a shadow is undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");return t.oldXml=Bi(this.oldXml),t.ids=this.ids,t.wasShadow=this.wasShadow,t.oldJson=this.oldJson,this.recordUndo||(t.recordUndo=this.recordUndo),t}static fromJson(t,r,s){return r=super.fromJson(t,r,s??new Zp),r.oldXml=n.textToDom$$module$build$src$core$utils$xml(t.oldXml),r.ids=t.ids,r.wasShadow=t.wasShadow||r.oldXml.tagName.toLowerCase()==="shadow",r.oldJson=t.oldJson,t.recordUndo!==void 0&&(r.recordUndo=t.recordUndo),r}run(t){const r=this.getEventWorkspace_();if(!this.ids)throw Error("The block IDs are undefined. Either pass a block to the constructor, or call fromJson");if(!this.oldJson)throw Error("The old block JSON is undefined. Either pass a block to the constructor, or call fromJson");if(t)for(t=0;t<this.ids.length;t++){const s=this.ids[t],c=r.getBlockById(s);c?c.dispose(!1):s===this.blockId&&console.warn("Can't delete non-existent block: "+s)}else _i(this.oldJson,r)}};i(Rt.EVENT,n.DELETE$$module$build$src$core$events$utils,Zp);var Kt;(function(t){t[t.INPUT_VALUE=1]="INPUT_VALUE",t[t.OUTPUT_VALUE=2]="OUTPUT_VALUE",t[t.NEXT_STATEMENT=3]="NEXT_STATEMENT",t[t.PREVIOUS_STATEMENT=4]="PREVIOUS_STATEMENT"})(Kt||(Kt={}));var Bn=class{constructor(t,r){this.type=r,this.targetConnection=null,this.disposed=!1,this.shadowDom=this.check=null,this.y=this.x=0,this.shadowState=null,this.sourceBlock_=t}connect_(t){const r=Kt.INPUT_VALUE,s=this.getSourceBlock();var c=t.getSourceBlock();t.isConnected()&&t.disconnectInternal(!1);let g;if(this.isConnected()){const ae=this.stashShadowState(),ze=this.targetBlock();ze.isShadow()?ze.dispose(!1):(this.disconnectInternal(),g=ze),this.applyShadowState(ae)}let P;Q()&&(P=new(se(n.MOVE$$module$build$src$core$events$utils))(c),P.setReason(["connect"])),eo(this,t),c.setParent(s),P&&(P.recordNew(),K(P)),g&&(t=this.type===r?g.outputConnection:g.previousConnection)&&((c=Bn.getConnectionForOrphanedConnection(c,t))?t.connect(c):t.onFailedConnect(this))}dispose(){if(this.isConnected()){this.setShadowStateInternal();const t=this.targetBlock();t&&!t.isDeadOrDying()&&t.unplug()}this.disposed=!0}getSourceBlock(){return this.sourceBlock_}isSuperior(){return this.type===Kt.INPUT_VALUE||this.type===Kt.NEXT_STATEMENT}isConnected(){return!!this.targetConnection}getConnectionChecker(){return this.sourceBlock_.workspace.connectionChecker}onFailedConnect(t){}connect(t){if(this.targetConnection===t)return!0;if(this.getConnectionChecker().canConnect(this,t,!1)){const r=n.getGroup$$module$build$src$core$events$utils();r||n.setGroup$$module$build$src$core$events$utils(!0),this.isSuperior()?this.connect_(t):t.connect_(this),n.setGroup$$module$build$src$core$events$utils(r)}return this.isConnected()}disconnect(){this.disconnectInternal()}disconnectInternal(t=!0){const{parentConnection:r,childConnection:s}=this.getParentAndChildConnections();if(!r||!s)throw Error("Source connection not connected.");const c=n.getGroup$$module$build$src$core$events$utils();c||n.setGroup$$module$build$src$core$events$utils(!0);let g;Q()&&(g=new(se(n.MOVE$$module$build$src$core$events$utils))(s.getSourceBlock()),g.setReason(["disconnect"]));const P=this.targetConnection;P&&(P.targetConnection=null),this.targetConnection=null,t&&s.getSourceBlock().setParent(null),g&&(g.recordNew(),K(g)),s.getSourceBlock().isShadow()||r.respawnShadow_(),n.setGroup$$module$build$src$core$events$utils(c)}getParentAndChildConnections(){return this.targetConnection?this.isSuperior()?{parentConnection:this,childConnection:this.targetConnection}:{parentConnection:this.targetConnection,childConnection:this}:{}}respawnShadow_(){this.createShadowBlock(!0)}reconnect(t,r){if(this.getSourceBlock().isDeadOrDying())return!1;var s;return r=(s=t.getInput(r))==null?void 0:s.connection,s=this.targetBlock(),s&&s!==t||!r||r.targetConnection===this?!1:(r.isConnected()&&r.disconnect(),r.connect(this),!0)}targetBlock(){if(this.isConnected()){let t,r;return(r=(t=this.targetConnection)==null?void 0:t.getSourceBlock())!=null?r:null}return null}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||(this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug()}setCheck(t){return t?(Array.isArray(t)||(t=[t]),this.check=t,this.onCheckChanged_()):this.check=null,this}getCheck(){return this.check}setShadowDom(t){this.setShadowStateInternal({shadowDom:t})}getShadowDom(t){return t&&this.targetBlock().isShadow()?is(this.targetBlock()):this.shadowDom}setShadowState(t){this.setShadowStateInternal({shadowState:t})}getShadowState(t){return t&&this.targetBlock()&&this.targetBlock().isShadow()?Kr(this.targetBlock()):this.shadowState}neighbours(t){return[]}getParentInput(){let t=null;const r=this.sourceBlock_.inputList;for(let s=0;s<r.length;s++)if(r[s].connection===this){t=r[s];break}return t}toString(){const t=this.sourceBlock_;if(!t)return"Orphan Connection";if(t.outputConnection===this)var r="Output Connection of ";else if(t.previousConnection===this)r="Previous Connection of ";else if(t.nextConnection===this)r="Next Connection of ";else{r=null;for(let s=0,c;c=t.inputList[s];s++)if(c.connection===this){r=c;break}if(r)r='Input "'+r.name+'" connection on ';else return console.warn("Connection not actually connected to sourceBlock_"),"Orphan Connection"}return r+t.toDevString()}stashShadowState(){const t=this.getShadowDom(!0),r=this.getShadowState(!0);return this.shadowState=this.shadowDom=null,{shadowDom:t,shadowState:r}}applyShadowState({shadowDom:t,shadowState:r}){this.shadowDom=t,this.shadowState=r}setShadowStateInternal({shadowDom:t=null,shadowState:r=null}={}){this.shadowDom=t,this.shadowState=r,(t=this.targetBlock())?t.isShadow()?(t.dispose(!1),this.getSourceBlock().isDeadOrDying()||(this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock()))):(t=this.createShadowBlock(!1),this.serializeShadow(t),t&&t.dispose(!1)):(this.respawnShadow_(),this.targetBlock()&&this.targetBlock().isShadow()&&this.serializeShadow(this.targetBlock()))}createShadowBlock(t){var r=this.getSourceBlock();const s=this.getShadowState(),c=this.getShadowDom();if(r.isDeadOrDying()||!s&&!c)return null;if(s)return r=Va(s,r.workspace,{parentConnection:t?this:void 0,isShadow:!0,recordUndo:!1});if(c){if(r=n.domToBlock$$module$build$src$core$xml(c,r.workspace),t)if(this.type===Kt.INPUT_VALUE){if(!r.outputConnection)throw Error("Shadow block is missing an output connection");if(!this.connect(r.outputConnection))throw Error("Could not connect shadow block to connection")}else if(this.type===Kt.NEXT_STATEMENT){if(!r.previousConnection)throw Error("Shadow block is missing previous connection");if(!this.connect(r.previousConnection))throw Error("Could not connect shadow block to connection")}else throw Error("Cannot connect a shadow block to a previous/output connection");return r}return null}serializeShadow(t){t&&(this.shadowDom=is(t),this.shadowState=Kr(t))}static getConnectionForOrphanedConnection(t,r){if(r.type===Kt.OUTPUT_VALUE)return Mn(t,r.getSourceBlock());t=t.lastConnectionInStack(!0);const s=r.getConnectionChecker();return t&&s.canConnect(r,t,!1)?t:null}};Bn.CAN_CONNECT=0,Bn.REASON_SELF_CONNECTION=1,Bn.REASON_WRONG_TYPE=2,Bn.REASON_TARGET_NULL=3,Bn.REASON_CHECKS_FAILED=4,Bn.REASON_DIFFERENT_WORKSPACES=5,Bn.REASON_SHADOW_PARENT=6,Bn.REASON_DRAG_CHECKS_FAILED=7,Bn.REASON_PREVIOUS_AND_OUTPUT=8;var Tc="_TEMP_COLLAPSED_INPUT",Jp="_TEMP_COLLAPSED_FIELD",ef={};ef.COLLAPSED_FIELD_NAME=Jp,ef.COLLAPSED_INPUT_NAME=Tc;var o_=class extends Error{constructor(t){super(`Tried to append an icon of type ${t.getType()} when an icon of that type already exists on the block. Use getIcon to access the existing icon.`),this.icon=t}},r_={};r_.DuplicateIconType=o_;var tf={};tf.clamp=ls,tf.toDegrees=qo,tf.toRadians=fr;var Zd=16,km=1,i_=12,si=16,nf=.25,wm=null,gu=null,mu="",yc="",Fn,Ec,$u,Jd=null,ca=null,s_=null,Nm={getBoundsInfo:function(){const t=wt(Jd),r=Ns(Jd);return{left:t.x,right:t.x+r.width,top:t.y,bottom:t.y+r.height,width:r.width,height:r.height}},getPositionMetrics:function(t,r,s,c){const g=Nm.getBoundsInfo(),P=Ns(Fn);return r+P.height<g.bottom?tp(t,r,g,P):c-P.height>g.top?Rs(s,c,g,P):r+P.height<document.documentElement.clientHeight?tp(t,r,g,P):c-P.height>document.documentElement.clientTop?Rs(s,c,g,P):_d(t,g,P)}},Do={};Do.ANIMATION_TIME=nf,Do.ARROW_HORIZONTAL_PADDING=i_,Do.ARROW_SIZE=Zd,Do.BORDER_SIZE=km,Do.PADDING_Y=si,Do.TEST_ONLY=Nm,Do.clearContent=ol,Do.createDom=xn,Do.getContentDiv=bi,Do.getOwner=As,Do.getPositionX=Ha,Do.hide=Ju,Do.hideIfOwner=Ti,Do.hideWithoutAnimation=as,Do.isVisible=po,Do.repositionForWindowResize=yg,Do.setBoundsElement=_o,Do.setColour=rl,Do.show=Tg,Do.showPositionedByBlock=Ua,Do.showPositionedByField=Gl;var eh=class{constructor(t){this.workspace=t,this.cursorSvg_=this.cursor_=null,this.markers=new Map,this.markerSvg_=null}registerMarker(t,r){this.markers.has(t)&&this.unregisterMarker(t),r.setDrawer(this.workspace.getRenderer().makeMarkerDrawer(this.workspace,r)),this.setMarkerSvg(r.getDrawer().createDom()),this.markers.set(t,r)}unregisterMarker(t){const r=this.markers.get(t);if(r)r.dispose(),this.markers.delete(t);else throw Error("Marker with ID "+t+" does not exist. Can only unregister markers that exist.")}getCursor(){return this.cursor_}getMarker(t){return this.markers.get(t)||null}setCursor(t){this.cursor_&&this.cursor_.getDrawer()&&this.cursor_.getDrawer().dispose(),(this.cursor_=t)&&(t=this.workspace.getRenderer().makeMarkerDrawer(this.workspace,this.cursor_),this.cursor_.setDrawer(t),this.setCursorSvg(this.cursor_.getDrawer().createDom()))}setCursorSvg(t){t?(this.workspace.getBlockCanvas().appendChild(t),this.cursorSvg_=t):this.cursorSvg_=null}setMarkerSvg(t){t?this.workspace.getBlockCanvas()&&(this.cursorSvg_?this.workspace.getBlockCanvas().insertBefore(t,this.cursorSvg_):this.workspace.getBlockCanvas().appendChild(t)):this.markerSvg_=null}updateMarkers(){this.workspace.keyboardAccessibilityMode&&this.cursorSvg_&&this.workspace.getCursor().draw()}dispose(){const t=Object.keys(this.markers);for(let r=0,s;s=t[r];r++)this.unregisterMarker(s);this.markers.clear(),this.cursor_&&(this.cursor_.dispose(),this.cursor_=null)}};eh.LOCAL_MARKER="local_marker_1";var vu={};vu.commonWordPrefix=np,vu.commonWordSuffix=ec,vu.isNumber=n.isNumber$$module$build$src$core$utils$string,vu.shortestStringLength=Td,vu.startsWith=mv,vu.wrap=n.wrap$$module$build$src$core$utils$string;var of=void 0,th=!1,Cc=!1,l_=50,a_=0,_u=0,Am=0,Rm=0,Wi=null,nh=null,Lm=0,Mm=10,u_=10,c_=750,Ic=5,xo=null,tr={};tr.HOVER_MS=c_,tr.LIMIT=l_,tr.MARGINS=Ic,tr.OFFSET_X=Lm,tr.OFFSET_Y=Mm,tr.RADIUS_OK=u_,tr.bindMouseEvents=tc,tr.block=Sg,tr.createDom=Ig,tr.dispose=up,tr.getCustomTooltip=sp,tr.getDiv=$v,tr.getTooltipOfObject=zl,tr.hide=il,tr.isVisible=Cg,tr.setCustomTooltip=ip,tr.unbindMouseEvents=Nr,tr.unblock=Og;var Pm=.45,Dm=.65,d_={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"},ji={};ji.blend=Fi,ji.getHsvSaturation=kg,ji.getHsvValue=dp,ji.hexToRgb=hp,ji.hsvToHex=pp,ji.hueToHex=yi,ji.names=d_,ji.parse=us,ji.rgbToHex=Ed,ji.setHsvSaturation=cp,ji.setHsvValue=sl;var oh={};oh.checkMessageReferences=fp,oh.parseBlockColour=oc,oh.replaceMessageReferences=wo,oh.tokenizeInterpolation=wg;var Sc=null,rf=null,bu="",Oc="",li,Vs={};Vs.createDom=it,Vs.getDiv=Wa,Vs.hide=ct,Vs.hideIfOwner=$n,Vs.isVisible=Yt,Vs.positionWithAnchor=Go,Vs.repositionForWindowResize=Qr,Vs.show=$t,Vs.testOnly_setDiv=ja;var An=class{constructor(t,r,s){this.DEFAULT_VALUE=null,this.name=void 0,this.constants_=this.mouseDownWrapper_=this.textContent_=this.textElement_=this.borderRect_=this.fieldGroup_=this.markerSvg_=this.cursorSvg_=this.tooltip_=this.validator_=null,this.disposed=!1,this.maxDisplayLength=50,this.sourceBlock_=null,this.enabled_=this.visible_=this.isDirty_=!0,this.suffixField=this.prefixField=this.clickTarget_=null,this.EDITABLE=!0,this.SERIALIZABLE=!1,this.CURSOR="",this.value_="DEFAULT_VALUE"in new.target.prototype?new.target.prototype.DEFAULT_VALUE:this.DEFAULT_VALUE,this.size_=new Zn(0,0),t!==An.SKIP_SETUP&&(s&&this.configure_(s),this.setValue(t),r&&this.setValidator(r))}configure_(t){t.tooltip&&this.setTooltip(wo(t.tooltip))}setSourceBlock(t){if(this.sourceBlock_)throw Error("Field already bound to a block");this.sourceBlock_=t}getConstants(){return!this.constants_&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&this.sourceBlock_.workspace.rendered&&(this.constants_=this.sourceBlock_.workspace.getRenderer().getConstants()),this.constants_}getSourceBlock(){return this.sourceBlock_}init(){this.fieldGroup_||(this.fieldGroup_=we(nt.G,{}),this.isVisible()||(this.fieldGroup_.style.display="none"),this.sourceBlock_.getSvgRoot().appendChild(this.fieldGroup_),this.initView(),this.updateEditable(),this.setTooltip(this.tooltip_),this.bindEvents_(),this.initModel())}initView(){this.createBorderRect_(),this.createTextElement_()}initModel(){}createBorderRect_(){this.borderRect_=we(nt.RECT,{rx:this.getConstants().FIELD_BORDER_RECT_RADIUS,ry:this.getConstants().FIELD_BORDER_RECT_RADIUS,x:0,y:0,height:this.size_.height,width:this.size_.width,class:"blocklyFieldRect"},this.fieldGroup_)}createTextElement_(){this.textElement_=we(nt.TEXT,{class:"blocklyText"},this.fieldGroup_),this.getConstants().FIELD_TEXT_BASELINE_CENTER&&this.textElement_.setAttribute("dominant-baseline","central"),this.textContent_=document.createTextNode(""),this.textElement_.appendChild(this.textContent_)}bindEvents_(){const t=this.getClickTarget_();if(!t)throw Error("A click target has not been set.");tc(t),this.mouseDownWrapper_=kt(t,"pointerdown",this,this.onMouseDown_)}fromXml(t){this.setValue(t.textContent)}toXml(t){return t.textContent=this.getValue(),t}saveState(t){return t=this.saveLegacyState(An),t!==null?t:this.getValue()}loadState(t){this.loadLegacyState(An,t)||this.setValue(t)}saveLegacyState(t){return t.prototype.saveState===this.saveState&&t.prototype.toXml!==this.toXml?(t=n.createElement$$module$build$src$core$utils$xml("field"),t.setAttribute("name",this.name||""),ut(this.toXml(t)).replace(' xmlns="https://developers.google.com/blockly/xml"',"")):null}loadLegacyState(t,r){return t.prototype.loadState===this.loadState&&t.prototype.fromXml!==this.fromXml?(this.fromXml(n.textToDom$$module$build$src$core$utils$xml(r)),!0):!1}dispose(){Ti(this),$n(this);let t;(t=this.getSourceBlock())!=null&&t.isDeadOrDying()||Ne(this.fieldGroup_),this.disposed=!0}updateEditable(){const t=this.fieldGroup_,r=this.getSourceBlock();this.EDITABLE&&t&&r&&(this.enabled_&&r.isEditable()?(le(t,"blocklyEditableText"),re(t,"blocklyNonEditableText"),t.style.cursor=this.CURSOR):(le(t,"blocklyNonEditableText"),re(t,"blocklyEditableText"),t.style.cursor=""))}setEnabled(t){this.enabled_=t,this.updateEditable()}isEnabled(){return this.enabled_}isClickable(){return this.enabled_&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()&&this.showEditor_!==An.prototype.showEditor_}isCurrentlyEditable(){return this.enabled_&&this.EDITABLE&&!!this.sourceBlock_&&this.sourceBlock_.isEditable()}isSerializable(){let t=!1;return this.name&&(this.SERIALIZABLE?t=!0:this.EDITABLE&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),t=!0)),t}isVisible(){return this.visible_}setVisible(t){if(this.visible_!==t){this.visible_=t;var r=this.fieldGroup_;r&&(r.style.display=t?"block":"none")}}setValidator(t){this.validator_=t}getValidator(){return this.validator_}getSvgRoot(){return this.fieldGroup_}getBorderRect(){if(!this.borderRect_)throw Error(`The border rectangle is ${this.borderRect_}.`);return this.borderRect_}getTextElement(){if(!this.textElement_)throw Error(`The text element is ${this.textElement_}.`);return this.textElement_}getTextContent(){if(!this.textContent_)throw Error(`The text content is ${this.textContent_}.`);return this.textContent_}applyColour(){}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_()}showEditor(t){this.isClickable()&&this.showEditor_(t)}showEditor_(t){}repositionForWindowResize(){return!1}updateSize_(t){const r=this.getConstants();t=t!==void 0?t:this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let s=2*t,c=r.FIELD_TEXT_HEIGHT,g=0;this.textElement_&&(g=Ee(this.textElement_,r.FIELD_TEXT_FONTSIZE,r.FIELD_TEXT_FONTWEIGHT,r.FIELD_TEXT_FONTFAMILY),s+=g),this.borderRect_&&(c=Math.max(c,r.FIELD_BORDER_RECT_HEIGHT)),this.size_.height=c,this.size_.width=s,this.positionTextElement_(t,g),this.positionBorderRect_()}positionTextElement_(t,r){if(this.textElement_){var s=this.getConstants(),c=this.size_.height/2,g;this.textElement_.setAttribute("x",String((g=this.getSourceBlock())!=null&&g.RTL?this.size_.width-r-t:t)),this.textElement_.setAttribute("y",String(s.FIELD_TEXT_BASELINE_CENTER?c:c-s.FIELD_TEXT_HEIGHT/2+s.FIELD_TEXT_BASELINE))}}positionBorderRect_(){this.borderRect_&&(this.borderRect_.setAttribute("width",String(this.size_.width)),this.borderRect_.setAttribute("height",String(this.size_.height)),this.borderRect_.setAttribute("rx",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)),this.borderRect_.setAttribute("ry",String(this.getConstants().FIELD_BORDER_RECT_RADIUS)))}getSize(){return this.isVisible()?(this.isDirty_?(this.render_(),this.isDirty_=!1):this.visible_&&this.size_.width===0&&(this.render_(),this.size_.width!==0&&console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead.")),this.size_):new Zn(0,0)}getScaledBBox(){let t;var r=this.getSourceBlock();if(!r)throw new Bo;if(this.borderRect_){var s=this.borderRect_.getBoundingClientRect();t=wt(this.borderRect_),r=s.width,s=s.height}else{s=this.sourceBlock_.getHeightWidth();const c=r.workspace.scale;t=this.getAbsoluteXY_(),r=(s.width+1)*c,s=(s.height+1)*c,bm?(t.x+=1.5*c,t.y+=1.5*c):(t.x-=.5*c,t.y-=.5*c)}return new ro(t.y,t.y+s,t.x,t.x+r)}getDisplayText_(){let t=this.getText();return t?(t.length>this.maxDisplayLength&&(t=t.substring(0,this.maxDisplayLength-2)+"…"),t=t.replace(/\s/g,An.NBSP),this.sourceBlock_&&this.sourceBlock_.RTL&&(t+="‏"),t):An.NBSP}getText(){const t=this.getText_();return String(t!==null?t:this.getValue())}getText_(){return null}markDirty(){this.isDirty_=!0,this.constants_=null}forceRerender(){this.isDirty_=!0,this.sourceBlock_&&this.sourceBlock_.rendered&&(this.sourceBlock_.queueRender(),this.sourceBlock_.bumpNeighbours())}setValue(t,r=!0){if(t!==null){var s=this.doClassValidation_(t);if(t=this.processValidation_(t,s),!(t instanceof Error)){var c;s=(c=this.getValidator())==null?void 0:c.call(this,t),c=this.processValidation_(t,s),c instanceof Error||(t=this.sourceBlock_,t&&t.disposed||(s=this.getValue(),s===c?this.doValueUpdate_(c):(this.doValueUpdate_(c),r&&t&&Q()&&K(new(se(n.CHANGE$$module$build$src$core$events$utils))(t,"field",this.name||null,s,c)),this.isDirty_&&this.forceRerender())))}}}processValidation_(t,r){return r===null?(this.doValueInvalid_(t),this.isDirty_&&this.forceRerender(),Error()):r===void 0?t:r}getValue(){return this.value_}doClassValidation_(t){return t??null}doValueUpdate_(t){this.value_=t,this.isDirty_=!0}doValueInvalid_(t){}onMouseDown_(t){this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()&&(t=this.sourceBlock_.workspace.getGesture(t))&&t.setStartField(this)}setTooltip(t){t||t===""||(t=this.sourceBlock_);const r=this.getClickTarget_();r?r.tooltip=t:this.tooltip_=t}getTooltip(){const t=this.getClickTarget_();return zl(t||{tooltip:this.tooltip_})}getClickTarget_(){return this.clickTarget_||this.getSvgRoot()}getAbsoluteXY_(){return wt(this.getClickTarget_())}referencesVariables(){return!1}refreshVariableName(){}getParentInput(){let t=null;const r=this.getSourceBlock();if(!r)throw new Bo;const s=r.inputList;for(let c=0;c<r.inputList.length;c++){const g=s[c],P=g.fieldRow;for(let ae=0;ae<P.length;ae++)if(P[ae]===this){t=g;break}}return t}getFlipRtl(){return!1}isTabNavigable(){return!1}onShortcut(t){return!1}setCursorSvg(t){if(t){if(!this.fieldGroup_)throw Error(`The field group is ${this.fieldGroup_}.`);this.fieldGroup_.appendChild(t),this.cursorSvg_=t}else this.cursorSvg_=null}setMarkerSvg(t){if(t){if(!this.fieldGroup_)throw Error(`The field group is ${this.fieldGroup_}.`);this.fieldGroup_.appendChild(t),this.markerSvg_=t}else this.markerSvg_=null}updateMarkers_(){var t=this.getSourceBlock();if(!t)throw new Bo;t=t.workspace,t.keyboardAccessibilityMode&&this.cursorSvg_&&t.getCursor().draw(),t.keyboardAccessibilityMode&&this.markerSvg_&&t.getMarker(eh.LOCAL_MARKER).draw()}};An.NBSP=" ",An.SKIP_SETUP=Symbol("SKIP_SETUP");var Bo=class extends Error{constructor(){super("The field has not yet been attached to its input. Call appendField to attach it.")}},h_={fromJsonInternal:Xa},rh={};rh.TEST_ONLY=h_,rh.fromJson=n.fromJson$$module$build$src$core$field_registry,rh.register=Tr,rh.unregister=yv;var F1="aria-",V1="role",ai;(function(t){t.GRID="grid",t.GRIDCELL="gridcell",t.GROUP="group",t.LISTBOX="listbox",t.MENU="menu",t.MENUITEM="menuitem",t.MENUITEMCHECKBOX="menuitemcheckbox",t.OPTION="option",t.PRESENTATION="presentation",t.ROW="row",t.TREE="tree",t.TREEITEM="treeitem"})(ai||(ai={}));var ho;(function(t){t.ACTIVEDESCENDANT="activedescendant",t.COLCOUNT="colcount",t.DISABLED="disabled",t.EXPANDED="expanded",t.INVALID="invalid",t.LABEL="label",t.LABELLEDBY="labelledby",t.LEVEL="level",t.ORIENTATION="orientation",t.POSINSET="posinset",t.ROWCOUNT="rowcount",t.SELECTED="selected",t.SETSIZE="setsize",t.VALUEMAX="valuemax",t.VALUEMIN="valuemin"})(ho||(ho={}));var ih={};ih.Role=ai,ih.State=ho,ih.setRole=qr,ih.setState=to;var xm=class{constructor(){this.menuItems=[],this.roleName=this.element=this.onKeyDownHandler=this.mouseLeaveHandler=this.mouseEnterHandler=this.clickHandler=this.mouseOverHandler=this.highlightedItem=this.openingCoords=null}addChild(t){this.menuItems.push(t)}render(t){const r=document.createElement("div");r.className="blocklyMenu goog-menu blocklyNonSelectable",r.tabIndex=0,this.roleName&&qr(r,this.roleName),this.element=r;for(let s=0,c;c=this.menuItems[s];s++)r.appendChild(c.createDom());return this.mouseOverHandler=kt(r,"pointerover",this,this.handleMouseOver,!0),this.clickHandler=kt(r,"pointerup",this,this.handleClick,!0),this.mouseEnterHandler=kt(r,"pointerenter",this,this.handleMouseEnter,!0),this.mouseLeaveHandler=kt(r,"pointerleave",this,this.handleMouseLeave,!0),this.onKeyDownHandler=kt(r,"keydown",this,this.handleKeyEvent),t.appendChild(r),r}getElement(){return this.element}focus(){const t=this.getElement();t&&(t.focus({preventScroll:!0}),le(t,"blocklyFocused"))}blur(){const t=this.getElement();t&&(t.blur(),re(t,"blocklyFocused"))}setRole(t){this.roleName=t}dispose(){this.mouseOverHandler&&(On(this.mouseOverHandler),this.mouseOverHandler=null),this.clickHandler&&(On(this.clickHandler),this.clickHandler=null),this.mouseEnterHandler&&(On(this.mouseEnterHandler),this.mouseEnterHandler=null),this.mouseLeaveHandler&&(On(this.mouseLeaveHandler),this.mouseLeaveHandler=null),this.onKeyDownHandler&&(On(this.onKeyDownHandler),this.onKeyDownHandler=null);for(let t=0,r;r=this.menuItems[t];t++)r.dispose();this.element=null}getMenuItem(t){const r=this.getElement();for(;t&&t!==r;){if(t.classList.contains("blocklyMenuItem")){for(let s=0,c;c=this.menuItems[s];s++)if(c.getElement()===t)return c}t=t.parentElement}return null}setHighlighted(t){var r=this.highlightedItem;r&&(r.setHighlighted(!1),this.highlightedItem=null),t&&(t.setHighlighted(!0),this.highlightedItem=t,r=this.getElement(),uo(t.getElement(),r),to(r,ho.ACTIVEDESCENDANT,t.getId()))}highlightNext(){const t=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(t,1)}highlightPrevious(){const t=this.highlightedItem?this.menuItems.indexOf(this.highlightedItem):-1;this.highlightHelper(0>t?this.menuItems.length:t,-1)}highlightFirst(){this.highlightHelper(-1,1)}highlightLast(){this.highlightHelper(this.menuItems.length,-1)}highlightHelper(t,r){t+=r;let s;for(;s=this.menuItems[t];){if(s.isEnabled()){this.setHighlighted(s);break}t+=r}}handleMouseOver(t){(t=this.getMenuItem(t.target))&&(t.isEnabled()?this.highlightedItem!==t&&this.setHighlighted(t):this.setHighlighted(null))}handleClick(t){const r=this.openingCoords;if(this.openingCoords=null,r&&typeof t.clientX=="number"){const s=new Pt(t.clientX,t.clientY);if(1>Pt.distance(r,s))return}(t=this.getMenuItem(t.target))&&t.performAction()}handleMouseEnter(t){this.focus()}handleMouseLeave(t){this.getElement()&&(this.blur(),this.setHighlighted(null))}handleKeyEvent(t){if(this.menuItems.length&&!(t.shiftKey||t.ctrlKey||t.metaKey||t.altKey)){var r=this.highlightedItem;switch(t.key){case"Enter":case" ":r&&r.performAction();break;case"ArrowUp":this.highlightPrevious();break;case"ArrowDown":this.highlightNext();break;case"PageUp":case"Home":this.highlightFirst();break;case"PageDown":case"End":this.highlightLast();break;default:return}t.preventDefault(),t.stopPropagation()}}getSize(){const t=this.getElement(),r=Ns(t);return r.height=t.scrollHeight,r}},Bm=class{constructor(t,r){this.content=t,this.opt_value=r,this.enabled=!0,this.element=null,this.rightToLeft=!1,this.roleName=null,this.highlight=this.checked=this.checkable=!1,this.actionHandler=null}createDom(){const t=document.createElement("div");t.id=ee(),this.element=t,t.className="blocklyMenuItem goog-menuitem "+(this.enabled?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.checked?"blocklyMenuItemSelected goog-option-selected ":"")+(this.highlight?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.rightToLeft?"blocklyMenuItemRtl goog-menuitem-rtl ":"");const r=document.createElement("div");if(r.className="blocklyMenuItemContent goog-menuitem-content",this.checkable){var s=document.createElement("div");s.className="blocklyMenuItemCheckbox goog-menuitem-checkbox",r.appendChild(s)}return s=this.content,typeof this.content=="string"&&(s=document.createTextNode(this.content)),r.appendChild(s),t.appendChild(r),this.roleName&&qr(t,this.roleName),to(t,ho.SELECTED,this.checkable&&this.checked||!1),to(t,ho.DISABLED,!this.enabled),t}dispose(){this.element=null}getElement(){return this.element}getId(){return this.element.id}getValue(){let t;return(t=this.opt_value)!=null?t:null}setRightToLeft(t){this.rightToLeft=t}setRole(t){this.roleName=t}setCheckable(t){this.checkable=t}setChecked(t){this.checked=t}setHighlighted(t){this.highlight=t;const r=this.getElement();r&&this.isEnabled()&&(t?(le(r,"blocklyMenuItemHighlight"),le(r,"goog-menuitem-highlight")):(re(r,"blocklyMenuItemHighlight"),re(r,"goog-menuitem-highlight")))}isEnabled(){return this.enabled}setEnabled(t){this.enabled=t}performAction(){this.isEnabled()&&this.actionHandler&&this.actionHandler(this)}onAction(t,r){this.actionHandler=t.bind(r)}},Us=class extends An{constructor(t,r,s){super(An.SKIP_SETUP),this.svgArrow=this.arrow=this.imageElement=this.menu_=this.selectedMenuItem=null,this.SERIALIZABLE=!0,this.CURSOR="default",this.clickTarget_=this.suffixField=this.prefixField=this.generatedOptions=null,t!==An.SKIP_SETUP&&(Array.isArray(t)?(mp(t),t=qn(t),this.menuGenerator_=t.options,this.prefixField=t.prefix||null,this.suffixField=t.suffix||null):this.menuGenerator_=t,this.selectedOption=this.getOptions(!1)[0],s&&this.configure_(s),this.setValue(this.selectedOption[1]),r&&this.setValidator(r))}fromXml(t){this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(t.textContent)}loadState(t){this.loadLegacyState(Us,t)||(this.isOptionListDynamic()&&this.getOptions(!1),this.setValue(t))}initView(){this.shouldAddBorderRect_()?this.createBorderRect_():this.clickTarget_=this.sourceBlock_.getSvgRoot(),this.createTextElement_(),this.imageElement=we(nt.IMAGE,{},this.fieldGroup_),this.getConstants().FIELD_DROPDOWN_SVG_ARROW?this.createSVGArrow_():this.createTextArrow_(),this.borderRect_&&le(this.borderRect_,"blocklyDropdownRect")}shouldAddBorderRect_(){let t;return!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW&&!((t=this.getSourceBlock())!=null&&t.isShadow())}createTextArrow_(){this.arrow=we(nt.TSPAN,{},this.textElement_);let t;this.arrow.appendChild(document.createTextNode((t=this.getSourceBlock())!=null&&t.RTL?Us.ARROW_CHAR+" ":" "+Us.ARROW_CHAR));let r;(r=this.getSourceBlock())!=null&&r.RTL?this.getTextElement().insertBefore(this.arrow,this.textContent_):this.getTextElement().appendChild(this.arrow)}createSVGArrow_(){this.svgArrow=we(nt.IMAGE,{height:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px",width:this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE+"px"},this.fieldGroup_),this.svgArrow.setAttributeNS(ki,"xlink:href",this.getConstants().FIELD_DROPDOWN_SVG_ARROW_DATAURI)}showEditor_(t){var r=this.getSourceBlock();if(!r)throw new Bo;this.dropdownCreate(),this.menu_.openingCoords=t&&typeof t.clientX=="number"?new Pt(t.clientX,t.clientY):null,ol(),t=this.menu_.render(bi()),le(t,"blocklyDropdownMenu"),this.getConstants().FIELD_DROPDOWN_COLOURED_DIV&&(t=r.isShadow()?r.getParent().getColour():r.getColour(),r=r.isShadow()?r.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary,rl(t,r)),Gl(this,this.dropdownDispose_.bind(this)),this.menu_.focus(),this.selectedMenuItem&&(this.menu_.setHighlighted(this.selectedMenuItem),uo(this.selectedMenuItem.getElement(),bi(),!0)),this.applyColour()}dropdownCreate(){const t=this.getSourceBlock();if(!t)throw new Bo;const r=new xm;r.setRole(ai.LISTBOX),this.menu_=r;const s=this.getOptions(!1);this.selectedMenuItem=null;for(let g=0;g<s.length;g++){const[P,ae]=s[g];if(typeof P=="object"){var c=new Image(P.width,P.height);c.src=P.src,c.alt=P.alt||""}else c=P;c=new Bm(c,ae),c.setRole(ai.OPTION),c.setRightToLeft(t.RTL),c.setCheckable(!0),r.addChild(c),c.setChecked(ae===this.value_),ae===this.value_&&(this.selectedMenuItem=c),c.onAction(this.handleMenuActionEvent,this)}}dropdownDispose_(){this.menu_&&this.menu_.dispose(),this.selectedMenuItem=this.menu_=null,this.applyColour()}handleMenuActionEvent(t){Ti(this,!0),this.onItemSelected_(this.menu_,t)}onItemSelected_(t,r){this.setValue(r.getValue())}isOptionListDynamic(){return typeof this.menuGenerator_=="function"}getOptions(t){if(!this.menuGenerator_)throw TypeError("A menu generator was never defined.");return Array.isArray(this.menuGenerator_)?this.menuGenerator_:t&&this.generatedOptions?this.generatedOptions:(this.generatedOptions=this.menuGenerator_(),mp(this.generatedOptions),this.generatedOptions)}doClassValidation_(t){return this.getOptions(!0).some(r=>r[1]===t)?t:(this.sourceBlock_&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.sourceBlock_.type+", Field name: "+this.name+", Value: "+t),null)}doValueUpdate_(t){super.doValueUpdate_(t),t=this.getOptions(!0);for(let r=0,s;s=t[r];r++)s[1]===this.value_&&(this.selectedOption=s)}applyColour(){const t=this.sourceBlock_.style;this.borderRect_&&(this.borderRect_.setAttribute("stroke",t.colourTertiary),this.menu_?this.borderRect_.setAttribute("fill",t.colourTertiary):this.borderRect_.setAttribute("fill","transparent")),this.sourceBlock_&&this.arrow&&(this.sourceBlock_.isShadow()?this.arrow.style.fill=t.colourSecondary:this.arrow.style.fill=t.colourPrimary)}render_(){this.getTextContent().nodeValue="",this.imageElement.style.display="none";const t=this.selectedOption&&this.selectedOption[0];t&&typeof t=="object"?this.renderSelectedImage(t):this.renderSelectedText(),this.positionBorderRect_()}renderSelectedImage(t){const r=this.getSourceBlock();if(!r)throw new Bo;this.imageElement.style.display="",this.imageElement.setAttributeNS(ki,"xlink:href",t.src),this.imageElement.setAttribute("height",String(t.height)),this.imageElement.setAttribute("width",String(t.width));const s=Number(t.height);t=Number(t.width);var c=!!this.borderRect_;const g=Math.max(c?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,s+H1);c=c?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let P;P=this.svgArrow?this.positionSVGArrow(t+c,g/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2):Ee(this.arrow,this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY),this.size_.width=t+P+2*c,this.size_.height=g;let ae=0;r.RTL?this.imageElement.setAttribute("x",`${c+P}`):(ae=t+P,this.getTextElement().setAttribute("text-anchor","end"),this.imageElement.setAttribute("x",`${c}`)),this.imageElement.setAttribute("y",String(g/2-s/2)),this.positionTextElement_(ae+c,t+P)}renderSelectedText(){this.getTextContent().nodeValue=this.getDisplayText_();var t=this.getTextElement();le(t,"blocklyDropdownText"),t.setAttribute("text-anchor","start");var r=!!this.borderRect_;t=Math.max(r?this.getConstants().FIELD_DROPDOWN_BORDER_RECT_HEIGHT:0,this.getConstants().FIELD_TEXT_HEIGHT);const s=Ee(this.getTextElement(),this.getConstants().FIELD_TEXT_FONTSIZE,this.getConstants().FIELD_TEXT_FONTWEIGHT,this.getConstants().FIELD_TEXT_FONTFAMILY);r=r?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0;let c=0;this.svgArrow&&(c=this.positionSVGArrow(s+r,t/2-this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE/2)),this.size_.width=s+c+2*r,this.size_.height=t,this.positionTextElement_(r,s)}positionSVGArrow(t,r){if(!this.svgArrow)return 0;const s=this.getSourceBlock();if(!s)throw new Bo;const c=this.borderRect_?this.getConstants().FIELD_BORDER_RECT_X_PADDING:0,g=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_PADDING,P=this.getConstants().FIELD_DROPDOWN_SVG_ARROW_SIZE;return this.svgArrow.setAttribute("transform","translate("+(s.RTL?c:t+g)+","+r+")"),P+g}getText_(){if(!this.selectedOption)return null;const t=this.selectedOption[0];return typeof t=="object"?t.alt:t}static fromJson(t){if(!t.options)throw Error("options are required for the dropdown field. The options property must be assigned an array of [humanReadableValue, languageNeutralValue] tuples.");return new this(t.options,void 0,t)}};Us.CHECKMARK_OVERHANG=25,Us.MAX_MENU_HEIGHT_VH=.45,Us.ARROW_CHAR="▾";var U1=5,H1=2*U1;Tr("field_dropdown",Us);var sf=class{constructor(t){this.sourceBlock=t,this.offsetInBlock=new Pt(0,0),this.workspaceLocation=new Pt(0,0),this.svgRoot=null}getType(){throw Error("Icons must implement getType")}initView(t){if(!this.svgRoot){var r=this.sourceBlock;this.svgRoot=we(nt.G,{class:"blocklyIconGroup"}),r.getSvgRoot().appendChild(this.svgRoot),this.updateSvgRootOffset(),kt(this.svgRoot,"pointerdown",this,t)}}dispose(){Ne(this.svgRoot)}getWeight(){return-1}getSize(){return new Zn(0,0)}applyColour(){}updateEditable(){}updateCollapsed(){this.svgRoot&&(this.sourceBlock.isCollapsed()?this.svgRoot.style.display="none":this.svgRoot.style.display="block",hn(this)&&this.setBubbleVisible(!1))}hideForInsertionMarker(){this.svgRoot&&(this.svgRoot.style.display="none")}isShownWhenCollapsed(){return!1}setOffsetInBlock(t){this.offsetInBlock=t,this.updateSvgRootOffset()}updateSvgRootOffset(){let t;(t=this.svgRoot)==null||t.setAttribute("transform",`translate(${this.offsetInBlock.x}, ${this.offsetInBlock.y})`)}onLocationChange(t){this.workspaceLocation=Pt.sum(t,this.offsetInBlock)}onClick(){}setVisible(t){gt("setVisible","v10","v11","setBubbleVisible"),hn(this)&&this.setBubbleVisible(t)}},No=class{constructor(t,r,s,c,g){this.workspace=t,this.horizontal=r,this.oldHostMetrics=null,this.ratio=1,this.origin=new Pt(0,0),this.startDragHandle=this.handlePosition=this.handleLength=this.scrollbarLength=this.startDragMouse=0,this.containerVisible=this.isHandleVisible=!0,this.position=new Pt(0,0),this.onMouseMoveWrapper_=this.onMouseUpWrapper_=null,this.pair=s||!1,this.margin=g!==void 0?g:No.DEFAULT_SCROLLBAR_MARGIN,t="blocklyScrollbar"+(this.horizontal?"Horizontal":"Vertical"),c&&(t+=" "+c),this.outerSvg=we(nt.SVG,{class:t}),c=we(nt.G,{},this.outerSvg),this.svgBackground=we(nt.RECT,{class:"blocklyScrollbarBackground"},c),t=Math.floor((No.scrollbarThickness-5)/2),this.svgHandle=we(nt.RECT,{class:"blocklyScrollbarHandle",rx:t,ry:t},c),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarColour","fill"),this.workspace.getThemeManager().subscribe(this.svgHandle,"scrollbarOpacity","fill-opacity"),$e(this.outerSvg,this.workspace.getParentSvg()),this.setInitialThickness(),r?(this.lengthAttribute_="width",this.positionAttribute_="x"):(this.lengthAttribute_="height",this.positionAttribute_="y"),this.onMouseDownBarWrapper_=kt(this.svgBackground,"pointerdown",this,this.onMouseDownBar),this.onMouseDownHandleWrapper_=kt(this.svgHandle,"pointerdown",this,this.onMouseDownHandle)}setInitialThickness(){const t=No.scrollbarThickness;this.horizontal?(this.svgBackground.setAttribute("height",String(t)),this.outerSvg.setAttribute("height",String(t)),this.svgHandle.setAttribute("height",String(t-5)),this.svgHandle.setAttribute("y","2.5")):(this.svgBackground.setAttribute("width",String(t)),this.outerSvg.setAttribute("width",String(t)),this.svgHandle.setAttribute("width",String(t-5)),this.svgHandle.setAttribute("x","2.5"))}dispose(){this.cleanUp(),On(this.onMouseDownBarWrapper_),On(this.onMouseDownHandleWrapper_),Ne(this.outerSvg),this.workspace.getThemeManager().unsubscribe(this.svgHandle)}constrainHandleLength(t){return t=0>=t||isNaN(t)?0:Math.min(t,this.scrollbarLength)}setHandleLength(t){this.handleLength=t,this.svgHandle.setAttribute(this.lengthAttribute_,String(this.handleLength))}constrainHandlePosition(t){return t=0>=t||isNaN(t)?0:Math.min(t,this.scrollbarLength-this.handleLength)}setHandlePosition(t){this.handlePosition=t,this.svgHandle.setAttribute(this.positionAttribute_,String(this.handlePosition))}setScrollbarLength(t){this.scrollbarLength=t,this.outerSvg.setAttribute(this.lengthAttribute_,String(this.scrollbarLength)),this.svgBackground.setAttribute(this.lengthAttribute_,String(this.scrollbarLength))}setPosition(t,r){this.position.x=t,this.position.y=r,Le(this.outerSvg,"translate("+(this.position.x+this.origin.x)+"px,"+(this.position.y+this.origin.y)+"px)")}resize(t){!t&&(t=this.workspace.getMetrics(),!t)||this.oldHostMetrics&&No.metricsAreEquivalent(t,this.oldHostMetrics)||(this.horizontal?this.resizeHorizontal(t):this.resizeVertical(t),this.oldHostMetrics=t,this.updateMetrics())}requiresViewResize(t){return this.oldHostMetrics?this.oldHostMetrics.viewWidth!==t.viewWidth||this.oldHostMetrics.viewHeight!==t.viewHeight||this.oldHostMetrics.absoluteLeft!==t.absoluteLeft||this.oldHostMetrics.absoluteTop!==t.absoluteTop:!0}resizeHorizontal(t){this.requiresViewResize(t)?this.resizeViewHorizontal(t):this.resizeContentHorizontal(t)}resizeViewHorizontal(t){var r=t.viewWidth-2*this.margin;this.pair&&(r-=No.scrollbarThickness),this.setScrollbarLength(Math.max(0,r)),r=t.absoluteLeft+this.margin,this.pair&&this.workspace.RTL&&(r+=No.scrollbarThickness),this.setPosition(r,t.absoluteTop+t.viewHeight-No.scrollbarThickness-this.margin),this.resizeContentHorizontal(t)}resizeContentHorizontal(t){if(t.viewWidth>=t.scrollWidth)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var r=this.scrollbarLength*t.viewWidth/t.scrollWidth;r=this.constrainHandleLength(r),this.setHandleLength(r),r=t.scrollWidth-t.viewWidth;var s=this.scrollbarLength-this.handleLength;t=(t.viewLeft-t.scrollLeft)/r*s,t=this.constrainHandlePosition(t),this.setHandlePosition(t),this.ratio=s/r}}resizeVertical(t){this.requiresViewResize(t)?this.resizeViewVertical(t):this.resizeContentVertical(t)}resizeViewVertical(t){let r=t.viewHeight-2*this.margin;this.pair&&(r-=No.scrollbarThickness),this.setScrollbarLength(Math.max(0,r)),this.setPosition(this.workspace.RTL?t.absoluteLeft+this.margin:t.absoluteLeft+t.viewWidth-No.scrollbarThickness-this.margin,t.absoluteTop+this.margin),this.resizeContentVertical(t)}resizeContentVertical(t){if(t.viewHeight>=t.scrollHeight)this.setHandleLength(this.scrollbarLength),this.setHandlePosition(0),this.pair||this.setVisible(!1);else{this.pair||this.setVisible(!0);var r=this.scrollbarLength*t.viewHeight/t.scrollHeight;r=this.constrainHandleLength(r),this.setHandleLength(r),r=t.scrollHeight-t.viewHeight;var s=this.scrollbarLength-this.handleLength;t=(t.viewTop-t.scrollTop)/r*s,t=this.constrainHandlePosition(t),this.setHandlePosition(t),this.ratio=s/r}}isVisible(){return this.isHandleVisible}setContainerVisible(t){const r=t!==this.containerVisible;this.containerVisible=t,r&&this.updateDisplay_()}setVisible(t){const r=t!==this.isVisible();if(this.pair)throw Error("Unable to toggle visibility of paired scrollbars.");this.isHandleVisible=t,r&&this.updateDisplay_()}updateDisplay_(){this.containerVisible&&this.isVisible()?this.outerSvg.setAttribute("display","block"):this.outerSvg.setAttribute("display","none")}onMouseDownBar(t){if(this.workspace.markFocused(),bt(),this.cleanUp(),br(t))t.stopPropagation();else{var r=jr(t,this.workspace.getParentSvg(),this.workspace.getInverseScreenCTM());r=this.horizontal?r.x:r.y;var s=rs(this.svgHandle);s=this.horizontal?s.x:s.y;var c=this.handlePosition,g=.95*this.handleLength;r<=s?c-=g:r>=s+this.handleLength&&(c+=g),this.setHandlePosition(this.constrainHandlePosition(c)),this.updateMetrics(),t.stopPropagation(),t.preventDefault()}}onMouseDownHandle(t){this.workspace.markFocused(),this.cleanUp(),br(t)?t.stopPropagation():(this.startDragHandle=this.handlePosition,this.startDragMouse=this.horizontal?t.clientX:t.clientY,this.onMouseUpWrapper_=kt(document,"pointerup",this,this.onMouseUpHandle),this.onMouseMoveWrapper_=kt(document,"pointermove",this,this.onMouseMoveHandle),t.stopPropagation(),t.preventDefault())}onMouseMoveHandle(t){this.setHandlePosition(this.constrainHandlePosition(this.startDragHandle+((this.horizontal?t.clientX:t.clientY)-this.startDragMouse))),this.updateMetrics()}onMouseUpHandle(){bt(),this.cleanUp()}cleanUp(){this.workspace.hideChaff(!0),this.onMouseUpWrapper_&&(On(this.onMouseUpWrapper_),this.onMouseUpWrapper_=null),this.onMouseMoveWrapper_&&(On(this.onMouseMoveWrapper_),this.onMouseMoveWrapper_=null)}getRatio_(){let t=this.handlePosition/(this.scrollbarLength-this.handleLength);return isNaN(t)&&(t=0),t}updateMetrics(){const t=this.getRatio_();this.horizontal?this.workspace.setMetrics({x:t}):this.workspace.setMetrics({y:t})}set(t,r){this.setHandlePosition(this.constrainHandlePosition(t*this.ratio)),(r||r===void 0)&&this.updateMetrics()}setOrigin(t,r){this.origin=new Pt(t,r)}static metricsAreEquivalent(t,r){return t.viewWidth===r.viewWidth&&t.viewHeight===r.viewHeight&&t.viewLeft===r.viewLeft&&t.viewTop===r.viewTop&&t.absoluteTop===r.absoluteTop&&t.absoluteLeft===r.absoluteLeft&&t.scrollWidth===r.scrollWidth&&t.scrollHeight===r.scrollHeight&&t.scrollLeft===r.scrollLeft&&t.scrollTop===r.scrollTop}};No.scrollbarThickness=Wp?25:15,No.DEFAULT_SCROLLBAR_MARGIN=.5;var lf,Tn=class{constructor(t,r,s){this.workspace=t,this.anchor=r,this.ownerRect=s,this.size=new Zn(0,0),this.colour="#ffffff",this.disposed=!1,this.relativeLeft=this.relativeTop=0,this.svgRoot=we(nt.G,{},t.getBubbleCanvas()),t=we(nt.G,{filter:`url(#${this.workspace.getRenderer().getConstants().embossFilterId})`},this.svgRoot),this.tail=we(nt.PATH,{},t),this.background=we(nt.RECT,{class:"blocklyDraggable",x:0,y:0,rx:Tn.BORDER_WIDTH,ry:Tn.BORDER_WIDTH},t),this.contentContainer=we(nt.G,{},this.svgRoot),kt(this.background,"pointerdown",this,this.onMouseDown)}dispose(){Ne(this.svgRoot),this.disposed=!0}setAnchorLocation(t,r=!1){this.anchor=t,r?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor(),this.renderTail()}setPositionRelativeToAnchor(t,r){this.relativeLeft=t,this.relativeTop=r,this.positionRelativeToAnchor(),this.renderTail()}getSize(){return this.size}setSize(t,r=!1){t.width=Math.max(t.width,Tn.MIN_SIZE),t.height=Math.max(t.height,Tn.MIN_SIZE),this.size=t,this.background.setAttribute("width",`${t.width}`),this.background.setAttribute("height",`${t.height}`),r?this.positionByRect(this.ownerRect):this.positionRelativeToAnchor(),this.renderTail()}getColour(){return this.colour}setColour(t){this.colour=t,this.tail.setAttribute("fill",t),this.background.setAttribute("fill",t)}onMouseDown(t){let r;(r=this.workspace.getGesture(t))==null||r.handleBubbleStart(t,this)}positionRelativeToAnchor(){let t=this.anchor.x;t=this.workspace.RTL?t-(this.relativeLeft+this.size.width):t+this.relativeLeft,this.moveTo(t,this.relativeTop+this.anchor.y)}moveTo(t,r){this.svgRoot.setAttribute("transform",`translate(${t}, ${r})`)}positionByRect(t=new ro(0,0,0,0)){var r=this.workspace.getMetricsManager().getViewMetrics(!0),s=this.getOptimalRelativeLeft(r),c=this.getOptimalRelativeTop(r);const g={x:s,y:-this.size.height-this.workspace.getRenderer().getConstants().MIN_BLOCK_HEIGHT},P={x:-this.size.width-30,y:c};c={x:t.getWidth(),y:c};var ae={x:s,y:t.getHeight()};s=t.getWidth()<t.getHeight()?c:ae,t=t.getWidth()<t.getHeight()?ae:c,c=this.getOverlap(g,r),ae=this.getOverlap(P,r);const ze=this.getOverlap(s,r);r=this.getOverlap(t,r),r=Math.max(c,ae,ze,r),c===r?(this.relativeLeft=g.x,this.relativeTop=g.y):ae===r?(this.relativeLeft=P.x,this.relativeTop=P.y):ze===r?(this.relativeLeft=s.x,this.relativeTop=s.y):(this.relativeLeft=t.x,this.relativeTop=t.y),this.positionRelativeToAnchor()}getOverlap(t,r){var s=this.workspace.RTL?this.anchor.x-t.x-this.size.width:t.x+this.anchor.x;return t=t.y+this.anchor.y,Math.max(0,Math.min(1,(Math.min(s+this.size.width,r.left+r.width)-Math.max(s,r.left))*(Math.min(t+this.size.height,r.top+r.height)-Math.max(t,r.top))/(this.size.width*this.size.height)))}getOptimalRelativeLeft(t){let r=-this.size.width/4;if(this.size.width>t.width)return r;if(t=this.getWorkspaceViewRect(t),this.workspace.RTL){var s=this.anchor.x-r;s-this.size.width<t.left?r=-(t.left-this.anchor.x+this.size.width):s>t.right&&(r=-(t.right-this.anchor.x))}else{s=r+this.anchor.x;const c=s+this.size.width;s<t.left?r=t.left-this.anchor.x:c>t.right&&(r=t.right-this.anchor.x-this.size.width)}return r}getOptimalRelativeTop(t){let r=-this.size.height/4;if(this.size.height>t.height)return r;const s=this.anchor.y+r,c=s+this.size.height;return t=this.getWorkspaceViewRect(t),s<t.top?r=t.top-this.anchor.y:c>t.bottom&&(r=t.bottom-this.anchor.y-this.size.height),r}getWorkspaceViewRect(t){const r=t.top;let s=t.top+t.height,c=t.left;return t=t.left+t.width,s-=this.getScrollbarThickness(),this.workspace.RTL?c-=this.getScrollbarThickness():t-=this.getScrollbarThickness(),new ro(r,s,c,t)}getScrollbarThickness(){return No.scrollbarThickness/this.workspace.scale}renderTail(){const t=[];var r=this.size.width/2,s=this.size.height/2,c=-this.relativeLeft,g=-this.relativeTop;if(r===c&&s===g)t.push("M "+r+","+s);else{g-=s,c-=r,this.workspace.RTL&&(c*=-1);var P=Math.sqrt(g*g+c*c),ae=Math.acos(c/P);0>g&&(ae=2*Math.PI-ae);var ze=ae+Math.PI/2;ze>2*Math.PI&&(ze-=2*Math.PI);var vt=Math.sin(ze);const Uo=Math.cos(ze);let mo=(this.size.width+this.size.height)/Tn.TAIL_THICKNESS;mo=Math.min(mo,this.size.width,this.size.height)/4,ze=1-Tn.ANCHOR_RADIUS/P,c=r+ze*c,g=s+ze*g,ze=r+mo*Uo;const qi=s+mo*vt;r-=mo*Uo,s-=mo*vt,vt=fr(this.workspace.RTL?-Tn.TAIL_ANGLE:Tn.TAIL_ANGLE),vt=ae+vt,vt>2*Math.PI&&(vt-=2*Math.PI),ae=Math.sin(vt)*P/Tn.TAIL_BEND,P=Math.cos(vt)*P/Tn.TAIL_BEND,t.push("M"+ze+","+qi),t.push("C"+(ze+P)+","+(qi+ae)+" "+c+","+g+" "+c+","+g),t.push("C"+c+","+g+" "+(r+P)+","+(s+ae)+" "+r+","+s)}t.push("z");let Qt;(Qt=this.tail)==null||Qt.setAttribute("d",t.join(" "))}bringToFront(){let t;const r=(t=this.svgRoot)==null?void 0:t.parentNode;return this.svgRoot&&(r==null?void 0:r.lastChild)!==this.svgRoot?(r==null||r.appendChild(this.svgRoot),!0):!1}getRelativeToSurfaceXY(){return new Pt(this.workspace.RTL?-this.relativeLeft+this.anchor.x-this.size.width:this.anchor.x+this.relativeLeft,this.anchor.y+this.relativeTop)}getSvgRoot(){return this.svgRoot}moveDuringDrag(t){this.moveTo(t.x,t.y),this.relativeLeft=this.workspace.RTL?this.anchor.x-t.x-this.size.width:t.x-this.anchor.x,this.relativeTop=t.y-this.anchor.y,this.renderTail()}setDragging(t){}setDeleteStyle(t){}isDeletable(){return!1}showContextMenu(t){}};lf=Tn,Tn.BORDER_WIDTH=6,Tn.DOUBLE_BORDER=2*lf.BORDER_WIDTH,Tn.MIN_SIZE=lf.DOUBLE_BORDER,Tn.TAIL_THICKNESS=1,Tn.TAIL_ANGLE=20,Tn.TAIL_BEND=4,Tn.ANCHOR_RADIUS=8;var p_={};p_.deepMerge=Vi;var Tu=class{constructor(t,r,s,c){this.name=t,this.startHats=!1,this.blockStyles=r||Object.create(null),this.categoryStyles=s||Object.create(null),this.componentStyles=c||Object.create(null),this.fontStyle=Object.create(null),i(Rt.THEME,t,this,!0)}getClassName(){return this.name+"-theme"}setBlockStyle(t,r){this.blockStyles[t]=r}setCategoryStyle(t,r){this.categoryStyles[t]=r}getComponentStyle(t){if(t=this.componentStyles[t],!t)return null;if(typeof t=="string"){const r=this.getComponentStyle(t);if(r)return r}return`${t}`}setComponentStyle(t,r){this.componentStyles[t]=r}setFontStyle(t){this.fontStyle=t}setStartHats(t){this.startHats=t}static defineTheme(t,r){t=t.toLowerCase();const s=new Tu(t);let c=r.base;if(c){if(typeof c=="string"){let g;c=(g=m(Rt.THEME,c))!=null?g:void 0}c instanceof Tu&&(Vi(s,c),s.name=t)}return Vi(s.blockStyles,r.blockStyles),Vi(s.categoryStyles,r.categoryStyles),Vi(s.componentStyles,r.componentStyles),Vi(s.fontStyle,r.fontStyle),r.startHats!==null&&(s.startHats=r.startHats),s}},G1={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},variable_dynamic_blocks:{colourPrimary:"310"},hat_blocks:{colourPrimary:"330",hat:"cap"}},af={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"},variable_dynamic_category:{colour:"310"}},uf=new Tu("classic",G1,af),Fm="categoryToolbox",f_="flyoutToolbox",vn;(function(t){t[t.TOP=0]="TOP",t[t.BOTTOM=1]="BOTTOM",t[t.LEFT=2]="LEFT",t[t.RIGHT=3]="RIGHT"})(vn||(vn={}));var g_={hasCategoriesInternal:ll},da={};da.Position=vn,da.TEST_ONLY=g_,da.convertFlyoutDefToJsonArray=Id,da.convertToolboxDefToJson=$p,da.hasCategories=Ka,da.isCategoryCollapsible=Ya,da.parseToolboxTree=_p;var Xi=class{constructor(t){this.gridPattern=null,this.getMetrics=this.setMetrics=void 0;let r=null,s=!1;var c=!1,g=!1,P=!1,ae=!1,ze=!1;const vt=!!t.readOnly;if(!vt){var Qt;r=$p((Qt=t.toolbox)!=null?Qt:null),s=Ka(r),c=t.trashcan,c=c===void 0?s:c,g=t.collapse,g=g===void 0?s:g,P=t.comments,P=P===void 0?s:P,ae=t.disable,ae=ae===void 0?s:ae,ze=t.sounds,ze=ze===void 0?!0:ze}Qt=t.maxTrashcanContents,c?Qt===void 0&&(Qt=32):Qt=0;const Uo=!!t.rtl;let mo=t.horizontalLayout;mo===void 0&&(mo=!1);var qi=t.toolboxPosition!=="end";qi=mo?qi?vn.TOP:vn.BOTTOM:qi===Uo?vn.RIGHT:vn.LEFT;let Ff=t.css;Ff===void 0&&(Ff=!0);let Vf="https://blockly-demo.appspot.com/static/media/";t.media?Vf=t.media.endsWith("/")?t.media:t.media+"/":"path"in t&&(gt("path","Nov 2014","Jul 2023","media"),Vf=t.path+"media/");const yS=t.oneBasedIndex,P4=t.renderer||"geras",D4=t.plugins||{};let nT=t.modalInputs;nT===void 0&&(nT=!0),this.RTL=Uo,this.oneBasedIndex=yS===void 0?!0:yS,this.collapse=g,this.comments=P,this.disable=ae,this.readOnly=vt,this.maxBlocks=t.maxBlocks||1/0;let ES;this.maxInstances=(ES=t.maxInstances)!=null?ES:null,this.modalInputs=nT,this.pathToMedia=Vf,this.hasCategories=s,this.moveOptions=Xi.parseMoveOptions_(t,s),this.hasScrollbars=!!this.moveOptions.scrollbars,this.hasTrashcan=c,this.maxTrashcanContents=Qt,this.hasSounds=ze,this.hasCss=Ff,this.horizontalLayout=mo,this.languageTree=r,this.gridOptions=Xi.parseGridOptions_(t),this.zoomOptions=Xi.parseZoomOptions_(t),this.toolboxPosition=qi,this.theme=Xi.parseThemeOptions_(t),this.renderer=P4;let CS;this.rendererOverrides=(CS=t.rendererOverrides)!=null?CS:null;let IS;this.parentWorkspace=(IS=t.parentWorkspace)!=null?IS:null,this.plugins=D4}static parseMoveOptions_(t,r){const s=t.move||{},c={};return s.scrollbars===void 0&&t.scrollbars===void 0?c.scrollbars=r:typeof s.scrollbars=="object"?(c.scrollbars={horizontal:!!s.scrollbars.horizontal,vertical:!!s.scrollbars.vertical},c.scrollbars.horizontal&&c.scrollbars.vertical?c.scrollbars=!0:c.scrollbars.horizontal||c.scrollbars.vertical||(c.scrollbars=!1)):c.scrollbars=!!s.scrollbars||!!t.scrollbars,c.wheel=c.scrollbars&&s.wheel!==void 0?!!s.wheel:typeof c.scrollbars=="object",c.drag=c.scrollbars?s.drag===void 0?!0:!!s.drag:!1,c}static parseZoomOptions_(t){t=t.zoom||{};const r={};return r.controls=t.controls===void 0?!1:!!t.controls,r.wheel=t.wheel===void 0?!1:!!t.wheel,r.startScale=t.startScale===void 0?1:Number(t.startScale),r.maxScale=t.maxScale===void 0?3:Number(t.maxScale),r.minScale=t.minScale===void 0?.3:Number(t.minScale),r.scaleSpeed=t.scaleSpeed===void 0?1.2:Number(t.scaleSpeed),r.pinch=t.pinch===void 0?r.wheel||r.controls:!!t.pinch,r}static parseGridOptions_(t){t=t.grid||{};const r={};return r.spacing=Number(t.spacing)||0,r.colour=t.colour||"#888",r.length=t.length===void 0?1:Number(t.length),r.snap=0<r.spacing&&!!t.snap,r}static parseThemeOptions_(t){return t=t.theme||uf,typeof t=="string"?m(Rt.THEME,t):t instanceof Tu?t:Tu.defineTheme(t.name||"builtin"+ee(),t)}},Tl=class extends Tn{constructor(t,r,s,c){super(r,s,c),this.workspace=r,this.anchor=s,this.ownerRect=c,this.autoLayout=!0,r=new Xi(t),this.validateWorkspaceOptions(r),this.svgDialog=we(nt.SVG,{x:Tn.BORDER_WIDTH,y:Tn.BORDER_WIDTH},this.contentContainer),t.parentWorkspace=this.workspace,this.miniWorkspace=this.newWorkspaceSvg(new Xi(t)),t=this.miniWorkspace.createDom("blocklyMutatorBackground"),this.svgDialog.appendChild(t),r.languageTree&&(t.insertBefore(this.miniWorkspace.addFlyout(nt.G),this.miniWorkspace.getCanvas()),t=this.miniWorkspace.getFlyout(),t==null||t.init(this.miniWorkspace),t==null||t.show(r.languageTree)),this.miniWorkspace.addChangeListener(this.onWorkspaceChange.bind(this));let g,P;(g=this.miniWorkspace.getFlyout())==null||(P=g.getWorkspace())==null||P.addChangeListener(this.onWorkspaceChange.bind(this)),this.updateBubbleSize()}dispose(){this.miniWorkspace.dispose(),super.dispose()}getWorkspace(){return this.miniWorkspace}addWorkspaceChangeListener(t){this.miniWorkspace.addChangeListener(t)}validateWorkspaceOptions(t){if(t.hasCategories)throw Error("The miniworkspace bubble does not support toolboxes with categories");if(t.hasTrashcan)throw Error("The miniworkspace bubble does not support trashcans");if(t.zoomOptions.controls||t.zoomOptions.wheel||t.zoomOptions.pinch)throw Error("The miniworkspace bubble does not support zooming");if(t.moveOptions.scrollbars||t.moveOptions.wheel||t.moveOptions.drag)throw Error("The miniworkspace bubble does not scrolling/moving the workspace");if(t.horizontalLayout)throw Error("The miniworkspace bubble does not support horizontal layouts")}onWorkspaceChange(){this.bumpBlocksIntoBounds(),this.updateBubbleSize()}bumpBlocksIntoBounds(){if(!this.miniWorkspace.isDragging())for(const t of this.miniWorkspace.getTopBlocks(!1)){const r=t.getRelativeToSurfaceXY();if(20>r.y&&t.moveBy(0,20-r.y),t.RTL){let s=-20;const c=this.miniWorkspace.getFlyout();c&&(s-=c.getWidth()),r.x>s&&t.moveBy(s-r.x,0)}else 20>r.x&&t.moveBy(20-r.x,0)}}updateBubbleSize(){if(!this.miniWorkspace.isDragging()){var t=this.getSize(),r=this.calculateWorkspaceSize();Math.abs(t.width-r.width)<Tl.MINIMUM_VIEW_CHANGE&&Math.abs(t.height-r.height)<Tl.MINIMUM_VIEW_CHANGE||(this.svgDialog.setAttribute("width",`${r.width}px`),this.svgDialog.setAttribute("height",`${r.height}px`),this.miniWorkspace.setCachedParentSvgSize(r.width,r.height),this.miniWorkspace.RTL&&this.miniWorkspace.getCanvas().setAttribute("transform",`translate(${r.width}, 0)`),this.setSize(new Zn(r.width+Tn.DOUBLE_BORDER,r.height+Tn.DOUBLE_BORDER),this.autoLayout),this.miniWorkspace.resize(),this.miniWorkspace.recordDragTargets())}}calculateWorkspaceSize(){const t=this.miniWorkspace.getCanvas().getBBox();let r=t.width+t.x,s=t.height+Tl.MARGIN;const c=this.miniWorkspace.getFlyout();if(c){const g=c.getWorkspace().getMetricsManager().getScrollMetrics();s=Math.max(s,g.height+20),r+=c.getWidth()}return this.miniWorkspace.RTL&&(r=-t.x),r+=Tl.MARGIN,new Zn(r,s)}updateBlockStyles(){for(var t of this.miniWorkspace.getAllBlocks(!1))t.setStyle(t.getStyleName());let r;if(t=(r=this.miniWorkspace.getFlyout())==null?void 0:r.getWorkspace())for(const s of t.getAllBlocks(!1))s.setStyle(s.getStyleName())}moveDuringDrag(t){super.moveDuringDrag(t),this.autoLayout=!1}moveTo(t,r){super.moveTo(t,r),this.miniWorkspace.recordDragTargets()}newWorkspaceSvg(t){throw Error("The implementation of newWorkspaceSvg should be monkey-patched in by blockly.ts")}};Tl.MINIMUM_VIEW_CHANGE=10,Tl.MARGIN=3*Tn.DOUBLE_BORDER;var cf,df;cf=17,df=16,n.MutatorIcon$$module$build$src$core$icons$mutator_icon=class extends sf{constructor(t,r){super(r),this.flyoutBlockTypes=t,this.sourceBlock=r,this.updateWorkspacePid=this.rootBlock=this.miniWorkspaceBubble=null}getType(){return n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE}initView(t){this.svgRoot||(super.initView(t),we(nt.RECT,{class:"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},this.svgRoot),we(nt.PATH,{class:"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},this.svgRoot),we(nt.CIRCLE,{class:"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},this.svgRoot))}dispose(){super.dispose();let t;(t=this.miniWorkspaceBubble)==null||t.dispose()}getWeight(){return n.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT}getSize(){return new Zn(cf,cf)}applyColour(){super.applyColour();let t;(t=this.miniWorkspaceBubble)==null||t.setColour(this.sourceBlock.style.colourPrimary);let r;(r=this.miniWorkspaceBubble)==null||r.updateBlockStyles()}updateCollapsed(){super.updateCollapsed(),this.sourceBlock.isCollapsed()&&this.setBubbleVisible(!1)}onLocationChange(t){super.onLocationChange(t);let r;(r=this.miniWorkspaceBubble)==null||r.setAnchorLocation(this.getAnchorLocation())}onClick(){super.onClick(),this.setBubbleVisible(!this.bubbleIsVisible())}bubbleIsVisible(){return!!this.miniWorkspaceBubble}setBubbleVisible(t){if(this.bubbleIsVisible()!==t){if(t){this.miniWorkspaceBubble=new Tl(this.getMiniWorkspaceConfig(),this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect()),this.applyColour(),this.createRootBlock(),this.addSaveConnectionsListener();let r;(r=this.miniWorkspaceBubble)==null||r.addWorkspaceChangeListener(this.createMiniWorkspaceChangeListener())}else{let r;(r=this.miniWorkspaceBubble)==null||r.dispose(),this.miniWorkspaceBubble=null}K(new(se(ps))(this.sourceBlock,t,"mutator"))}}getMiniWorkspaceConfig(){let t;const r={disable:!1,media:this.sourceBlock.workspace.options.pathToMedia,rtl:this.sourceBlock.RTL,renderer:this.sourceBlock.workspace.options.renderer,rendererOverrides:(t=this.sourceBlock.workspace.options.rendererOverrides)!=null?t:void 0};return this.flyoutBlockTypes.length&&(r.toolbox={kind:"flyoutToolbox",contents:this.flyoutBlockTypes.map(s=>({kind:"block",type:s}))}),r}getAnchorLocation(){const t=cf/2;return Pt.sum(this.workspaceLocation,new Pt(t,t))}getBubbleOwnerRect(){const t=this.sourceBlock.getSvgRoot().getBBox();return new ro(t.y,t.y+t.height,t.x,t.x+t.width)}createRootBlock(){this.rootBlock=this.sourceBlock.decompose(this.miniWorkspaceBubble.getWorkspace());for(var t of this.rootBlock.getDescendants(!1))t.queueRender();this.rootBlock.setMovable(!1),this.rootBlock.setDeletable(!1);let r,s,c,g;t=(g=(r=this.miniWorkspaceBubble)==null||(s=r.getWorkspace())==null||(c=s.getFlyout())==null?void 0:c.getWidth())!=null?g:0,this.rootBlock.moveBy(this.rootBlock.RTL?-(t+df):df,df)}addSaveConnectionsListener(){if(this.sourceBlock.saveConnections&&this.rootBlock){var t=()=>{this.sourceBlock.saveConnections&&this.rootBlock&&this.sourceBlock.saveConnections(this.rootBlock)};t(),this.sourceBlock.workspace.addChangeListener(t)}}createMiniWorkspaceChangeListener(){return t=>{n.MutatorIcon$$module$build$src$core$icons$mutator_icon.isIgnorableMutatorEvent(t)||this.updateWorkspacePid||(this.updateWorkspacePid=setTimeout(()=>{this.updateWorkspacePid=null,this.recomposeSourceBlock()},0))}}static isIgnorableMutatorEvent(t){return t.isUiEvent||t.type===n.CREATE$$module$build$src$core$events$utils||t.type===n.CHANGE$$module$build$src$core$events$utils&&t.element==="disabled"}recomposeSourceBlock(){if(this.rootBlock){var t=n.getGroup$$module$build$src$core$events$utils();t||n.setGroup$$module$build$src$core$events$utils(!0);var r=ua.getExtraBlockState_(this.sourceBlock);this.sourceBlock.compose(this.rootBlock);var s=ua.getExtraBlockState_(this.sourceBlock);r!==s&&K(new(se(n.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock,"mutation",null,r,s)),n.setGroup$$module$build$src$core$events$utils(t)}}getWorkspace(){let t;return(t=this.miniWorkspaceBubble)==null?void 0:t.getWorkspace()}static reconnect(t,r,s){return gt("MutatorIcon.reconnect","v10","v11","connection.reconnect"),t?t.reconnect(r,s):!1}static findParentWs(t){return gt("MutatorIcon.findParentWs","v10","v11","workspace.getRootWorkspace"),t.getRootWorkspace()}},n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE=er.MUTATOR,n.MutatorIcon$$module$build$src$core$icons$mutator_icon.WEIGHT=1,n.MutatorIcon$$module$build$src$core$icons$mutator_icon;var kc=Object.create(null),hf={allExtensions:kc};n.register$$module$build$src$core$extensions("parent_tooltip_when_inline",Sv);var Ki={};Ki.TEST_ONLY=hf,Ki.apply=Wl,Ki.buildTooltipForDropdown=n.buildTooltipForDropdown$$module$build$src$core$extensions,Ki.buildTooltipWithFieldText=n.buildTooltipWithFieldText$$module$build$src$core$extensions,Ki.isRegistered=bp,Ki.register=n.register$$module$build$src$core$extensions,Ki.registerMixin=n.registerMixin$$module$build$src$core$extensions,Ki.registerMutator=n.registerMutator$$module$build$src$core$extensions,Ki.runAfterPageLoad=Ep,Ki.unregister=Sd,function(t){t[t.LEFT=-1]="LEFT",t[t.CENTRE=0]="CENTRE",t[t.RIGHT=1]="RIGHT"}(n.Align$$module$build$src$core$inputs$align||(n.Align$$module$build$src$core$inputs$align={})),n.Align$$module$build$src$core$inputs$align;var Vm={};Vm.removeElem=Zr;var Cn;(function(t){t[t.WIN_KEY_FF_LINUX=0]="WIN_KEY_FF_LINUX",t[t.MAC_ENTER=3]="MAC_ENTER",t[t.BACKSPACE=8]="BACKSPACE",t[t.TAB=9]="TAB",t[t.NUM_CENTER=12]="NUM_CENTER",t[t.ENTER=13]="ENTER",t[t.SHIFT=16]="SHIFT",t[t.CTRL=17]="CTRL",t[t.ALT=18]="ALT",t[t.PAUSE=19]="PAUSE",t[t.CAPS_LOCK=20]="CAPS_LOCK",t[t.ESC=27]="ESC",t[t.SPACE=32]="SPACE",t[t.PAGE_UP=33]="PAGE_UP",t[t.PAGE_DOWN=34]="PAGE_DOWN",t[t.END=35]="END",t[t.HOME=36]="HOME",t[t.LEFT=37]="LEFT",t[t.UP=38]="UP",t[t.RIGHT=39]="RIGHT",t[t.DOWN=40]="DOWN",t[t.PLUS_SIGN=43]="PLUS_SIGN",t[t.PRINT_SCREEN=44]="PRINT_SCREEN",t[t.INSERT=45]="INSERT",t[t.DELETE=46]="DELETE",t[t.ZERO=48]="ZERO",t[t.ONE=49]="ONE",t[t.TWO=50]="TWO",t[t.THREE=51]="THREE",t[t.FOUR=52]="FOUR",t[t.FIVE=53]="FIVE",t[t.SIX=54]="SIX",t[t.SEVEN=55]="SEVEN",t[t.EIGHT=56]="EIGHT",t[t.NINE=57]="NINE",t[t.FF_SEMICOLON=59]="FF_SEMICOLON",t[t.FF_EQUALS=61]="FF_EQUALS",t[t.FF_DASH=173]="FF_DASH",t[t.FF_HASH=163]="FF_HASH",t[t.QUESTION_MARK=63]="QUESTION_MARK",t[t.AT_SIGN=64]="AT_SIGN",t[t.A=65]="A",t[t.B=66]="B",t[t.C=67]="C",t[t.D=68]="D",t[t.E=69]="E",t[t.F=70]="F",t[t.G=71]="G",t[t.H=72]="H",t[t.I=73]="I",t[t.J=74]="J",t[t.K=75]="K",t[t.L=76]="L",t[t.M=77]="M",t[t.N=78]="N",t[t.O=79]="O",t[t.P=80]="P",t[t.Q=81]="Q",t[t.R=82]="R",t[t.S=83]="S",t[t.T=84]="T",t[t.U=85]="U",t[t.V=86]="V",t[t.W=87]="W",t[t.X=88]="X",t[t.Y=89]="Y",t[t.Z=90]="Z",t[t.META=91]="META",t[t.WIN_KEY_RIGHT=92]="WIN_KEY_RIGHT",t[t.CONTEXT_MENU=93]="CONTEXT_MENU",t[t.NUM_ZERO=96]="NUM_ZERO",t[t.NUM_ONE=97]="NUM_ONE",t[t.NUM_TWO=98]="NUM_TWO",t[t.NUM_THREE=99]="NUM_THREE",t[t.NUM_FOUR=100]="NUM_FOUR",t[t.NUM_FIVE=101]="NUM_FIVE",t[t.NUM_SIX=102]="NUM_SIX",t[t.NUM_SEVEN=103]="NUM_SEVEN",t[t.NUM_EIGHT=104]="NUM_EIGHT",t[t.NUM_NINE=105]="NUM_NINE",t[t.NUM_MULTIPLY=106]="NUM_MULTIPLY",t[t.NUM_PLUS=107]="NUM_PLUS",t[t.NUM_MINUS=109]="NUM_MINUS",t[t.NUM_PERIOD=110]="NUM_PERIOD",t[t.NUM_DIVISION=111]="NUM_DIVISION",t[t.F1=112]="F1",t[t.F2=113]="F2",t[t.F3=114]="F3",t[t.F4=115]="F4",t[t.F5=116]="F5",t[t.F6=117]="F6",t[t.F7=118]="F7",t[t.F8=119]="F8",t[t.F9=120]="F9",t[t.F10=121]="F10",t[t.F11=122]="F11",t[t.F12=123]="F12",t[t.NUMLOCK=144]="NUMLOCK",t[t.SCROLL_LOCK=145]="SCROLL_LOCK",t[t.FIRST_MEDIA_KEY=166]="FIRST_MEDIA_KEY",t[t.LAST_MEDIA_KEY=183]="LAST_MEDIA_KEY",t[t.SEMICOLON=186]="SEMICOLON",t[t.DASH=189]="DASH",t[t.EQUALS=187]="EQUALS",t[t.COMMA=188]="COMMA",t[t.PERIOD=190]="PERIOD",t[t.SLASH=191]="SLASH",t[t.APOSTROPHE=192]="APOSTROPHE",t[t.TILDE=192]="TILDE",t[t.SINGLE_QUOTE=222]="SINGLE_QUOTE",t[t.OPEN_SQUARE_BRACKET=219]="OPEN_SQUARE_BRACKET",t[t.BACKSLASH=220]="BACKSLASH",t[t.CLOSE_SQUARE_BRACKET=221]="CLOSE_SQUARE_BRACKET",t[t.WIN_KEY=224]="WIN_KEY",t[t.MAC_FF_META=224]="MAC_FF_META",t[t.MAC_WK_CMD_LEFT=91]="MAC_WK_CMD_LEFT",t[t.MAC_WK_CMD_RIGHT=93]="MAC_WK_CMD_RIGHT",t[t.WIN_IME=229]="WIN_IME",t[t.VK_NONAME=252]="VK_NONAME",t[t.PHANTOM=255]="PHANTOM"})(Cn||(Cn={}));var ms={};ms.arc=go,ms.curve=no,ms.line=ic,ms.lineOnAxis=zt,ms.lineTo=cs,ms.moveBy=fo,ms.moveTo=gr,ms.point=Vt;var To={};To.Coordinate=Pt,To.KeyCodes=Cn,To.Rect=ro,To.Size=Zn,To.Svg=nt,To.aria=ih,To.array=Vm,To.browserEvents=$l,To.colour=ji,To.deprecation=pm,To.dom=zo,To.extensions=Ki,To.idGenerator=Rr,To.math=tf,To.object=p_,To.parsing=oh,To.string=vu,To.style=vl,To.svgMath=_l,To.svgPaths=ms,To.toolbox=da,To.userAgent=ml,To.xml=Ps;var pf={};pf.register=kd,pf.unregister=Za;var ff=class extends Tn{constructor(t,r,s,c){super(r,s,c),this.text=t,this.workspace=r,this.anchor=s,this.ownerRect=c,this.paragraph=this.stringToSvg(t,this.contentContainer),this.updateBubbleSize()}getText(){return this.text}setText(t){this.text=t,Ne(this.paragraph),this.paragraph=this.stringToSvg(t,this.contentContainer),this.updateBubbleSize()}stringToSvg(t,r){return r=this.createParagraph(r),t=this.createSpans(r,t),this.workspace.RTL&&this.rightAlignSpans(r.getBBox().width,t),r}createParagraph(t){return we(nt.TEXT,{class:"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:Tn.BORDER_WIDTH},t)}createSpans(t,r){return r.split(`
`).map(s=>{const c=we(nt.TSPAN,{dy:"1em",x:Tn.BORDER_WIDTH},t);return s=document.createTextNode(s),c.appendChild(s),c})}rightAlignSpans(t,r){for(const s of r)s.setAttribute("text-anchor","end"),s.setAttribute("x",`${t+Tn.BORDER_WIDTH}`)}updateBubbleSize(){const t=this.paragraph.getBBox();this.setSize(new Zn(t.width+2*Tn.BORDER_WIDTH,t.height+2*Tn.BORDER_WIDTH),!0)}},Um=class extends Tn{constructor(t,r,s){super(t,r,s),this.workspace=t,this.anchor=r,this.ownerRect=s,this.resizePointerMoveListener=this.resizePointerUpListener=null,this.textChangeListeners=[],this.sizeChangeListeners=[],this.text="",this.DEFAULT_SIZE=new Zn(160+Tn.DOUBLE_BORDER,80+Tn.DOUBLE_BORDER),this.MIN_SIZE=new Zn(45+Tn.DOUBLE_BORDER,20+Tn.DOUBLE_BORDER),{inputRoot:this.inputRoot,textArea:this.textArea}=this.createEditor(this.contentContainer),this.resizeGroup=this.createResizeHandle(this.svgRoot),this.setSize(this.DEFAULT_SIZE,!0)}getText(){return this.text}setText(t){this.text=t,this.textArea.value=t,this.onTextChange()}addTextChangeListener(t){this.textChangeListeners.push(t)}addSizeChangeListener(t){this.sizeChangeListeners.push(t)}createEditor(t){t=we(nt.FOREIGNOBJECT,{x:Tn.BORDER_WIDTH,y:Tn.BORDER_WIDTH},t);const r=document.createElementNS(fl,"body");r.setAttribute("xmlns",fl),r.className="blocklyMinimalBody";const s=document.createElementNS(fl,"textarea");return s.className="blocklyCommentTextarea",s.setAttribute("dir",this.workspace.RTL?"RTL":"LTR"),r.appendChild(s),t.appendChild(r),this.bindTextAreaEvents(s),setTimeout(()=>{s.focus()},0),{inputRoot:t,textArea:s}}bindTextAreaEvents(t){kt(t,"wheel",this,r=>{r.stopPropagation()}),kt(t,"focus",this,this.onStartEdit,!0),kt(t,"change",this,this.onTextChange)}createResizeHandle(t){t=we(nt.G,{class:this.workspace.RTL?"blocklyResizeSW":"blocklyResizeSE"},t);const r=2*Tn.BORDER_WIDTH;return we(nt.POLYGON,{points:`0,${r} ${r},${r} ${r},0`},t),we(nt.LINE,{class:"blocklyResizeLine",x1:r/3,y1:r-1,x2:r-1,y2:r/3},t),we(nt.LINE,{class:"blocklyResizeLine",x1:2*r/3,y1:r-1,x2:r-1,y2:2*r/3},t),kt(t,"pointerdown",this,this.onResizePointerDown),t}setSize(t,r=!1){t.width=Math.max(t.width,this.MIN_SIZE.width),t.height=Math.max(t.height,this.MIN_SIZE.height);const s=t.width-Tn.DOUBLE_BORDER,c=t.height-Tn.DOUBLE_BORDER;this.inputRoot.setAttribute("width",`${s}`),this.inputRoot.setAttribute("height",`${c}`),this.textArea.style.width=`${s-4}px`,this.textArea.style.height=`${c-4}px`,this.workspace.RTL?this.resizeGroup.setAttribute("transform",`translate(${Tn.DOUBLE_BORDER}, ${c}) scale(-1 1)`):this.resizeGroup.setAttribute("transform",`translate(${s}, ${c})`),super.setSize(t,r),this.onSizeChange()}getSize(){return super.getSize()}onResizePointerDown(t){this.bringToFront(),br(t)||(this.workspace.startDrag(t,new Pt(this.workspace.RTL?-this.getSize().width:this.getSize().width,this.getSize().height)),this.resizePointerUpListener=kt(document,"pointerup",this,this.onResizePointerUp),this.resizePointerMoveListener=kt(document,"pointermove",this,this.onResizePointerMove),this.workspace.hideChaff()),t.stopPropagation()}onResizePointerUp(t){bt(),this.resizePointerUpListener&&(On(this.resizePointerUpListener),this.resizePointerUpListener=null),this.resizePointerMoveListener&&(On(this.resizePointerMoveListener),this.resizePointerMoveListener=null)}onResizePointerMove(t){t=this.workspace.moveDrag(t),this.setSize(new Zn(this.workspace.RTL?-t.x:t.x,t.y),!1),this.onSizeChange()}onStartEdit(){this.bringToFront()&&this.textArea.focus()}onTextChange(){this.text=this.textArea.value;for(const t of this.textChangeListeners)t()}onSizeChange(){for(const t of this.sizeChangeListeners)t()}};Yn(`
.blocklyCommentTextarea {
  background-color: #fef49c;
  border: 0;
  display: block;
  margin: 0;
  outline: 0;
  padding: 3px;
  resize: none;
  text-overflow: hidden;
}
`);var Hm=17,m_=160,$_=80,ur=class extends sf{constructor(t){super(t),this.sourceBlock=t,this.textBubble=this.textInputBubble=null,this.text="",this.bubbleSize=new Zn(m_,$_),this.bubbleVisiblity=!1}getType(){return ur.TYPE}initView(t){this.svgRoot||(super.initView(t),we(nt.CIRCLE,{class:"blocklyIconShape",r:"8",cx:"8",cy:"8"},this.svgRoot),we(nt.PATH,{class:"blocklyIconSymbol",d:"m6.8,10h2c0.003,-0.617 0.271,-0.962 0.633,-1.266 2.875,-2.4050.607,-5.534 -3.765,-3.874v1.7c3.12,-1.657 3.698,0.118 2.336,1.25-1.201,0.998 -1.201,1.528 -1.204,2.19z"},this.svgRoot),we(nt.RECT,{class:"blocklyIconSymbol",x:"6.8",y:"10.78",height:"2",width:"2"},this.svgRoot))}dispose(){super.dispose();let t;(t=this.textInputBubble)==null||t.dispose();let r;(r=this.textBubble)==null||r.dispose()}getWeight(){return ur.WEIGHT}getSize(){return new Zn(Hm,Hm)}applyColour(){super.applyColour();const t=this.sourceBlock.style.colourPrimary;let r;(r=this.textInputBubble)==null||r.setColour(t);let s;(s=this.textBubble)==null||s.setColour(t)}updateEditable(){super.updateEditable(),this.bubbleIsVisible()&&(this.setBubbleVisible(!1),this.setBubbleVisible(!0))}onLocationChange(t){super.onLocationChange(t),t=this.getAnchorLocation();let r;(r=this.textInputBubble)==null||r.setAnchorLocation(t);let s;(s=this.textBubble)==null||s.setAnchorLocation(t)}setText(t){this.text=t;let r;(r=this.textInputBubble)==null||r.setText(this.text);let s;(s=this.textBubble)==null||s.setText(this.text)}getText(){return this.text}setBubbleSize(t){this.bubbleSize=t;let r;(r=this.textInputBubble)==null||r.setSize(this.bubbleSize,!0)}getBubbleSize(){return this.bubbleSize}saveState(){return this.text?{text:this.text,pinned:this.bubbleIsVisible(),height:this.bubbleSize.height,width:this.bubbleSize.width}:null}loadState(t){let r;this.text=(r=t.text)!=null?r:"";let s,c;this.bubbleSize=new Zn((s=t.width)!=null?s:m_,(c=t.height)!=null?c:$_);let g;this.bubbleVisiblity=(g=t.pinned)!=null?g:!1,setTimeout(()=>this.setBubbleVisible(this.bubbleVisiblity),1)}onClick(){super.onClick(),this.setBubbleVisible(!this.bubbleIsVisible())}onTextChange(){this.textInputBubble&&(this.text=this.textInputBubble.getText())}onSizeChange(){this.textInputBubble&&(this.bubbleSize=this.textInputBubble.getSize())}bubbleIsVisible(){return this.bubbleVisiblity}setBubbleVisible(t){(!t||!this.textBubble&&!this.textInputBubble)&&(t||this.textBubble||this.textInputBubble)&&(this.bubbleVisiblity=t,this.sourceBlock.rendered&&!this.sourceBlock.isInFlyout&&(t?(this.sourceBlock.isEditable()?this.showEditableBubble():this.showNonEditableBubble(),this.applyColour()):this.hideBubble(),K(new(se(ps))(this.sourceBlock,t,"comment"))))}showEditableBubble(){this.textInputBubble=new Um(this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect()),this.textInputBubble.setText(this.getText()),this.textInputBubble.setSize(this.bubbleSize,!0),this.textInputBubble.addTextChangeListener(()=>this.onTextChange()),this.textInputBubble.addSizeChangeListener(()=>this.onSizeChange())}showNonEditableBubble(){this.textBubble=new ff(this.getText(),this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect())}hideBubble(){let t;(t=this.textInputBubble)==null||t.dispose(),this.textInputBubble=null;let r;(r=this.textBubble)==null||r.dispose(),this.textBubble=null}getAnchorLocation(){const t=Hm/2;return Pt.sum(this.workspaceLocation,new Pt(t,t))}getBubbleOwnerRect(){const t=this.sourceBlock.getSvgRoot().getBBox();return new ro(t.y,t.y+t.height,t.x,t.x+t.width)}};ur.TYPE=er.COMMENT,ur.WEIGHT=3,kd(ur.TYPE,ur);var Hs=class extends An{constructor(t,r,s){super(An.SKIP_SETUP),this.class=null,this.EDITABLE=!1,this.maxDisplayLength=1/0,t!==An.SKIP_SETUP&&(s?this.configure_(s):this.class=r||null,this.setValue(t))}configure_(t){super.configure_(t),t.class&&(this.class=t.class)}initView(){this.createTextElement_(),this.class&&le(this.getTextElement(),this.class)}doClassValidation_(t){return t==null?null:`${t}`}setClass(t){this.textElement_&&(this.class&&re(this.textElement_,this.class),t&&le(this.textElement_,t)),this.class=t}static fromJson(t){return new this(wo(t.text),void 0,t)}};Tr("field_label",Hs),Hs.prototype.DEFAULT_VALUE="";var yl=class{constructor(t,r){this.name=t,this.sourceBlock=r,this.fieldRow=[],this.align=n.Align$$module$build$src$core$inputs$input.LEFT,this.visible=!0,this.type=n.inputTypes$$module$build$src$core$inputs$input_types.CUSTOM,this.connection=null}getSourceBlock(){return this.sourceBlock}appendField(t,r){return this.insertFieldAt(this.fieldRow.length,t,r),this}insertFieldAt(t,r,s){if(0>t||t>this.fieldRow.length)throw Error("index "+t+" out of bounds.");return(r||r===""&&s)&&(typeof r=="string"&&(r=n.fromJson$$module$build$src$core$field_registry({type:"field_label",text:r})),r.setSourceBlock(this.sourceBlock),this.sourceBlock.rendered&&(r.init(),r.applyColour()),r.name=s,r.setVisible(this.isVisible()),r.prefixField&&(t=this.insertFieldAt(t,r.prefixField)),this.fieldRow.splice(t,0,r),t++,r.suffixField&&(t=this.insertFieldAt(t,r.suffixField)),this.sourceBlock.rendered&&(this.sourceBlock.queueRender(),this.sourceBlock.bumpNeighbours())),t}removeField(t,r){for(let s=0,c;c=this.fieldRow[s];s++)if(c.name===t)return c.dispose(),this.fieldRow.splice(s,1),this.sourceBlock.rendered&&(this.sourceBlock.queueRender(),this.sourceBlock.bumpNeighbours()),!0;if(r)return!1;throw Error('Field "'+t+'" not found.')}isVisible(){return this.visible}setVisible(t){let r=[];if(this.visible===t)return r;this.visible=t;for(let c=0,g;g=this.fieldRow[c];c++)g.setVisible(t);if(this.connection){var s=this.connection;t?r=s.startTrackingAll():s.stopTrackingAll(),(s=s.targetBlock())&&(s.getSvgRoot().style.display=t?"block":"none")}return r}markDirty(){for(let t=0,r;r=this.fieldRow[t];t++)r.markDirty()}setCheck(t){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setCheck(t),this}setAlign(t){return this.align=t,this.sourceBlock.rendered&&this.sourceBlock.queueRender(),this}setShadowDom(t){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.setShadowDom(t),this}getShadowDom(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.getShadowDom()}init(){if(this.sourceBlock.workspace.rendered)for(let t=0;t<this.fieldRow.length;t++)this.fieldRow[t].init()}dispose(){for(let t=0,r;r=this.fieldRow[t];t++)r.dispose();this.connection&&this.connection.dispose()}makeConnection(t){return this.sourceBlock.makeConnection_(t)}},Gm;(function(t){t=t.Align||(t.Align={}),t[t.LEFT=-1]="LEFT",t[t.CENTRE=0]="CENTRE",t[t.RIGHT=1]="RIGHT"})(yl||(yl={})),n.Align$$module$build$src$core$inputs$input=yl.Align,Gm={},Gm.Align=n.Align$$module$build$src$core$inputs$input,Gm.Input=yl;var Yi=class extends yl{constructor(t,r){super(t,r),this.name=t,this.type=n.inputTypes$$module$build$src$core$inputs$input_types.DUMMY}},zm;n.ValueInput$$module$build$src$core$inputs$value_input=class extends yl{constructor(t,r){if(!t)throw Error("Value inputs must have a non-empty name");super(t,r),this.name=t,this.type=n.inputTypes$$module$build$src$core$inputs$input_types.VALUE,this.connection=this.makeConnection(Kt.INPUT_VALUE)}},zm={},zm.ValueInput=n.ValueInput$$module$build$src$core$inputs$value_input;var wi=class extends yl{constructor(t,r){if(!t)throw Error("Statement inputs must have a non-empty name");super(t,r),this.name=t,this.type=n.inputTypes$$module$build$src$core$inputs$input_types.STATEMENT,this.connection=this.makeConnection(Kt.NEXT_STATEMENT)}},wc=class{constructor(t,r,s){if(this.data=null,this.disposed=!1,this.hue_=null,this.colour_="#000000",this.styleName_="",this.suppressPrefixSuffix=!1,this.previousConnection=this.nextConnection=this.outputConnection=null,this.inputList=[],this.icons=[],this.disabled=!1,this.tooltip="",this.contextMenu=!0,this.parentBlock_=null,this.childBlocks_=[],this.editable_=this.movable_=this.deletable_=!0,this.collapsed_=this.isShadow_=!1,this.outputShape_=null,this.isInsertionMarker_=this.disposing=!1,this.onchangeWrapper_=this.helpUrl=this.rendered=null,this.statementInputCount=0,this.workspace=t,this.id=s&&!t.getBlockById(s)?s:ue(),t.setBlockById(this.id,this),this.xy_=new Pt(0,0),this.isInFlyout=t.isFlyout,this.isInMutator=t.isMutator,this.RTL=t.RTL,r){if(this.type=r,s=Ar[r],!s||typeof s!="object")throw TypeError("Invalid block definition for type: "+r);Object.assign(this,s)}t.addTopBlock(this),t.addTypedBlock(this),new.target===wc&&this.doInit_()}doInit_(){const t=n.getGroup$$module$build$src$core$events$utils();t||n.setGroup$$module$build$src$core$events$utils(!0);const r=X();try{typeof this.init=="function"&&(oe(!1),this.init(),oe(r)),Q()&&K(new(se(n.CREATE$$module$build$src$core$events$utils))(this))}finally{n.setGroup$$module$build$src$core$events$utils(t),oe(r)}this.inputsInlineDefault=this.inputsInline,typeof this.onchange=="function"&&this.setOnChange(this.onchange)}dispose(t){this.isDeadOrDying()||(this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.unplug(t),Q()&&K(new(se(n.DELETE$$module$build$src$core$events$utils))(this)),this.workspace.removeTopBlock(this),this.disposeInternal())}disposeInternal(){this.isDeadOrDying()||(this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.workspace.removeTypedBlock(this),this.workspace.removeBlockById(this.id),this.disposing=!0,typeof this.destroy=="function"&&this.destroy(),this.childBlocks_.forEach(t=>t.disposeInternal()),this.inputList.forEach(t=>t.dispose()),this.inputList.length=0,this.getConnections_(!0).forEach(t=>t.dispose()),this.disposed=!0)}isDeadOrDying(){return this.disposing||this.disposed}initModel(){for(let t=0,r;r=this.inputList[t];t++)for(let s=0,c;c=r.fieldRow[s];s++)c.initModel&&c.initModel()}unplug(t){this.outputConnection&&this.unplugFromRow_(t),this.previousConnection&&this.unplugFromStack_(t)}unplugFromRow_(t){let r=null,s;(s=this.outputConnection)!=null&&s.isConnected()&&(r=this.outputConnection.targetConnection,this.outputConnection.disconnect()),r&&t&&(t=this.getOnlyValueConnection_())&&t.isConnected()&&!t.targetBlock().isShadow()&&(t=t.targetConnection,t==null||t.disconnect(),this.workspace.connectionChecker.canConnect(t,r,!1)?r.connect(t):t==null||t.onFailedConnect(r))}getOnlyValueConnection_(){let t=null;for(let r=0;r<this.inputList.length;r++){const s=this.inputList[r].connection;if(s&&s.type===Kt.INPUT_VALUE&&s.targetConnection){if(t)return null;t=s}}return t}unplugFromStack_(t){let r=null;var s;if((s=this.previousConnection)!=null&&s.isConnected()&&(r=this.previousConnection.targetConnection,this.previousConnection.disconnect()),s=this.getNextBlock(),t&&s&&!s.isShadow()){let c,g;t=(g=(c=this.nextConnection)==null?void 0:c.targetConnection)!=null?g:null,t==null||t.disconnect(),r&&this.workspace.connectionChecker.canConnect(r,t,!1)&&r.connect(t)}}getConnections_(t){t=[],this.outputConnection&&t.push(this.outputConnection),this.previousConnection&&t.push(this.previousConnection),this.nextConnection&&t.push(this.nextConnection);for(let r=0,s;s=this.inputList[r];r++)s.connection&&t.push(s.connection);return t}lastConnectionInStack(t){let r=this.nextConnection;for(;r;){const s=r.targetBlock();if(!s||t&&s.isShadow())return r;r=s.nextConnection}return null}bumpNeighbours(){}getParent(){return this.parentBlock_}getInputWithBlock(t){for(let r=0,s;s=this.inputList[r];r++)if(s.connection&&s.connection.targetBlock()===t)return s;return null}getSurroundParent(){let t=this,r;do if(r=t,t=t.getParent(),!t)return null;while(t.getNextBlock()===r);return t}getNextBlock(){return this.nextConnection&&this.nextConnection.targetBlock()}getPreviousBlock(){return this.previousConnection&&this.previousConnection.targetBlock()}getFirstStatementConnection(){for(let t=0,r;r=this.inputList[t];t++)if(r.connection&&r.connection.type===Kt.NEXT_STATEMENT)return r.connection;return null}getRootBlock(){let t,r=this;do t=r,r=t.parentBlock_;while(r);return t}getTopStackBlock(){let t=this,r;do r=t.getPreviousBlock();while(r&&r.getNextBlock()===t&&(t=r));return t}getChildren(t){if(!t)return this.childBlocks_;t=[];for(let s=0,c;c=this.inputList[s];s++)if(c.connection){var r=c.connection.targetBlock();r&&t.push(r)}return(r=this.getNextBlock())&&t.push(r),t}setParent(t){if(t!==this.parentBlock_){var r=this.previousConnection&&this.previousConnection.targetBlock()||this.outputConnection&&this.outputConnection.targetBlock(),s=!!r;if(s&&t&&r!==t)throw Error("Block connected to superior one that is not new parent.");if(!s&&t)throw Error("Block not connected to new parent.");if(s&&!t)throw Error("Cannot set parent to null while block is still connected to superior block.");this.parentBlock_?Zr(this.parentBlock_.childBlocks_,this):this.workspace.removeTopBlock(this),(this.parentBlock_=t)?t.childBlocks_.push(this):this.workspace.addTopBlock(this)}}getDescendants(t){const r=[this],s=this.getChildren(t);for(let c,g=0;c=s[g];g++)r.push(...c.getDescendants(t));return r}isDeletable(){return this.deletable_&&!this.isShadow_&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}isOwnDeletable(){return this.deletable_}setDeletable(t){this.deletable_=t}isMovable(){return this.movable_&&!this.isShadow_&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}isOwnMovable(){return this.movable_}setMovable(t){this.movable_=t}isDuplicatable(){return this.workspace.hasBlockLimits()?this.workspace.isCapacityAvailable(U(this,!0)):!0}isShadow(){return this.isShadow_}setShadow(t){this.isShadow_=t}isInsertionMarker(){return this.isInsertionMarker_}setInsertionMarker(t){this.isInsertionMarker_=t}isEditable(){return this.editable_&&!this.isDeadOrDying()&&!this.workspace.options.readOnly}isOwnEditable(){return this.editable_}setEditable(t){this.editable_=t;for(let r=0,s;s=this.inputList[r];r++)for(let c=0,g;g=s.fieldRow[c];c++)g.updateEditable()}isDisposed(){return this.disposed}getMatchingConnection(t,r){const s=this.getConnections_(!0);if(t=t.getConnections_(!0),s.length!==t.length)throw Error("Connection lists did not match in length.");for(let c=0;c<t.length;c++)if(t[c]===r)return s[c];return null}setHelpUrl(t){this.helpUrl=t}setTooltip(t){this.tooltip=t}getTooltip(){return zl(this)}getColour(){return this.colour_}getStyleName(){return this.styleName_}getHue(){return this.hue_}setColour(t){t=oc(t),this.hue_=t.hue,this.colour_=t.hex}setStyle(t){this.styleName_=t}setOnChange(t){if(t&&typeof t!="function")throw Error("onchange must be a function.");this.onchangeWrapper_&&this.workspace.removeChangeListener(this.onchangeWrapper_),this.onchange=t,this.onchangeWrapper_=t.bind(this),this.workspace.addChangeListener(this.onchangeWrapper_)}getField(t){if(typeof t!="string")throw TypeError("Block.prototype.getField expects a string with the field name but received "+(t===void 0?"nothing":t+" of type "+typeof t)+" instead");for(let r=0,s;s=this.inputList[r];r++)for(let c=0,g;g=s.fieldRow[c];c++)if(g.name===t)return g;return null}getVars(){const t=[];for(let r=0,s;s=this.inputList[r];r++)for(let c=0,g;g=s.fieldRow[c];c++)g.referencesVariables()&&t.push(g.getValue());return t}getVarModels(){const t=[];for(let r=0,s;s=this.inputList[r];r++)for(let c=0,g;g=s.fieldRow[c];c++)if(g.referencesVariables()){const P=this.workspace.getVariableById(g.getValue());P&&t.push(P)}return t}updateVarName(t){for(let r=0,s;s=this.inputList[r];r++)for(let c=0,g;g=s.fieldRow[c];c++)g.referencesVariables()&&t.getId()===g.getValue()&&g.refreshVariableName()}renameVarById(t,r){for(let s=0,c;c=this.inputList[s];s++)for(let g=0,P;P=c.fieldRow[g];g++)P.referencesVariables()&&t===P.getValue()&&P.setValue(r)}getFieldValue(t){return(t=this.getField(t))?t.getValue():null}setFieldValue(t,r){const s=this.getField(r);if(!s)throw Error('Field "'+r+'" not found.');s.setValue(t)}setPreviousStatement(t,r){if(t)r===void 0&&(r=null),this.previousConnection||(this.previousConnection=this.makeConnection_(Kt.PREVIOUS_STATEMENT)),this.previousConnection.setCheck(r);else if(this.previousConnection){if(this.previousConnection.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.previousConnection.dispose(),this.previousConnection=null}}setNextStatement(t,r){if(t)r===void 0&&(r=null),this.nextConnection||(this.nextConnection=this.makeConnection_(Kt.NEXT_STATEMENT)),this.nextConnection.setCheck(r);else if(this.nextConnection){if(this.nextConnection.isConnected())throw Error("Must disconnect next statement before removing connection.");this.nextConnection.dispose(),this.nextConnection=null}}setOutput(t,r){if(t)r===void 0&&(r=null),this.outputConnection||(this.outputConnection=this.makeConnection_(Kt.OUTPUT_VALUE)),this.outputConnection.setCheck(r);else if(this.outputConnection){if(this.outputConnection.isConnected())throw Error("Must disconnect output value before removing connection.");this.outputConnection.dispose(),this.outputConnection=null}}setInputsInline(t){this.inputsInline!==t&&(K(new(se(n.CHANGE$$module$build$src$core$events$utils))(this,"inline",null,this.inputsInline,t)),this.inputsInline=t)}getInputsInline(){if(this.inputsInline!==void 0)return this.inputsInline;for(var t=1;t<this.inputList.length;t++)if(this.inputList[t-1]instanceof Yi&&this.inputList[t]instanceof Yi)return!1;for(t=1;t<this.inputList.length;t++)if(this.inputList[t-1]instanceof n.ValueInput$$module$build$src$core$inputs$value_input&&this.inputList[t]instanceof Yi)return!0;return!1}setOutputShape(t){this.outputShape_=t}getOutputShape(){return this.outputShape_}isEnabled(){return!this.disabled}setEnabled(t){if(this.isEnabled()!==t){const r=this.disabled;this.disabled=!t,K(new(se(n.CHANGE$$module$build$src$core$events$utils))(this,"disabled",null,r,!t))}}getInheritedDisabled(){let t=this.getSurroundParent();for(;t;){if(t.disabled)return!0;t=t.getSurroundParent()}return!1}isCollapsed(){return this.collapsed_}setCollapsed(t){this.collapsed_!==t&&(K(new(se(n.CHANGE$$module$build$src$core$events$utils))(this,"collapsed",null,this.collapsed_,t)),this.collapsed_=t)}toString(t,r){r=this.toTokens(r);for(let c=2;c<r.length;c++)r[c-2]==="("&&r[c]===")"&&(r[c-2]=r[c-1],r.splice(c-1,2));let s="";return r=r.reduce((c,g)=>(c=c+(s==="("||g===")"?"":" ")+g,s=g[g.length-1],c),""),r=r.trim()||"???",t&&r.length>t&&(r=r.substring(0,t-3)+"..."),r}toTokens(t="?"){const r=[];for(const c of this.inputList)if(c.name!=Tc){for(const g of c.fieldRow)r.push(g.getText());if(c.connection){const g=c.connection.targetBlock();if(g){var s=c.connection;let P=s.getCheck();!P&&s.targetConnection&&(P=s.targetConnection.getCheck()),(s=!!P&&(P.indexOf("Boolean")!==-1||P.indexOf("Number")!==-1))&&r.push("("),r.push(...g.toTokens(t)),s&&r.push(")")}else r.push(t)}}return r}appendValueInput(t){return this.appendInput(new n.ValueInput$$module$build$src$core$inputs$value_input(t,this))}appendStatementInput(t){return this.statementInputCount++,this.appendInput(new wi(t,this))}appendDummyInput(t=""){return this.appendInput(new Yi(t,this))}appendInput(t){return this.inputList.push(t),t}appendInputFromRegistry(t,r){return(t=p(Rt.INPUT,t,!1))?this.appendInput(new t(r,this)):null}jsonInit(t){var r=t.type?'Block "'+t.type+'": ':"";if(t.output&&t.previousStatement)throw Error(r+"Must not have both an output and a previousStatement.");if(t.style&&t.style.hat&&(this.hat=t.style.hat,t.style=null),t.style&&t.colour)throw Error(r+"Must not have both a colour and a style.");t.style?this.jsonInitStyle_(t,r):this.jsonInitColour_(t,r);for(var s=0;t["message"+s]!==void 0;)this.interpolate_(t["message"+s],t["args"+s]||[],t["lastDummyAlign"+s],r),s++;if(t.inputsInline!==void 0&&this.setInputsInline(t.inputsInline),t.output!==void 0&&this.setOutput(!0,t.output),t.outputShape!==void 0&&this.setOutputShape(t.outputShape),t.previousStatement!==void 0&&this.setPreviousStatement(!0,t.previousStatement),t.nextStatement!==void 0&&this.setNextStatement(!0,t.nextStatement),t.tooltip!==void 0&&(s=wo(t.tooltip),this.setTooltip(s)),t.enableContextMenu!==void 0&&(this.contextMenu=!!t.enableContextMenu),t.suppressPrefixSuffix!==void 0&&(this.suppressPrefixSuffix=!!t.suppressPrefixSuffix),t.helpUrl!==void 0&&(s=wo(t.helpUrl),this.setHelpUrl(s)),typeof t.extensions=="string"&&(console.warn(r+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+t.type+"' block."),t.extensions=[t.extensions]),t.mutator!==void 0&&Wl(t.mutator,this,!0),t=t.extensions,Array.isArray(t))for(r=0;r<t.length;r++)Wl(t[r],this,!1)}jsonInitColour_(t,r){if("colour"in t)if(t.colour===void 0)console.warn(r+"Undefined colour value.");else{t=t.colour;try{this.setColour(t)}catch{console.warn(r+"Illegal colour value: ",t)}}}jsonInitStyle_(t,r){t=t.style;try{this.setStyle(t)}catch{console.warn(r+"Style does not exist: ",t)}}mixin(t,r){if(r!==void 0&&typeof r!="boolean")throw Error("opt_disableCheck must be a boolean if provided");if(!r){r=[];for(const s in t)this[s]!==void 0&&r.push(s);if(r.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(r))}Object.assign(this,t)}interpolate_(t,r,s,c){t=wg(t),this.validateTokens_(t,r.length),r=this.interpolateArguments_(t,r,s),s=[];for(let g=0,P;P=r[g];g++)if(this.isInputKeyword_(P.type)){if(t=this.inputFromJson_(P,c)){for(let ae=0,ze;ze=s[ae];ae++)t.appendField(ze[0],ze[1]);s.length=0}}else(t=this.fieldFromJson_(P))&&s.push([t,P.name])}validateTokens_(t,r){const s=[];let c=0;for(let g=0;g<t.length;g++){const P=t[g];if(typeof P=="number"){if(1>P||P>r)throw Error('Block "'+this.type+'": Message index %'+P+" out of range.");if(s[P])throw Error('Block "'+this.type+'": Message index %'+P+" duplicated.");s[P]=!0,c++}}if(c!==r)throw Error('Block "'+this.type+'": Message does not reference all '+r+" arg(s).")}interpolateArguments_(t,r,s){const c=[];for(let g=0;g<t.length;g++){let P=t[g];typeof P=="number"&&(P=r[P-1]),!(typeof P=="string"&&(P=this.stringToFieldJson_(P),!P))&&c.push(P)}return(t=c.length)&&!this.isInputKeyword_(c[t-1].type)&&(t={type:"input_dummy"},s&&(t.align=s),c.push(t)),c}fieldFromJson_(t){const r=n.fromJson$$module$build$src$core$field_registry(t);return!r&&t.alt?typeof t.alt=="string"?(t=this.stringToFieldJson_(t.alt))?this.fieldFromJson_(t):null:this.fieldFromJson_(t.alt):r}inputFromJson_(t,r){var s={LEFT:n.Align$$module$build$src$core$inputs$align.LEFT,RIGHT:n.Align$$module$build$src$core$inputs$align.RIGHT,CENTRE:n.Align$$module$build$src$core$inputs$align.CENTRE,CENTER:n.Align$$module$build$src$core$inputs$align.CENTRE};let c;switch(t.type){case"input_value":c=this.appendValueInput(t.name);break;case"input_statement":c=this.appendStatementInput(t.name);break;case"input_dummy":c=this.appendDummyInput(t.name);break;default:c=this.appendInputFromRegistry(t.type,t.name)}return c?(t.check&&c.setCheck(t.check),t.align&&(s=s[t.align.toUpperCase()],s===void 0?console.warn(r+"Illegal align value: ",t.align):c.setAlign(s)),c):null}isInputKeyword_(t){return t==="input_value"||t==="input_statement"||t==="input_dummy"||h(Rt.INPUT,t)}stringToFieldJson_(t){return(t=t.trim())?{type:"field_label",text:t}:null}moveInputBefore(t,r){if(t!==r){var s=-1,c=r?-1:this.inputList.length;for(let g=0,P;P=this.inputList[g];g++)if(P.name===t){if(s=g,c!==-1)break}else if(r&&P.name===r&&(c=g,s!==-1))break;if(s===-1)throw Error('Named input "'+t+'" not found.');if(c===-1)throw Error('Reference input "'+r+'" not found.');this.moveNumberedInputBefore(s,c)}}moveNumberedInputBefore(t,r){if(t===r)throw Error("Can't move input to itself.");if(t>=this.inputList.length)throw RangeError("Input index "+t+" out of bounds.");if(r>this.inputList.length)throw RangeError("Reference input "+r+" out of bounds.");const s=this.inputList[t];this.inputList.splice(t,1),t<r&&r--,this.inputList.splice(r,0,s)}removeInput(t,r){for(let s=0,c;c=this.inputList[s];s++)if(c.name===t)return c instanceof wi&&this.statementInputCount--,c.dispose(),this.inputList.splice(s,1),!0;if(r)return!1;throw Error("Input not found: "+t)}getInput(t){for(let r=0,s;s=this.inputList[r];r++)if(s.name===t)return s;return null}getInputTargetBlock(t){return(t=this.getInput(t))&&t.connection&&t.connection.targetBlock()}getCommentText(){let t,r;return(r=(t=this.getIcon(ur.TYPE))==null?void 0:t.getText())!=null?r:null}setCommentText(t){var r;let s;const c=(s=(r=this.getIcon(ur.TYPE))==null?void 0:r.getText())!=null?s:null;c!==t&&(K(new(se(n.CHANGE$$module$build$src$core$events$utils))(this,"comment",null,c,t)),t!==null?((r=this.getIcon(ur.TYPE))||(r=this.addIcon(new ur(this))),r.setText(t)):this.removeIcon(ur.TYPE))}setWarningText(t,r){}setMutator(t){}addIcon(t){if(this.hasIcon(t.getType()))throw new o_(t);return this.icons.push(t),this.icons.sort((r,s)=>r.getWeight()-s.getWeight()),t}removeIcon(t){if(!this.hasIcon(t))return!1;let r;return(r=this.getIcon(t))==null||r.dispose(),this.icons=this.icons.filter(s=>!s.getType().equals(t)),!0}hasIcon(t){return this.icons.some(r=>r.getType().equals(t))}getIcon(t){return t instanceof er?this.icons.find(r=>r.getType().equals(t)):this.icons.find(r=>r.getType().toString()===t)}getIcons(){return[...this.icons]}getRelativeToSurfaceXY(){return this.xy_}moveBy(t,r,s){if(this.parentBlock_)throw Error("Block has parent");const c=new(se(n.MOVE$$module$build$src$core$events$utils))(this);s&&c.setReason(s),this.xy_.translate(t,r),c.recordNew(),K(c)}makeConnection_(t){return new Bn(this,t)}allInputsFilled(t){if(t===void 0&&(t=!0),!t&&this.isShadow())return!1;for(let s=0,c;c=this.inputList[s];s++)if(c.connection){var r=c.connection.targetBlock();if(!r||!r.allInputsFilled(t))return!1}return(r=this.getNextBlock())?r.allInputsFilled(t):!0}toDevString(){let t=this.type?'"'+this.type+'" block':"Block";return this.id&&(t+=' (id="'+this.id+'")'),t}};wc.COLLAPSED_INPUT_NAME=Tc,wc.COLLAPSED_FIELD_NAME=Jp;var sh=null,lh=null,ah={};ah.connectionUiEffect=sc,ah.disconnectUiEffect=Lg,ah.disconnectUiStop=lc,ah.disposeUiEffect=Ja;var Wm=class extends xs{constructor(t,r,s){super(t?t.workspace.id:void 0),this.type=Jl,t&&(this.blockId=t.id,this.isStart=r,this.blocks=s)}toJson(){const t=super.toJson();if(this.isStart===void 0)throw Error("Whether this event is the start of a drag is undefined. Either pass the value to the constructor, or call fromJson");if(this.blockId===void 0)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");return t.isStart=this.isStart,t.blockId=this.blockId,t.blocks=this.blocks,t}static fromJson(t,r,s){return r=super.fromJson(t,r,s??new Wm),r.isStart=t.isStart,r.blockId=t.blockId,r.blocks=t.blocks,r}};i(Rt.EVENT,Jl,Wm);var gf={};gf.bumpIntoBounds=ac,gf.bumpIntoBoundsHandler=Pg,gf.bumpTopObjectsIntoBounds=Kl;var mf=new Set,$f=new WeakSet,Nc=null,jm={};jm.finishQueuedRenders=be,jm.queueRender=Cp;var El=class{constructor(t){this.name_=t}toString(){return this.name_}};El.POSITIONABLE=new El("positionable"),El.DRAG_TARGET=new El("drag_target"),El.DELETE_AREA=new El("delete_area"),El.AUTOHIDEABLE=new El("autohideable");var io=class{constructor(){this.componentData=new Map,this.capabilityToComponentIds=new Map}addComponent(t,r){const s=t.component.id;if(!r&&this.componentData.has(s)){var c;throw Error('Plugin "'+s+'" with capabilities "'+((c=this.componentData.get(s))==null?void 0:c.capabilities)+'" already added.')}for(this.componentData.set(s,t),r=[],c=0;c<t.capabilities.length;c++){const g=String(t.capabilities[c]).toLowerCase();if(r.push(g),this.capabilityToComponentIds.has(g)){let P;(P=this.capabilityToComponentIds.get(g))==null||P.push(s)}else this.capabilityToComponentIds.set(g,[s])}this.componentData.get(s).capabilities=r}removeComponent(t){const r=this.componentData.get(t);if(r){for(let s=0;s<r.capabilities.length;s++){const c=String(r.capabilities[s]).toLowerCase();Zr(this.capabilityToComponentIds.get(c),t)}this.componentData.delete(t)}}addCapability(t,r){if(!this.getComponent(t))throw Error('Cannot add capability, "'+r+'". Plugin "'+t+'" has not been added to the ComponentManager');if(this.hasCapability(t,r))console.warn('Plugin "'+t+'already has capability "'+r+'"');else{r=`${r}`.toLowerCase();var s;(s=this.componentData.get(t))==null||s.capabilities.push(r);var c;(c=this.capabilityToComponentIds.get(r))==null||c.push(t)}}removeCapability(t,r){if(!this.getComponent(t))throw Error('Cannot remove capability, "'+r+'". Plugin "'+t+'" has not been added to the ComponentManager');this.hasCapability(t,r)?(r=`${r}`.toLowerCase(),Zr(this.componentData.get(t).capabilities,r),Zr(this.capabilityToComponentIds.get(r),t)):console.warn('Plugin "'+t+`doesn't have capability "`+r+'" to remove')}hasCapability(t,r){return r=`${r}`.toLowerCase(),this.componentData.has(t)&&this.componentData.get(t).capabilities.indexOf(r)!==-1}getComponent(t){let r;return(r=this.componentData.get(t))==null?void 0:r.component}getComponents(t,r){if(t=`${t}`.toLowerCase(),t=this.capabilityToComponentIds.get(t),!t)return[];const s=[];if(r){const c=[];t.forEach(g=>{c.push(this.componentData.get(g))}),c.sort(function(g,P){return g.weight-P.weight}),c.forEach(function(g){s.push(g.component)})}else t.forEach(c=>{s.push(this.componentData.get(c).component)});return s}};io.Capability=El;var Xm,v_;Xm=28,n.config$$module$build$src$core$config={dragRadius:5,flyoutDragRadius:10,snapRadius:Xm,connectingSnapRadius:Xm,currentConnectionPreference:8,bumpDelay:250},v_={},v_.config=n.config$$module$build$src$core$config;var ha="The insertion marker manager tried to create a marker but the result is missing %1. If you are using a mutator, make sure your domToMutation method is properly defined.",un=class{constructor(t){this.activeCandidate=this.lastMarker=this.lastOnStack=null,this.wouldDeleteBlock=!1,this.fadedBlock=this.highlightedBlock=this.markerConnection=null,j(t),this.topBlock=t,this.workspace=t.workspace,this.firstMarker=this.createMarkerBlock(this.topBlock),this.availableConnections=this.initAvailableConnections(),this.lastOnStack&&(this.lastMarker=this.createMarkerBlock(this.lastOnStack.getSourceBlock()))}dispose(){this.availableConnections.length=0,this.disposeInsertionMarker(this.firstMarker),this.disposeInsertionMarker(this.lastMarker)}updateAvailableConnections(){this.availableConnections=this.initAvailableConnections()}wouldConnectBlock(){return!!this.activeCandidate}applyConnections(){if(this.activeCandidate){n.disable$$module$build$src$core$events$utils(),this.hidePreview(),n.enable$$module$build$src$core$events$utils();var{local:t,closest:r}=this.activeCandidate;if(t.connect(r),this.topBlock.rendered){const s=t.isSuperior()?r:t,c=this.topBlock.getRootBlock();be().then(()=>{sc(s.getSourceBlock()),setTimeout(()=>{c.bringToFront()},0)})}}}update(t,r){const s=this.getCandidate(t);((this.wouldDeleteBlock=this.shouldDelete(!!s,r))||this.shouldUpdatePreviews(s,t))&&(n.disable$$module$build$src$core$events$utils(),this.maybeHidePreview(s),this.maybeShowPreview(s),n.enable$$module$build$src$core$events$utils())}createMarkerBlock(t){var r=t.type;n.disable$$module$build$src$core$events$utils();let s;try{if(s=this.workspace.newBlock(r),s.setInsertionMarker(!0),t.saveExtraState){var c=t.saveExtraState();c&&s.loadExtraState&&s.loadExtraState(c)}else if(t.mutationToDom){const g=t.mutationToDom();g&&s.domToMutation&&s.domToMutation(g)}for(r=0;r<t.inputList.length;r++){const g=t.inputList[r];if(g.name===Tc)continue;const P=s.inputList[r];if(!P)throw Error(ha.replace("%1","an input"));for(c=0;c<g.fieldRow.length;c++){const ae=g.fieldRow[c],ze=P.fieldRow[c];if(!ze)throw Error(ha.replace("%1","a field"));ze.setValue(ae.getValue())}}s.setCollapsed(t.isCollapsed()),s.setInputsInline(t.getInputsInline()),s.initSvg(),s.getSvgRoot().setAttribute("visibility","hidden")}finally{n.enable$$module$build$src$core$events$utils()}return s}initAvailableConnections(){const t=this.topBlock.getConnections_(!1),r=this.topBlock.lastConnectionInStack(!0);return r&&r!==this.topBlock.nextConnection&&(t.push(r),this.lastOnStack=r),t}shouldUpdatePreviews(t,r){if(!t)return!!this.activeCandidate;if(!this.activeCandidate)return!0;const{local:s,closest:c}=this.activeCandidate;if(c===t.closest&&s===t.local)return!1;const g=s.x+r.x-c.x;return r=s.y+r.y-c.y,t.radius<Math.sqrt(g*g+r*r)-n.config$$module$build$src$core$config.currentConnectionPreference}getCandidate(t){this.markerConnection&&this.markerConnection.isConnected()||this.updateAvailableConnections();let r=this.getStartRadius(),s=null;for(let c=0;c<this.availableConnections.length;c++){const g=this.availableConnections[c],P=g.closest(r,t);P.connection&&(s={closest:P.connection,local:g,radius:P.radius},r=P.radius)}return s}getStartRadius(){return this.activeCandidate?n.config$$module$build$src$core$config.connectingSnapRadius:n.config$$module$build$src$core$config.snapRadius}shouldDelete(t,r){return r&&this.workspace.getComponentManager().hasCapability(r.id,io.Capability.DELETE_AREA)?r.wouldDelete(this.topBlock,t):!1}maybeShowPreview(t){if(!this.wouldDeleteBlock&&t){var r=t.closest,s;r===((s=this.activeCandidate)==null?void 0:s.closest)||r.getSourceBlock().isInsertionMarker()?console.log("Trying to connect to an insertion marker"):(this.activeCandidate=t,this.showPreview(this.activeCandidate))}}showPreview(t){const r=this.workspace.getRenderer();switch(r.getConnectionPreviewMethod(t.closest,t.local,this.topBlock)){case un.PREVIEW_TYPE.INPUT_OUTLINE:this.showInsertionInputOutline(t);break;case un.PREVIEW_TYPE.INSERTION_MARKER:this.showInsertionMarker(t);break;case un.PREVIEW_TYPE.REPLACEMENT_FADE:this.showReplacementFade(t)}r.shouldHighlightConnection(t.closest)&&t.closest.highlight()}maybeHidePreview(t){if(!t)this.hidePreview();else if(this.activeCandidate){const r=this.activeCandidate.local!==t.local;(this.activeCandidate.closest!==t.closest||r||this.wouldDeleteBlock)&&this.hidePreview()}this.activeCandidate=this.markerConnection=null}hidePreview(){let t;const r=(t=this.activeCandidate)==null?void 0:t.closest;r&&r.targetBlock()&&this.workspace.getRenderer().shouldHighlightConnection(r)&&r.unhighlight(),this.hideReplacementFade(),this.hideInsertionInputOutline(),this.hideInsertionMarker()}showInsertionMarker(t){const{local:r,closest:s}=t;let c=(t=this.lastOnStack&&r===this.lastOnStack)?this.lastMarker:this.firstMarker;if(!c)throw Error("Cannot show the insertion marker because there is no insertion marker block");let g;try{g=c.getMatchingConnection(r.getSourceBlock(),r)}catch{if(t&&this.lastOnStack?(this.disposeInsertionMarker(this.lastMarker),c=this.lastMarker=this.createMarkerBlock(this.lastOnStack.getSourceBlock())):(this.disposeInsertionMarker(this.firstMarker),c=this.firstMarker=this.createMarkerBlock(this.topBlock)),!c)throw Error("Cannot show the insertion marker because there is no insertion marker block");g=c.getMatchingConnection(r.getSourceBlock(),r)}if(!g)throw Error("Cannot show the insertion marker because there is no associated connection");if(g===this.markerConnection)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");c.render(),c.rendered=!0,c.getSvgRoot().setAttribute("visibility","visible"),g&&s&&c.positionNearConnection(g,s),s&&g.connect(s),this.markerConnection=g}hideInsertionMarker(){if(this.markerConnection){var t=this.markerConnection,r=t.getSourceBlock(),s=r.outputConnection,c;if((c=r.previousConnection)!=null&&c.targetConnection||s!=null&&s.targetConnection)r.unplug(!0);else{let g;(g=t.targetBlock())==null||g.unplug(!1)}if(t.targetConnection)throw Error("markerConnection still connected at the end of disconnectInsertionMarker");this.markerConnection=null,(t=r.getSvgRoot())&&t.setAttribute("visibility","hidden")}}showInsertionInputOutline(t){t=t.closest,this.highlightedBlock=t.getSourceBlock(),this.highlightedBlock.highlightShapeForInput(t,!0)}hideInsertionInputOutline(){if(this.highlightedBlock){if(!this.activeCandidate)throw Error("Cannot hide the insertion marker outline because there is no active candidate");this.highlightedBlock.highlightShapeForInput(this.activeCandidate.closest,!1),this.highlightedBlock=null}}showReplacementFade(t){if(this.fadedBlock=t.closest.targetBlock(),!this.fadedBlock)throw Error("Cannot show the replacement fade because the closest connection does not have a target block");this.fadedBlock.fadeForReplacement(!0)}hideReplacementFade(){this.fadedBlock&&(this.fadedBlock.fadeForReplacement(!1),this.fadedBlock=null)}getInsertionMarkers(){const t=[];return this.firstMarker&&t.push(this.firstMarker),this.lastMarker&&t.push(this.lastMarker),t}disposeInsertionMarker(t){if(t){n.disable$$module$build$src$core$events$utils();try{t.dispose()}finally{n.enable$$module$build$src$core$events$utils()}}}};(function(t){t=t.PREVIEW_TYPE||(t.PREVIEW_TYPE={}),t[t.INSERTION_MARKER=0]="INSERTION_MARKER",t[t.INPUT_OUTLINE=1]="INPUT_OUTLINE",t[t.REPLACEMENT_FADE=2]="REPLACEMENT_FADE"})(un||(un={})),un.PREVIEW_TYPE;var __=class{constructor(t,r){this.dragTarget_=null,this.wouldDeleteBlock_=!1,this.draggingBlock_=t,this.draggedConnectionManager_=new un(this.draggingBlock_),this.workspace_=r,this.startXY_=this.draggingBlock_.getRelativeToSurfaceXY(),this.dragIconData_=xg(t,this.startXY_)}dispose(){this.dragIconData_.length=0,this.draggedConnectionManager_&&this.draggedConnectionManager_.dispose()}startDrag(t,r){n.getGroup$$module$build$src$core$events$utils()||n.setGroup$$module$build$src$core$events$utils(!0),this.fireDragStartEvent_(),this.workspace_.isMutator&&this.draggingBlock_.bringToFront(),qe(),this.workspace_.setResizesEnabled(!1),lc(),this.shouldDisconnect_(r)&&this.disconnectBlock_(r,t),this.draggingBlock_.setDragging(!0)}shouldDisconnect_(t){return!!(this.draggingBlock_.getParent()||t&&this.draggingBlock_.nextConnection&&this.draggingBlock_.nextConnection.targetBlock())}disconnectBlock_(t,r){this.draggingBlock_.unplug(t),t=this.pixelsToWorkspaceUnits_(r),t=Pt.sum(this.startXY_,t),this.draggingBlock_.translate(t.x,t.y),Lg(this.draggingBlock_),this.draggedConnectionManager_.updateAvailableConnections()}fireDragStartEvent_(){const t=new(se(Jl))(this.draggingBlock_,!0,this.draggingBlock_.getDescendants(!1));K(t)}drag(t,r){r=this.pixelsToWorkspaceUnits_(r);var s=Pt.sum(this.startXY_,r);this.draggingBlock_.moveDuringDrag(s),this.dragIcons_(r),s=this.dragTarget_,this.dragTarget_=this.workspace_.getDragTarget(t),this.draggedConnectionManager_.update(r,this.dragTarget_),t=this.wouldDeleteBlock_,this.wouldDeleteBlock_=this.draggedConnectionManager_.wouldDeleteBlock,t!==this.wouldDeleteBlock_&&this.updateCursorDuringBlockDrag_(),this.dragTarget_!==s&&(s&&s.onDragExit(this.draggingBlock_),this.dragTarget_&&this.dragTarget_.onDragEnter(this.draggingBlock_)),this.dragTarget_&&this.dragTarget_.onDragOver(this.draggingBlock_)}endDrag(t,r){this.drag(t,r),this.dragIconData_=[],this.fireDragEndEvent_(),Xe(),lc(),t=null,this.dragTarget_&&this.dragTarget_.shouldPreventMove(this.draggingBlock_)||(t=this.getNewLocationAfterDrag_(r).delta),this.dragTarget_&&this.dragTarget_.onDrop(this.draggingBlock_),this.maybeDeleteBlock_()||(this.draggingBlock_.setDragging(!1),t?this.updateBlockAfterMove_():ac(this.draggingBlock_.workspace,this.workspace_.getMetricsManager().getScrollMetrics(!0),this.draggingBlock_)),this.workspace_.setResizesEnabled(!0),n.setGroup$$module$build$src$core$events$utils(!1)}getNewLocationAfterDrag_(t){t=this.pixelsToWorkspaceUnits_(t);const r=Pt.sum(this.startXY_,t);return{delta:t,newLocation:r}}maybeDeleteBlock_(){return this.wouldDeleteBlock_?(this.fireMoveEvent_(),this.draggingBlock_.dispose(!1,!0),pc.length=0,!0):!1}updateBlockAfterMove_(){this.fireMoveEvent_(),this.draggedConnectionManager_.wouldConnectBlock()?this.draggedConnectionManager_.applyConnections():this.draggingBlock_.queueRender(),this.draggingBlock_.scheduleSnapAndBump()}fireDragEndEvent_(){const t=new(se(Jl))(this.draggingBlock_,!1,this.draggingBlock_.getDescendants(!1));K(t)}updateToolboxStyle_(t){const r=this.workspace_.getToolbox();if(r){const s=this.draggingBlock_.isDeletable()?"blocklyToolboxDelete":"blocklyToolboxGrab";t&&typeof r.removeStyle=="function"?r.removeStyle(s):t||typeof r.addStyle!="function"||r.addStyle(s)}}fireMoveEvent_(){if(!this.draggingBlock_.isDeadOrDying()){var t=new(se(n.MOVE$$module$build$src$core$events$utils))(this.draggingBlock_);t.setReason(["drag"]),t.oldCoordinate=this.startXY_,t.recordNew(),K(t)}}updateCursorDuringBlockDrag_(){this.draggingBlock_.setDeleteStyle(this.wouldDeleteBlock_)}pixelsToWorkspaceUnits_(t){return t=new Pt(t.x/this.workspace_.scale,t.y/this.workspace_.scale),this.workspace_.isMutator&&t.scale(1/this.workspace_.options.parentWorkspace.scale),t}dragIcons_(t){for(const r of this.dragIconData_)r.icon.onLocationChange(Pt.sum(r.location,t))}getInsertionMarkers(){return this.draggedConnectionManager_&&this.draggedConnectionManager_.getInsertionMarkers?this.draggedConnectionManager_.getInsertionMarkers():[]}};i(Rt.BLOCK_DRAGGER,Ls,__);var Fo=null,Ao={duplicateInternal:Ov,copyInternal:Ql},uh={};uh.TEST_ONLY=Ao,uh.copy=Ad,uh.duplicate=Ip,uh.paste=Bg;var $s=null,b_={},vf=null,Gs={};Gs.callbackFactory=n.callbackFactory$$module$build$src$core$contextmenu,Gs.commentDeleteOption=Vg,Gs.commentDuplicateOption=Ug,Gs.dispose=ds,Gs.getCurrentBlock=kv,Gs.hide=Rd,Gs.setCurrentBlock=Fg,Gs.show=Ei,Gs.workspaceCommentOption=Lv;var Vn=class{constructor(){this.registry_=new Map,this.reset()}reset(){this.registry_.clear()}register(t){if(this.registry_.has(t.id))throw Error('Menu item with ID "'+t.id+'" is already registered.');this.registry_.set(t.id,t)}unregister(t){if(!this.registry_.has(t))throw Error('Menu item with ID "'+t+'" not found.');this.registry_.delete(t)}getItem(t){let r;return(r=this.registry_.get(t))!=null?r:null}getContextMenuOptions(t,r){const s=[];for(const g of this.registry_.values())if(t===g.scopeType){var c=g.preconditionFn(r);c!=="hidden"&&(c={text:typeof g.displayText=="function"?g.displayText(r):g.displayText,enabled:c==="enabled",callback:g.callback,scope:r,weight:g.weight},s.push(c))}return s.sort(function(g,P){return g.weight-P.weight}),s}};(function(t){var r=t.ScopeType||(t.ScopeType={});r.BLOCK="block",r.WORKSPACE="workspace",t.registry=new t})(Vn||(Vn={})),Vn.ScopeType;var T_=30,_f=!0,yu=[];yu[Kt.INPUT_VALUE]=Kt.OUTPUT_VALUE,yu[Kt.OUTPUT_VALUE]=Kt.INPUT_VALUE,yu[Kt.NEXT_STATEMENT]=Kt.PREVIOUS_STATEMENT,yu[Kt.PREVIOUS_STATEMENT]=Kt.NEXT_STATEMENT;var vs="RENAME_VARIABLE_ID",bf="DELETE_VARIABLE_ID",It=class{constructor(t,r,s){if(this.wsCoordinate=null,!r)throw Error("Cannot create a node without a location.");this.type=t,this.isConnectionLocation=It.isConnectionType(t),this.location=r,this.processParams(s||null)}processParams(t){t&&t.wsCoordinate&&(this.wsCoordinate=t.wsCoordinate)}getLocation(){return this.location}getType(){return this.type}getWsCoordinate(){return this.wsCoordinate}isConnection(){return this.isConnectionLocation}findNextForInput(){var t=this.location.getParentInput();const r=t.getSourceBlock();for(t=r.inputList.indexOf(t),t+=1;t<r.inputList.length;t++){const s=r.inputList[t],c=s.fieldRow;for(let g=0;g<c.length;g++){const P=c[g];if(P.isClickable()||It.NAVIGATE_ALL_FIELDS)return It.createFieldNode(P)}if(s.connection)return It.createInputNode(s)}return null}findNextForField(){var t=this.location,r=t.getParentInput();const s=t.getSourceBlock();if(!s)throw Error("The current AST location is not associated with a block");var c=s.inputList.indexOf(r);for(t=r.fieldRow.indexOf(t)+1;c<s.inputList.length;c++){r=s.inputList[c];const g=r.fieldRow;for(;t<g.length;){if(g[t].isClickable()||It.NAVIGATE_ALL_FIELDS)return It.createFieldNode(g[t]);t++}if(t=0,r.connection)return It.createInputNode(r)}return null}findPrevForInput(){const t=this.location.getParentInput(),r=t.getSourceBlock();for(var s=r.inputList.indexOf(t);0<=s;s--){var c=r.inputList[s];if(c.connection&&c!==t)return It.createInputNode(c);c=c.fieldRow;for(let g=c.length-1;0<=g;g--){const P=c[g];if(P.isClickable()||It.NAVIGATE_ALL_FIELDS)return It.createFieldNode(P)}}return null}findPrevForField(){var t=this.location;const r=t.getParentInput(),s=t.getSourceBlock();if(!s)throw Error("The current AST location is not associated with a block");var c=s.inputList.indexOf(r);for(t=r.fieldRow.indexOf(t)-1;0<=c;c--){var g=s.inputList[c];if(g.connection&&g!==r)return It.createInputNode(g);for(g=g.fieldRow;-1<t;){if(g[t].isClickable()||It.NAVIGATE_ALL_FIELDS)return It.createFieldNode(g[t]);t--}0<=c-1&&(t=s.inputList[c-1].fieldRow.length-1)}return null}navigateBetweenStacks(t){var r=this.getLocation();if(r.getSourceBlock){var s=r.getSourceBlock();s&&(r=s)}if(!r||r.isDeadOrDying())return null;s=r.getRootBlock(),r=s.workspace.getTopBlocks(!0);for(let c=0;c<r.length;c++)if(s.id===r[c].id)return t=c+(t?1:-1),t===-1||t===r.length?null:It.createStackNode(r[t]);throw Error("Couldn't find "+(t?"next":"previous")+" stack?!")}findTopASTNodeForBlock(t){const r=Ld(t);return r?It.createConnectionNode(r):It.createBlockNode(t)}getOutAstNodeForBlock(t){if(!t)return null;t=t.getTopStackBlock();const r=Ld(t);return r&&r.targetConnection&&r.targetConnection.getParentInput()?It.createInputNode(r.targetConnection.getParentInput()):It.createStackNode(t)}findFirstFieldOrInput(t){t=t.inputList;for(let r=0;r<t.length;r++){const s=t[r],c=s.fieldRow;for(let g=0;g<c.length;g++){const P=c[g];if(P.isClickable()||It.NAVIGATE_ALL_FIELDS)return It.createFieldNode(P)}if(s.connection)return It.createInputNode(s)}return null}getSourceBlock(){return this.getType()===It.types.BLOCK?this.getLocation():this.getType()===It.types.STACK?this.getLocation():this.getType()===It.types.WORKSPACE?null:this.getLocation().getSourceBlock()}next(){switch(this.type){case It.types.STACK:return this.navigateBetweenStacks(!0);case It.types.OUTPUT:return It.createBlockNode(this.location.getSourceBlock());case It.types.FIELD:return this.findNextForField();case It.types.INPUT:return this.findNextForInput();case It.types.BLOCK:const t=this.location.nextConnection;if(!t)break;return It.createConnectionNode(t);case It.types.PREVIOUS:return It.createBlockNode(this.location.getSourceBlock());case It.types.NEXT:return It.createConnectionNode(this.location.targetConnection)}return null}in(){switch(this.type){case It.types.WORKSPACE:const t=this.location.getTopBlocks(!0);if(0<t.length)return It.createStackNode(t[0]);break;case It.types.STACK:return this.findTopASTNodeForBlock(this.location);case It.types.BLOCK:return this.findFirstFieldOrInput(this.location);case It.types.INPUT:return It.createConnectionNode(this.location.targetConnection)}return null}prev(){switch(this.type){case It.types.STACK:return this.navigateBetweenStacks(!1);case It.types.FIELD:return this.findPrevForField();case It.types.INPUT:return this.findPrevForInput();case It.types.BLOCK:var t=Ld(this.location);if(!t)break;return It.createConnectionNode(t);case It.types.PREVIOUS:if((t=this.location.targetConnection)&&!t.getParentInput())return It.createConnectionNode(t);break;case It.types.NEXT:return It.createBlockNode(this.location.getSourceBlock())}return null}out(){switch(this.type){case It.types.STACK:var t=this.location,r=t.getRelativeToSurfaceXY();return r=new Pt(r.x,r.y+It.DEFAULT_OFFSET_Y),It.createWorkspaceNode(t.workspace,r);case It.types.OUTPUT:return t=this.location,(r=t.targetConnection)?It.createConnectionNode(r):It.createStackNode(t.getSourceBlock());case It.types.FIELD:if(t=this.location.getSourceBlock(),!t)throw Error("The current AST location is not associated with a block");return It.createBlockNode(t);case It.types.INPUT:return It.createBlockNode(this.location.getSourceBlock());case It.types.BLOCK:return this.getOutAstNodeForBlock(this.location);case It.types.PREVIOUS:return this.getOutAstNodeForBlock(this.location.getSourceBlock());case It.types.NEXT:return this.getOutAstNodeForBlock(this.location.getSourceBlock())}return null}static isConnectionType(t){switch(t){case It.types.PREVIOUS:case It.types.NEXT:case It.types.INPUT:case It.types.OUTPUT:return!0}return!1}static createFieldNode(t){return t?new It(It.types.FIELD,t):null}static createConnectionNode(t){if(!t)return null;const r=t.type;return r===Kt.INPUT_VALUE||r===Kt.NEXT_STATEMENT&&t.getParentInput()?It.createInputNode(t.getParentInput()):r===Kt.NEXT_STATEMENT?new It(It.types.NEXT,t):r===Kt.OUTPUT_VALUE?new It(It.types.OUTPUT,t):r===Kt.PREVIOUS_STATEMENT?new It(It.types.PREVIOUS,t):null}static createInputNode(t){return t&&t.connection?new It(It.types.INPUT,t.connection):null}static createBlockNode(t){return t?new It(It.types.BLOCK,t):null}static createStackNode(t){return t?new It(It.types.STACK,t):null}static createWorkspaceNode(t,r){return r&&t?new It(It.types.WORKSPACE,t,{wsCoordinate:r}):null}static createTopNode(t){const r=Ld(t);return r?It.createConnectionNode(r):It.createBlockNode(t)}};It.NAVIGATE_ALL_FIELDS=!1,It.DEFAULT_OFFSET_Y=-20,function(t){t=t.types||(t.types={}),t.FIELD="field",t.BLOCK="block",t.INPUT="input",t.OUTPUT="output",t.NEXT="next",t.PREVIOUS="previous",t.STACK="stack",t.WORKSPACE="workspace"}(It||(It={}));var Io=class{constructor(){this.drawer=this.curNode=this.colour=null,this.type="marker"}setDrawer(t){this.drawer=t}getDrawer(){return this.drawer}getCurNode(){return this.curNode}setCurNode(t){const r=this.curNode;this.curNode=t,this.drawer&&this.drawer.draw(r,this.curNode)}draw(){this.drawer&&this.drawer.draw(this.curNode,this.curNode)}hide(){this.drawer&&this.drawer.hide()}dispose(){this.getDrawer()&&this.getDrawer().dispose()}},So=class extends Io{constructor(){super(),this.type="cursor"}next(){var t=this.getCurNode();if(!t)return null;for(t=t.next();t&&t.next()&&(t.getType()===It.types.NEXT||t.getType()===It.types.BLOCK);)t=t.next();return t&&this.setCurNode(t),t}in(){var t=this.getCurNode();if(!t)return null;(t.getType()===It.types.PREVIOUS||t.getType()===It.types.OUTPUT)&&(t=t.next());let r,s;return(t=(s=(r=t)==null?void 0:r.in())!=null?s:null)&&this.setCurNode(t),t}prev(){var t=this.getCurNode();if(!t)return null;for(t=t.prev();t&&t.prev()&&(t.getType()===It.types.NEXT||t.getType()===It.types.BLOCK);)t=t.prev();return t&&this.setCurNode(t),t}out(){var t=this.getCurNode();return t?((t=t.out())&&t.getType()===It.types.BLOCK&&(t=t.prev()||t),t&&this.setCurNode(t),t):null}};i(Rt.CURSOR,Ls,So);var Ac=class extends So{constructor(){super()}next(){var t=this.getCurNode();return t?((t=this.getNextNode_(t,this.validNode_))&&this.setCurNode(t),t):null}in(){return this.next()}prev(){var t=this.getCurNode();return t?((t=this.getPreviousNode_(t,this.validNode_))&&this.setCurNode(t),t):null}out(){return this.prev()}getNextNode_(t,r){if(!t)return null;const s=t.in()||t.next();return r(s)?s:s?this.getNextNode_(s,r):(t=this.findSiblingOrParent(t.out()),r(t)?t:t?this.getNextNode_(t,r):null)}getPreviousNode_(t,r){if(!t)return null;let s=t.prev();return s=s?this.getRightMostChild(s):t.out(),r(s)?s:s?this.getPreviousNode_(s,r):null}validNode_(t){let r=!1;return t=t&&t.getType(),(t===It.types.OUTPUT||t===It.types.INPUT||t===It.types.FIELD||t===It.types.NEXT||t===It.types.PREVIOUS||t===It.types.WORKSPACE)&&(r=!0),r}findSiblingOrParent(t){if(!t)return null;const r=t.next();return r||this.findSiblingOrParent(t.out())}getRightMostChild(t){if(!t.in())return t;for(t=t.in();t&&t.next();)t=t.next();return this.getRightMostChild(t)}};Ac.registrationName="basicCursor",i(Rt.CURSOR,Ac.registrationName,Ac);var y_=class extends Ac{validNode_(t){let r=!1;const s=t&&t.getType();return t&&(t=t.getLocation(),s===It.types.FIELD&&t&&t.isTabNavigable()&&t.isClickable()&&(r=!0)),r}},Km=10,Pr=class extends Bn{constructor(t,r){super(t,r),this.targetConnection=this.highlightPath=null,this.db=t.workspace.connectionDBList[r],this.dbOpposite=t.workspace.connectionDBList[yu[r]],this.offsetInBlock=new Pt(0,0),this.trackedState=Pr.TrackedState.WILL_TRACK}dispose(){super.dispose(),this.trackedState===Pr.TrackedState.TRACKED&&this.db.removeConnection(this,this.y)}getSourceBlock(){return super.getSourceBlock()}targetBlock(){return super.targetBlock()}distanceFrom(t){const r=this.x-t.x;return t=this.y-t.y,Math.sqrt(r*r+t*t)}bumpAwayFrom(t){if(!this.sourceBlock_.workspace.isDragging()){var r=this.sourceBlock_.getRootBlock();if(!r.isInFlyout){var s=!1;if(!r.isMovable()){if(r=t.getSourceBlock().getRootBlock(),!r.isMovable())return;t=this,s=!0}var c=G()==r;c||r.addSelect();var g=t.x+n.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*Km)-this.x,P=t.y+n.config$$module$build$src$core$config.snapRadius+Math.floor(Math.random()*Km)-this.y;s&&(P=-P),r.RTL&&(g=t.x-n.config$$module$build$src$core$config.snapRadius-Math.floor(Math.random()*Km)-this.x),r.moveBy(g,P,["bump"]),c||r.removeSelect()}}}moveTo(t,r){let s=!1;return this.trackedState===Pr.TrackedState.WILL_TRACK?(this.db.addConnection(this,r),this.trackedState=Pr.TrackedState.TRACKED,s=!0):this.trackedState===Pr.TrackedState.TRACKED&&(this.db.removeConnection(this,this.y),this.db.addConnection(this,r),s=!0),this.x=t,this.y=r,s}moveBy(t,r){return this.moveTo(this.x+t,this.y+r)}moveToOffset(t){return this.moveTo(t.x+this.offsetInBlock.x,t.y+this.offsetInBlock.y)}setOffsetInBlock(t,r){this.offsetInBlock.x=t,this.offsetInBlock.y=r}getOffsetInBlock(){return this.offsetInBlock}tighten(){const t=this.targetConnection.x-this.x,r=this.targetConnection.y-this.y;if(t!==0||r!==0){const c=this.targetBlock();var s=c.getSvgRoot();if(!s)throw Error("block is not rendered.");s=Yo(s),c.translate(s.x-t,s.y-r),c.moveConnections(-t,-r)}}tightenEfficiently(){var t=this.targetConnection;const r=this.targetBlock();t&&r&&(t=Pt.difference(this.offsetInBlock,t.offsetInBlock),r.translate(t.x,t.y))}closest(t,r){return this.dbOpposite.searchForClosest(this,t,r)}highlight(){if(!this.highlightPath){var t=this.sourceBlock_.workspace.getRenderer().getConstants(),r=t.shapeFor(this);this.type===Kt.INPUT_VALUE||this.type===Kt.OUTPUT_VALUE?(t=t.TAB_OFFSET_FROM_TOP,r=fo(0,-t)+zt("v",t)+r.pathDown+zt("v",t)):(t=t.NOTCH_OFFSET_LEFT-t.CORNER_RADIUS,r=fo(-t,0)+zt("h",t)+r.pathLeft+zt("h",t)),t=this.offsetInBlock,this.highlightPath=we(nt.PATH,{class:"blocklyHighlightedConnectionPath",d:r,transform:`translate(${t.x}, ${t.y})`+(this.sourceBlock_.RTL?" scale(-1 1)":"")},this.sourceBlock_.getSvgRoot())}}unhighlight(){this.highlightPath&&(Ne(this.highlightPath),this.highlightPath=null)}setTracking(t){t&&this.trackedState===Pr.TrackedState.TRACKED||!t&&this.trackedState===Pr.TrackedState.UNTRACKED||this.sourceBlock_.isInFlyout||(t?(this.db.addConnection(this,this.y),this.trackedState=Pr.TrackedState.TRACKED):(this.trackedState===Pr.TrackedState.TRACKED&&this.db.removeConnection(this,this.y),this.trackedState=Pr.TrackedState.UNTRACKED))}stopTrackingAll(){if(this.setTracking(!1),this.targetConnection){const t=this.targetBlock().getDescendants(!1);for(let r=0;r<t.length;r++){const s=t[r],c=s.getConnections_(!0);for(let g=0;g<c.length;g++)c[g].setTracking(!1);for(const g of s.getIcons())hn(g)&&g.setBubbleVisible(!1)}}}startTrackingAll(){this.setTracking(!0);let t=[];if(this.type!==Kt.INPUT_VALUE&&this.type!==Kt.NEXT_STATEMENT)return t;const r=this.targetBlock();if(r){let s;r.isCollapsed()?(s=[],r.outputConnection&&s.push(r.outputConnection),r.nextConnection&&s.push(r.nextConnection),r.previousConnection&&s.push(r.previousConnection)):s=r.getConnections_(!0);for(let c=0;c<s.length;c++)t.push(...s[c].startTrackingAll());t.length||(t=[r])}return t}onFailedConnect(t){const r=this.getSourceBlock();if(X()){const s=n.getGroup$$module$build$src$core$events$utils();setTimeout((function(){r.isDisposed()||r.getParent()||(n.setGroup$$module$build$src$core$events$utils(s),this.bumpAwayFrom(t),n.setGroup$$module$build$src$core$events$utils(!1))}).bind(this),n.config$$module$build$src$core$config.bumpDelay)}}disconnectInternal(t=!0){const{parentConnection:r,childConnection:s}=this.getParentAndChildConnections();if(r&&s){var c=r.getSourceBlock(),g=s.getSourceBlock();super.disconnectInternal(t),c.rendered&&c.queueRender(),g.rendered&&(g.updateDisabled(),g.queueRender(),g.getSvgRoot().style.display="block")}}respawnShadow_(){super.respawnShadow_();const t=this.targetBlock();t&&(t.initSvg(),t.queueRender())}neighbours(t){return this.dbOpposite.getNeighbours(this,t)}connect_(t){super.connect_(t);var r=this.getSourceBlock();t=t.getSourceBlock();const s=r.rendered,c=t.rendered;s&&r.updateDisabled(),c&&t.updateDisabled(),s&&c&&(this.type===Kt.NEXT_STATEMENT||this.type===Kt.PREVIOUS_STATEMENT?t.queueRender():r.queueRender()),(r=r.getInputWithBlock(t))&&(r=r.isVisible(),t.getSvgRoot().style.display=r?"block":"none")}onCheckChanged_(){!this.isConnected()||this.targetConnection&&this.getConnectionChecker().canConnect(this,this.targetConnection,!1)||((this.isSuperior()?this.targetBlock():this.sourceBlock_).unplug(),this.sourceBlock_.bumpNeighbours())}};(function(t){t=t.TrackedState||(t.TrackedState={}),t[t.WILL_TRACK=-1]="WILL_TRACK",t[t.UNTRACKED=0]="UNTRACKED",t[t.TRACKED=1]="TRACKED"})(Pr||(Pr={})),Pr.TrackedState;var Ym=17,_s=class extends sf{constructor(t){super(t),this.sourceBlock=t,this.textMap=new Map,this.textBubble=null}getType(){return _s.TYPE}initView(t){this.svgRoot||(super.initView(t),we(nt.PATH,{class:"blocklyIconShape",d:"M2,15Q-1,15 0.5,12L6.5,1.7Q8,-1 9.5,1.7L15.5,12Q17,15 14,15z"},this.svgRoot),we(nt.PATH,{class:"blocklyIconSymbol",d:"m7,4.8v3.16l0.27,2.27h1.46l0.27,-2.27v-3.16z"},this.svgRoot),we(nt.RECT,{class:"blocklyIconSymbol",x:"7",y:"11",height:"2",width:"2"},this.svgRoot))}dispose(){super.dispose();let t;(t=this.textBubble)==null||t.dispose()}getWeight(){return _s.WEIGHT}getSize(){return new Zn(Ym,Ym)}applyColour(){super.applyColour();let t;(t=this.textBubble)==null||t.setColour(this.sourceBlock.style.colourPrimary)}updateCollapsed(){}isShownWhenCollapsed(){return!0}onLocationChange(t){super.onLocationChange(t);let r;(r=this.textBubble)==null||r.setAnchorLocation(this.getAnchorLocation())}addMessage(t,r){if(this.textMap.get(r)===t)return this;t?this.textMap.set(r,t):this.textMap.delete(r);let s;return(s=this.textBubble)==null||s.setText(this.getText()),this}getText(){return[...this.textMap.values()].join(`
`)}onClick(){super.onClick(),this.setBubbleVisible(!this.bubbleIsVisible())}bubbleIsVisible(){return!!this.textBubble}setBubbleVisible(t){if(this.bubbleIsVisible()!==t){if(t)this.textBubble=new ff(this.getText(),this.sourceBlock.workspace,this.getAnchorLocation(),this.getBubbleOwnerRect()),this.applyColour();else{let r;(r=this.textBubble)==null||r.dispose(),this.textBubble=null}K(new(se(ps))(this.sourceBlock,t,"warning"))}}getAnchorLocation(){const t=Ym/2;return Pt.sum(this.workspaceLocation,new Pt(t,t))}getBubbleOwnerRect(){const t=this.sourceBlock.getSvgRoot().getBBox();return new ro(t.y,t.y+t.height,t.x,t.x+t.width)}};_s.TYPE=er.WARNING,_s.WEIGHT=2;var Ni=class extends wc{constructor(t,r,s){super(t,r,s),this.width=this.height=0,this.warningTextDb=new Map,this.warning=this.mutator=null,this.eventsInit_=this.renderIsInProgress_=this.visuallyDisabled=this.rendered=!1,this.translation="",this.bumpNeighboursPid=0,this.relativeCoords=new Pt(0,0),this.workspace=t,this.svgGroup_=we(nt.G,{}),this.style=t.getRenderer().getConstants().getBlockStyle(null),this.pathObject=t.getRenderer().makePathObject(this.svgGroup_,this.style),t=this.pathObject.svgPath,t.tooltip=this,tc(t),this.svgGroup_.setAttribute("data-id",this.id),this.doInit_()}initSvg(){if(!this.workspace.rendered)throw TypeError("Workspace is headless.");for(let r=0,s;s=this.inputList[r];r++)s.init();for(var t of this.getIcons())t.initView(this.createIconPointerDownListener(t)),t.updateEditable();this.applyColour(),this.pathObject.updateMovable(this.isMovable()),t=this.getSvgRoot(),this.workspace.options.readOnly||this.eventsInit_||!t||kt(t,"pointerdown",this,this.onMouseDown_),this.eventsInit_=!0,t.parentNode||this.workspace.getCanvas().appendChild(t)}getColourSecondary(){return this.style.colourSecondary}getColourTertiary(){return this.style.colourTertiary}select(){if(this.isShadow()&&this.getParent())this.getParent().select();else if(G()!==this){var t=null;if(G()){t=G().id,n.disable$$module$build$src$core$events$utils();try{G().unselect()}finally{n.enable$$module$build$src$core$events$utils()}}t=new(se(Gi))(t,this.id,this.workspace.id),K(t),j(this),this.addSelect()}}unselect(){if(G()===this){var t=new(se(Gi))(this.id,null,this.workspace.id);t.workspaceId=this.workspace.id,K(t),j(null),this.removeSelect()}}setParent(t){const r=this.parentBlock_;if(t!==r){qe(),super.setParent(t),Xe();var s=this.getSvgRoot();if(!this.workspace.isClearing&&s){var c=this.getRelativeToSurfaceXY();t?t.getSvgRoot().appendChild(s):r&&(this.workspace.getCanvas().appendChild(s),this.translate(c.x,c.y)),this.applyColour()}}}getRelativeToSurfaceXY(){let t=0,r=0,s=this.getSvgRoot();if(s)do{const c=Yo(s);t+=c.x,r+=c.y,s=s.parentNode}while(s&&s!==this.workspace.getCanvas());return new Pt(t,r)}moveBy(t,r,s){if(this.parentBlock_)throw Error("Block has parent");const c=Q();let g=null;c&&(g=new(se(n.MOVE$$module$build$src$core$events$utils))(this),s&&g.setReason(s)),s=this.getRelativeToSurfaceXY(),this.translate(s.x+t,s.y+r),this.moveConnections(t,r),c&&g&&(g.recordNew(),K(g)),this.workspace.resizeContents()}translate(t,r){this.translation=`translate(${t}, ${r})`,this.relativeCoords=new Pt(t,r),this.getSvgRoot().setAttribute("transform",this.getTranslation())}getTranslation(){return this.translation}moveTo(t,r){const s=this.getRelativeToSurfaceXY();this.moveBy(t.x-s.x,t.y-s.y,r)}moveDuringDrag(t){this.translate(t.x,t.y),this.getSvgRoot().setAttribute("transform",this.getTranslation())}clearTransformAttributes_(){this.getSvgRoot().removeAttribute("transform")}snapToGrid(){if(!(this.isDeadOrDying()||this.workspace.isDragging()||this.getParent()||this.isInFlyout)){var t=this.workspace.getGrid();if(t&&t.shouldSnap()){var r=t.getSpacing(),s=r/2,c=this.getRelativeToSurfaceXY();t=Math.round(Math.round((c.x-s)/r)*r+s-c.x),r=Math.round(Math.round((c.y-s)/r)*r+s-c.y),(t||r)&&this.moveBy(t,r,["snap"])}}}getBoundingRectangle(){const t=this.getRelativeToSurfaceXY(),r=this.getHeightWidth();let s,c;return this.RTL?(s=t.x-r.width,c=t.x):(s=t.x,c=t.x+r.width),new ro(t.y,t.y+r.height,s,c)}markDirty(){this.pathObject.constants=this.workspace.getRenderer().getConstants();for(let t=0,r;r=this.inputList[t];t++)r.markDirty()}setCollapsed(t){this.collapsed_!==t&&(super.setCollapsed(t),this.updateCollapsed_())}updateCollapsed_(){var t=this.isCollapsed();const r=Tc,s=Jp;for(let g=0,P;P=this.inputList[g];g++)P.name!==r&&P.setVisible(!t);for(var c of this.getIcons())c.updateCollapsed();t?(t=this.toString(T_),(c=this.getField(s))?c.setValue(t):(this.getInput(r)||this.appendDummyInput(r)).appendField(new Hs(t),s)):(this.updateDisabled(),this.removeInput(r))}tab(t,r){const s=new y_;s.setCurNode(It.createFieldNode(t)),t=s.getCurNode(),r?s.next():s.prev(),(r=s.getCurNode())&&r!==t&&(r.getLocation().showEditor(),this.workspace.keyboardAccessibilityMode&&this.workspace.getCursor().setCurNode(r))}onMouseDown_(t){const r=this.workspace.getGesture(t);r&&r.handleBlockStart(t,this)}showHelp(){const t=typeof this.helpUrl=="function"?this.helpUrl():this.helpUrl;t&&window.open(t)}generateContextMenu(){if(this.workspace.options.readOnly||!this.contextMenu)return null;const t=Vn.registry.getContextMenuOptions(Vn.ScopeType.BLOCK,{block:this});return this.customContextMenu&&this.customContextMenu(t),t}showContextMenu(t){const r=this.generateContextMenu();r&&r.length&&(Ei(t,r,this.RTL),Fg(this))}moveConnections(t,r){if(this.rendered){for(var s=this.getConnections_(!1),c=0;c<s.length;c++)s[c].moveBy(t,r);s=this.getIcons(),c=this.getRelativeToSurfaceXY();for(var g of s)g.onLocationChange(c);for(g=0;g<this.childBlocks_.length;g++)this.childBlocks_[g].moveConnections(t,r)}}setDragging(t){t?(this.translation="",pc.push(...this.getConnections_(!0)),le(this.svgGroup_,"blocklyDragging")):(pc.length=0,re(this.svgGroup_,"blocklyDragging"));for(let r=0;r<this.childBlocks_.length;r++)this.childBlocks_[r].setDragging(t)}setMovable(t){super.setMovable(t),this.pathObject.updateMovable(t)}setEditable(t){super.setEditable(t),t=this.getIcons();for(let r=0;r<t.length;r++)t[r].updateEditable()}setShadow(t){super.setShadow(t),this.applyColour()}setInsertionMarker(t){this.isInsertionMarker_!==t&&(this.isInsertionMarker_=t)&&(this.setColour(this.workspace.getRenderer().getConstants().INSERTION_MARKER_COLOUR),this.pathObject.updateInsertionMarker(!0))}getSvgRoot(){return this.svgGroup_}dispose(t,r){this.isDeadOrDying()||(up(),Rd(),r&&this.rendered&&(this.unplug(t),Ja(this)),super.dispose(!!t),Ne(this.svgGroup_))}disposeInternal(){this.isDeadOrDying()||(super.disposeInternal(),this.rendered=!1,G()===this&&(this.unselect(),this.workspace.cancelCurrentGesture()),[...this.warningTextDb.values()].forEach(t=>clearTimeout(t)),this.warningTextDb.clear(),this.getIcons().forEach(t=>t.dispose()))}checkAndDelete(){this.workspace.isFlyout||(n.setGroup$$module$build$src$core$events$utils(!0),this.workspace.hideChaff(),this.outputConnection?this.dispose(!1,!0):this.dispose(!0,!0),n.setGroup$$module$build$src$core$events$utils(!1))}toCopyData(){return this.isInsertionMarker_?null:{saveInfo:Kr(this,{addCoordinates:!0,addNextBlocks:!1}),source:this.workspace,typeCounts:U(this,!0)}}applyColour(){this.pathObject.applyColour(this);const t=this.getIcons();for(let r=0;r<t.length;r++)t[r].applyColour();for(let r=0,s;s=this.inputList[r];r++)for(let c=0,g;g=s.fieldRow[c];c++)g.applyColour()}updateDisabled(){const t=!this.isEnabled()||this.getInheritedDisabled();if(this.visuallyDisabled===t){let r;(r=this.getNextBlock())==null||r.updateDisabled()}else{this.applyColour(),this.visuallyDisabled=t;for(const r of this.getChildren(!1))r.updateDisabled()}}getCommentIcon(){gt("getCommentIcon","v10","v11","getIcon");let t;return(t=this.getIcon(ur.TYPE))!=null?t:null}setWarningText(t,r){const s=r||"";if(s)this.warningTextDb.has(s)&&(clearTimeout(this.warningTextDb.get(s)),this.warningTextDb.delete(s));else{for(var c of this.warningTextDb.values())clearTimeout(c);this.warningTextDb.clear()}if(this.workspace.isDragging())this.warningTextDb.set(s,setTimeout(()=>{this.isDeadOrDying()||(this.warningTextDb.delete(s),this.setWarningText(t,s))},100));else if(this.isInFlyout&&(t=null),r=this.getIcon(_s.TYPE),typeof t=="string"){c=this.getSurroundParent();let g=null;for(;c;)c.isCollapsed()&&(g=c),c=c.getSurroundParent();g&&g.setWarningText(n.Msg$$module$build$src$core$msg.COLLAPSED_WARNINGS_WARNING,Ni.COLLAPSED_WARNING_ID),r?r.addMessage(t,s):this.addIcon(new _s(this).addMessage(t,s))}else r&&(s?r.getText()||this.removeIcon(_s.TYPE):this.removeIcon(_s.TYPE))}setMutator(t){this.removeIcon(n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE),t&&this.addIcon(t)}addIcon(t){return super.addIcon(t),t instanceof _s&&(this.warning=t),t instanceof n.MutatorIcon$$module$build$src$core$icons$mutator_icon&&(this.mutator=t),this.rendered&&(t.initView(this.createIconPointerDownListener(t)),t.applyColour(),t.updateEditable(),this.render(),this.bumpNeighbours()),t}createIconPointerDownListener(t){return r=>{this.isDeadOrDying()||(r=this.workspace.getGesture(r))&&r.setStartIcon(t)}}removeIcon(t){const r=super.removeIcon(t);return t.equals(_s.TYPE)&&(this.warning=null),t.equals(n.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE)&&(this.mutator=null),this.rendered&&(this.render(),this.bumpNeighbours()),r}setEnabled(t){this.isEnabled()!==t&&(super.setEnabled(t),this.rendered&&!this.getInheritedDisabled()&&this.updateDisabled())}setHighlighted(t){this.rendered&&this.pathObject.updateHighlighted(t)}addSelect(){this.pathObject.updateSelected(!0)}removeSelect(){this.pathObject.updateSelected(!1)}setDeleteStyle(t){this.pathObject.updateDraggingDelete(t)}getColour(){return this.style.colourPrimary}setColour(t){super.setColour(t),t=this.workspace.getRenderer().getConstants().getBlockStyleForColour(this.colour_),this.pathObject.setStyle(t.style),this.style=t.style,this.styleName_=t.name,this.applyColour()}setStyle(t){const r=this.workspace.getRenderer().getConstants().getBlockStyle(t);if(this.styleName_=t,r)this.hat=r.hat,this.pathObject.setStyle(r),this.colour_=r.colourPrimary,this.style=r,this.applyColour();else throw Error("Invalid style name: "+t)}bringToFront(){let t=this;do{const r=t.getSvgRoot(),s=r.parentNode,c=s.childNodes;c[c.length-1]!==r&&s.appendChild(r),t=t.getParent()}while(t)}setPreviousStatement(t,r){super.setPreviousStatement(t,r),this.rendered&&(this.queueRender(),this.bumpNeighbours())}setNextStatement(t,r){super.setNextStatement(t,r),this.rendered&&(this.queueRender(),this.bumpNeighbours())}setOutput(t,r){super.setOutput(t,r),this.rendered&&(this.queueRender(),this.bumpNeighbours())}setInputsInline(t){super.setInputsInline(t),this.rendered&&(this.queueRender(),this.bumpNeighbours())}removeInput(t,r){return t=super.removeInput(t,r),this.rendered&&(this.queueRender(),this.bumpNeighbours()),t}moveNumberedInputBefore(t,r){super.moveNumberedInputBefore(t,r),this.rendered&&(this.queueRender(),this.bumpNeighbours())}appendInput(t){return super.appendInput(t),this.rendered&&(this.queueRender(),this.bumpNeighbours()),t}setConnectionTracking(t){if(this.previousConnection&&this.previousConnection.setTracking(t),this.outputConnection&&this.outputConnection.setTracking(t),this.nextConnection){this.nextConnection.setTracking(t);var r=this.nextConnection.targetBlock();r&&r.setConnectionTracking(t)}if(!this.collapsed_)for(r=0;r<this.inputList.length;r++){var s=this.inputList[r].connection;s&&(s.setTracking(t),(s=s.targetBlock())&&s.setConnectionTracking(t))}}getConnections_(t){const r=[];if((t||this.rendered)&&(this.outputConnection&&r.push(this.outputConnection),this.previousConnection&&r.push(this.previousConnection),this.nextConnection&&r.push(this.nextConnection),t||!this.collapsed_))for(let s=0,c;c=this.inputList[s];s++)c.connection&&r.push(c.connection);return r}lastConnectionInStack(t){return super.lastConnectionInStack(t)}getMatchingConnection(t,r){return super.getMatchingConnection(t,r)}makeConnection_(t){return new Pr(this,t)}getNextBlock(){return super.getNextBlock()}getPreviousBlock(){return super.getPreviousBlock()}bumpNeighbours(){if(!this.bumpNeighboursPid){var t=n.getGroup$$module$build$src$core$events$utils();this.bumpNeighboursPid=setTimeout(()=>{const r=n.getGroup$$module$build$src$core$events$utils();n.setGroup$$module$build$src$core$events$utils(t),this.getRootBlock().bumpNeighboursInternal(),n.setGroup$$module$build$src$core$events$utils(r),this.bumpNeighboursPid=0},n.config$$module$build$src$core$config.bumpDelay)}}bumpNeighboursInternal(){const t=this.getRootBlock();if(!(this.isDeadOrDying()||this.workspace.isDragging()||t.isInFlyout))for(const r of this.getConnections_(!1)){if(r.isSuperior()){let s;(s=r.targetBlock())==null||s.bumpNeighboursInternal()}for(const s of r.neighbours(n.config$$module$build$src$core$config.snapRadius))s.getSourceBlock().getRootBlock()!==t&&(r.isConnected()&&s.isConnected()||(r.isSuperior()?s.bumpAwayFrom(r):r.bumpAwayFrom(s)))}}scheduleSnapAndBump(){const t=n.getGroup$$module$build$src$core$events$utils();setTimeout(()=>{n.setGroup$$module$build$src$core$events$utils(t),this.snapToGrid(),n.setGroup$$module$build$src$core$events$utils(!1)},n.config$$module$build$src$core$config.bumpDelay/2),this.bumpNeighbours()}positionNearConnection(t,r){t.type!==Kt.NEXT_STATEMENT&&t.type!==Kt.INPUT_VALUE||this.moveBy(r.x-t.x,r.y-t.y)}getFirstStatementConnection(){return super.getFirstStatementConnection()}getChildren(t){return super.getChildren(t)}queueRender(){return Cp(this)}render(t){if(!this.renderIsInProgress_){this.renderIsInProgress_=!0;try{if(this.rendered=!0,qe(),this.isEnabled()||this.updateDisabled(),this.isCollapsed()&&this.updateCollapsed_(),this.workspace.getRenderer().render(this),this.updateConnectionAndIconLocations(),t!==!1){const r=this.getParent();r?r.render(!0):this.workspace.resizeContents()}Xe(),this.updateMarkers_()}finally{this.renderIsInProgress_=!1}}}renderEfficiently(){this.rendered=!0,qe(),this.isCollapsed()&&this.updateCollapsed_(),this.workspace.getRenderer().render(this),this.tightenChildrenEfficiently(),Xe(),this.updateMarkers_()}tightenChildrenEfficiently(){for(const t of this.inputList){const r=t.connection;r&&r.tightenEfficiently()}this.nextConnection&&this.nextConnection.tightenEfficiently()}updateMarkers_(){this.workspace.keyboardAccessibilityMode&&this.pathObject.cursorSvg&&this.workspace.getCursor().draw(),this.workspace.keyboardAccessibilityMode&&this.pathObject.markerSvg&&this.workspace.getMarker(eh.LOCAL_MARKER).draw();for(const t of this.inputList)for(const r of t.fieldRow)r.updateMarkers_()}updateConnectionAndIconLocations(){const t=this.getRelativeToSurfaceXY();this.previousConnection&&this.previousConnection.moveToOffset(t),this.outputConnection&&this.outputConnection.moveToOffset(t);for(let r=0;r<this.inputList.length;r++){const s=this.inputList[r].connection;s&&(s.moveToOffset(t),s.isConnected()&&s.tighten())}this.nextConnection&&(this.nextConnection.moveToOffset(t),this.nextConnection.isConnected()&&this.nextConnection.tighten());for(const r of this.getIcons())r.onLocationChange(t)}setCursorSvg(t){this.pathObject.setCursorSvg(t)}setMarkerSvg(t){this.pathObject.setMarkerSvg(t)}getHeightWidth(){let t=this.height,r=this.width;var s=this.getNextBlock();if(s){s=s.getHeightWidth();const c=this.workspace.getRenderer().getConstants().NOTCH_HEIGHT;t+=s.height-c,r=Math.max(r,s.width)}return{height:t,width:r}}fadeForReplacement(t){this.pathObject.updateReplacementFade(t)}highlightShapeForInput(t,r){this.pathObject.updateShapeForInputHighlight(t,r)}};Ni.INLINE=-1,Ni.COLLAPSED_WARNING_ID="TEMP_COLLAPSED_WARNING_";var Rc={};Rc.Bubble=Tn,Rc.MiniWorkspaceBubble=Tl,Rc.TextBubble=ff,Rc.TextInputBubble=Um;var Lc=class{constructor(t,r){this.bubble=t,this.workspace=r,this.dragTarget_=null,this.wouldDeleteBubble_=!1,this.startXY_=this.bubble.getRelativeToSurfaceXY()}startBubbleDrag(){n.getGroup$$module$build$src$core$events$utils()||n.setGroup$$module$build$src$core$events$utils(!0),this.workspace.setResizesEnabled(!1),this.bubble.setAutoLayout&&this.bubble.setAutoLayout(!1),this.bubble.setDragging&&this.bubble.setDragging(!0)}dragBubble(t,r){r=this.pixelsToWorkspaceUnits_(r),r=Pt.sum(this.startXY_,r),this.bubble.moveDuringDrag(r),r=this.dragTarget_,this.dragTarget_=this.workspace.getDragTarget(t),t=this.wouldDeleteBubble_,this.wouldDeleteBubble_=this.shouldDelete_(this.dragTarget_),t!==this.wouldDeleteBubble_&&this.updateCursorDuringBubbleDrag_(),this.dragTarget_!==r&&(r&&r.onDragExit(this.bubble),this.dragTarget_&&this.dragTarget_.onDragEnter(this.bubble)),this.dragTarget_&&this.dragTarget_.onDragOver(this.bubble)}shouldDelete_(t){return t&&this.workspace.getComponentManager().hasCapability(t.id,io.Capability.DELETE_AREA)?t.wouldDelete(this.bubble,!1):!1}updateCursorDuringBubbleDrag_(){this.bubble.setDeleteStyle(this.wouldDeleteBubble_)}endBubbleDrag(t,r){this.dragBubble(t,r),this.dragTarget_&&this.dragTarget_.shouldPreventMove(this.bubble)?t=this.startXY_:(t=this.pixelsToWorkspaceUnits_(r),t=Pt.sum(this.startXY_,t)),this.bubble.moveTo(t.x,t.y),this.dragTarget_&&this.dragTarget_.onDrop(this.bubble),this.wouldDeleteBubble_?(this.fireMoveEvent_(),this.bubble.dispose()):(this.bubble.setDragging&&this.bubble.setDragging(!1),this.fireMoveEvent_()),this.workspace.setResizesEnabled(!0),n.setGroup$$module$build$src$core$events$utils(!1)}fireMoveEvent_(){if(this.bubble instanceof $r){const t=new(se(zi))(this.bubble);t.setOldCoordinate(this.startXY_),t.recordNew(),K(t)}}pixelsToWorkspaceUnits_(t){return t=new Pt(t.x/this.workspace.scale,t.y/this.workspace.scale),this.workspace.isMutator&&t.scale(1/this.workspace.options.parentWorkspace.scale),t}},Tf=class{canConnect(t,r,s,c){return this.canConnectWithReason(t,r,s,c)===Bn.CAN_CONNECT}canConnectWithReason(t,r,s,c){const g=this.doSafetyChecks(t,r);return g!==Bn.CAN_CONNECT?g:this.doTypeChecks(t,r)?s&&!this.doDragChecks(t,r,c||0)?Bn.REASON_DRAG_CHECKS_FAILED:Bn.CAN_CONNECT:Bn.REASON_CHECKS_FAILED}getErrorMessage(t,r,s){switch(t){case Bn.REASON_SELF_CONNECTION:return"Attempted to connect a block to itself.";case Bn.REASON_DIFFERENT_WORKSPACES:return"Blocks not on same workspace.";case Bn.REASON_WRONG_TYPE:return"Attempt to connect incompatible types.";case Bn.REASON_TARGET_NULL:return"Target connection is null.";case Bn.REASON_CHECKS_FAILED:return"Connection checks failed. "+(r+" expected "+r.getCheck()+", found "+s.getCheck());case Bn.REASON_SHADOW_PARENT:return"Connecting non-shadow to shadow block.";case Bn.REASON_DRAG_CHECKS_FAILED:return"Drag checks failed.";case Bn.REASON_PREVIOUS_AND_OUTPUT:return"Block would have an output and a previous connection.";default:return"Unknown connection failure: this should never happen!"}}doSafetyChecks(t,r){if(!t||!r)return Bn.REASON_TARGET_NULL;let s,c,g;return t.isSuperior()?(s=t.getSourceBlock(),c=r.getSourceBlock(),g=r):(c=t.getSourceBlock(),s=r.getSourceBlock(),g=t,t=r),s===c?Bn.REASON_SELF_CONNECTION:g.type!==yu[t.type]?Bn.REASON_WRONG_TYPE:s.workspace!==c.workspace?Bn.REASON_DIFFERENT_WORKSPACES:s.isShadow()&&!c.isShadow()?Bn.REASON_SHADOW_PARENT:g.type===Kt.OUTPUT_VALUE&&c.previousConnection&&c.previousConnection.isConnected()||g.type===Kt.PREVIOUS_STATEMENT&&c.outputConnection&&c.outputConnection.isConnected()?Bn.REASON_PREVIOUS_AND_OUTPUT:Bn.CAN_CONNECT}doTypeChecks(t,r){if(t=t.getCheck(),r=r.getCheck(),!t||!r)return!0;for(let s=0;s<t.length;s++)if(r.indexOf(t[s])!==-1)return!0;return!1}doDragChecks(t,r,s){if(t.distanceFrom(r)>s||r.getSourceBlock().isInsertionMarker())return!1;switch(r.type){case Kt.PREVIOUS_STATEMENT:return this.canConnectToPrevious_(t,r);case Kt.OUTPUT_VALUE:if(r.isConnected()&&!r.targetBlock().isInsertionMarker()||t.isConnected())return!1;break;case Kt.INPUT_VALUE:if(r.isConnected()&&!r.targetBlock().isMovable()&&!r.targetBlock().isShadow())return!1;break;case Kt.NEXT_STATEMENT:if(r.isConnected()&&!t.getSourceBlock().nextConnection&&!r.targetBlock().isShadow()&&r.targetBlock().nextConnection||r.targetBlock()&&!r.targetBlock().isMovable()&&!r.targetBlock().isShadow())return!1;break;default:return!1}return pc.indexOf(r)===-1}canConnectToPrevious_(t,r){return t.targetConnection||pc.indexOf(r)!==-1?!1:r.targetConnection?(t=r.targetBlock(),t.isInsertionMarker()?!t.getPreviousBlock():!1):!0}};i(Rt.CONNECTION_CHECKER,Ls,Tf);var Mc=class{constructor(t){this.connectionChecker=t,this.connections=[]}addConnection(t,r){r=this.calculateIndexForYPos(r),this.connections.splice(r,0,t)}findIndexOfConnection(t,r){if(!this.connections.length)return-1;const s=this.calculateIndexForYPos(r);if(s>=this.connections.length)return-1;r=t.y;let c=s;for(;0<=c&&this.connections[c].y===r;){if(this.connections[c]===t)return c;c--}for(c=s;c<this.connections.length&&this.connections[c].y===r;){if(this.connections[c]===t)return c;c++}return-1}calculateIndexForYPos(t){if(!this.connections.length)return 0;let r=0,s=this.connections.length;for(;r<s;){const c=Math.floor((r+s)/2);if(this.connections[c].y<t)r=c+1;else if(this.connections[c].y>t)s=c;else{r=c;break}}return r}removeConnection(t,r){if(t=this.findIndexOfConnection(t,r),t===-1)throw Error("Unable to find connection in connectionDB.");this.connections.splice(t,1)}getNeighbours(t,r){function s(Qt){const Uo=g-c[Qt].x,mo=P-c[Qt].y;return Math.sqrt(Uo*Uo+mo*mo)<=r&&vt.push(c[Qt]),mo<r}const c=this.connections,g=t.x,P=t.y;t=0;let ae=c.length-2,ze=ae;for(;t<ze;)c[ze].y<P?t=ze:ae=ze,ze=Math.floor((t+ae)/2);const vt=[];if(ae=t=ze,c.length){for(;0<=t&&s(t);)t--;do ae++;while(ae<c.length&&s(ae))}return vt}isInYRange(t,r,s){return Math.abs(this.connections[t].y-r)<=s}searchForClosest(t,r,s){if(!this.connections.length)return{connection:null,radius:r};const c=t.y,g=t.x;t.x=g+s.x,t.y=c+s.y;var P=this.calculateIndexForYPos(t.y);s=null;let ae=r,ze,vt=P-1;for(;0<=vt&&this.isInYRange(vt,t.y,r);)ze=this.connections[vt],this.connectionChecker.canConnect(t,ze,!0,ae)&&(s=ze,ae=ze.distanceFrom(t)),vt--;for(;P<this.connections.length&&this.isInYRange(P,t.y,r);)ze=this.connections[P],this.connectionChecker.canConnect(t,ze,!0,ae)&&(s=ze,ae=ze.distanceFrom(t)),P++;return t.x=g,t.y=c,{connection:s,radius:ae}}static init(t){const r=[];return r[Kt.INPUT_VALUE]=new Mc(t),r[Kt.OUTPUT_VALUE]=new Mc(t),r[Kt.NEXT_STATEMENT]=new Mc(t),r[Kt.PREVIOUS_STATEMENT]=new Mc(t),r}},yf=class extends fu{constructor(t,r,s,c){super(t),this.type=hl,this.recordUndo=!1,t&&(this.name=r,this.oldValue=s,this.newValue=c)}toJson(){const t=super.toJson();if(!this.name)throw Error("The changed field name is undefined. Either pass a name to the constructor, or call fromJson.");return t.name=this.name,t.oldValue=this.oldValue,t.newValue=this.newValue,t}static fromJson(t,r,s){return r=super.fromJson(t,r,s??new yf),r.name=t.name,r.oldValue=t.oldValue,r.newValue=t.newValue,r}isNull(){return this.oldValue===this.newValue}};i(Rt.EVENT,hl,yf);var Pc=class extends fu{constructor(t){super(t),this.type=n.MOVE$$module$build$src$core$events$utils,t&&(t.isShadow()&&(this.recordUndo=!1),t=this.currentLocation_(),this.oldParentId=t.parentId,this.oldInputName=t.inputName,this.oldCoordinate=t.coordinate)}toJson(){const t=super.toJson();return t.oldParentId=this.oldParentId,t.oldInputName=this.oldInputName,this.oldCoordinate&&(t.oldCoordinate=`${Math.round(this.oldCoordinate.x)}, ${Math.round(this.oldCoordinate.y)}`),t.newParentId=this.newParentId,t.newInputName=this.newInputName,this.newCoordinate&&(t.newCoordinate=`${Math.round(this.newCoordinate.x)}, ${Math.round(this.newCoordinate.y)}`),this.reason&&(t.reason=this.reason),this.recordUndo||(t.recordUndo=this.recordUndo),t}static fromJson(t,r,s){return r=super.fromJson(t,r,s??new Pc),r.oldParentId=t.oldParentId,r.oldInputName=t.oldInputName,t.oldCoordinate&&(s=t.oldCoordinate.split(","),r.oldCoordinate=new Pt(Number(s[0]),Number(s[1]))),r.newParentId=t.newParentId,r.newInputName=t.newInputName,t.newCoordinate&&(s=t.newCoordinate.split(","),r.newCoordinate=new Pt(Number(s[0]),Number(s[1]))),t.reason!==void 0&&(r.reason=t.reason),t.recordUndo!==void 0&&(r.recordUndo=t.recordUndo),r}recordNew(){const t=this.currentLocation_();this.newParentId=t.parentId,this.newInputName=t.inputName,this.newCoordinate=t.coordinate}setReason(t){this.reason=t}currentLocation_(){var t=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var r=t.getBlockById(this.blockId);if(!r)throw Error("The block associated with the block move event could not be found");t={};const s=r.getParent();return s?(t.parentId=s.id,(r=s.getInputWithBlock(r))&&(t.inputName=r.name)):t.coordinate=r.getRelativeToSurfaceXY(),t}isNull(){return this.oldParentId===this.newParentId&&this.oldInputName===this.newInputName&&Pt.equals(this.oldCoordinate,this.newCoordinate)}run(t){var r=this.getEventWorkspace_();if(!this.blockId)throw Error("The block ID is undefined. Either pass a block to the constructor, or call fromJson");var s=r.getBlockById(this.blockId);if(s){var c=t?this.newParentId:this.oldParentId,g=t?this.newInputName:this.oldInputName;if(t=t?this.newCoordinate:this.oldCoordinate,c){var P=r.getBlockById(c);if(!P){console.warn("Can't connect to non-existent block: "+c);return}}if(s.getParent()&&s.unplug(),t)g=s.getRelativeToSurfaceXY(),s.moveBy(t.x-g.x,t.y-g.y,this.reason);else{r=s.outputConnection,(!r||s.previousConnection&&s.previousConnection.isConnected())&&(r=s.previousConnection);let ae,ze;s=(ze=r)==null?void 0:ze.type,g?(s=P.getInput(g))&&(ae=s.connection):s===Kt.PREVIOUS_STATEMENT&&(ae=P.nextConnection),ae&&r?r.connect(ae):console.warn("Can't connect to non-existent input: "+g)}}else console.warn("Can't move non-existent block: "+this.blockId)}};i(Rt.EVENT,n.MOVE$$module$build$src$core$events$utils,Pc);var Dr=class extends xs{constructor(t,r,s){super(t?t.workspace.id:void 0),this.type=ps,t&&(this.blockId=t.id,this.isOpen=r,this.bubbleType=s)}toJson(){const t=super.toJson();if(this.isOpen===void 0)throw Error("Whether this event is for opening the bubble is undefined. Either pass the value to the constructor, or call fromJson");if(!this.bubbleType)throw Error("The type of bubble is undefined. Either pass the value to the constructor, or call fromJson");return t.isOpen=this.isOpen,t.bubbleType=this.bubbleType,t.blockId=this.blockId||"",t}static fromJson(t,r,s){return r=super.fromJson(t,r,s??new Dr),r.isOpen=t.isOpen,r.bubbleType=t.bubbleType,r.blockId=t.blockId,r}},pa;(function(t){t.MUTATOR="mutator",t.COMMENT="comment",t.WARNING="warning"})(pa||(pa={})),i(Rt.EVENT,ps,Dr);var Qm=class extends xs{constructor(t,r,s){r=t?t.workspace.id:r,r===null&&(r=void 0),super(r),this.type=Ms,this.blockId=t?t.id:void 0,this.targetType=s}toJson(){const t=super.toJson();if(!this.targetType)throw Error("The click target type is undefined. Either pass a block to the constructor, or call fromJson");return t.targetType=this.targetType,t.blockId=this.blockId,t}static fromJson(t,r,s){return r=super.fromJson(t,r,s??new Qm),r.targetType=t.targetType,r.blockId=t.blockId,r}},qm;(function(t){t.BLOCK="block",t.WORKSPACE="workspace",t.ZOOM_CONTROLS="zoom_controls"})(qm||(qm={})),i(Rt.EVENT,Ms,Qm);var fa=class extends cu{constructor(t){super(),this.isBlank=!t,t&&(this.commentId=t.id,this.workspaceId=t.workspace.id,this.group=n.getGroup$$module$build$src$core$events$utils(),this.recordUndo=X())}toJson(){const t=super.toJson();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");return t.commentId=this.commentId,t}static fromJson(t,r,s){return r=super.fromJson(t,r,s??new fa),r.commentId=t.commentId,r}static CommentCreateDeleteHelper(t,r){var s=t.getEventWorkspace_();if(r){if(r=n.createElement$$module$build$src$core$utils$xml("xml"),!t.xml)throw Error("Ecountered a comment event without proper xml");r.appendChild(t.xml),n.domToWorkspace$$module$build$src$core$xml(r,s)}else{if(!t.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");(s=s.getCommentById(t.commentId))?s.dispose():console.warn("Can't uncreate non-existent comment: "+t.commentId)}}},Zm=class extends fa{constructor(t,r,s){super(t),this.type=su,t&&(this.oldContents_=typeof r>"u"?"":r,this.newContents_=typeof s>"u"?"":s)}toJson(){const t=super.toJson();if(!this.oldContents_)throw Error("The old contents is undefined. Either pass a value to the constructor, or call fromJson");if(!this.newContents_)throw Error("The new contents is undefined. Either pass a value to the constructor, or call fromJson");return t.oldContents=this.oldContents_,t.newContents=this.newContents_,t}static fromJson(t,r,s){return r=super.fromJson(t,r,s??new Zm),r.oldContents_=t.oldContents,r.newContents_=t.newContents,r}isNull(){return this.oldContents_===this.newContents_}run(t){var r=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(r=r.getCommentById(this.commentId)){var s=t?this.newContents_:this.oldContents_;if(!s)throw Error(t?"The new contents is undefined. Either pass a value to the constructor, or call fromJson":"The old contents is undefined. Either pass a value to the constructor, or call fromJson");r.setContent(s)}else console.warn("Can't change non-existent comment: "+this.commentId)}};i(Rt.EVENT,su,Zm);var Jm=class extends fa{constructor(t){super(t),this.type=Lr,t&&(this.xml=t.toXmlWithXY())}toJson(){const t=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");return t.xml=Bi(this.xml),t}static fromJson(t,r,s){return r=super.fromJson(t,r,s??new Jm),r.xml=n.textToDom$$module$build$src$core$utils$xml(t.xml),r}run(t){fa.CommentCreateDeleteHelper(this,t)}};i(Rt.EVENT,Lr,Jm);var Ef=class extends fa{constructor(t){super(t),this.type=ra,t&&(this.xml=t.toXmlWithXY())}run(t){fa.CommentCreateDeleteHelper(this,!t)}toJson(){const t=super.toJson();if(!this.xml)throw Error("The comment XML is undefined. Either pass a comment to the constructor, or call fromJson");return t.xml=Bi(this.xml),t}static fromJson(t,r,s){return r=super.fromJson(t,r,s??new Ef),r.xml=n.textToDom$$module$build$src$core$utils$xml(t.xml),r}};i(Rt.EVENT,ra,Ef);var bs=class extends fa{constructor(t){super(t),this.type=zi,t&&(this.comment_=t,this.oldCoordinate_=t.getRelativeToSurfaceXY())}recordNew(){if(this.newCoordinate_)throw Error("Tried to record the new position of a comment on the same event twice.");if(!this.comment_)throw Error("The comment is undefined. Pass a comment to the constructor if you want to use the record functionality");this.newCoordinate_=this.comment_.getRelativeToSurfaceXY()}setOldCoordinate(t){this.oldCoordinate_=t}toJson(){const t=super.toJson();if(!this.oldCoordinate_)throw Error("The old comment position is undefined. Either pass a comment to the constructor, or call fromJson");if(!this.newCoordinate_)throw Error("The new comment position is undefined. Either call recordNew, or call fromJson");return t.oldCoordinate=`${Math.round(this.oldCoordinate_.x)}, ${Math.round(this.oldCoordinate_.y)}`,t.newCoordinate=Math.round(this.newCoordinate_.x)+","+Math.round(this.newCoordinate_.y),t}static fromJson(t,r,s){return r=super.fromJson(t,r,s??new bs),s=t.oldCoordinate.split(","),r.oldCoordinate_=new Pt(Number(s[0]),Number(s[1])),s=t.newCoordinate.split(","),r.newCoordinate_=new Pt(Number(s[0]),Number(s[1])),r}isNull(){return Pt.equals(this.oldCoordinate_,this.newCoordinate_)}run(t){var r=this.getEventWorkspace_();if(!this.commentId)throw Error("The comment ID is undefined. Either pass a comment to the constructor, or call fromJson");if(r=r.getCommentById(this.commentId)){if(t=t?this.newCoordinate_:this.oldCoordinate_,!t)throw Error("Either oldCoordinate_ or newCoordinate_ is undefined. Either pass a comment to the constructor and call recordNew, or call fromJson");var s=r.getRelativeToSurfaceXY();r.moveBy(t.x-s.x,t.y-s.y)}else console.warn("Can't move non-existent comment: "+this.commentId)}};i(Rt.EVENT,zi,bs);var yn=class extends xs{constructor(t,r,s,c){let g=t?t.workspace.id:void 0;c&&c.getType()===It.types.WORKSPACE&&(g=c.getLocation().id),super(g),this.type=ea,this.blockId=t==null?void 0:t.id,this.oldNode=s||void 0,this.newNode=c,this.isCursor=r}toJson(){const t=super.toJson();if(this.isCursor===void 0)throw Error("Whether this is a cursor event or not is undefined. Either pass a value to the constructor, or call fromJson");if(!this.newNode)throw Error("The new node is undefined. Either pass a node to the constructor, or call fromJson");return t.isCursor=this.isCursor,t.blockId=this.blockId,t.oldNode=this.oldNode,t.newNode=this.newNode,t}static fromJson(t,r,s){return r=super.fromJson(t,r,s??new yn),r.isCursor=t.isCursor,r.blockId=t.blockId,r.oldNode=t.oldNode,r.newNode=t.newNode,r}};i(Rt.EVENT,ea,yn);var Cf=class extends xs{constructor(t,r){super(r),this.type=Oi,this.themeName=t}toJson(){const t=super.toJson();if(!this.themeName)throw Error("The theme name is undefined. Either pass a theme name to the constructor, or call fromJson");return t.themeName=this.themeName,t}static fromJson(t,r,s){return r=super.fromJson(t,r,s??new Cf),r.themeName=t.themeName,r}};i(Rt.EVENT,Oi,Cf);var ui=class extends xs{constructor(t,r,s){super(s),this.type=na,this.oldItem=t??void 0,this.newItem=r??void 0}toJson(){const t=super.toJson();return t.oldItem=this.oldItem,t.newItem=this.newItem,t}static fromJson(t,r,s){return r=super.fromJson(t,r,s??new ui),r.oldItem=t.oldItem,r.newItem=t.newItem,r}};i(Rt.EVENT,na,ui);var If=class extends xs{constructor(t,r){super(r),this.type=ta,this.isOpen=t}toJson(){const t=super.toJson();if(this.isOpen===void 0)throw Error("Whether this is already open or not is undefined. Either pass a value to the constructor, or call fromJson");return t.isOpen=this.isOpen,t}static fromJson(t,r,s){return r=super.fromJson(t,r,s??new If),r.isOpen=t.isOpen,r}};i(Rt.EVENT,ta,If);var e$=class extends du{constructor(t){super(t),this.type=Jo,t&&(this.varType=t.type,this.varName=t.name)}toJson(){const t=super.toJson();if(this.varType===void 0)throw Error("The var type is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");return t.varType=this.varType,t.varName=this.varName,t}static fromJson(t,r,s){return r=super.fromJson(t,r,s??new e$),r.varType=t.varType,r.varName=t.varName,r}run(t){const r=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.varName)throw Error("The var name is undefined. Either pass a variable to the constructor, or call fromJson");t?r.deleteVariableById(this.varId):r.createVariable(this.varName,this.varType,this.varId)}};i(Rt.EVENT,Jo,e$);var jn=class extends du{constructor(t,r){super(t),this.type=Si,t&&(this.oldName=t.name,this.newName=typeof r>"u"?"":r)}toJson(){const t=super.toJson();if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");return t.oldName=this.oldName,t.newName=this.newName,t}static fromJson(t,r,s){return r=super.fromJson(t,r,s??new jn),r.oldName=t.oldName,r.newName=t.newName,r}run(t){const r=this.getEventWorkspace_();if(!this.varId)throw Error("The var ID is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.oldName)throw Error("The old var name is undefined. Either pass a variable to the constructor, or call fromJson");if(!this.newName)throw Error("The new var name is undefined. Either pass a value to the constructor, or call fromJson");t?r.renameVariableById(this.varId,this.newName):r.renameVariableById(this.varId,this.oldName)}};i(Rt.EVENT,Si,jn);var t$=class extends xs{constructor(t,r,s,c,g){super(c),this.type=oa,this.viewTop=t,this.viewLeft=r,this.scale=s,this.oldScale=g}toJson(){const t=super.toJson();if(this.viewTop===void 0)throw Error("The view top is undefined. Either pass a value to the constructor, or call fromJson");if(this.viewLeft===void 0)throw Error("The view left is undefined. Either pass a value to the constructor, or call fromJson");if(this.scale===void 0)throw Error("The scale is undefined. Either pass a value to the constructor, or call fromJson");if(this.oldScale===void 0)throw Error("The old scale is undefined. Either pass a value to the constructor, or call fromJson");return t.viewTop=this.viewTop,t.viewLeft=this.viewLeft,t.scale=this.scale,t.oldScale=this.oldScale,t}static fromJson(t,r,s){return r=super.fromJson(t,r,s??new t$),r.viewTop=t.viewTop,r.viewLeft=t.viewLeft,r.scale=t.scale,r.oldScale=t.oldScale,r}};i(Rt.EVENT,oa,t$),n.CHANGE$$module$build$src$core$events$utils,n.CREATE$$module$build$src$core$events$utils,n.DELETE$$module$build$src$core$events$utils,n.MOVE$$module$build$src$core$events$utils,n.CHANGE$$module$build$src$core$events$utils,n.CREATE$$module$build$src$core$events$utils,n.DELETE$$module$build$src$core$events$utils,n.MOVE$$module$build$src$core$events$utils,n.disable$$module$build$src$core$events$utils,n.enable$$module$build$src$core$events$utils,n.getGroup$$module$build$src$core$events$utils,n.setGroup$$module$build$src$core$events$utils;var jt={};jt.Abstract=cu,jt.BLOCK_CHANGE=n.CHANGE$$module$build$src$core$events$utils,jt.BLOCK_CREATE=n.CREATE$$module$build$src$core$events$utils,jt.BLOCK_DELETE=n.DELETE$$module$build$src$core$events$utils,jt.BLOCK_DRAG=Jl,jt.BLOCK_FIELD_INTERMEDIATE_CHANGE=hl,jt.BLOCK_MOVE=n.MOVE$$module$build$src$core$events$utils,jt.BUBBLE_OPEN=ps,jt.BUMP_EVENTS=Fp,jt.BlockBase=fu,jt.BlockChange=ua,jt.BlockCreate=Om,jt.BlockDelete=Zp,jt.BlockDrag=Wm,jt.BlockFieldIntermediateChange=yf,jt.BlockMove=Pc,jt.BubbleOpen=Dr,jt.BubbleType=pa,jt.CHANGE=n.CHANGE$$module$build$src$core$events$utils,jt.CLICK=Ms,jt.COMMENT_CHANGE=su,jt.COMMENT_CREATE=Lr,jt.COMMENT_DELETE=ra,jt.COMMENT_MOVE=zi,jt.CREATE=n.CREATE$$module$build$src$core$events$utils,jt.Click=Qm,jt.ClickTarget=qm,jt.CommentBase=fa,jt.CommentChange=Zm,jt.CommentCreate=Jm,jt.CommentDelete=Ef,jt.CommentMove=bs,jt.DELETE=n.DELETE$$module$build$src$core$events$utils,jt.FINISHED_LOADING=lu,jt.FinishedLoading=n_,jt.MARKER_MOVE=ea,jt.MOVE=n.MOVE$$module$build$src$core$events$utils,jt.MarkerMove=yn,jt.SELECTED=Gi,jt.Selected=gs,jt.THEME_CHANGE=Oi,jt.TOOLBOX_ITEM_SELECT=na,jt.TRASHCAN_OPEN=ta,jt.ThemeChange=Cf,jt.ToolboxItemSelect=ui,jt.TrashcanOpen=If,jt.UI=gc,jt.UiBase=xs,jt.VAR_CREATE=pl,jt.VAR_DELETE=Jo,jt.VAR_RENAME=Si,jt.VIEWPORT_CHANGE=oa,jt.VarBase=du,jt.VarCreate=mm,jt.VarDelete=e$,jt.VarRename=jn,jt.ViewportChange=t$,jt.clearPendingUndo=ge,jt.disable=n.disable$$module$build$src$core$events$utils,jt.disableOrphans=ke,jt.enable=n.enable$$module$build$src$core$events$utils,jt.filter=ne,jt.fire=K,jt.fromJson=_e,jt.get=se,jt.getDescendantIds=Re,jt.getGroup=n.getGroup$$module$build$src$core$events$utils,jt.getRecordUndo=X,jt.isEnabled=Q,jt.setGroup=n.setGroup$$module$build$src$core$events$utils,jt.setRecordUndo=oe;var ga=class{constructor(){this.NO_PADDING=0,this.SMALL_PADDING=3,this.MEDIUM_PADDING=5,this.MEDIUM_LARGE_PADDING=8,this.LARGE_PADDING=10,this.TAB_HEIGHT=15,this.TAB_OFFSET_FROM_TOP=5,this.TAB_VERTICAL_OVERLAP=2.5,this.TAB_WIDTH=8,this.NOTCH_WIDTH=15,this.NOTCH_HEIGHT=4,this.MIN_BLOCK_WIDTH=12,this.EMPTY_BLOCK_SPACER_HEIGHT=16,this.CORNER_RADIUS=8,this.NOTCH_OFFSET_LEFT=15,this.STATEMENT_BOTTOM_SPACER=0,this.STATEMENT_INPUT_PADDING_LEFT=20,this.BETWEEN_STATEMENT_PADDING_Y=4,this.ADD_START_HATS=!1,this.START_HAT_HEIGHT=15,this.START_HAT_WIDTH=100,this.SPACER_DEFAULT_HEIGHT=15,this.MIN_BLOCK_HEIGHT=24,this.EMPTY_INLINE_INPUT_PADDING=14.5,this.EXTERNAL_VALUE_INPUT_PADDING=2,this.JAGGED_TEETH_HEIGHT=12,this.JAGGED_TEETH_WIDTH=6,this.FIELD_TEXT_FONTSIZE=11,this.FIELD_TEXT_FONTWEIGHT="normal",this.FIELD_TEXT_FONTFAMILY="sans-serif",this.FIELD_TEXT_BASELINE=this.FIELD_TEXT_HEIGHT=-1,this.FIELD_BORDER_RECT_RADIUS=4,this.FIELD_BORDER_RECT_HEIGHT=16,this.FIELD_BORDER_RECT_X_PADDING=5,this.FIELD_BORDER_RECT_Y_PADDING=3,this.FIELD_BORDER_RECT_COLOUR="#fff",this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!1,this.FIELD_DROPDOWN_SVG_ARROW_SIZE=12,this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=!1,this.FIELD_COLOUR_DEFAULT_WIDTH=26,this.defs=null,this.embossFilterId="",this.embossFilter=null,this.disabledPatternId="",this.disabledPattern=null,this.debugFilterId="",this.cssNode=this.debugFilter=null,this.CURSOR_COLOUR="#cc0a0a",this.MARKER_COLOUR="#4286f4",this.CURSOR_WS_WIDTH=100,this.WS_CURSOR_HEIGHT=5,this.CURSOR_STACK_PADDING=10,this.CURSOR_BLOCK_PADDING=2,this.CURSOR_STROKE_WIDTH=4,this.FULL_BLOCK_FIELDS=!1,this.INSERTION_MARKER_COLOUR="#000000",this.INSERTION_MARKER_OPACITY=.2,this.SHAPES={PUZZLE:1,NOTCH:2},this.TALL_INPUT_FIELD_OFFSET_Y=this.MEDIUM_PADDING,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=this.DUMMY_INPUT_MIN_HEIGHT=this.TAB_HEIGHT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT,this.TOP_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.MEDIUM_PADDING,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.EMPTY_INLINE_INPUT_HEIGHT=this.TAB_HEIGHT+11,this.EMPTY_STATEMENT_INPUT_HEIGHT=this.MIN_BLOCK_HEIGHT,this.START_POINT=fo(0,0),this.FIELD_TEXT_BASELINE_CENTER=!0,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_DROPDOWN_SVG_ARROW_DATAURI="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=",this.FIELD_COLOUR_DEFAULT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT,this.FIELD_CHECKBOX_X_OFFSET=this.FIELD_BORDER_RECT_X_PADDING-3,this.randomIdentifier=String(Math.random()).substring(2)}init(){this.JAGGED_TEETH=this.makeJaggedTeeth(),this.NOTCH=this.makeNotch(),this.START_HAT=this.makeStartHat(),this.PUZZLE_TAB=this.makePuzzleTab(),this.INSIDE_CORNERS=this.makeInsideCorners(),this.OUTSIDE_CORNERS=this.makeOutsideCorners()}setTheme(t){this.blockStyles=Object.create(null);const r=t.blockStyles;for(const s in r)this.blockStyles[s]=this.validatedBlockStyle_(r[s]);this.setDynamicProperties_(t)}setDynamicProperties_(t){this.setFontConstants_(t),this.setComponentConstants_(t),this.ADD_START_HATS=t.startHats!==void 0?t.startHats:this.ADD_START_HATS}setFontConstants_(t){t.fontStyle&&t.fontStyle.family&&(this.FIELD_TEXT_FONTFAMILY=t.fontStyle.family),t.fontStyle&&t.fontStyle.weight&&(this.FIELD_TEXT_FONTWEIGHT=t.fontStyle.weight),t.fontStyle&&t.fontStyle.size&&(this.FIELD_TEXT_FONTSIZE=t.fontStyle.size),t=he("Hg",this.FIELD_TEXT_FONTSIZE+"pt",this.FIELD_TEXT_FONTWEIGHT,this.FIELD_TEXT_FONTFAMILY),this.FIELD_TEXT_HEIGHT=t.height,this.FIELD_TEXT_BASELINE=t.baseline}setComponentConstants_(t){this.CURSOR_COLOUR=t.getComponentStyle("cursorColour")||this.CURSOR_COLOUR,this.MARKER_COLOUR=t.getComponentStyle("markerColour")||this.MARKER_COLOUR,this.INSERTION_MARKER_COLOUR=t.getComponentStyle("insertionMarkerColour")||this.INSERTION_MARKER_COLOUR,this.INSERTION_MARKER_OPACITY=Number(t.getComponentStyle("insertionMarkerOpacity"))||this.INSERTION_MARKER_OPACITY}getBlockStyleForColour(t){const r="auto_"+t;return this.blockStyles[r]||(this.blockStyles[r]=this.createBlockStyle_(t)),{style:this.blockStyles[r],name:r}}getBlockStyle(t){return this.blockStyles[t||""]||(t&&t.indexOf("auto_")===0?this.getBlockStyleForColour(t.substring(5)).style:this.createBlockStyle_("#000000"))}createBlockStyle_(t){return this.validatedBlockStyle_({colourPrimary:t})}validatedBlockStyle_(t){const r={};return t&&Object.assign(r,t),t=oc(r.colourPrimary||"#000"),r.colourPrimary=t.hex,r.colourSecondary=r.colourSecondary?oc(r.colourSecondary).hex:this.generateSecondaryColour_(r.colourPrimary),r.colourTertiary=r.colourTertiary?oc(r.colourTertiary).hex:this.generateTertiaryColour_(r.colourPrimary),r.hat=r.hat||"",r}generateSecondaryColour_(t){return Fi("#fff",t,.6)||t}generateTertiaryColour_(t){return Fi("#fff",t,.3)||t}dispose(){this.embossFilter&&Ne(this.embossFilter),this.disabledPattern&&Ne(this.disabledPattern),this.debugFilter&&Ne(this.debugFilter),this.cssNode=null}makeJaggedTeeth(){const t=this.JAGGED_TEETH_HEIGHT,r=this.JAGGED_TEETH_WIDTH,s=ic([Vt(r,t/4),Vt(2*-r,t/2),Vt(r,t/4)]);return{height:t,width:r,path:s}}makeStartHat(){const t=this.START_HAT_HEIGHT,r=this.START_HAT_WIDTH,s=no("c",[Vt(30,-t),Vt(70,-t),Vt(r,0)]);return{height:t,width:r,path:s}}makePuzzleTab(){function t(P){P=P?-1:1;const ae=-P;var ze=s/2;const vt=ze+2.5,Qt=ze+.5,Uo=Vt(-r,P*ze);return ze=Vt(r,P*ze),no("c",[Vt(0,P*vt),Vt(-r,ae*Qt),Uo])+no("s",[Vt(r,2.5*ae),ze])}const r=this.TAB_WIDTH,s=this.TAB_HEIGHT,c=t(!0),g=t(!1);return{type:this.SHAPES.PUZZLE,width:r,height:s,pathDown:g,pathUp:c}}makeNotch(){function t(ae){return ic([Vt(ae*c,s),Vt(3*ae,0),Vt(ae*c,-s)])}const r=this.NOTCH_WIDTH,s=this.NOTCH_HEIGHT,c=(r-3)/2,g=t(1),P=t(-1);return{type:this.SHAPES.NOTCH,width:r,height:s,pathLeft:g,pathRight:P}}makeInsideCorners(){const t=this.CORNER_RADIUS,r=go("a","0 0,0",t,Vt(-t,t)),s=go("a","0 0,0",t,Vt(t,t));return{width:t,height:t,pathTop:r,pathBottom:s}}makeOutsideCorners(){const t=this.CORNER_RADIUS,r=fo(0,t)+go("a","0 0,1",t,Vt(t,-t)),s=go("a","0 0,1",t,Vt(t,t)),c=go("a","0 0,1",t,Vt(-t,-t)),g=go("a","0 0,1",t,Vt(-t,t));return{topLeft:r,topRight:s,bottomRight:g,bottomLeft:c,rightHeight:t}}shapeFor(t){switch(t.type){case Kt.INPUT_VALUE:case Kt.OUTPUT_VALUE:return this.PUZZLE_TAB;case Kt.PREVIOUS_STATEMENT:case Kt.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown connection type")}}createDom(t,r,s){this.injectCSS_(r,s),this.defs=we(nt.DEFS,{},t),t=we(nt.FILTER,{id:"blocklyEmbossFilter"+this.randomIdentifier},this.defs),we(nt.FEGAUSSIANBLUR,{in:"SourceAlpha",stdDeviation:1,result:"blur"},t),r=we(nt.FESPECULARLIGHTING,{in:"blur",surfaceScale:1,specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},t),we(nt.FEPOINTLIGHT,{x:-5e3,y:-1e4,z:2e4},r),we(nt.FECOMPOSITE,{in:"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},t),we(nt.FECOMPOSITE,{in:"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},t),this.embossFilterId=t.id,this.embossFilter=t,t=we(nt.PATTERN,{id:"blocklyDisabledPattern"+this.randomIdentifier,patternUnits:"userSpaceOnUse",width:10,height:10},this.defs),we(nt.RECT,{width:10,height:10,fill:"#aaa"},t),we(nt.PATH,{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},t),this.disabledPatternId=t.id,this.disabledPattern=t,this.createDebugFilter()}createDebugFilter(){if(!this.debugFilter){const t=we(nt.FILTER,{id:"blocklyDebugFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},this.defs),r=we(nt.FECOMPONENTTRANSFER,{result:"outBlur"},t);we(nt.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},r),we(nt.FEFLOOD,{"flood-color":"#ff0000","flood-opacity":.5,result:"outColor"},t),we(nt.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},t),this.debugFilterId=t.id,this.debugFilter=t}}injectCSS_(t,r){r=this.getCSS_(r),t="blockly-renderer-style-"+t,this.cssNode=document.getElementById(t);const s=r.join(`
`);this.cssNode?this.cssNode.firstChild.textContent=s:(r=document.createElement("style"),r.id=t,t=document.createTextNode(s),r.appendChild(t),document.head.insertBefore(r,document.head.firstChild),this.cssNode=r)}getCSS_(t){return[`${t} .blocklyText, `,`${t} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${t} .blocklyText {`,"fill: #fff;","}",`${t} .blocklyNonEditableText>rect,`,`${t} .blocklyEditableText>rect {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"fill-opacity: .6;","stroke: none;","}",`${t} .blocklyNonEditableText>text,`,`${t} .blocklyEditableText>text {`,"fill: #000;","}",`${t} .blocklyFlyoutLabelText {`,"fill: #000;","}",`${t} .blocklyText.blocklyBubbleText {`,"fill: #000;","}",`${t} .blocklyEditableText:not(.editing):hover>rect {`,"stroke: #fff;","stroke-width: 2;","}",`${t} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"}",`${t} .blocklySelected>.blocklyPath {`,"stroke: #fc3;","stroke-width: 3px;","}",`${t} .blocklyHighlightedConnectionPath {`,"stroke: #fc3;","}",`${t} .blocklyReplaceable .blocklyPath {`,"fill-opacity: .5;","}",`${t} .blocklyReplaceable .blocklyPathLight,`,`${t} .blocklyReplaceable .blocklyPathDark {`,"display: none;","}",`${t} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"]}},E_=class extends ga{constructor(){super(),this.GRID_UNIT=4,this.CURSOR_COLOUR="#ffa200",this.CURSOR_RADIUS=5,this.JAGGED_TEETH_WIDTH=this.JAGGED_TEETH_HEIGHT=0,this.START_HAT_HEIGHT=22,this.START_HAT_WIDTH=96,this.SHAPES={HEXAGONAL:1,ROUND:2,SQUARE:3,PUZZLE:4,NOTCH:5},this.SHAPE_IN_SHAPE_PADDING={1:{0:5*this.GRID_UNIT,1:2*this.GRID_UNIT,2:5*this.GRID_UNIT,3:5*this.GRID_UNIT},2:{0:3*this.GRID_UNIT,1:3*this.GRID_UNIT,2:1*this.GRID_UNIT,3:2*this.GRID_UNIT},3:{0:2*this.GRID_UNIT,1:2*this.GRID_UNIT,2:2*this.GRID_UNIT,3:2*this.GRID_UNIT}},this.FULL_BLOCK_FIELDS=!0,this.FIELD_TEXT_FONTWEIGHT="bold",this.FIELD_TEXT_FONTFAMILY='"Helvetica Neue", "Segoe UI", Helvetica, sans-serif',this.FIELD_COLOUR_FULL_BLOCK=this.FIELD_TEXTINPUT_BOX_SHADOW=this.FIELD_DROPDOWN_SVG_ARROW=this.FIELD_DROPDOWN_COLOURED_DIV=this.FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW=!0,this.SELECTED_GLOW_COLOUR="#fff200",this.SELECTED_GLOW_SIZE=.5,this.REPLACEMENT_GLOW_COLOUR="#fff200",this.REPLACEMENT_GLOW_SIZE=2,this.selectedGlowFilterId="",this.selectedGlowFilter=null,this.replacementGlowFilterId="",this.SQUARED=this.ROUNDED=this.HEXAGONAL=this.replacementGlowFilter=null,this.SMALL_PADDING=this.GRID_UNIT,this.MEDIUM_PADDING=2*this.GRID_UNIT,this.MEDIUM_LARGE_PADDING=3*this.GRID_UNIT,this.LARGE_PADDING=4*this.GRID_UNIT,this.CORNER_RADIUS=1*this.GRID_UNIT,this.NOTCH_WIDTH=9*this.GRID_UNIT,this.NOTCH_HEIGHT=2*this.GRID_UNIT,this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT=3*this.GRID_UNIT,this.MIN_BLOCK_WIDTH=2*this.GRID_UNIT,this.MIN_BLOCK_HEIGHT=12*this.GRID_UNIT,this.EMPTY_STATEMENT_INPUT_HEIGHT=6*this.GRID_UNIT,this.TOP_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT=this.LARGE_PADDING,this.BOTTOM_ROW_MIN_HEIGHT=this.CORNER_RADIUS,this.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT=6*this.GRID_UNIT,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT,this.STATEMENT_INPUT_SPACER_MIN_WIDTH=40*this.GRID_UNIT,this.STATEMENT_INPUT_PADDING_LEFT=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_PADDING=4*this.GRID_UNIT,this.EMPTY_INLINE_INPUT_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_MIN_HEIGHT=8*this.GRID_UNIT,this.DUMMY_INPUT_SHADOW_MIN_HEIGHT=6*this.GRID_UNIT,this.CURSOR_WS_WIDTH=20*this.GRID_UNIT,this.FIELD_TEXT_FONTSIZE=3*this.GRID_UNIT,this.FIELD_BORDER_RECT_RADIUS=this.CORNER_RADIUS,this.FIELD_BORDER_RECT_X_PADDING=2*this.GRID_UNIT,this.FIELD_BORDER_RECT_Y_PADDING=1.625*this.GRID_UNIT,this.FIELD_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=8*this.GRID_UNIT,this.FIELD_DROPDOWN_SVG_ARROW_PADDING=this.FIELD_BORDER_RECT_X_PADDING,this.FIELD_COLOUR_DEFAULT_WIDTH=2*this.GRID_UNIT,this.FIELD_COLOUR_DEFAULT_HEIGHT=4*this.GRID_UNIT,this.FIELD_CHECKBOX_X_OFFSET=1*this.GRID_UNIT,this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH=12*this.GRID_UNIT}setFontConstants_(t){super.setFontConstants_(t),this.FIELD_DROPDOWN_BORDER_RECT_HEIGHT=this.FIELD_BORDER_RECT_HEIGHT=this.FIELD_TEXT_HEIGHT+2*this.FIELD_BORDER_RECT_Y_PADDING}init(){super.init(),this.HEXAGONAL=this.makeHexagonal(),this.ROUNDED=this.makeRounded(),this.SQUARED=this.makeSquared(),this.STATEMENT_INPUT_NOTCH_OFFSET=this.NOTCH_OFFSET_LEFT+this.INSIDE_CORNERS.rightWidth}setDynamicProperties_(t){super.setDynamicProperties_(t),this.SELECTED_GLOW_COLOUR=t.getComponentStyle("selectedGlowColour")||this.SELECTED_GLOW_COLOUR;const r=Number(t.getComponentStyle("selectedGlowSize"));this.SELECTED_GLOW_SIZE=r&&!isNaN(r)?r:this.SELECTED_GLOW_SIZE,this.REPLACEMENT_GLOW_COLOUR=t.getComponentStyle("replacementGlowColour")||this.REPLACEMENT_GLOW_COLOUR,this.REPLACEMENT_GLOW_SIZE=(t=Number(t.getComponentStyle("replacementGlowSize")))&&!isNaN(t)?t:this.REPLACEMENT_GLOW_SIZE}dispose(){super.dispose(),this.selectedGlowFilter&&Ne(this.selectedGlowFilter),this.replacementGlowFilter&&Ne(this.replacementGlowFilter)}makeStartHat(){const t=this.START_HAT_HEIGHT,r=this.START_HAT_WIDTH,s=no("c",[Vt(25,-t),Vt(71,-t),Vt(r,0)]);return{height:t,width:r,path:s}}makeHexagonal(){function t(s,c,g){var P=s/2;return P=P>r?r:P,g=g?-1:1,s=(c?-1:1)*s/2,cs(-g*P,s)+cs(g*P,s)}const r=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH;return{type:this.SHAPES.HEXAGONAL,isDynamic:!0,width(s){return s/=2,s>r?r:s},height(s){return s},connectionOffsetY(s){return s/2},connectionOffsetX(s){return-s},pathDown(s){return t(s,!1,!1)},pathUp(s){return t(s,!0,!1)},pathRightDown(s){return t(s,!1,!0)},pathRightUp(s){return t(s,!1,!0)}}}makeRounded(){function t(c,g,P){const ae=c>s?c-s:0;return c=(c>s?s:c)/2,go("a","0 0,1",c,Vt((g?-1:1)*c,(g?-1:1)*c))+zt("v",(P?1:-1)*ae)+go("a","0 0,1",c,Vt((g?1:-1)*c,(g?-1:1)*c))}const r=this.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,s=2*r;return{type:this.SHAPES.ROUND,isDynamic:!0,width(c){return c/=2,c>r?r:c},height(c){return c},connectionOffsetY(c){return c/2},connectionOffsetX(c){return-c},pathDown(c){return t(c,!1,!1)},pathUp(c){return t(c,!0,!1)},pathRightDown(c){return t(c,!1,!0)},pathRightUp(c){return t(c,!1,!0)}}}makeSquared(){function t(s,c,g){return s-=2*r,go("a","0 0,1",r,Vt((c?-1:1)*r,(c?-1:1)*r))+zt("v",(g?1:-1)*s)+go("a","0 0,1",r,Vt((c?1:-1)*r,(c?-1:1)*r))}const r=this.CORNER_RADIUS;return{type:this.SHAPES.SQUARE,isDynamic:!0,width(s){return r},height(s){return s},connectionOffsetY(s){return s/2},connectionOffsetX(s){return-s},pathDown(s){return t(s,!1,!1)},pathUp(s){return t(s,!0,!1)},pathRightDown(s){return t(s,!1,!0)},pathRightUp(s){return t(s,!1,!0)}}}shapeFor(t){let r=t.getCheck();switch(!r&&t.targetConnection&&(r=t.targetConnection.getCheck()),t.type){case Kt.INPUT_VALUE:case Kt.OUTPUT_VALUE:if(t=t.getSourceBlock().getOutputShape(),t!==null)switch(t){case this.SHAPES.HEXAGONAL:return this.HEXAGONAL;case this.SHAPES.ROUND:return this.ROUNDED;case this.SHAPES.SQUARE:return this.SQUARED}return r&&r.indexOf("Boolean")!==-1?this.HEXAGONAL:r&&r.indexOf("Number")!==-1?this.ROUNDED:(r&&r.indexOf("String"),this.ROUNDED);case Kt.PREVIOUS_STATEMENT:case Kt.NEXT_STATEMENT:return this.NOTCH;default:throw Error("Unknown type")}}makeNotch(){function t(Qt){return no("c",[Vt(Qt*g/2,0),Vt(Qt*g*3/4,ae/2),Vt(Qt*g,ae)])+ic([Vt(Qt*g,P)])+no("c",[Vt(Qt*g/4,ae/2),Vt(Qt*g/2,ae),Vt(Qt*g,ae)])+zt("h",Qt*c)+no("c",[Vt(Qt*g/2,0),Vt(Qt*g*3/4,-(ae/2)),Vt(Qt*g,-ae)])+ic([Vt(Qt*g,-P)])+no("c",[Vt(Qt*g/4,-(ae/2)),Vt(Qt*g/2,-ae),Vt(Qt*g,-ae)])}const r=this.NOTCH_WIDTH,s=this.NOTCH_HEIGHT,c=r/3,g=c/3,P=s/2,ae=P/2,ze=t(1),vt=t(-1);return{type:this.SHAPES.NOTCH,width:r,height:s,pathLeft:ze,pathRight:vt}}makeInsideCorners(){const t=this.CORNER_RADIUS,r=go("a","0 0,0",t,Vt(-t,t)),s=go("a","0 0,1",t,Vt(-t,t)),c=go("a","0 0,0",t,Vt(t,t)),g=go("a","0 0,1",t,Vt(t,t));return{width:t,height:t,pathTop:r,pathBottom:c,rightWidth:t,rightHeight:t,pathTopRight:s,pathBottomRight:g}}generateSecondaryColour_(t){return Fi("#000",t,.15)||t}generateTertiaryColour_(t){return Fi("#000",t,.25)||t}createDom(t,r,s){super.createDom(t,r,s),t=we(nt.DEFS,{},t),r=we(nt.FILTER,{id:"blocklySelectedGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},t),we(nt.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.SELECTED_GLOW_SIZE},r),s=we(nt.FECOMPONENTTRANSFER,{result:"outBlur"},r),we(nt.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},s),we(nt.FEFLOOD,{"flood-color":this.SELECTED_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},r),we(nt.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},r),this.selectedGlowFilterId=r.id,this.selectedGlowFilter=r,t=we(nt.FILTER,{id:"blocklyReplacementGlowFilter"+this.randomIdentifier,height:"160%",width:"180%",y:"-30%",x:"-40%"},t),we(nt.FEGAUSSIANBLUR,{in:"SourceGraphic",stdDeviation:this.REPLACEMENT_GLOW_SIZE},t),r=we(nt.FECOMPONENTTRANSFER,{result:"outBlur"},t),we(nt.FEFUNCA,{type:"table",tableValues:"0 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1"},r),we(nt.FEFLOOD,{"flood-color":this.REPLACEMENT_GLOW_COLOUR,"flood-opacity":1,result:"outColor"},t),we(nt.FECOMPOSITE,{in:"outColor",in2:"outBlur",operator:"in",result:"outGlow"},t),we(nt.FECOMPOSITE,{in:"SourceGraphic",in2:"outGlow",operator:"over"},t),this.replacementGlowFilterId=t.id,this.replacementGlowFilter=t}getCSS_(t){return[`${t} .blocklyText,`,`${t} .blocklyFlyoutLabelText {`,`font: ${this.FIELD_TEXT_FONTWEIGHT} ${this.FIELD_TEXT_FONTSIZE}pt ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${t} .blocklyText {`,"fill: #fff;","}",`${t} .blocklyNonEditableText>rect:not(.blocklyDropdownRect),`,`${t} .blocklyEditableText>rect:not(.blocklyDropdownRect) {`,`fill: ${this.FIELD_BORDER_RECT_COLOUR};`,"}",`${t} .blocklyNonEditableText>text,`,`${t} .blocklyEditableText>text,`,`${t} .blocklyNonEditableText>g>text,`,`${t} .blocklyEditableText>g>text {`,"fill: #575E75;","}",`${t} .blocklyFlyoutLabelText {`,"fill: #575E75;","}",`${t} .blocklyText.blocklyBubbleText {`,"fill: #575E75;","}",`${t} .blocklyDraggable:not(.blocklyDisabled)`," .blocklyEditableText:not(.editing):hover>rect,",`${t} .blocklyDraggable:not(.blocklyDisabled)`," .blocklyEditableText:not(.editing):hover>.blocklyPath {","stroke: #fff;","stroke-width: 2;","}",`${t} .blocklyHtmlInput {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,`font-weight: ${this.FIELD_TEXT_FONTWEIGHT};`,"color: #575E75;","}",`${t} .blocklyDropdownText {`,"fill: #fff !important;","}",`${t}.blocklyWidgetDiv .goog-menuitem,`,`${t}.blocklyDropDownDiv .goog-menuitem {`,`font-family: ${this.FIELD_TEXT_FONTFAMILY};`,"}",`${t}.blocklyDropDownDiv .goog-menuitem-content {`,"color: #fff;","}",`${t} .blocklyHighlightedConnectionPath {`,`stroke: ${this.SELECTED_GLOW_COLOUR};`,"}",`${t} .blocklyDisabled > .blocklyOutlinePath {`,`fill: url(#blocklyDisabledPattern${this.randomIdentifier})`,"}",`${t} .blocklyInsertionMarker>.blocklyPath {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"]}},z1=class{constructor(){this.NONE=0,this.FIELD=1,this.HAT=2,this.ICON=4,this.SPACER=8,this.BETWEEN_ROW_SPACER=16,this.IN_ROW_SPACER=32,this.EXTERNAL_VALUE_INPUT=64,this.INPUT=128,this.INLINE_INPUT=256,this.STATEMENT_INPUT=512,this.CONNECTION=1024,this.PREVIOUS_CONNECTION=2048,this.NEXT_CONNECTION=4096,this.OUTPUT_CONNECTION=8192,this.CORNER=16384,this.LEFT_SQUARE_CORNER=32768,this.LEFT_ROUND_CORNER=65536,this.RIGHT_SQUARE_CORNER=131072,this.RIGHT_ROUND_CORNER=262144,this.JAGGED_EDGE=524288,this.ROW=1048576,this.TOP_ROW=2097152,this.BOTTOM_ROW=4194304,this.INPUT_ROW=8388608,this.LEFT_CORNER=this.LEFT_SQUARE_CORNER|this.LEFT_ROUND_CORNER,this.RIGHT_CORNER=this.RIGHT_SQUARE_CORNER|this.RIGHT_ROUND_CORNER,this.nextTypeValue_=16777216}getType(t){return Object.prototype.hasOwnProperty.call(this,t)||(this[t]=this.nextTypeValue_,this.nextTypeValue_<<=1),this[t]}isField(t){return t.type&this.FIELD}isHat(t){return t.type&this.HAT}isIcon(t){return t.type&this.ICON}isSpacer(t){return t.type&this.SPACER}isInRowSpacer(t){return t.type&this.IN_ROW_SPACER}isInput(t){return t.type&this.INPUT}isExternalInput(t){return t.type&this.EXTERNAL_VALUE_INPUT}isInlineInput(t){return t.type&this.INLINE_INPUT}isStatementInput(t){return t.type&this.STATEMENT_INPUT}isPreviousConnection(t){return t.type&this.PREVIOUS_CONNECTION}isNextConnection(t){return t.type&this.NEXT_CONNECTION}isPreviousOrNextConnection(t){return t.type&(this.PREVIOUS_CONNECTION|this.NEXT_CONNECTION)}isLeftRoundedCorner(t){return t.type&this.LEFT_ROUND_CORNER}isRightRoundedCorner(t){return t.type&this.RIGHT_ROUND_CORNER}isLeftSquareCorner(t){return t.type&this.LEFT_SQUARE_CORNER}isRightSquareCorner(t){return t.type&this.RIGHT_SQUARE_CORNER}isCorner(t){return t.type&this.CORNER}isJaggedEdge(t){return t.type&this.JAGGED_EDGE}isRow(t){return t.type&this.ROW}isBetweenRowSpacer(t){return t.type&this.BETWEEN_ROW_SPACER}isTopRow(t){return t.type&this.TOP_ROW}isBottomRow(t){return t.type&this.BOTTOM_ROW}isTopOrBottomRow(t){return t.type&(this.TOP_ROW|this.BOTTOM_ROW)}isInputRow(t){return t.type&this.INPUT_ROW}},Qe=new z1,zs=class{constructor(t){this.centerline=this.xPos=this.height=this.width=0,this.constants_=t,this.type=Qe.NONE,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}},Eu=class extends zs{constructor(t,r){super(t),this.connectionModel=r,this.shape=this.constants_.shapeFor(r),this.isDynamicShape="isDynamic"in this.shape&&this.shape.isDynamic,this.type|=Qe.CONNECTION}},ch=class{constructor(t,r){this.inlinePath_=this.outlinePath_="",this.block_=t,this.info_=r,this.topLeft_=t.getRelativeToSurfaceXY(),this.constants_=r.getRenderer().getConstants()}draw(){this.drawOutline_(),this.drawInternals_(),this.block_.pathObject.setPath(this.outlinePath_+`
`+this.inlinePath_),this.info_.RTL&&this.block_.pathObject.flipRTL(),this.recordSizeOnBlock_()}hideHiddenIcons_(){gt("hideHiddenIcons_","v10","v11")}recordSizeOnBlock_(){this.block_.height=this.info_.height,this.block_.width=this.info_.widthWithChildren}drawOutline_(){this.drawTop_();for(let t=1;t<this.info_.rows.length-1;t++){const r=this.info_.rows[t];r.hasJaggedEdge?this.drawJaggedEdge_(r):r.hasStatement?this.drawStatementInput_(r):r.hasExternalInput?this.drawValueInput_(r):this.drawRightSideRow_(r)}this.drawBottom_(),this.drawLeft_()}drawTop_(){const t=this.info_.topRow,r=t.elements;this.positionPreviousConnection_(),this.outlinePath_+=fo(t.xPos,this.info_.startY);for(let s=0,c;c=r[s];s++)Qe.isLeftRoundedCorner(c)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topLeft:Qe.isRightRoundedCorner(c)?this.outlinePath_+=this.constants_.OUTSIDE_CORNERS.topRight:Qe.isPreviousConnection(c)&&c instanceof Eu?this.outlinePath_+=c.shape.pathLeft:Qe.isHat(c)?this.outlinePath_+=this.constants_.START_HAT.path:Qe.isSpacer(c)&&(this.outlinePath_+=zt("h",c.width));this.outlinePath_+=zt("v",t.height)}drawJaggedEdge_(t){this.outlinePath_+=this.constants_.JAGGED_TEETH.path+zt("v",t.height-this.constants_.JAGGED_TEETH.height)}drawValueInput_(t){const r=t.getLastInput();this.positionExternalValueConnection_(t);const s=Hg(r.shape)?r.shape.pathDown(r.height):r.shape.pathDown;this.outlinePath_+=zt("H",r.xPos+r.width)+s+zt("v",t.height-r.connectionHeight)}drawStatementInput_(t){var r=t.getLastInput();if(r){var s=r.xPos+r.notchOffset+r.shape.width;r=r.shape.pathRight+zt("h",-(r.notchOffset-this.constants_.INSIDE_CORNERS.width))+this.constants_.INSIDE_CORNERS.pathTop;var c=t.height-2*this.constants_.INSIDE_CORNERS.height;this.outlinePath_+=zt("H",s)+r+zt("v",c)+this.constants_.INSIDE_CORNERS.pathBottom+zt("H",t.xPos+t.width),this.positionStatementInputConnection_(t)}}drawRightSideRow_(t){this.outlinePath_+=zt("V",t.yPos+t.height)}drawBottom_(){const t=this.info_.bottomRow,r=t.elements;this.positionNextConnection_();let s=0,c="";for(let g=r.length-1,P;P=r[g];g--)Qe.isNextConnection(P)&&P instanceof Eu?c+=P.shape.pathRight:Qe.isLeftSquareCorner(P)?c+=zt("H",t.xPos):Qe.isLeftRoundedCorner(P)?c+=this.constants_.OUTSIDE_CORNERS.bottomLeft:Qe.isRightRoundedCorner(P)?(c+=this.constants_.OUTSIDE_CORNERS.bottomRight,s=this.constants_.OUTSIDE_CORNERS.rightHeight):Qe.isSpacer(P)&&(c+=zt("h",-1*P.width));this.outlinePath_+=zt("V",t.baseline-s),this.outlinePath_+=c}drawLeft_(){var t=this.info_.outputConnection;if(this.positionOutputConnection_(),t){const r=t.connectionOffsetY+t.height;t=Hg(t.shape)?t.shape.pathUp(t.height):t.shape.pathUp,this.outlinePath_+=zt("V",r)+t}this.outlinePath_+="z"}drawInternals_(){for(let t=0,r;r=this.info_.rows[t];t++)for(let s=0,c;c=r.elements[s];s++)Qe.isInlineInput(c)?this.drawInlineInput_(c):(Qe.isIcon(c)||Qe.isField(c))&&this.layoutField_(c)}layoutField_(t){const r=t.centerline-t.height/2;let s=t.xPos;var c="";this.info_.RTL&&(s=-(s+t.width),t.flipRtl&&(s+=t.width,c="scale(-1 1)")),Qe.isIcon(t)?(c=t.icon,c.setOffsetInBlock(new Pt(s,r)),this.info_.isInsertionMarker&&c.hideForInsertionMarker()):(t=t.field.getSvgRoot(),t.setAttribute("transform","translate("+s+","+r+")"+c),this.info_.isInsertionMarker&&t.setAttribute("display","none"))}drawInlineInput_(t){const r=t.width,s=t.height,c=t.connectionOffsetY,g=t.connectionHeight+c;this.inlinePath_+=gr(t.xPos+t.connectionWidth,t.centerline-s/2)+zt("v",c)+t.shape.pathDown+zt("v",s-g)+zt("h",r-t.connectionWidth)+zt("v",-s)+"z",this.positionInlineInputConnection_(t)}positionInlineInputConnection_(t){const r=t.centerline-t.height/2;if(t.connectionModel){let s=t.xPos+t.connectionWidth+t.connectionOffsetX;this.info_.RTL&&(s*=-1),t.connectionModel.setOffsetInBlock(s,r+t.connectionOffsetY)}}positionStatementInputConnection_(t){const r=t.getLastInput();if(r!=null&&r.connectionModel){let s=t.xPos+t.statementEdge+r.notchOffset;this.info_.RTL&&(s*=-1),r.connectionModel.setOffsetInBlock(s,t.yPos)}}positionExternalValueConnection_(t){const r=t.getLastInput();if(r&&r.connectionModel){let s=t.xPos+t.width;this.info_.RTL&&(s*=-1),r.connectionModel.setOffsetInBlock(s,t.yPos)}}positionPreviousConnection_(){const t=this.info_.topRow;if(t.connection){const r=t.xPos+t.notchOffset;t.connection.connectionModel.setOffsetInBlock(this.info_.RTL?-r:r,0)}}positionNextConnection_(){const t=this.info_.bottomRow;if(t.connection){const r=t.connection,s=r.xPos;r.connectionModel.setOffsetInBlock(this.info_.RTL?-s:s,t.baseline)}}positionOutputConnection_(){if(this.info_.outputConnection){const t=this.info_.startX+this.info_.outputConnection.connectionOffsetX;this.block_.outputConnection.setOffsetInBlock(this.info_.RTL?-t:t,this.info_.outputConnection.connectionOffsetY)}}},C_=class extends ch{constructor(t,r){super(t,r)}draw(){const t=this.block_.pathObject;t.beginDrawing(),this.drawOutline_(),this.drawInternals_(),t.setPath(this.outlinePath_+`
`+this.inlinePath_),this.info_.RTL&&t.flipRTL(),this.recordSizeOnBlock_(),this.info_.outputConnection&&(t.outputShapeType=this.info_.outputConnection.shape.type),t.endDrawing()}drawOutline_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape&&!this.info_.hasStatementInput&&!this.info_.bottomRow.hasNextConnection?(this.drawFlatTop_(),this.drawRightDynamicConnection_(),this.drawFlatBottom_(),this.drawLeftDynamicConnection_()):super.drawOutline_()}drawLeft_(){this.info_.outputConnection&&this.info_.outputConnection.isDynamicShape?this.drawLeftDynamicConnection_():super.drawLeft_()}drawRightSideRow_(t){if(!(0>=t.height)){if(Qe.isSpacer(t)){const c=t.precedesStatement;var r=t.followsStatement;if(c||r){const g=this.constants_.INSIDE_CORNERS;var s=g.rightHeight;s=t.height-(c?s:0),r=r?g.pathBottomRight:"",t=0<s?zt("V",t.yPos+s):"",this.outlinePath_+=r+t+(c?g.pathTopRight:"");return}}this.outlinePath_+=zt("V",t.yPos+t.height)}}drawRightDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.outlinePath_+=this.info_.outputConnection.shape.pathRightDown(this.info_.outputConnection.height)}drawLeftDynamicConnection_(){if(!this.info_.outputConnection)throw Error("Cannot draw the output connection of a block that doesn't have one");this.positionOutputConnection_(),this.outlinePath_+=this.info_.outputConnection.shape.pathUp(this.info_.outputConnection.height),this.outlinePath_+="z"}drawFlatTop_(){const t=this.info_.topRow;this.positionPreviousConnection_(),this.outlinePath_+=fo(t.xPos,this.info_.startY),this.outlinePath_+=zt("h",t.width)}drawFlatBottom_(){const t=this.info_.bottomRow;this.positionNextConnection_(),this.outlinePath_+=zt("V",t.baseline),this.outlinePath_+=zt("h",-t.width)}drawInlineInput_(t){this.positionInlineInputConnection_(t);const r=t.input.name;if(!t.connectedBlock&&!this.info_.isInsertionMarker){var s=t.width-2*t.connectionWidth;t=gr(t.xPos+t.connectionWidth,t.centerline-t.height/2)+zt("h",s)+t.shape.pathRightDown(t.height)+zt("h",-s)+t.shape.pathUp(t.height)+"z",this.block_.pathObject.setOutlinePath(r,t)}}drawStatementInput_(t){var r=t.getLastInput();const s=r.xPos+r.notchOffset+r.shape.width,c=this.constants_.INSIDE_CORNERS,g=r.shape.pathRight+zt("h",-(r.notchOffset-c.width))+c.pathTop,P=t.height-2*c.height;r=c.pathBottom+zt("h",r.notchOffset-c.width)+(r.connectedBottomNextConnection?"":r.shape.pathLeft),this.outlinePath_+=zt("H",s)+g+zt("v",P)+r+zt("H",t.xPos+t.width),this.positionStatementInputConnection_(t)}},Cu=class extends An{constructor(t,r,s,c,g,P,ae){if(super(An.SKIP_SETUP),this.imageElement=this.clickHandler=null,this.flipRtl=this.isDirty_=this.EDITABLE=!1,this.altText="",s=Number(wo(s)),r=Number(wo(r)),isNaN(s)||isNaN(r))throw Error("Height and width values of an image field must cast to numbers.");if(0>=s||0>=r)throw Error("Height and width values of an image field must be greater than 0.");this.size_=new Zn(r,s+Cu.Y_PADDING),this.imageHeight=s,typeof g=="function"&&(this.clickHandler=g),t!==An.SKIP_SETUP&&(ae?this.configure_(ae):(this.flipRtl=!!P,this.altText=wo(c)||""),this.setValue(wo(t)))}configure_(t){super.configure_(t),t.flipRtl&&(this.flipRtl=t.flipRtl),t.alt&&(this.altText=wo(t.alt))}initView(){this.imageElement=we(nt.IMAGE,{height:this.imageHeight+"px",width:this.size_.width+"px",alt:this.altText},this.fieldGroup_),this.imageElement.setAttributeNS(ki,"xlink:href",this.value_),this.clickHandler&&(this.imageElement.style.cursor="pointer")}updateSize_(){}doClassValidation_(t){return typeof t!="string"?null:t}doValueUpdate_(t){this.value_=t,this.imageElement&&this.imageElement.setAttributeNS(ki,"xlink:href",this.value_)}getFlipRtl(){return this.flipRtl}setAlt(t){t!==this.altText&&(this.altText=t||"",this.imageElement&&this.imageElement.setAttribute("alt",this.altText))}showEditor_(){this.clickHandler&&this.clickHandler(this)}setOnClickHandler(t){this.clickHandler=t}getText_(){return this.altText}static fromJson(t){if(!t.src||!t.width||!t.height)throw Error("src, width, and height values for an image field arerequired. The width and height must be non-zero.");return new this(t.src,t.width,t.height,void 0,void 0,void 0,t)}};Cu.Y_PADDING=1,Tr("field_image",Cu),Cu.prototype.DEFAULT_VALUE="";var dh=class extends An{constructor(t,r,s){super(An.SKIP_SETUP),this.spellcheck_=!0,this.htmlInput_=null,this.isTextValid_=this.isBeingEdited_=!1,this.onKeyInputWrapper_=this.onKeyDownWrapper_=this.valueWhenEditorWasOpened_=null,this.fullBlockClickTarget_=!1,this.workspace_=null,this.SERIALIZABLE=!0,this.CURSOR="text",t!==An.SKIP_SETUP&&(s&&this.configure_(s),this.setValue(t),r&&this.setValidator(r))}configure_(t){super.configure_(t),t.spellcheck!==void 0&&(this.spellcheck_=t.spellcheck)}initView(){const t=this.getSourceBlock();if(!t)throw new Bo;if(this.getConstants().FULL_BLOCK_FIELDS){let r=0,s=0;for(let c=0,g;g=t.inputList[c];c++){for(let P=0;g.fieldRow[P];P++)r++;g.connection&&s++}this.fullBlockClickTarget_=1>=r&&t.outputConnection&&!s}else this.fullBlockClickTarget_=!1;this.fullBlockClickTarget_?this.clickTarget_=this.sourceBlock_.getSvgRoot():this.createBorderRect_(),this.createTextElement_()}doValueInvalid_(t){this.isBeingEdited_&&(this.isDirty_=!0,this.isTextValid_=!1,t=this.value_,this.value_=this.htmlInput_.getAttribute("data-untyped-default-value"),this.sourceBlock_&&Q()&&K(new(se(n.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock_,"field",this.name||null,t,this.value_)))}doValueUpdate_(t){this.isTextValid_=this.isDirty_=!0,this.value_=t}applyColour(){if(this.sourceBlock_&&this.getConstants().FULL_BLOCK_FIELDS){var t=this.sourceBlock_;this.borderRect_?this.borderRect_.setAttribute("stroke",t.style.colourTertiary):t.pathObject.svgPath.setAttribute("fill",this.getConstants().FIELD_BORDER_RECT_COLOUR)}}render_(){if(super.render_(),this.isBeingEdited_){this.resizeEditor_();const t=this.htmlInput_;this.isTextValid_?(re(t,"blocklyInvalidInput"),to(t,ho.INVALID,!1)):(le(t,"blocklyInvalidInput"),to(t,ho.INVALID,!0))}}setSpellcheck(t){t!==this.spellcheck_&&(this.spellcheck_=t,this.htmlInput_&&this.htmlInput_.setAttribute("spellcheck",this.spellcheck_))}showEditor_(t,r=!1){this.workspace_=this.sourceBlock_.workspace,!r&&this.workspace_.options.modalInputs&&(Qd||Xp||bc)?this.showPromptEditor_():this.showInlineEditor_(r)}showPromptEditor_(){k(n.Msg$$module$build$src$core$msg.CHANGE_VALUE_TITLE,this.getText(),t=>{t!==null&&this.setValue(this.getValueFromEditorText_(t))})}showInlineEditor_(t){const r=this.getSourceBlock();if(!r)throw new Bo;$t(this,r.RTL,this.widgetDispose_.bind(this)),this.htmlInput_=this.widgetCreate_(),this.isBeingEdited_=!0,this.valueWhenEditorWasOpened_=this.value_,t||(this.htmlInput_.focus({preventScroll:!0}),this.htmlInput_.select())}widgetCreate_(){var t=this.getSourceBlock();if(!t)throw new Bo;n.setGroup$$module$build$src$core$events$utils(!0);const r=Wa();var s=this.getClickTarget_();if(!s)throw Error("A click target has not been set.");le(s,"editing"),s=document.createElement("input"),s.className="blocklyHtmlInput",s.setAttribute("spellcheck",this.spellcheck_);const c=this.workspace_.getScale();var g=this.getConstants().FIELD_TEXT_FONTSIZE*c+"pt";return r.style.fontSize=g,s.style.fontSize=g,g=dh.BORDERRADIUS*c+"px",this.fullBlockClickTarget_&&(g=this.getScaledBBox(),g=(g.bottom-g.top)/2+"px",t=t.getParent()?t.getParent().style.colourTertiary:this.sourceBlock_.style.colourTertiary,s.style.border=1*c+"px solid "+t,r.style.borderRadius=g,r.style.transition="box-shadow 0.25s ease 0s",this.getConstants().FIELD_TEXTINPUT_BOX_SHADOW&&(r.style.boxShadow="rgba(255, 255, 255, 0.3) 0 0 0 "+4*c+"px")),s.style.borderRadius=g,r.appendChild(s),s.value=s.defaultValue=this.getEditorText_(this.value_),s.setAttribute("data-untyped-default-value",String(this.value_)),this.resizeEditor_(),this.bindInputEvents_(s),s}widgetDispose_(){this.isBeingEdited_=!1,this.isTextValid_=!0,this.forceRerender(),this.onFinishEditing_(this.value_),this.sourceBlock_&&Q()&&this.valueWhenEditorWasOpened_!==null&&this.valueWhenEditorWasOpened_!==this.value_&&(K(new(se(n.CHANGE$$module$build$src$core$events$utils))(this.sourceBlock_,"field",this.name||null,this.valueWhenEditorWasOpened_,this.value_)),this.valueWhenEditorWasOpened_=null),n.setGroup$$module$build$src$core$events$utils(!1),this.unbindInputEvents_();var t=Wa().style;if(t.width="auto",t.height="auto",t.fontSize="",t.transition="",t.boxShadow="",this.htmlInput_=null,t=this.getClickTarget_(),!t)throw Error("A click target has not been set.");re(t,"editing")}onFinishEditing_(t){}bindInputEvents_(t){this.onKeyDownWrapper_=kt(t,"keydown",this,this.onHtmlInputKeyDown_),this.onKeyInputWrapper_=kt(t,"input",this,this.onHtmlInputChange_)}unbindInputEvents_(){this.onKeyDownWrapper_&&(On(this.onKeyDownWrapper_),this.onKeyDownWrapper_=null),this.onKeyInputWrapper_&&(On(this.onKeyInputWrapper_),this.onKeyInputWrapper_=null)}onHtmlInputKeyDown_(t){t.key==="Enter"?(ct(),as()):t.key==="Escape"?(this.setValue(this.htmlInput_.getAttribute("data-untyped-default-value")),ct(),as()):t.key==="Tab"&&(ct(),as(),this.sourceBlock_.tab(this,!t.shiftKey),t.preventDefault())}onHtmlInputChange_(t){t=this.value_,this.setValue(this.getValueFromEditorText_(this.htmlInput_.value),!1),this.sourceBlock_&&Q()&&this.value_!==t&&K(new(se(hl))(this.sourceBlock_,this.name||null,t,this.value_)),be().then(()=>{this.resizeEditor_()})}setEditorValue_(t,r=!0){this.isDirty_=!0,this.isBeingEdited_&&(this.htmlInput_.value=this.getEditorText_(t)),this.setValue(t,r)}resizeEditor_(){var t=this.getSourceBlock();if(!t)throw new Bo;const r=Wa(),s=this.getScaledBBox();r.style.width=s.right-s.left+"px",r.style.height=s.bottom-s.top+"px",t=new Pt(t.RTL?s.right-r.offsetWidth:s.left,s.top),r.style.left=t.x+"px",r.style.top=t.y+"px"}repositionForWindowResize(){const t=this.getSourceBlock();return t instanceof Ni?(ac(this.workspace_,this.workspace_.getMetricsManager().getViewMetrics(!0),t),this.resizeEditor_(),!0):!1}isTabNavigable(){return!0}getText_(){return this.isBeingEdited_&&this.htmlInput_?this.htmlInput_.value:null}getEditorText_(t){return`${t}`}getValueFromEditorText_(t){return t}};dh.BORDERRADIUS=4;var Dc=class extends dh{constructor(t,r,s){super(t,r,s)}doClassValidation_(t){return t===void 0?null:`${t}`}static fromJson(t){return new this(wo(t.text),void 0,t)}};Tr("field_input",Dc),Dc.prototype.DEFAULT_VALUE="";var hh=class{constructor(t){this.elements=[],this.xPos=this.yPos=this.widthWithConnectedBlocks=this.minWidth=this.minHeight=this.width=this.height=0,this.hasStatement=this.hasExternalInput=!1,this.statementEdge=0,this.hasJaggedEdge=this.hasDummyInput=this.hasInlineInput=!1,this.align=null,this.constants_=t,this.type=Qe.ROW,this.notchOffset=this.constants_.NOTCH_OFFSET_LEFT}getLastInput(){for(let t=this.elements.length-1;0<=t;t--){const r=this.elements[t];if(Qe.isInput(r))return r}return null}measure(){throw Error("Unexpected attempt to measure a base Row.")}startsWithElemSpacer(){return!0}endsWithElemSpacer(){return!0}getFirstSpacer(){for(let t=0;t<this.elements.length;t++){const r=this.elements[t];if(Qe.isSpacer(r))return r}return null}getLastSpacer(){for(let t=this.elements.length-1;0<=t;t--){const r=this.elements[t];if(Qe.isSpacer(r))return r}return null}},n$=class extends hh{constructor(t){super(t),this.hasNextConnection=!1,this.connection=null,this.baseline=this.descenderHeight=0,this.type|=Qe.BOTTOM_ROW}hasLeftSquareCorner(t){return!!t.outputConnection||!!t.getNextBlock()}hasRightSquareCorner(t){return!0}measure(){let t=0,r=0,s=0;for(let c=0;c<this.elements.length;c++){const g=this.elements[c];r+=g.width,Qe.isSpacer(g)||(Qe.isNextConnection(g)?s=Math.max(s,g.height):t=Math.max(t,g.height))}this.width=Math.max(this.minWidth,r),this.height=Math.max(this.minHeight,t)+s,this.descenderHeight=s,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},ma=class extends Eu{constructor(t,r){super(t,r.connection),this.input=r,this.connectionOffsetY=this.connectionOffsetX=0,this.type|=Qe.INPUT,this.align=r.align,(this.connectedBlock=r.connection&&r.connection.targetBlock()?r.connection.targetBlock():null)?(t=this.connectedBlock.getHeightWidth(),this.connectedBlockWidth=t.width,this.connectedBlockHeight=t.height):this.connectedBlockHeight=this.connectedBlockWidth=0}},xc=class extends ma{constructor(t,r){super(t,r),this.height=0,this.type|=Qe.EXTERNAL_VALUE_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight-this.constants_.TAB_OFFSET_FROM_TOP-this.constants_.MEDIUM_PADDING:this.shape.height,this.width=this.shape.width+this.constants_.EXTERNAL_VALUE_INPUT_PADDING,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP,this.connectionHeight=this.shape.height,this.connectionWidth=this.shape.width}},Bc=class extends zs{constructor(t,r,s){super(t),this.field=r,this.parentInput=s,this.isEditable=r.EDITABLE,this.flipRtl=r.getFlipRtl(),this.type|=Qe.FIELD,t=this.field.getSize(),this.height=t.height,this.width=t.width}},ph=class extends zs{constructor(t){super(t),this.type|=Qe.HAT,this.height=this.constants_.START_HAT.height,this.width=this.constants_.START_HAT.width,this.ascenderHeight=this.height}},I_=class extends zs{constructor(t,r){super(t),this.icon=r,this.flipRtl=!1,this.isVisible=hn(r)&&r.bubbleIsVisible(),this.type|=Qe.ICON,t=r.getSize(),this.height=t.height,this.width=t.width}},Ai=class extends zs{constructor(t,r){super(t),this.type=this.type|Qe.SPACER|Qe.IN_ROW_SPACER,this.width=r,this.height=this.constants_.SPACER_DEFAULT_HEIGHT}},o$=class extends ma{constructor(t,r){super(t,r),this.type|=Qe.INLINE_INPUT,this.connectedBlock?(this.width=this.connectedBlockWidth,this.height=this.connectedBlockHeight):(this.height=this.constants_.EMPTY_INLINE_INPUT_HEIGHT,this.width=this.constants_.EMPTY_INLINE_INPUT_PADDING),this.connectionHeight=this.isDynamicShape?this.shape.height(this.height):this.shape.height,this.connectionWidth=this.isDynamicShape?this.shape.width(this.height):this.shape.width,this.connectedBlock||(this.width+=this.connectionWidth*(this.isDynamicShape?2:1)),this.connectionOffsetY="connectionOffsetY"in this.shape?this.shape.connectionOffsetY(this.connectionHeight):this.constants_.TAB_OFFSET_FROM_TOP,this.connectionOffsetX="connectionOffsetX"in this.shape?this.shape.connectionOffsetX(this.connectionWidth):0}},Vo=class extends ma{constructor(t,r){super(t,r),this.type|=Qe.STATEMENT_INPUT,this.height=this.connectedBlock?this.connectedBlockHeight+this.constants_.STATEMENT_BOTTOM_SPACER:this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT,this.width=this.constants_.STATEMENT_INPUT_NOTCH_OFFSET+this.shape.width}},yr=class extends hh{constructor(t){super(t),this.connectedBlockWidths=0,this.type|=Qe.INPUT_ROW}measure(){this.width=this.minWidth,this.height=this.minHeight;let t=0;for(let r=0;r<this.elements.length;r++){const s=this.elements[r];this.width+=s.width,Qe.isInput(s)&&s instanceof ma&&(Qe.isStatementInput(s)&&s instanceof Vo?t+=s.connectedBlockWidth:Qe.isExternalInput(s)&&s instanceof xc&&s.connectedBlockWidth!==0&&(t+=s.connectedBlockWidth-s.connectionWidth)),Qe.isSpacer(s)||(this.height=Math.max(this.height,s.height))}this.connectedBlockWidths=t,this.widthWithConnectedBlocks=this.width+t}endsWithElemSpacer(){return!this.hasExternalInput&&!this.hasStatement}},S_=class extends zs{constructor(t){super(t),this.type|=Qe.JAGGED_EDGE,this.height=this.constants_.JAGGED_TEETH.height,this.width=this.constants_.JAGGED_TEETH.width}},O_=class extends Eu{constructor(t,r){super(t,r),this.type|=Qe.NEXT_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},k_=class extends Eu{constructor(t,r){super(t,r),this.connectionOffsetX=0,this.type|=Qe.OUTPUT_CONNECTION,this.height=this.isDynamicShape?0:this.shape.height,this.startX=this.width=this.isDynamicShape?0:this.shape.width,this.connectionOffsetY=this.constants_.TAB_OFFSET_FROM_TOP}},r$=class extends Eu{constructor(t,r){super(t,r),this.type|=Qe.PREVIOUS_CONNECTION,this.height=this.shape.height,this.width=this.shape.width}},fh=class extends zs{constructor(t,r){super(t),this.type=(r&&r!=="left"?Qe.RIGHT_ROUND_CORNER:Qe.LEFT_ROUND_CORNER)|Qe.CORNER,this.width=this.constants_.CORNER_RADIUS,this.height=this.constants_.CORNER_RADIUS/2}},i$=class extends hh{constructor(t,r,s){super(t),this.height=r,this.width=s,this.precedesStatement=this.followsStatement=!1,this.widthWithConnectedBlocks=0,this.type=this.type|Qe.SPACER|Qe.BETWEEN_ROW_SPACER,this.elements=[new Ai(this.constants_,s)]}measure(){}},gh=class extends zs{constructor(t,r){super(t),this.type=(r&&r!=="left"?Qe.RIGHT_SQUARE_CORNER:Qe.LEFT_SQUARE_CORNER)|Qe.CORNER,this.width=this.height=this.constants_.NO_PADDING}},Sf=class extends hh{constructor(t){super(t),this.ascenderHeight=this.capline=0,this.hasPreviousConnection=!1,this.connection=null,this.type|=Qe.TOP_ROW}hasLeftSquareCorner(t){const r=(t.hat?t.hat==="cap":this.constants_.ADD_START_HATS)&&!t.outputConnection&&!t.previousConnection,s=t.getPreviousBlock();return!!t.outputConnection||r||(s?s.getNextBlock()===t:!1)}hasRightSquareCorner(t){return!0}measure(){let t=0,r=0,s=0;for(let c=0;c<this.elements.length;c++){const g=this.elements[c];r+=g.width,Qe.isSpacer(g)||(Qe.isHat(g)&&g instanceof ph?s=Math.max(s,g.ascenderHeight):t=Math.max(t,g.height))}this.width=Math.max(this.minWidth,r),this.height=Math.max(this.minHeight,t)+s,this.capline=this.ascenderHeight=s,this.widthWithConnectedBlocks=this.width}startsWithElemSpacer(){return!1}endsWithElemSpacer(){return!1}},Fc=class{constructor(t,r){this.statementEdge=this.width=this.widthWithChildren=this.height=0,this.rows=[],this.inputRows=[],this.startY=this.startX=0,this.renderer_=t,this.block_=r,this.constants_=this.renderer_.getConstants(),this.outputConnection=r.outputConnection?new k_(this.constants_,r.outputConnection):null,this.isInline=r.getInputsInline()&&!r.isCollapsed(),this.isCollapsed=r.isCollapsed(),this.isInsertionMarker=r.isInsertionMarker(),this.RTL=r.RTL,this.topRow=new Sf(this.constants_),this.bottomRow=new n$(this.constants_)}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}createRows_(){this.populateTopRow_(),this.rows.push(this.topRow);let t=new yr(this.constants_);this.inputRows.push(t);var r=this.block_.getIcons();for(let s=0,c;c=r[s];s++){const g=new I_(this.constants_,c);this.isCollapsed&&!c.isShownWhenCollapsed()||t.elements.push(g)}r=void 0;for(let s=0,c;c=this.block_.inputList[s];s++)if(c.isVisible()){this.shouldStartNewRow_(c,r)&&(this.rows.push(t),t=new yr(this.constants_),this.inputRows.push(t));for(let g=0,P;P=c.fieldRow[g];g++)t.elements.push(new Bc(this.constants_,P,c));this.addInput_(c,t),r=c}this.isCollapsed&&(t.hasJaggedEdge=!0,t.elements.push(new S_(this.constants_))),(t.elements.length||t.hasDummyInput)&&this.rows.push(t),this.populateBottomRow_(),this.rows.push(this.bottomRow)}populateTopRow_(){var t=!!this.block_.previousConnection;const r=(this.block_.hat?this.block_.hat==="cap":this.constants_.ADD_START_HATS)&&!this.outputConnection&&!t;let s=this.topRow.hasLeftSquareCorner(this.block_)?gh:fh;this.topRow.elements.push(new s(this.constants_)),r?(t=new ph(this.constants_),this.topRow.elements.push(t),this.topRow.capline=t.ascenderHeight):t&&(this.topRow.hasPreviousConnection=!0,this.topRow.connection=new r$(this.constants_,this.block_.previousConnection),this.topRow.elements.push(this.topRow.connection)),this.block_.inputList.length&&this.block_.inputList[0]instanceof wi&&!this.block_.isCollapsed()?this.topRow.minHeight=this.constants_.TOP_ROW_PRECEDES_STATEMENT_MIN_HEIGHT:this.topRow.minHeight=this.constants_.TOP_ROW_MIN_HEIGHT,s=this.topRow.hasRightSquareCorner(this.block_)?gh:fh,this.topRow.elements.push(new s(this.constants_,"right"))}populateBottomRow_(){this.bottomRow.hasNextConnection=!!this.block_.nextConnection,this.bottomRow.minHeight=this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof wi?this.constants_.BOTTOM_ROW_AFTER_STATEMENT_MIN_HEIGHT:this.constants_.BOTTOM_ROW_MIN_HEIGHT,this.bottomRow.hasLeftSquareCorner(this.block_)?this.bottomRow.elements.push(new gh(this.constants_)):this.bottomRow.elements.push(new fh(this.constants_)),this.bottomRow.hasNextConnection&&(this.bottomRow.connection=new O_(this.constants_,this.block_.nextConnection),this.bottomRow.elements.push(this.bottomRow.connection)),this.bottomRow.hasRightSquareCorner(this.block_)?this.bottomRow.elements.push(new gh(this.constants_,"right")):this.bottomRow.elements.push(new fh(this.constants_,"right"))}addInput_(t,r){this.isInline&&t instanceof n.ValueInput$$module$build$src$core$inputs$value_input?(r.elements.push(new o$(this.constants_,t)),r.hasInlineInput=!0):t instanceof wi?(r.elements.push(new Vo(this.constants_,t)),r.hasStatement=!0):t instanceof n.ValueInput$$module$build$src$core$inputs$value_input?(r.elements.push(new xc(this.constants_,t)),r.hasExternalInput=!0):t instanceof Yi&&(r.minHeight=Math.max(r.minHeight,t.getSourceBlock()&&t.getSourceBlock().isShadow()?this.constants_.DUMMY_INPUT_SHADOW_MIN_HEIGHT:this.constants_.DUMMY_INPUT_MIN_HEIGHT),r.hasDummyInput=!0),r.align===null&&(r.align=t.align)}shouldStartNewRow_(t,r){return r?t instanceof wi||r instanceof wi?!0:t instanceof n.ValueInput$$module$build$src$core$inputs$value_input||t instanceof Yi?!this.isInline:!1:!1}addElemSpacing_(){for(let t=0,r;r=this.rows[t];t++){const s=r.elements;if(r.elements=[],r.startsWithElemSpacer()&&r.elements.push(new Ai(this.constants_,this.getInRowSpacing_(null,s[0]))),s.length){for(let c=0;c<s.length-1;c++){r.elements.push(s[c]);const g=this.getInRowSpacing_(s[c],s[c+1]);r.elements.push(new Ai(this.constants_,g))}r.elements.push(s[s.length-1]),r.endsWithElemSpacer()&&r.elements.push(new Ai(this.constants_,this.getInRowSpacing_(s[s.length-1],null)))}}}getInRowSpacing_(t,r){if(!t&&r&&Qe.isStatementInput(r))return this.constants_.STATEMENT_INPUT_PADDING_LEFT;if(t&&Qe.isInput(t)&&!r){if(Qe.isExternalInput(t))return this.constants_.NO_PADDING;if(Qe.isInlineInput(t))return this.constants_.LARGE_PADDING;if(Qe.isStatementInput(t))return this.constants_.NO_PADDING}return t&&Qe.isLeftSquareCorner(t)&&r&&(Qe.isPreviousConnection(r)||Qe.isNextConnection(r))?r.notchOffset:t&&Qe.isLeftRoundedCorner(t)&&r&&(Qe.isPreviousConnection(r)||Qe.isNextConnection(r))?r.notchOffset-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}computeBounds_(){let t=0,r=0,s=0;for(let g=0,P;P=this.rows[g];g++){if(P.measure(),r=Math.max(r,P.width),P.hasStatement){var c=P.getLastInput();let ae,ze;c=P.width-((ze=(ae=c)==null?void 0:ae.width)!=null?ze:0),t=Math.max(t,c)}s=Math.max(s,P.widthWithConnectedBlocks)}this.statementEdge=t,this.width=r;for(let g=0,P;P=this.rows[g];g++)P.hasStatement&&(P.statementEdge=this.statementEdge);this.widthWithChildren=Math.max(r,s),this.outputConnection&&(this.startX=this.outputConnection.width,this.width+=this.outputConnection.width,this.widthWithChildren+=this.outputConnection.width)}alignRowElements_(){for(let r=0,s;s=this.rows[r];r++)if(s.hasStatement)this.alignStatementRow_(s);else{var t=s.width;t=this.getDesiredRowWidth_(s)-t,0<t&&this.addAlignmentPadding_(s,t),Qe.isTopOrBottomRow(s)&&(s.widthWithConnectedBlocks=s.width)}}getDesiredRowWidth_(t){return this.width-this.startX}addAlignmentPadding_(t,r){const s=t.getFirstSpacer(),c=t.getLastSpacer();if((t.hasExternalInput||t.hasStatement)&&(t.widthWithConnectedBlocks+=r),t.align===n.Align$$module$build$src$core$inputs$align.LEFT&&c)c.width+=r;else if(t.align===n.Align$$module$build$src$core$inputs$align.CENTRE&&s&&c)s.width+=r/2,c.width+=r/2;else if(t.align===n.Align$$module$build$src$core$inputs$align.RIGHT&&s)s.width+=r;else if(c)c.width+=r;else return;t.width+=r}alignStatementRow_(t){const r=t.getLastInput();if(r){var s=t.width-r.width,c=this.statementEdge;s=c-s,0<s&&this.addAlignmentPadding_(t,s),s=t.width,c=this.getDesiredRowWidth_(t),r.width+=c-s,r.height=Math.max(r.height,t.height),t.width+=c-s,t.widthWithConnectedBlocks=Math.max(t.width,this.statementEdge+t.connectedBlockWidths)}}addRowSpacing_(){const t=this.rows;this.rows=[];for(let r=0;r<t.length;r++)this.rows.push(t[r]),r!==t.length-1&&this.rows.push(this.makeSpacerRow_(t[r],t[r+1]))}makeSpacerRow_(t,r){var s=this.getSpacerRowHeight_(t,r);const c=this.getSpacerRowWidth_(t,r);return s=new i$(this.constants_,s,c),t.hasStatement&&(s.followsStatement=!0),r.hasStatement&&(s.precedesStatement=!0),s}getSpacerRowWidth_(t,r){return this.width-this.startX}getSpacerRowHeight_(t,r){return this.constants_.MEDIUM_PADDING}getElemCenterline_(t,r){return Qe.isSpacer(r)?t.yPos+r.height/2:Qe.isBottomRow(t)?(t=t.yPos+t.height-t.descenderHeight,Qe.isNextConnection(r)?t+r.height/2:t-r.height/2):Qe.isTopRow(t)?Qe.isHat(r)?t.capline-r.height/2:t.capline+r.height/2:t.yPos+t.height/2}recordElemPositions_(t){let r=t.xPos;for(let s=0,c;c=t.elements[s];s++)Qe.isSpacer(c)&&(c.height=t.height),c.xPos=r,c.centerline=this.getElemCenterline_(t,c),r+=c.width}finalize_(){let t=0,r=0;for(let s=0,c;c=this.rows[s];s++)c.yPos=r,c.xPos=this.startX,r+=c.height,t=Math.max(t,c.widthWithConnectedBlocks),this.recordElemPositions_(c);if(this.outputConnection&&this.block_.nextConnection){const s=this.block_.nextConnection.targetBlock();s&&(t=Math.max(t,s.getHeightWidth().width))}this.widthWithChildren=t+this.startX,this.height=r,this.startY=this.topRow.capline,this.bottomRow.baseline=r-this.bottomRow.descenderHeight}},w_=class extends n${constructor(t){super(t)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(t){return!!t.outputConnection}hasRightSquareCorner(t){return!!t.outputConnection&&!t.statementInputCount&&!t.nextConnection}},Of=class extends Vo{constructor(t,r){if(super(t,r),this.connectedBottomNextConnection=!1,this.connectedBlock){for(t=this.connectedBlock;r=t.getNextBlock();)t=r;t.nextConnection||(this.height=this.connectedBlockHeight,this.connectedBottomNextConnection=!0)}}},s$=class extends zs{constructor(t){super(t),this.width=this.height=0,this.type|=Qe.getType("RIGHT_CONNECTION")}},l$=class extends Sf{constructor(t){super(t)}endsWithElemSpacer(){return!1}hasLeftSquareCorner(t){const r=(t.hat?t.hat==="cap":this.constants_.ADD_START_HATS)&&!t.outputConnection&&!t.previousConnection;return!!t.outputConnection||r}hasRightSquareCorner(t){return!!t.outputConnection&&!t.statementInputCount&&!t.nextConnection}},N_=class extends Fc{constructor(t,r){super(t,r),this.isInline=!0,this.renderer_=t,this.constants_=this.renderer_.getConstants(),this.topRow=new l$(this.constants_),this.bottomRow=new w_(this.constants_),this.isMultiRow=!r.getInputsInline()||r.isCollapsed(),this.hasStatementInput=0<r.statementInputCount,this.rightSide=this.outputConnection?new s$(this.constants_):null,this.rightAlignedDummyInputs=new WeakMap}getRenderer(){return this.renderer_}measure(){this.createRows_(),this.addElemSpacing_(),this.addRowSpacing_(),this.adjustXPosition_(),this.computeBounds_(),this.alignRowElements_(),this.finalize_()}shouldStartNewRow_(t,r){return r?t instanceof wi||r instanceof wi?!0:t instanceof n.ValueInput$$module$build$src$core$inputs$value_input||t instanceof Yi?!this.isInline||this.isMultiRow:!1:!1}getDesiredRowWidth_(t){return t.hasStatement?this.width-this.startX-(this.constants_.INSIDE_CORNERS.rightWidth||0):super.getDesiredRowWidth_(t)}getInRowSpacing_(t,r){return t&&r||!this.outputConnection||!this.outputConnection.isDynamicShape||this.hasStatementInput||this.bottomRow.hasNextConnection?!t&&r&&Qe.isStatementInput(r)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:t&&Qe.isLeftRoundedCorner(t)&&r&&(Qe.isPreviousConnection(r)||Qe.isNextConnection(r))?r.notchOffset-this.constants_.CORNER_RADIUS:t&&Qe.isLeftSquareCorner(t)&&r&&Qe.isHat(r)?this.constants_.NO_PADDING:this.constants_.MEDIUM_PADDING:this.constants_.NO_PADDING}getSpacerRowHeight_(t,r){if(Qe.isTopRow(t)&&Qe.isBottomRow(r))return this.constants_.EMPTY_BLOCK_SPACER_HEIGHT;const s=Qe.isInputRow(t)&&t.hasStatement,c=Qe.isInputRow(r)&&r.hasStatement;return c||s?(t=Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.INSIDE_CORNERS.rightHeight||0),c&&s?Math.max(t,this.constants_.DUMMY_INPUT_MIN_HEIGHT):t):Qe.isTopRow(t)?t.hasPreviousConnection||this.outputConnection&&!this.hasStatementInput?this.constants_.NO_PADDING:Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):Qe.isBottomRow(r)?this.outputConnection?!r.hasNextConnection&&this.hasStatementInput?Math.abs(this.constants_.NOTCH_HEIGHT-this.constants_.CORNER_RADIUS):this.constants_.NO_PADDING:Math.max(this.topRow.minHeight,Math.max(this.constants_.NOTCH_HEIGHT,this.constants_.CORNER_RADIUS))-this.constants_.CORNER_RADIUS:this.constants_.MEDIUM_PADDING}getSpacerRowWidth_(t,r){const s=this.width-this.startX;return Qe.isInputRow(t)&&t.hasStatement||Qe.isInputRow(r)&&r.hasStatement?Math.max(s,this.constants_.STATEMENT_INPUT_SPACER_MIN_WIDTH):s}getElemCenterline_(t,r){if(t.hasStatement&&!Qe.isSpacer(r)&&!Qe.isStatementInput(r))return t.yPos+this.constants_.EMPTY_STATEMENT_INPUT_HEIGHT/2;if(Qe.isInlineInput(r)&&r instanceof ma){const s=r.connectedBlock;if(s&&s.outputConnection&&s.nextConnection)return t.yPos+s.height/2}return super.getElemCenterline_(t,r)}addInput_(t,r){if(t instanceof Yi&&r.hasDummyInput&&r.align===n.Align$$module$build$src$core$inputs$align.LEFT&&t.align===n.Align$$module$build$src$core$inputs$align.RIGHT)this.rightAlignedDummyInputs.set(r,t);else if(t instanceof wi){r.elements.push(new Of(this.constants_,t)),r.hasStatement=!0,r.align===null&&(r.align=t.align);return}super.addInput_(t,r)}addAlignmentPadding_(t,r){if(this.rightAlignedDummyInputs.get(t)){let s;for(let c=0;c<t.elements.length;c++){const g=t.elements[c];if(Qe.isSpacer(g)&&(s=g),Qe.isField(g)&&g instanceof Bc&&g.parentInput===this.rightAlignedDummyInputs.get(t))break}if(s){s.width+=r,t.width+=r;return}}super.addAlignmentPadding_(t,r)}adjustXPosition_(){const t=this.constants_.NOTCH_OFFSET_LEFT+this.constants_.NOTCH_WIDTH;let r=t;for(let g=2;g<this.rows.length-1;g+=2){var s=this.rows[g-1];const P=this.rows[g];var c=this.rows[g+1];if(s=g===2?!!this.topRow.hasPreviousConnection:!!s.followsStatement,c=g+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!c.precedesStatement,Qe.isInputRow(P)&&P.hasStatement){P.measure();let ae,ze;r=P.width-((ze=(ae=P.getLastInput())==null?void 0:ae.width)!=null?ze:0)+t}else if(s&&(g===2||c)&&Qe.isInputRow(P)&&!P.hasStatement){c=P.xPos,s=null;for(let ae=0;ae<P.elements.length;ae++){const ze=P.elements[ae];Qe.isSpacer(ze)&&(s=ze),s&&(Qe.isField(ze)||Qe.isInput(ze))&&c<r&&!(Qe.isField(ze)&&ze instanceof Bc&&(ze.field instanceof Hs||ze.field instanceof Cu))&&(s.width+=r-c),c+=ze.width}}}}finalizeOutputConnection_(){if(this.outputConnection&&this.outputConnection.isDynamicShape){var t=this.outputConnection.shape;if("isDynamic"in t&&t.isDynamic){for(var r=0,s=0;s<this.rows.length;s++){const c=this.rows[s];c.yPos=r,r+=c.height}this.height=r,s=this.bottomRow.hasNextConnection?this.height-this.bottomRow.descenderHeight:this.height,r=t.height(s),s=t.width(s),this.outputConnection.height=r,this.outputConnection.width=s,this.outputConnection.startX=s,this.outputConnection.connectionOffsetY=t.connectionOffsetY(r),this.outputConnection.connectionOffsetX=t.connectionOffsetX(s),t=0,this.hasStatementInput||this.bottomRow.hasNextConnection||(t=s,this.rightSide.height=r,this.rightSide.width=t,this.rightSide.centerline=r/2,this.rightSide.xPos=this.width+t),this.startX=s,this.width+=s+t,this.widthWithChildren+=s+t}}}finalizeHorizontalAlignment_(){if(this.outputConnection&&!this.hasStatementInput&&!this.bottomRow.hasNextConnection){for(var t=0,r=0;r<this.rows.length;r++){var s=this.rows[r];if(!Qe.isInputRow(s))continue;t=s.elements[s.elements.length-2];let c=this.getNegativeSpacing_(s.elements[1]),g=this.getNegativeSpacing_(t);t=c+g;const P=this.constants_.MIN_BLOCK_WIDTH+2*this.outputConnection.width;this.width-t<P&&(t=this.width-P,c=t/2,g=t/2),s.elements.unshift(new Ai(this.constants_,-c)),s.elements.push(new Ai(this.constants_,-g))}if(t)for(this.width-=t,this.widthWithChildren-=t,this.rightSide.xPos-=t,r=0;r<this.rows.length;r++)s=this.rows[r],Qe.isTopOrBottomRow(s)&&(s.elements[1].width-=t),s.width-=t,s.widthWithConnectedBlocks-=t}}getNegativeSpacing_(t){if(!t||!this.outputConnection)return 0;const r=this.outputConnection.width;var s=this.outputConnection.shape.type;const c=this.constants_;if(this.isMultiRow&&1<this.inputRows.length)switch(s){case c.SHAPES.ROUND:return s=this.constants_.MAX_DYNAMIC_CONNECTION_SHAPE_WIDTH,s=this.height/2>s?s:this.height/2,r-s*(1-Math.sin(Math.acos((s-this.constants_.SMALL_PADDING)/s)));default:return 0}if(Qe.isInlineInput(t)&&t instanceof ma){const g=t.connectedBlock;return t=g?g.pathObject.outputShapeType:t.shape.type,t==null||g&&g.outputConnection&&(g.statementInputCount||g.nextConnection)||s===c.SHAPES.HEXAGONAL&&s!==t?0:r-this.constants_.SHAPE_IN_SHAPE_PADDING[s][t]}return Qe.isField(t)&&t instanceof Bc?s===c.SHAPES.ROUND&&t.field instanceof Dc?r-2.75*c.GRID_UNIT:r-this.constants_.SHAPE_IN_SHAPE_PADDING[s][0]:Qe.isIcon(t)?this.constants_.SMALL_PADDING:0}finalizeVerticalAlignment_(){if(!this.outputConnection)for(let c=2;c<this.rows.length-1;c+=2){const g=this.rows[c-1],P=this.rows[c],ae=this.rows[c+1];var t=c===2,r=c+2>=this.rows.length-1?!!this.bottomRow.hasNextConnection:!!ae.precedesStatement;if(t?this.topRow.hasPreviousConnection:g.followsStatement){var s=P.elements[1];if(s=P.elements.length===3&&s instanceof Bc&&(s.field instanceof Hs||s.field instanceof Cu),!t&&s)g.height-=this.constants_.SMALL_PADDING,ae.height-=this.constants_.SMALL_PADDING,P.height-=this.constants_.MEDIUM_PADDING;else if(!t&&!r)g.height+=this.constants_.SMALL_PADDING;else if(r){for(t=!1,r=0;r<P.elements.length;r++)if(s=P.elements[r],s instanceof ma&&Qe.isInlineInput(s)&&s.connectedBlock&&!s.connectedBlock.isShadow()&&40<=s.connectedBlock.getHeightWidth().height){t=!0;break}t&&(g.height-=this.constants_.SMALL_PADDING,ae.height-=this.constants_.SMALL_PADDING)}}}}finalize_(){this.finalizeOutputConnection_(),this.finalizeHorizontalAlignment_(),this.finalizeVerticalAlignment_(),super.finalize_(),this.rightSide&&(this.widthWithChildren+=this.rightSide.width)}},W1="blocklyCursor",j1="blocklyMarker",X1=.75,$a=class{constructor(t,r,s){this.workspace=t,this.marker=s,this.markerSvgRect_=this.markerSvgLine_=this.markerInput_=this.markerBlock_=this.svgGroup_=this.markerSvg_=this.currentMarkerSvg=this.parent=null,this.constants_=r,t=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR,this.colour_=s.colour||t}getSvgRoot(){return this.svgGroup_}getMarker(){return this.marker}isCursor(){return this.marker.type==="cursor"}createDom(){const t=this.isCursor()?W1:j1;return this.svgGroup_=we(nt.G,{class:t}),this.createDomInternal_(),this.svgGroup_}setParent_(t){this.isCursor()?(this.parent&&this.parent.setCursorSvg(null),t.setCursorSvg(this.getSvgRoot())):(this.parent&&this.parent.setMarkerSvg(null),t.setMarkerSvg(this.getSvgRoot())),this.parent=t}draw(t,r){if(r){this.constants_=this.workspace.getRenderer().getConstants();var s=this.isCursor()?this.constants_.CURSOR_COLOUR:this.constants_.MARKER_COLOUR;this.colour_=this.marker.colour||s,this.applyColour_(r),this.showAtLocation_(r),this.fireMarkerEvent(t,r),t=this.currentMarkerSvg.childNodes[0],t!==void 0&&t.beginElement&&t.beginElement()}else this.hide()}showAtLocation_(t){const r=t.getLocation().type;t.getType()===It.types.BLOCK?this.showWithBlock_(t):t.getType()===It.types.OUTPUT?this.showWithOutput_(t):r===Kt.INPUT_VALUE?this.showWithInput_(t):r===Kt.NEXT_STATEMENT?this.showWithNext_(t):t.getType()===It.types.PREVIOUS?this.showWithPrevious_(t):t.getType()===It.types.FIELD?this.showWithField_(t):t.getType()===It.types.WORKSPACE?this.showWithCoordinates_(t):t.getType()===It.types.STACK&&this.showWithStack_(t)}showWithBlockPrevOutput(t){t=t.getSourceBlock();const r=t.width;var s=t.height,c=s*X1;const g=this.constants_.CURSOR_BLOCK_PADDING;t.previousConnection?(s=this.constants_.shapeFor(t.previousConnection),this.positionPrevious_(r,g,c,s)):t.outputConnection?(c=this.constants_.shapeFor(t.outputConnection),this.positionOutput_(r,s,c)):this.positionBlock_(r,g,c),this.setParent_(t),this.showCurrent_()}showWithBlock_(t){this.showWithBlockPrevOutput(t)}showWithPrevious_(t){this.showWithBlockPrevOutput(t)}showWithOutput_(t){this.showWithBlockPrevOutput(t)}showWithCoordinates_(t){var r=t.getWsCoordinate();t=r.x,r=r.y,this.workspace.RTL&&(t-=this.constants_.CURSOR_WS_WIDTH),this.positionLine_(t,r,this.constants_.CURSOR_WS_WIDTH),this.setParent_(this.workspace),this.showCurrent_()}showWithField_(t){t=t.getLocation();const r=t.getSize().width,s=t.getSize().height;this.positionRect_(0,0,r,s),this.setParent_(t),this.showCurrent_()}showWithInput_(t){t=t.getLocation();const r=t.getSourceBlock();this.positionInput_(t),this.setParent_(r),this.showCurrent_()}showWithNext_(t){var r=t.getLocation();t=r.getSourceBlock();let s=0;r=r.getOffsetInBlock().y;const c=t.getHeightWidth().width;this.workspace.RTL&&(s=-c),this.positionLine_(s,r,c),this.setParent_(t),this.showCurrent_()}showWithStack_(t){t=t.getLocation();var r=t.getHeightWidth();const s=r.width+this.constants_.CURSOR_STACK_PADDING;r=r.height+this.constants_.CURSOR_STACK_PADDING;const c=-this.constants_.CURSOR_STACK_PADDING/2,g=-this.constants_.CURSOR_STACK_PADDING/2;let P=c;this.workspace.RTL&&(P=-(s+c)),this.positionRect_(P,g,s,r),this.setParent_(t),this.showCurrent_()}showCurrent_(){this.hide(),this.currentMarkerSvg&&(this.currentMarkerSvg.style.display="")}positionBlock_(t,r,s){if(t=fo(-r,s)+zt("V",-r)+zt("H",t+2*r)+zt("V",s),!this.markerBlock_)throw Error("createDom should be called before positioning the marker");this.markerBlock_.setAttribute("d",t),this.workspace.RTL&&this.flipRtl(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionInput_(t){const r=t.getOffsetInBlock().x,s=t.getOffsetInBlock().y;t=gr(0,0)+this.constants_.shapeFor(t).pathDown,this.markerInput_.setAttribute("d",t),this.markerInput_.setAttribute("transform","translate("+r+","+s+")"+(this.workspace.RTL?" scale(-1 1)":"")),this.currentMarkerSvg=this.markerInput_}positionLine_(t,r,s){if(!this.markerSvgLine_)throw Error("createDom should be called before positioning the line");this.markerSvgLine_.setAttribute("x",`${t}`),this.markerSvgLine_.setAttribute("y",`${r}`),this.markerSvgLine_.setAttribute("width",`${s}`),this.currentMarkerSvg=this.markerSvgLine_}positionOutput_(t,r,s){if(!this.markerBlock_)throw Error("createDom should be called before positioning the output");t=fo(t,0)+zt("h",-(t-s.width))+zt("v",this.constants_.TAB_OFFSET_FROM_TOP)+s.pathDown+zt("V",r)+zt("H",t),this.markerBlock_.setAttribute("d",t),this.workspace.RTL&&this.flipRtl(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionPrevious_(t,r,s,c){if(!this.markerBlock_)throw Error("createDom should be called before positioning the previous connection marker");t=fo(-r,s)+zt("V",-r)+zt("H",this.constants_.NOTCH_OFFSET_LEFT)+c.pathLeft+zt("H",t+2*r)+zt("V",s),this.markerBlock_.setAttribute("d",t),this.workspace.RTL&&this.flipRtl(this.markerBlock_),this.currentMarkerSvg=this.markerBlock_}positionRect_(t,r,s,c){if(!this.markerSvgRect_)throw Error("createDom should be called before positioning the rect");this.markerSvgRect_.setAttribute("x",`${t}`),this.markerSvgRect_.setAttribute("y",`${r}`),this.markerSvgRect_.setAttribute("width",`${s}`),this.markerSvgRect_.setAttribute("height",`${c}`),this.currentMarkerSvg=this.markerSvgRect_}flipRtl(t){t.setAttribute("transform","scale(-1 1)")}hide(){if(!(this.markerSvgLine_&&this.markerSvgRect_&&this.markerInput_&&this.markerBlock_))throw Error("createDom should be called before hiding the marker");this.markerSvgLine_.style.display="none",this.markerSvgRect_.style.display="none",this.markerInput_.style.display="none",this.markerBlock_.style.display="none"}fireMarkerEvent(t,r){const s=r.getSourceBlock();t=new(se(ea))(s,this.isCursor(),t,r),K(t)}getBlinkProperties_(){return{attributeType:"XML",attributeName:"fill",dur:"1s",values:this.colour_+";transparent;transparent;",repeatCount:"indefinite"}}createDomInternal_(){if(this.markerSvg_=we(nt.G,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT},this.svgGroup_),this.markerSvgLine_=we(nt.RECT,{width:this.constants_.CURSOR_WS_WIDTH,height:this.constants_.WS_CURSOR_HEIGHT,style:"display: none"},this.markerSvg_),this.markerSvgRect_=we(nt.RECT,{class:"blocklyVerticalMarker",rx:10,ry:10,style:"display: none"},this.markerSvg_),this.markerInput_=we(nt.PATH,{transform:"",style:"display: none"},this.markerSvg_),this.markerBlock_=we(nt.PATH,{transform:"",style:"display: none",fill:"none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.isCursor()){const t=this.getBlinkProperties_();we(nt.ANIMATE,t,this.markerSvgLine_),we(nt.ANIMATE,t,this.markerInput_),we(nt.ANIMATE,Object.assign({},t,{attributeName:"stroke"}),this.markerBlock_)}return this.markerSvg_}applyColour_(t){if(!(this.markerSvgLine_&&this.markerSvgRect_&&this.markerInput_&&this.markerBlock_))throw Error("createDom should be called before applying color to the markerj");this.markerSvgLine_.setAttribute("fill",this.colour_),this.markerSvgRect_.setAttribute("stroke",this.colour_),this.markerInput_.setAttribute("fill",this.colour_),this.markerBlock_.setAttribute("stroke",this.colour_),this.isCursor()&&(t=this.colour_+";transparent;transparent;",this.markerSvgLine_.firstElementChild.setAttribute("values",t),this.markerInput_.firstElementChild.setAttribute("values",t),this.markerBlock_.firstElementChild.setAttribute("values",t))}dispose(){this.svgGroup_&&Ne(this.svgGroup_)}},A_=class extends $a{constructor(t,r,s){super(t,r,s),this.markerCircle=null}showWithInputOutput(t){const r=t.getSourceBlock();t=t.getLocation().getOffsetInBlock(),this.positionCircle(t.x,t.y),this.setParent_(r),this.showCurrent_()}showWithOutput_(t){this.showWithInputOutput(t)}showWithInput_(t){this.showWithInputOutput(t)}showWithBlock_(t){t=t.getLocation();const r=t.getHeightWidth();this.positionRect_(0,0,r.width,r.height),this.setParent_(t),this.showCurrent_()}positionCircle(t,r){let s;(s=this.markerCircle)==null||s.setAttribute("cx",`${t}`);let c;(c=this.markerCircle)==null||c.setAttribute("cy",`${r}`),this.currentMarkerSvg=this.markerCircle}hide(){super.hide(),this.markerCircle&&(this.markerCircle.style.display="none")}createDomInternal_(){if(super.createDomInternal_(),this.markerCircle=we(nt.CIRCLE,{r:this.constants_.CURSOR_RADIUS,style:"display: none","stroke-width":this.constants_.CURSOR_STROKE_WIDTH},this.markerSvg_),this.isCursor()){const t=this.getBlinkProperties_();we(nt.ANIMATE,t,this.markerCircle)}return this.markerSvg_}applyColour_(t){super.applyColour_(t);let r;(r=this.markerCircle)==null||r.setAttribute("fill",this.colour_);let s;if((s=this.markerCircle)==null||s.setAttribute("stroke",this.colour_),this.isCursor()){t=this.colour_+";transparent;transparent;";let c;(c=this.markerCircle)==null||c.firstElementChild.setAttribute("values",t)}}},kf=class{constructor(t,r,s){this.markerSvg=this.cursorSvg=null,this.constants=s,this.style=r,this.svgRoot=t,this.svgPath=we(nt.PATH,{class:"blocklyPath"},this.svgRoot)}setPath(t){this.svgPath.setAttribute("d",t)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)")}setCursorSvg(t){t?(this.svgRoot.appendChild(t),this.cursorSvg=t):this.cursorSvg=null}setMarkerSvg(t){t?(this.cursorSvg?this.svgRoot.insertBefore(t,this.cursorSvg):this.svgRoot.appendChild(t),this.markerSvg=t):this.markerSvg=null}applyColour(t){this.svgPath.setAttribute("stroke",this.style.colourTertiary),this.svgPath.setAttribute("fill",this.style.colourPrimary),this.updateShadow_(t.isShadow()),this.updateDisabled_(!t.isEnabled()||t.getInheritedDisabled())}setStyle(t){this.style=t}setClass_(t,r){t&&(r?le(this.svgRoot,t):re(this.svgRoot,t))}updateHighlighted(t){t?this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"):this.svgPath.setAttribute("filter","none")}updateShadow_(t){t&&(this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary))}updateDisabled_(t){this.setClass_("blocklyDisabled",t),t&&this.svgPath.setAttribute("fill","url(#"+this.constants.disabledPatternId+")")}updateSelected(t){this.setClass_("blocklySelected",t)}updateDraggingDelete(t){this.setClass_("blocklyDraggingDelete",t)}updateInsertionMarker(t){this.setClass_("blocklyInsertionMarker",t)}updateMovable(t){this.setClass_("blocklyDraggable",t)}updateReplacementFade(t){this.setClass_("blocklyReplaceable",t)}updateShapeForInputHighlight(t,r){}},R_=class extends kf{constructor(t,r,s){super(t,r,s),this.svgPathSelected=null,this.outlines=new Map,this.remainingOutlines=new Set,this.outputShapeType=null,this.constants=s}setPath(t){super.setPath(t),this.svgPathSelected&&this.svgPathSelected.setAttribute("d",t)}applyColour(t){super.applyColour(t);const r=t.getParent();t.isShadow()&&r&&this.svgPath.setAttribute("stroke",r.style.colourTertiary);for(const s of this.outlines.values())s.setAttribute("fill",this.style.colourTertiary)}flipRTL(){super.flipRTL();for(const t of this.outlines.values())t.setAttribute("transform","scale(-1 1)")}updateSelected(t){this.setClass_("blocklySelected",t),t?this.svgPathSelected||(this.svgPathSelected=this.svgPath.cloneNode(!0),this.svgPathSelected.setAttribute("fill","none"),this.svgPathSelected.setAttribute("filter","url(#"+this.constants.selectedGlowFilterId+")"),this.svgRoot.appendChild(this.svgPathSelected)):this.svgPathSelected&&(this.svgRoot.removeChild(this.svgPathSelected),this.svgPathSelected=null)}updateReplacementFade(t){this.setClass_("blocklyReplaceable",t),t?this.svgPath.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):this.svgPath.removeAttribute("filter")}updateShapeForInputHighlight(t,r){t=t.getParentInput().name,(t=this.getOutlinePath(t))&&(r?t.setAttribute("filter","url(#"+this.constants.replacementGlowFilterId+")"):t.removeAttribute("filter"))}beginDrawing(){this.remainingOutlines.clear();for(const t of this.outlines.keys())this.remainingOutlines.add(t)}endDrawing(){if(this.remainingOutlines.size)for(const t of this.remainingOutlines)this.removeOutlinePath(t);this.remainingOutlines.clear()}setOutlinePath(t,r){t=this.getOutlinePath(t),t.setAttribute("d",r),t.setAttribute("fill",this.style.colourTertiary)}getOutlinePath(t){return this.outlines.has(t)||this.outlines.set(t,we(nt.PATH,{class:"blocklyOutlinePath",d:""},this.svgRoot)),this.remainingOutlines.delete(t),this.outlines.get(t)}removeOutlinePath(t){let r,s;(r=this.outlines.get(t))==null||(s=r.parentNode)==null||s.removeChild(this.outlines.get(t)),this.outlines.delete(t)}},mh=class{constructor(t){this.overrides=null,this.name=t}getClassName(){return this.name+"-renderer"}init(t,r){this.constants_=this.makeConstants_(),r&&(this.overrides=r,Object.assign(this.constants_,r)),this.constants_.setTheme(t),this.constants_.init()}createDom(t,r){this.constants_.createDom(t,this.name+"-"+r.name,"."+this.getClassName()+"."+r.getClassName())}refreshDom(t,r){const s=this.getConstants();s.dispose(),this.constants_=this.makeConstants_(),this.overrides&&Object.assign(this.constants_,this.overrides),this.constants_.randomIdentifier=s.randomIdentifier,this.constants_.setTheme(r),this.constants_.init(),this.createDom(t,r)}dispose(){this.constants_&&this.constants_.dispose()}makeConstants_(){return new ga}makeRenderInfo_(t){return new Fc(this,t)}makeDrawer_(t,r){return new ch(t,r)}makeMarkerDrawer(t,r){return new $a(t,this.getConstants(),r)}makePathObject(t,r){return new kf(t,r,this.constants_)}getConstants(){return this.constants_}shouldHighlightConnection(t){return!0}orphanCanConnectAtEnd(t,r,s){return!!Bn.getConnectionForOrphanedConnection(t,s===Kt.OUTPUT_VALUE?r.outputConnection:r.previousConnection)}getConnectionPreviewMethod(t,r,s){return r.type===Kt.OUTPUT_VALUE||r.type===Kt.PREVIOUS_STATEMENT?!t.isConnected()||this.orphanCanConnectAtEnd(s,t.targetBlock(),r.type)?un.PREVIEW_TYPE.INSERTION_MARKER:un.PREVIEW_TYPE.REPLACEMENT_FADE:un.PREVIEW_TYPE.INSERTION_MARKER}render(t){const r=this.makeRenderInfo_(t);r.measure(),this.makeDrawer_(t,r).draw()}},Xn={};Xn.BottomRow=n$,Xn.Connection=Eu,Xn.ConstantProvider=ga,Xn.Drawer=ch,Xn.ExternalValueInput=xc,Xn.Field=Bc,Xn.Hat=ph,Xn.Icon=I_,Xn.InRowSpacer=Ai,Xn.InlineInput=o$,Xn.InputConnection=ma,Xn.InputRow=yr,Xn.JaggedEdge=S_,Xn.MarkerSvg=$a,Xn.Measurable=zs,Xn.NextConnection=O_,Xn.OutputConnection=k_,Xn.PathObject=kf,Xn.PreviousConnection=r$,Xn.RenderInfo=Fc,Xn.Renderer=mh,Xn.RoundCorner=fh,Xn.Row=hh,Xn.SpacerRow=i$,Xn.SquareCorner=gh,Xn.StatementInput=Vo,Xn.TopRow=Sf,Xn.Types=Qe,Xn.init=Gg,Xn.register=Ui,Xn.unregister=Mv;var a$=class extends mh{constructor(t){super(t)}makeConstants_(){return new E_}makeRenderInfo_(t){return new N_(this,t)}makeDrawer_(t,r){return new C_(t,r)}makeMarkerDrawer(t,r){return new A_(t,this.getConstants(),r)}makePathObject(t,r){return new R_(t,r,this.getConstants())}getConstants(){return this.constants_}shouldHighlightConnection(t){return t.type!==Kt.INPUT_VALUE&&t.type!==Kt.OUTPUT_VALUE}getConnectionPreviewMethod(t,r,s){return r.type===Kt.OUTPUT_VALUE?t.isConnected()?un.PREVIEW_TYPE.REPLACEMENT_FADE:un.PREVIEW_TYPE.INPUT_OUTLINE:super.getConnectionPreviewMethod(t,r,s)}};Ui("zelos",a$);var Qi={};Qi.BottomRow=w_,Qi.ConstantProvider=E_,Qi.Drawer=C_,Qi.MarkerSvg=A_,Qi.PathObject=R_,Qi.RenderInfo=N_,Qi.Renderer=a$,Qi.RightConnectionShape=s$,Qi.StatementInput=Of,Qi.TopRow=l$,ei();var xr={};xr.registerCleanup=Wg,xr.registerCollapse=Xg,xr.registerCollapseExpandBlock=kp,xr.registerComment=uc,xr.registerDefaultOptions=ei,xr.registerDelete=hs,xr.registerDeleteAll=Yg,xr.registerDisable=qg,xr.registerDuplicate=tu,xr.registerExpand=Kg,xr.registerHelp=Dd,xr.registerInline=Qg,xr.registerRedo=zg,xr.registerUndo=Ci;var L_=class{constructor(){}onDragEnter(t){}onDragOver(t){}onDragExit(t){}onDrop(t){}getClientRect(){return null}shouldPreventMove(t){return!1}},wf=class extends L_{constructor(){super(),this.wouldDelete_=!1}wouldDelete(t,r){return t instanceof Ni?(t=!t.getParent()&&t.isDeletable(),this.updateWouldDelete_(t&&!r)):this.updateWouldDelete_(t.isDeletable()),this.wouldDelete_}updateWouldDelete_(t){this.wouldDelete_=t}},Sn=class extends dh{constructor(t,r,s){super(An.SKIP_SETUP),this.clockwise=Sn.CLOCKWISE,this.offset=Sn.OFFSET,this.wrap=Sn.WRAP,this.round=Sn.ROUND,this.boundEvents=[],this.symbol_=this.gauge=this.line=null,t!==An.SKIP_SETUP&&(s&&this.configure_(s),this.setValue(t),r&&this.setValidator(r))}configure_(t){switch(super.configure_(t),t.mode){case Nf.COMPASS:this.clockwise=!0,this.offset=90;break;case Nf.PROTRACTOR:this.clockwise=!1,this.offset=0}t.clockwise&&(this.clockwise=t.clockwise),t.offset&&(this.offset=t.offset),t.wrap&&(this.wrap=t.wrap),t.round&&(this.round=t.round)}initView(){super.initView(),this.symbol_=we(nt.TSPAN,{}),this.symbol_.appendChild(document.createTextNode("°")),this.getTextElement().appendChild(this.symbol_)}render_(){super.render_(),this.updateGraph()}showEditor_(t){super.showEditor_(t,Qd||Xp||bc),t=this.dropdownCreate(),bi().appendChild(t),this.sourceBlock_ instanceof Ni&&rl(this.sourceBlock_.style.colourPrimary,this.sourceBlock_.style.colourTertiary),Gl(this,this.dropdownDispose.bind(this)),this.updateGraph()}dropdownCreate(){const t=we(nt.SVG,{xmlns:Wd,"xmlns:html":fl,"xmlns:xlink":ki,version:"1.1",height:2*Sn.HALF+"px",width:2*Sn.HALF+"px",style:"touch-action: none"}),r=we(nt.CIRCLE,{cx:Sn.HALF,cy:Sn.HALF,r:Sn.RADIUS,class:"blocklyAngleCircle"},t);this.gauge=we(nt.PATH,{class:"blocklyAngleGauge"},t),this.line=we(nt.LINE,{x1:Sn.HALF,y1:Sn.HALF,class:"blocklyAngleLine"},t);for(let s=0;360>s;s+=15)we(nt.LINE,{x1:Sn.HALF+Sn.RADIUS,y1:Sn.HALF,x2:Sn.HALF+Sn.RADIUS-(s%45===0?10:5),y2:Sn.HALF,class:"blocklyAngleMarks",transform:"rotate("+s+","+Sn.HALF+","+Sn.HALF+")"},t);return this.boundEvents.push(kt(t,"click",this,this.hide)),this.boundEvents.push(kt(r,"pointerdown",this,this.onMouseMove_,!0)),this.boundEvents.push(kt(r,"pointermove",this,this.onMouseMove_,!0)),t}dropdownDispose(){for(const t of this.boundEvents)On(t);this.boundEvents.length=0,this.line=this.gauge=null}hide(){Ti(this),ct()}onMouseMove_(t){var r=this.gauge.ownerSVGElement.getBoundingClientRect();const s=t.clientX-r.left-Sn.HALF;t=t.clientY-r.top-Sn.HALF,r=Math.atan(-t/s),isNaN(r)||(r=qo(r),0>s?r+=180:0<t&&(r+=360),r=this.clockwise?this.offset+360-r:360-(this.offset-r),this.displayMouseOrKeyboardValue(r))}displayMouseOrKeyboardValue(t){if(this.round&&(t=Math.round(t/this.round)*this.round),t=this.wrapValue(t),t!==this.value_){const r=this.value_;this.setEditorValue_(t,!1),this.sourceBlock_&&Q()&&this.value_!==r&&K(new(se(hl))(this.sourceBlock_,this.name||null,r,this.value_))}}updateGraph(){if(this.gauge&&this.line){var t=Number(this.getText())+this.offset,r=fr(t%360);t=["M ",Sn.HALF,",",Sn.HALF];var s=Sn.HALF,c=Sn.HALF;if(!isNaN(r)){const g=Number(this.clockwise),P=fr(this.offset),ae=Math.cos(P)*Sn.RADIUS,ze=Math.sin(P)*-Sn.RADIUS;g&&(r=2*P-r),s+=Math.cos(r)*Sn.RADIUS,c-=Math.sin(r)*Sn.RADIUS,r=Math.abs(Math.floor((r-P)/Math.PI)%2),g&&(r=1-r),t.push(" l ",ae,",",ze," A ",Sn.RADIUS,",",Sn.RADIUS," 0 ",r," ",g," ",s,",",c," z")}this.gauge.setAttribute("d",t.join("")),this.line.setAttribute("x2",`${s}`),this.line.setAttribute("y2",`${c}`)}}onHtmlInputKeyDown_(t){super.onHtmlInputKeyDown_(t);var r=this.getSourceBlock();if(!r)throw new Bo;let s=0;switch(t.key){case"ArrowLeft":s=r.RTL?1:-1;break;case"ArrowRight":s=r.RTL?-1:1;break;case"ArrowDown":s=-1;break;case"ArrowUp":s=1}s&&(r=this.getValue(),this.displayMouseOrKeyboardValue(r+s*this.round),t.preventDefault(),t.stopPropagation())}doClassValidation_(t){return t=Number(t),isNaN(t)||!isFinite(t)?null:this.wrapValue(t)}wrapValue(t){return t%=360,0>t&&(t+=360),t>this.wrap&&(t-=360),t}static fromJson(t){return new this(t.angle,void 0,t)}};Sn.HALF=50,Sn.RADIUS=Sn.HALF-1,Sn.CLOCKWISE=!1,Sn.OFFSET=0,Sn.WRAP=360,Sn.ROUND=15,Tr("field_angle",Sn),Sn.prototype.DEFAULT_VALUE=0,Yn(`
.blocklyAngleCircle {
  stroke: #444;
  stroke-width: 1;
  fill: #ddd;
  fill-opacity: 0.8;
}

.blocklyAngleMarks {
  stroke: #444;
  stroke-width: 1;
}

.blocklyAngleGauge {
  fill: #f88;
  fill-opacity: 0.8;
  pointer-events: none;
}

.blocklyAngleLine {
  stroke: #f00;
  stroke-width: 2;
  stroke-linecap: round;
  pointer-events: none;
}
`);var Nf;(function(t){t.COMPASS="compass",t.PROTRACTOR="protractor"})(Nf||(Nf={}));var Iu=class extends An{constructor(t,r,s){super(An.SKIP_SETUP),this.SERIALIZABLE=!0,this.CURSOR="default",this.value_=this.value_,this.checkChar=Iu.CHECK_CHAR,t!==An.SKIP_SETUP&&(s&&this.configure_(s),this.setValue(t),r&&this.setValidator(r))}configure_(t){super.configure_(t),t.checkCharacter&&(this.checkChar=t.checkCharacter)}saveState(){const t=this.saveLegacyState(Iu);return t!==null?t:this.getValueBoolean()}initView(){super.initView();const t=this.getTextElement();le(t,"blocklyCheckbox"),t.style.display=this.value_?"block":"none"}render_(){this.textContent_&&(this.textContent_.nodeValue=this.getDisplayText_()),this.updateSize_(this.getConstants().FIELD_CHECKBOX_X_OFFSET)}getDisplayText_(){return this.checkChar}setCheckCharacter(t){this.checkChar=t||Iu.CHECK_CHAR,this.forceRerender()}showEditor_(){this.setValue(!this.value_)}doClassValidation_(t){return t===!0||t==="TRUE"?"TRUE":t===!1||t==="FALSE"?"FALSE":null}doValueUpdate_(t){this.value_=this.convertValueToBool_(t),this.textElement_&&(this.textElement_.style.display=this.value_?"block":"none")}getValue(){return this.value_?"TRUE":"FALSE"}getValueBoolean(){return this.value_}getText(){return String(this.convertValueToBool_(this.value_))}convertValueToBool_(t){return typeof t=="string"?t==="TRUE":!!t}static fromJson(t){return new this(t.checked,void 0,t)}};Iu.CHECK_CHAR="✓",Tr("field_checkbox",Iu),Iu.prototype.DEFAULT_VALUE=!1;var Ri=class extends An{constructor(t,r,s){super(An.SKIP_SETUP),this.highlightedIndex=this.picker=null,this.boundEvents=[],this.SERIALIZABLE=!0,this.CURSOR="default",this.isDirty_=!1,this.titles=this.colours=null,this.columns=0,t!==An.SKIP_SETUP&&(s&&this.configure_(s),this.setValue(t),r&&this.setValidator(r))}configure_(t){super.configure_(t),t.colourOptions&&(this.colours=t.colourOptions),t.colourTitles&&(this.titles=t.colourTitles),t.columns&&(this.columns=t.columns)}initView(){this.size_=new Zn(this.getConstants().FIELD_COLOUR_DEFAULT_WIDTH,this.getConstants().FIELD_COLOUR_DEFAULT_HEIGHT),this.getConstants().FIELD_COLOUR_FULL_BLOCK?this.sourceBlock_ instanceof Ni&&(this.clickTarget_=this.sourceBlock_.getSvgRoot()):(this.createBorderRect_(),this.getBorderRect().style.fillOpacity="1")}applyColour(){this.getConstants().FIELD_COLOUR_FULL_BLOCK?this.sourceBlock_ instanceof Ni&&(this.sourceBlock_.pathObject.svgPath.setAttribute("fill",this.getValue()),this.sourceBlock_.pathObject.svgPath.setAttribute("stroke","#fff")):this.borderRect_&&(this.borderRect_.style.fill=this.getValue())}doClassValidation_(t){return typeof t!="string"?null:us(t)}doValueUpdate_(t){this.value_=t,this.borderRect_?this.borderRect_.style.fill=t:this.sourceBlock_&&this.sourceBlock_.rendered&&this.sourceBlock_ instanceof Ni&&(this.sourceBlock_.pathObject.svgPath.setAttribute("fill",t),this.sourceBlock_.pathObject.svgPath.setAttribute("stroke","#fff"))}getText(){let t=this.value_;return/^#(.)\1(.)\2(.)\3$/.test(t)&&(t="#"+t[1]+t[3]+t[5]),t}setColours(t,r){return this.colours=t,r&&(this.titles=r),this}setColumns(t){return this.columns=t,this}showEditor_(){this.dropdownCreate(),bi().appendChild(this.picker),Gl(this,this.dropdownDispose.bind(this)),this.picker.focus({preventScroll:!0})}onClick(t){t=(t=t.target)&&t.getAttribute("data-colour"),t!==null&&(this.setValue(t),Ti(this))}onKeyDown(t){let r=!0;var s;switch(t.key){case"ArrowUp":this.moveHighlightBy(0,-1);break;case"ArrowDown":this.moveHighlightBy(0,1);break;case"ArrowLeft":this.moveHighlightBy(-1,0);break;case"ArrowRight":this.moveHighlightBy(1,0);break;case"Enter":(s=this.getHighlighted())&&(s=s.getAttribute("data-colour"),s!==null&&this.setValue(s)),as();break;default:r=!1}r&&t.stopPropagation()}moveHighlightBy(t,r){if(this.highlightedIndex){var s=this.colours||Ri.COLOURS,c=this.columns||Ri.COLUMNS,g=this.highlightedIndex%c,P=Math.floor(this.highlightedIndex/c);g+=t,P+=r,0>t?0>g&&0<P?(g=c-1,P--):0>g&&(g=0):0<t?g>c-1&&P<Math.floor(s.length/c)-1?(g=0,P++):g>c-1&&g--:0>r?0>P&&(P=0):0<r&&P>Math.floor(s.length/c)-1&&(P=Math.floor(s.length/c)-1),this.setHighlightedCell(this.picker.childNodes[P].childNodes[g],P*c+g)}}onMouseMove(t){const r=(t=t.target)&&Number(t.getAttribute("data-index"));r!==null&&r!==this.highlightedIndex&&this.setHighlightedCell(t,r)}onMouseEnter(){let t;(t=this.picker)==null||t.focus({preventScroll:!0})}onMouseLeave(){var t;(t=this.picker)==null||t.blur(),(t=this.getHighlighted())&&re(t,"blocklyColourHighlighted")}getHighlighted(){if(!this.highlightedIndex)return null;const t=this.columns||Ri.COLUMNS,r=this.picker.childNodes[Math.floor(this.highlightedIndex/t)];return r?r.childNodes[this.highlightedIndex%t]:null}setHighlightedCell(t,r){const s=this.getHighlighted();s&&re(s,"blocklyColourHighlighted"),le(t,"blocklyColourHighlighted"),this.highlightedIndex=r,(t=t.getAttribute("id"))&&this.picker&&to(this.picker,ho.ACTIVEDESCENDANT,t)}dropdownCreate(){const t=this.columns||Ri.COLUMNS,r=this.colours||Ri.COLOURS,s=this.titles||Ri.TITLES,c=this.getValue(),g=document.createElement("table");g.className="blocklyColourTable",g.tabIndex=0,g.dir="ltr",qr(g,ai.GRID),to(g,ho.EXPANDED,!0),to(g,ho.ROWCOUNT,Math.floor(r.length/t)),to(g,ho.COLCOUNT,t);let P;for(let ae=0;ae<r.length;ae++){ae%t===0&&(P=document.createElement("tr"),qr(P,ai.ROW),g.appendChild(P));const ze=document.createElement("td");P.appendChild(ze),ze.setAttribute("data-colour",r[ae]),ze.title=s[ae]||r[ae],ze.id=ee(),ze.setAttribute("data-index",`${ae}`),qr(ze,ai.GRIDCELL),to(ze,ho.LABEL,r[ae]),to(ze,ho.SELECTED,r[ae]===c),ze.style.backgroundColor=r[ae],r[ae]===c&&(ze.className="blocklyColourSelected",this.highlightedIndex=ae)}this.boundEvents.push(kt(g,"pointerdown",this,this.onClick,!0)),this.boundEvents.push(kt(g,"pointermove",this,this.onMouseMove,!0)),this.boundEvents.push(kt(g,"pointerenter",this,this.onMouseEnter,!0)),this.boundEvents.push(kt(g,"pointerleave",this,this.onMouseLeave,!0)),this.boundEvents.push(kt(g,"keydown",this,this.onKeyDown,!1)),this.picker=g}dropdownDispose(){for(const t of this.boundEvents)On(t);this.boundEvents.length=0,this.highlightedIndex=this.picker=null}static fromJson(t){return new this(t.colour,void 0,t)}};Ri.COLOURS="#ffffff #cccccc #c0c0c0 #999999 #666666 #333333 #000000 #ffcccc #ff6666 #ff0000 #cc0000 #990000 #660000 #330000 #ffcc99 #ff9966 #ff9900 #ff6600 #cc6600 #993300 #663300 #ffff99 #ffff66 #ffcc66 #ffcc33 #cc9933 #996633 #663333 #ffffcc #ffff33 #ffff00 #ffcc00 #999900 #666600 #333300 #99ff99 #66ff99 #33ff33 #33cc00 #009900 #006600 #003300 #99ffff #33ffff #66cccc #00cccc #339999 #336666 #003333 #ccffff #66ffff #33ccff #3366ff #3333ff #000099 #000066 #ccccff #9999ff #6666cc #6633ff #6600cc #333399 #330099 #ffccff #ff99ff #cc66cc #cc33cc #993399 #663366 #330033".split(" "),Ri.TITLES=[],Ri.COLUMNS=7,Ri.prototype.DEFAULT_VALUE=Ri.COLOURS[0],Tr("field_colour",Ri),Yn(`
.blocklyColourTable {
  border-collapse: collapse;
  display: block;
  outline: none;
  padding: 1px;
}

.blocklyColourTable>tr>td {
  border: 0.5px solid #888;
  box-sizing: border-box;
  cursor: pointer;
  display: inline-block;
  height: 20px;
  padding: 0;
  width: 20px;
}

.blocklyColourTable>tr>td.blocklyColourHighlighted {
  border-color: #eee;
  box-shadow: 2px 2px 7px 2px rgba(0, 0, 0, 0.3);
  position: relative;
}

.blocklyColourSelected, .blocklyColourSelected:hover {
  border-color: #eee !important;
  outline: 1px solid #333;
  position: relative;
}
`);var M_=class extends Hs{constructor(t,r,s){super(String(t??""),r,s),this.EDITABLE=!1,this.SERIALIZABLE=!0}static fromJson(t){return new this(wo(t.text),void 0,t)}};Tr("field_label_serializable",M_);var u$=class extends Dc{constructor(t,r,s){super(An.SKIP_SETUP),this.textGroup=null,this.maxLines_=1/0,this.isOverflowedY_=!1,t!==An.SKIP_SETUP&&(s&&this.configure_(s),this.setValue(t),r&&this.setValidator(r))}configure_(t){super.configure_(t),t.maxLines&&this.setMaxLines(t.maxLines)}toXml(t){return t.textContent=this.getValue().replace(/\n/g,"&#10;"),t}fromXml(t){this.setValue(t.textContent.replace(/&#10;/g,`
`))}saveState(){const t=this.saveLegacyState(u$);return t!==null?t:this.getValue()}loadState(t){this.loadLegacyState(An,t)||this.setValue(t)}initView(){this.createBorderRect_(),this.textGroup=we(nt.G,{class:"blocklyEditableText"},this.fieldGroup_)}getDisplayText_(){const t=this.getSourceBlock();if(!t)throw new Bo;let r=this.getText();if(!r)return An.NBSP;const s=r.split(`
`);r="";const c=this.isOverflowedY_?this.maxLines_:s.length;for(let g=0;g<c;g++){let P=s[g];P.length>this.maxDisplayLength?P=P.substring(0,this.maxDisplayLength-4)+"...":this.isOverflowedY_&&g===c-1&&(P=P.substring(0,P.length-3)+"..."),P=P.replace(/\s/g,An.NBSP),r+=P,g!==c-1&&(r+=`
`)}return t.RTL&&(r+="‏"),r}doValueUpdate_(t){super.doValueUpdate_(t),this.value_!==null&&(this.isOverflowedY_=this.value_.split(`
`).length>this.maxLines_)}render_(){var t=this.getSourceBlock();if(!t)throw new Bo;for(var r,s=this.textGroup;r=s.firstChild;)s.removeChild(r);r=this.getDisplayText_().split(`
`);let c=0;for(let g=0;g<r.length;g++){const P=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING;we(nt.TEXT,{class:"blocklyText blocklyMultilineText",x:this.getConstants().FIELD_BORDER_RECT_X_PADDING,y:c+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,dy:this.getConstants().FIELD_TEXT_BASELINE},s).appendChild(document.createTextNode(r[g])),c+=P}this.isBeingEdited_&&(s=this.htmlInput_,this.isOverflowedY_?le(s,"blocklyHtmlTextAreaInputOverflowedY"):re(s,"blocklyHtmlTextAreaInputOverflowedY")),this.updateSize_(),this.isBeingEdited_&&(t.RTL?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),t=this.htmlInput_,this.isTextValid_?(re(t,"blocklyInvalidInput"),to(t,ho.INVALID,!1)):(le(t,"blocklyInvalidInput"),to(t,ho.INVALID,!0)))}updateSize_(){var t=this.textGroup.childNodes;const r=this.getConstants().FIELD_TEXT_FONTSIZE,s=this.getConstants().FIELD_TEXT_FONTWEIGHT,c=this.getConstants().FIELD_TEXT_FONTFAMILY;let g=0,P=0;for(var ae=0;ae<t.length;ae++){var ze=Ee(t[ae],r,s,c);ze>g&&(g=ze),P+=this.getConstants().FIELD_TEXT_HEIGHT+(0<ae?this.getConstants().FIELD_BORDER_RECT_Y_PADDING:0)}if(this.isBeingEdited_){for(t=String(this.value_).split(`
`),ae=we(nt.TEXT,{class:"blocklyText blocklyMultilineText"}),ze=0;ze<t.length;ze++){t[ze].length>this.maxDisplayLength&&(t[ze]=t[ze].substring(0,this.maxDisplayLength)),ae.textContent=t[ze];const vt=Ee(ae,r,s,c);vt>g&&(g=vt)}g+=this.htmlInput_.offsetWidth-this.htmlInput_.clientWidth}this.borderRect_&&(P+=2*this.getConstants().FIELD_BORDER_RECT_Y_PADDING,g+=2*this.getConstants().FIELD_BORDER_RECT_X_PADDING,this.borderRect_.setAttribute("width",`${g}`),this.borderRect_.setAttribute("height",`${P}`)),this.size_.width=g,this.size_.height=P,this.positionBorderRect_()}showEditor_(t,r){super.showEditor_(t,r),this.forceRerender()}widgetCreate_(){const t=Wa(),r=this.workspace_.getScale(),s=document.createElement("textarea");s.className="blocklyHtmlInput blocklyHtmlTextAreaInput",s.setAttribute("spellcheck",String(this.spellcheck_));var c=this.getConstants().FIELD_TEXT_FONTSIZE*r+"pt";t.style.fontSize=c,s.style.fontSize=c,s.style.borderRadius=Dc.BORDERRADIUS*r+"px",c=this.getConstants().FIELD_BORDER_RECT_X_PADDING*r;const g=this.getConstants().FIELD_BORDER_RECT_Y_PADDING*r/2;return s.style.padding=g+"px "+c+"px "+g+"px "+c+"px",c=this.getConstants().FIELD_TEXT_HEIGHT+this.getConstants().FIELD_BORDER_RECT_Y_PADDING,s.style.lineHeight=c*r+"px",t.appendChild(s),s.value=s.defaultValue=this.getEditorText_(this.value_),s.setAttribute("data-untyped-default-value",String(this.value_)),s.setAttribute("data-old-value",""),bm?setTimeout(this.resizeEditor_.bind(this),0):this.resizeEditor_(),this.bindInputEvents_(s),s}setMaxLines(t){typeof t=="number"&&0<t&&t!==this.maxLines_&&(this.maxLines_=t,this.forceRerender())}getMaxLines(){return this.maxLines_}onHtmlInputKeyDown_(t){t.key!=="Enter"&&super.onHtmlInputKeyDown_(t)}static fromJson(t){return new this(wo(t.text),void 0,t)}};Tr("field_multilinetext",u$),Yn(`
.blocklyHtmlTextAreaInput {
  font-family: monospace;
  resize: none;
  overflow: hidden;
  height: 100%;
  text-align: left;
}

.blocklyHtmlTextAreaInputOverflowedY {
  overflow-y: scroll;
}
`);var c$=class extends dh{constructor(t,r,s,c,g,P){super(An.SKIP_SETUP),this.min_=-1/0,this.max_=1/0,this.precision_=0,this.decimalPlaces=null,this.spellcheck_=!1,t!==An.SKIP_SETUP&&(P?this.configure_(P):this.setConstraints(r,s,c),this.setValue(t),g&&this.setValidator(g))}configure_(t){super.configure_(t),this.setMinInternal(t.min),this.setMaxInternal(t.max),this.setPrecisionInternal(t.precision)}setConstraints(t,r,s){this.setMinInternal(t),this.setMaxInternal(r),this.setPrecisionInternal(s),this.setValue(this.getValue())}setMin(t){this.setMinInternal(t),this.setValue(this.getValue())}setMinInternal(t){t==null?this.min_=-1/0:(t=Number(t),isNaN(t)||(this.min_=t))}getMin(){return this.min_}setMax(t){this.setMaxInternal(t),this.setValue(this.getValue())}setMaxInternal(t){t==null?this.max_=1/0:(t=Number(t),isNaN(t)||(this.max_=t))}getMax(){return this.max_}setPrecision(t){this.setPrecisionInternal(t),this.setValue(this.getValue())}setPrecisionInternal(t){this.precision_=Number(t)||0;let r=String(this.precision_);r.indexOf("e")!==-1&&(r=this.precision_.toLocaleString("en-US",{maximumFractionDigits:20}));const s=r.indexOf(".");this.decimalPlaces=s===-1?t?0:null:r.length-s-1}getPrecision(){return this.precision_}doClassValidation_(t){return t===null||(t=`${t}`.replace(/O/gi,"0"),t=t.replace(/,/g,""),t=t.replace(/infinity/i,"Infinity"),t=Number(t||0),isNaN(t))?null:(t=Math.min(Math.max(t,this.min_),this.max_),this.precision_&&isFinite(t)&&(t=Math.round(t/this.precision_)*this.precision_),this.decimalPlaces!==null&&(t=Number(t.toFixed(this.decimalPlaces))),t)}widgetCreate_(){const t=super.widgetCreate_();return-1/0<this.min_&&(t.min=`${this.min_}`,to(t,ho.VALUEMIN,this.min_)),1/0>this.max_&&(t.max=`${this.max_}`,to(t,ho.VALUEMAX,this.max_)),t}static fromJson(t){return new this(t.value,void 0,void 0,void 0,void 0,t)}};Tr("field_number",c$),c$.prototype.DEFAULT_VALUE=0;var $h=class extends Us{constructor(t,r,s,c,g){super(An.SKIP_SETUP),this.defaultType="",this.variableTypes=[],this.variable=null,this.SERIALIZABLE=!0,this.menuGenerator_=$h.dropdownCreate,this.defaultVariableName=typeof t=="string"?t:"",this.size_=new Zn(0,0),t!==An.SKIP_SETUP&&(g?this.configure_(g):this.setTypes(s,c),r&&this.setValidator(r))}configure_(t){super.configure_(t),this.setTypes(t.variableTypes,t.defaultType)}initModel(){var t=this.getSourceBlock();if(!t)throw new Bo;this.variable||(t=n.getOrCreateVariablePackage$$module$build$src$core$variables(t.workspace,null,this.defaultVariableName,this.defaultType),this.doValueUpdate_(t.getId()))}shouldAddBorderRect_(){const t=this.getSourceBlock();if(!t)throw new Bo;return super.shouldAddBorderRect_()&&(!this.getConstants().FIELD_DROPDOWN_NO_BORDER_RECT_SHADOW||t.type!=="variables_get")}fromXml(t){var r=this.getSourceBlock();if(!r)throw new Bo;const s=t.getAttribute("id"),c=t.textContent,g=t.getAttribute("variabletype")||t.getAttribute("variableType")||"";if(r=n.getOrCreateVariablePackage$$module$build$src$core$variables(r.workspace,s,c,g),g!==null&&g!==r.type)throw Error("Serialized variable type with id '"+r.getId()+"' had type "+r.type+", and does not match variable field that references it: "+Bi(t)+".");this.setValue(r.getId())}toXml(t){return this.initModel(),t.id=this.variable.getId(),t.textContent=this.variable.name,this.variable.type&&t.setAttribute("variabletype",this.variable.type),t}saveState(t){var r=this.saveLegacyState($h);return r!==null||(this.initModel(),r={id:this.variable.getId()},t&&(r.name=this.variable.name,r.type=this.variable.type)),r}loadState(t){const r=this.getSourceBlock();if(!r)throw new Bo;this.loadLegacyState($h,t)||(t=n.getOrCreateVariablePackage$$module$build$src$core$variables(r.workspace,t.id||null,t.name,t.type||""),this.setValue(t.getId()))}setSourceBlock(t){if(t.isShadow())throw Error("Variable fields are not allowed to exist on shadow blocks.");super.setSourceBlock(t)}getValue(){return this.variable?this.variable.getId():null}getText(){return this.variable?this.variable.name:""}getVariable(){return this.variable}getValidator(){return this.variable?this.validator_:null}doClassValidation_(t){if(t===null)return null;var r=this.getSourceBlock();if(!r)throw new Bo;return r=n.getVariable$$module$build$src$core$variables(r.workspace,t),r?(r=r.type,this.typeIsAllowed(r)?t:(console.warn("Variable type doesn't match this field!  Type was "+r),null)):(console.warn("Variable id doesn't point to a real variable! ID was "+t),null)}doValueUpdate_(t){const r=this.getSourceBlock();if(!r)throw new Bo;this.variable=n.getVariable$$module$build$src$core$variables(r.workspace,t),super.doValueUpdate_(t)}typeIsAllowed(t){const r=this.getVariableTypes();if(!r)return!0;for(let s=0;s<r.length;s++)if(t===r[s])return!0;return!1}getVariableTypes(){var t=this.variableTypes;if(t===null&&this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying())return this.sourceBlock_.workspace.getVariableTypes();if(t=t||[""],t.length===0)throw t=this.getText(),Error("'variableTypes' of field variable "+t+" was an empty list");return t}setTypes(t=null,r=""){if(Array.isArray(t)){let s=!1;for(let c=0;c<t.length;c++)t[c]===r&&(s=!0);if(!s)throw Error("Invalid default type '"+r+"' in the definition of a FieldVariable")}else if(t!==null)throw Error("'variableTypes' was not an array in the definition of a FieldVariable");this.defaultType=r,this.variableTypes=t}refreshVariableName(){this.forceRerender()}onItemSelected_(t,r){if(t=r.getValue(),this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying()){if(t===vs){n.renameVariable$$module$build$src$core$variables(this.sourceBlock_.workspace,this.variable);return}if(t===bf){this.sourceBlock_.workspace.deleteVariableById(this.variable.getId());return}}this.setValue(t)}referencesVariables(){return!0}static fromJson(t){return new this(wo(t.variable),void 0,void 0,void 0,t)}static dropdownCreate(){if(!this.variable)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");const t=this.getText();let r=[];if(this.sourceBlock_&&!this.sourceBlock_.isDeadOrDying())for(var s=this.getVariableTypes(),c=0;c<s.length;c++){const g=this.sourceBlock_.workspace.getVariablesOfType(s[c]);r=r.concat(g)}for(r.sort(mc.compareByName),s=[],c=0;c<r.length;c++)s[c]=[r[c].name,r[c].getId()];return s.push([n.Msg$$module$build$src$core$msg.RENAME_VARIABLE,vs]),n.Msg$$module$build$src$core$msg.DELETE_VARIABLE&&s.push([n.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",t),bf]),s}};Tr("field_variable",$h);var Ts=class{constructor(t,r,s,c){this.workspace=t,this.targetWorkspace=r,this.isLabel_=c,this.onMouseUpWrapper=null,this.height=this.width=0,this.svgText=this.svgGroup=null,this.text=s.text,this.position=new Pt(0,0),this.callbackKey=s.callbackKey||s.callbackkey,this.cssClass=s["web-class"]||null,this.info=s}createDom(){var t=this.isLabel_?"blocklyFlyoutLabel":"blocklyFlyoutButton";this.cssClass&&(t+=" "+this.cssClass),this.svgGroup=we(nt.G,{class:t},this.workspace.getCanvas());let r;this.isLabel_||(r=we(nt.RECT,{class:"blocklyFlyoutButtonShadow",rx:Ts.BORDER_RADIUS,ry:Ts.BORDER_RADIUS,x:1,y:1},this.svgGroup)),t=we(nt.RECT,{class:this.isLabel_?"blocklyFlyoutLabelBackground":"blocklyFlyoutButtonBackground",rx:Ts.BORDER_RADIUS,ry:Ts.BORDER_RADIUS},this.svgGroup);const s=we(nt.TEXT,{class:this.isLabel_?"blocklyFlyoutLabelText":"blocklyText",x:0,y:0,"text-anchor":"middle"},this.svgGroup);var c=wo(this.text);this.workspace.RTL&&(c+="‏"),s.textContent=c,this.isLabel_&&(this.svgText=s,this.workspace.getThemeManager().subscribe(this.svgText,"flyoutForegroundColour","fill"));const g=pr(s,"fontSize"),P=pr(s,"fontWeight"),ae=pr(s,"fontFamily");if(this.width=Ie(s,g,P,ae),c=he(c,g,P,ae),this.height=c.height,!this.isLabel_){this.width+=2*Ts.TEXT_MARGIN_X,this.height+=2*Ts.TEXT_MARGIN_Y;let ze;(ze=r)==null||ze.setAttribute("width",String(this.width));let vt;(vt=r)==null||vt.setAttribute("height",String(this.height))}return t.setAttribute("width",String(this.width)),t.setAttribute("height",String(this.height)),s.setAttribute("x",String(this.width/2)),s.setAttribute("y",String(this.height/2-c.height/2+c.baseline)),this.updateTransform(),this.onMouseUpWrapper=kt(this.svgGroup,"pointerup",this,this.onMouseUp),this.svgGroup}show(){this.updateTransform(),this.svgGroup.setAttribute("display","block")}updateTransform(){this.svgGroup.setAttribute("transform","translate("+this.position.x+","+this.position.y+")")}moveTo(t,r){this.position.x=t,this.position.y=r,this.updateTransform()}isLabel(){return this.isLabel_}getPosition(){return this.position}getButtonText(){return this.text}getTargetWorkspace(){return this.targetWorkspace}dispose(){this.onMouseUpWrapper&&On(this.onMouseUpWrapper),this.svgGroup&&Ne(this.svgGroup),this.svgText&&this.workspace.getThemeManager().unsubscribe(this.svgText)}onMouseUp(t){(t=this.targetWorkspace.getGesture(t))&&t.cancel(),this.isLabel_&&this.callbackKey?console.warn("Labels should not have callbacks. Label text: "+this.text):this.isLabel_||this.callbackKey&&this.targetWorkspace.getButtonCallback(this.callbackKey)?this.isLabel_||(t=this.targetWorkspace.getButtonCallback(this.callbackKey))&&t(this):console.warn("Buttons should have callbacks. Button text: "+this.text)}};Ts.TEXT_MARGIN_X=5,Ts.TEXT_MARGIN_Y=2,Ts.BORDER_RADIUS=4,Yn(`
.blocklyFlyoutButton {
  fill: #888;
  cursor: default;
}

.blocklyFlyoutButtonShadow {
  fill: #666;
}

.blocklyFlyoutButton:hover {
  fill: #aaa;
}

.blocklyFlyoutLabel {
  cursor: default;
}

.blocklyFlyoutLabelBackground {
  opacity: 0;
}
`);var d$=class{constructor(t){this.workspace_=t}getDimensionsPx_(t){let r=0,s=0;return t&&(r=t.getWidth(),s=t.getHeight()),new Zn(r,s)}getFlyoutMetrics(t){return t=this.getDimensionsPx_(this.workspace_.getFlyout(t)),{width:t.width,height:t.height,position:this.workspace_.toolboxPosition}}getToolboxMetrics(){const t=this.getDimensionsPx_(this.workspace_.getToolbox());return{width:t.width,height:t.height,position:this.workspace_.toolboxPosition}}getSvgMetrics(){return this.workspace_.getCachedParentSvgSize()}getAbsoluteMetrics(){let t=0;const r=this.getToolboxMetrics(),s=this.getFlyoutMetrics(!0),c=!!this.workspace_.getToolbox(),g=!!this.workspace_.getFlyout(!0);var P=c?r.position:s.position,ae=P===vn.LEFT;return P=P===vn.TOP,c&&ae?t=r.width:g&&ae&&(t=s.width),ae=0,c&&P?ae=r.height:g&&P&&(ae=s.height),{top:ae,left:t}}getViewMetrics(t){t=t?this.workspace_.scale:1;const r=this.getSvgMetrics(),s=this.getToolboxMetrics(),c=this.getFlyoutMetrics(!0),g=this.workspace_.getToolbox()?s.position:c.position;return this.workspace_.getToolbox()?g===vn.TOP||g===vn.BOTTOM?r.height-=s.height:(g===vn.LEFT||g===vn.RIGHT)&&(r.width-=s.width):this.workspace_.getFlyout(!0)&&(g===vn.TOP||g===vn.BOTTOM?r.height-=c.height:(g===vn.LEFT||g===vn.RIGHT)&&(r.width-=c.width)),{height:r.height/t,width:r.width/t,top:-this.workspace_.scrollY/t,left:-this.workspace_.scrollX/t}}getContentMetrics(t){t=t?1:this.workspace_.scale;const r=this.workspace_.getBlocksBoundingBox();return{height:(r.bottom-r.top)*t,width:(r.right-r.left)*t,top:r.top*t,left:r.left*t}}hasFixedEdges(){return!this.workspace_.isMovableHorizontally()||!this.workspace_.isMovableVertically()}getComputedFixedEdges_(t){if(!this.hasFixedEdges())return{};const r=this.workspace_.isMovableHorizontally(),s=this.workspace_.isMovableVertically();t=t||this.getViewMetrics(!1);const c={};return s||(c.top=t.top,c.bottom=t.top+t.height),r||(c.left=t.left,c.right=t.left+t.width),c}getPaddedContent_(t,r){const s=r.top+r.height,c=r.left+r.width,g=t.width;t=t.height;const P=g/2,ae=t/2;return{top:Math.min(r.top-ae,s-t),bottom:Math.max(s+ae,r.top+t),left:Math.min(r.left-P,c-g),right:Math.max(c+P,r.left+g)}}getScrollMetrics(t,r,s){t=t?this.workspace_.scale:1,r=r||this.getViewMetrics(!1);var c=s||this.getContentMetrics();s=this.getComputedFixedEdges_(r),r=this.getPaddedContent_(r,c),c=s.top!==void 0?s.top:r.top;const g=s.left!==void 0?s.left:r.left;return{top:c/t,left:g/t,width:((s.right!==void 0?s.right:r.right)-g)/t,height:((s.bottom!==void 0?s.bottom:r.bottom)-c)/t}}getUiMetrics(){return{viewMetrics:this.getViewMetrics(),absoluteMetrics:this.getAbsoluteMetrics(),toolboxMetrics:this.getToolboxMetrics()}}getMetrics(){const t=this.getToolboxMetrics(),r=this.getFlyoutMetrics(!0),s=this.getSvgMetrics(),c=this.getAbsoluteMetrics(),g=this.getViewMetrics(),P=this.getContentMetrics(),ae=this.getScrollMetrics(!1,g,P);return{contentHeight:P.height,contentWidth:P.width,contentTop:P.top,contentLeft:P.left,scrollHeight:ae.height,scrollWidth:ae.width,scrollTop:ae.top,scrollLeft:ae.left,viewHeight:g.height,viewWidth:g.width,viewTop:g.top,viewLeft:g.left,absoluteTop:c.top,absoluteLeft:c.left,svgHeight:s.height,svgWidth:s.width,toolboxWidth:t.width,toolboxHeight:t.height,toolboxPosition:t.position,flyoutWidth:r.width,flyoutHeight:r.height}}};i(Rt.METRICS_MANAGER,Ls,d$);var P_=class extends d${constructor(t,r){super(t),this.flyout_=r}getBoundingBox_(){let t;try{t=this.workspace_.getCanvas().getBBox()}catch{t={height:0,y:0,width:0,x:0}}return t}getContentMetrics(t){const r=this.getBoundingBox_();return t=t?1:this.workspace_.scale,{height:r.height*t,width:r.width*t,top:r.y*t,left:r.x*t}}getScrollMetrics(t,r,s){return r=s||this.getContentMetrics(),s=this.flyout_.MARGIN*this.workspace_.scale,t=t?this.workspace_.scale:1,{height:(r.height+2*s)/t,width:(r.width+r.left+s)/t,top:0,left:0}}},h$=class{constructor(t,r,s,c,g){this.workspace=t,this.oldHostMetrics_=this.corner_=this.vScroll=this.hScroll=null,r=r===void 0?!0:r,s=s===void 0?!0:s;const P=r&&s;r&&(this.hScroll=new No(t,!0,P,c,g)),s&&(this.vScroll=new No(t,!1,P,c,g)),P&&(this.corner_=we(nt.RECT,{height:No.scrollbarThickness,width:No.scrollbarThickness,class:"blocklyScrollbarBackground"}),$e(this.corner_,t.getBubbleCanvas()))}dispose(){Ne(this.corner_),this.oldHostMetrics_=this.corner_=null,this.hScroll&&(this.hScroll.dispose(),this.hScroll=null),this.vScroll&&(this.vScroll.dispose(),this.vScroll=null)}resize(){const t=this.workspace.getMetrics();if(t){var r=!1,s=!1;if(this.oldHostMetrics_&&this.oldHostMetrics_.viewWidth===t.viewWidth&&this.oldHostMetrics_.viewHeight===t.viewHeight&&this.oldHostMetrics_.absoluteTop===t.absoluteTop&&this.oldHostMetrics_.absoluteLeft===t.absoluteLeft?(this.oldHostMetrics_&&this.oldHostMetrics_.scrollWidth===t.scrollWidth&&this.oldHostMetrics_.viewLeft===t.viewLeft&&this.oldHostMetrics_.scrollLeft===t.scrollLeft||(r=!0),this.oldHostMetrics_&&this.oldHostMetrics_.scrollHeight===t.scrollHeight&&this.oldHostMetrics_.viewTop===t.viewTop&&this.oldHostMetrics_.scrollTop===t.scrollTop||(s=!0)):s=r=!0,r||s){try{n.disable$$module$build$src$core$events$utils(),this.hScroll&&r&&this.hScroll.resize(t),this.vScroll&&s&&this.vScroll.resize(t)}finally{n.enable$$module$build$src$core$events$utils()}this.workspace.maybeFireViewportChangeEvent()}if(this.hScroll&&this.vScroll){if(!this.oldHostMetrics_||this.oldHostMetrics_.viewWidth!==t.viewWidth||this.oldHostMetrics_.absoluteLeft!==t.absoluteLeft){let c;(c=this.corner_)==null||c.setAttribute("x",String(this.vScroll.position.x))}if(!this.oldHostMetrics_||this.oldHostMetrics_.viewHeight!==t.viewHeight||this.oldHostMetrics_.absoluteTop!==t.absoluteTop){let c;(c=this.corner_)==null||c.setAttribute("y",String(this.hScroll.position.y))}}this.oldHostMetrics_=t}}canScrollHorizontally(){return!!this.hScroll}canScrollVertically(){return!!this.vScroll}setOrigin(t,r){this.hScroll&&this.hScroll.setOrigin(t,r),this.vScroll&&this.vScroll.setOrigin(t,r)}set(t,r,s){this.hScroll&&this.hScroll.set(t,!1),this.vScroll&&this.vScroll.set(r,!1),(s||s===void 0)&&(t={},this.hScroll&&(t.x=this.hScroll.getRatio_()),this.vScroll&&(t.y=this.vScroll.getRatio_()),this.workspace.setMetrics(t))}setX(t){this.hScroll&&this.hScroll.set(t,!0)}setY(t){this.vScroll&&this.vScroll.set(t,!0)}setContainerVisible(t){this.hScroll&&this.hScroll.setContainerVisible(t),this.vScroll&&this.vScroll.setContainerVisible(t)}isVisible(){let t=!1;return this.hScroll&&(t=this.hScroll.isVisible()),this.vScroll&&(t=t||this.vScroll.isVisible()),t}resizeContent(t){this.hScroll&&this.hScroll.resizeContentHorizontal(t),this.vScroll&&this.vScroll.resizeContentVertical(t)}resizeView(t){this.hScroll&&this.hScroll.resizeViewHorizontal(t),this.vScroll&&this.vScroll.resizeViewVertical(t)}},D_=class{constructor(t){this.workspace=t,this.horizontalScrollEnabled_=this.workspace.isMovableHorizontally(),this.verticalScrollEnabled_=this.workspace.isMovableVertically(),this.startScrollXY_=new Pt(t.scrollX,t.scrollY)}dispose(){this.workspace=null}startDrag(){G()&&G().unselect()}endDrag(t){this.drag(t)}drag(t){if(t=Pt.sum(this.startScrollXY_,t),this.horizontalScrollEnabled_&&this.verticalScrollEnabled_)this.workspace.scroll(t.x,t.y);else if(this.horizontalScrollEnabled_)this.workspace.scroll(t.x,this.workspace.scrollY);else if(this.verticalScrollEnabled_)this.workspace.scroll(this.workspace.scrollX,t.y);else throw new TypeError("Invalid state.")}},K1=5,Y1=6,Cl=class{constructor(t,r){this.creatorWorkspace=r,this.mouseDownXY=new Pt(0,0),this.startWorkspace_=this.targetBlock=this.startBlock=this.startIcon=this.startField=this.startBubble=null,this.hasExceededDragRadius=!1,this.boundEvents=[],this.flyout=this.workspaceDragger=this.blockDragger=this.bubbleDragger=null,this.isMultiTouch_=this.isEnding_=this.gestureHasStarted=this.calledUpdateIsDragging=!1,this.cachedPoints=new Map,this.startDistance=this.previousScale=0,this.currentDropdownOwner=this.isPinchZoomEnabled=null,this.mostRecentEvent=t,this.currentDragDeltaXY=new Pt(0,0),this.healStack=!_f}dispose(){bt(),Og(),this.creatorWorkspace.clearGesture();for(const t of this.boundEvents)On(t);this.boundEvents.length=0,this.blockDragger&&this.blockDragger.dispose(),this.workspaceDragger&&this.workspaceDragger.dispose()}updateFromEvent(t){const r=new Pt(t.clientX,t.clientY);this.updateDragDelta(r)&&(this.updateIsDragging(),rt()),this.mostRecentEvent=t}updateDragDelta(t){return this.currentDragDeltaXY=Pt.difference(t,this.mouseDownXY),this.hasExceededDragRadius?!1:this.hasExceededDragRadius=Pt.magnitude(this.currentDragDeltaXY)>(this.flyout?n.config$$module$build$src$core$config.flyoutDragRadius:n.config$$module$build$src$core$config.dragRadius)}updateIsDraggingFromFlyout(){let t;if(!this.targetBlock||(t=this.flyout)==null||!t.isBlockCreatable(this.targetBlock))return!1;if(!this.flyout.targetWorkspace)throw Error(`Cannot update dragging from the flyout because the ' +
          'flyout's target workspace is undefined`);return!this.flyout.isScrollable()||this.flyout.isDragTowardWorkspace(this.currentDragDeltaXY)?(this.startWorkspace_=this.flyout.targetWorkspace,this.startWorkspace_.updateScreenCalculationsIfScrolled(),n.getGroup$$module$build$src$core$events$utils()||n.setGroup$$module$build$src$core$events$utils(!0),this.startBlock=null,this.targetBlock=this.flyout.createBlock(this.targetBlock),this.targetBlock.select(),!0):!1}updateIsDraggingBubble(){return this.startBubble?(this.startDraggingBubble(),!0):!1}updateIsDraggingBlock(){if(!this.targetBlock)return!1;if(this.flyout){if(this.updateIsDraggingFromFlyout())return this.startDraggingBlock(),!0}else if(this.targetBlock.isMovable())return this.startDraggingBlock(),!0;return!1}updateIsDraggingWorkspace(){if(!this.startWorkspace_)throw Error("Cannot update dragging the workspace because the start workspace is undefined");(this.flyout?this.flyout.isScrollable():this.startWorkspace_&&this.startWorkspace_.isDraggable())&&(this.workspaceDragger=new D_(this.startWorkspace_),this.workspaceDragger.startDrag())}updateIsDragging(){if(this.calledUpdateIsDragging)throw Error("updateIsDragging_ should only be called once per gesture.");this.calledUpdateIsDragging=!0,this.updateIsDraggingBubble()||this.updateIsDraggingBlock()||this.updateIsDraggingWorkspace()}startDraggingBlock(){this.blockDragger=new(T(Rt.BLOCK_DRAGGER,this.creatorWorkspace.options,!0))(this.targetBlock,this.startWorkspace_),this.blockDragger.startDrag(this.currentDragDeltaXY,this.healStack),this.blockDragger.drag(this.mostRecentEvent,this.currentDragDeltaXY)}startDraggingBubble(){if(!this.startBubble)throw Error("Cannot update dragging the bubble because the start bubble is undefined");if(!this.startWorkspace_)throw Error("Cannot update dragging the bubble because the start workspace is undefined");this.bubbleDragger=new Lc(this.startBubble,this.startWorkspace_),this.bubbleDragger.startBubbleDrag(),this.bubbleDragger.dragBubble(this.mostRecentEvent,this.currentDragDeltaXY)}doStart(t){if(!this.startWorkspace_)throw Error("Cannot start the touch gesture becauase the start workspace is undefined");this.isPinchZoomEnabled=this.startWorkspace_.options.zoomOptions&&this.startWorkspace_.options.zoomOptions.pinch,hr(t)?this.cancel():(this.gestureHasStarted=!0,lc(),this.startWorkspace_.updateScreenCalculationsIfScrolled(),this.startWorkspace_.isMutator&&this.startWorkspace_.resize(),this.currentDropdownOwner=As(),this.startWorkspace_.hideChaff(!!this.flyout),this.startWorkspace_.markFocused(),this.mostRecentEvent=t,Sg(),this.targetBlock&&this.targetBlock.select(),br(t)?this.handleRightClick(t):(t.type.toLowerCase()==="pointerdown"&&t.pointerType!=="mouse"&&pe(t,this),this.mouseDownXY=new Pt(t.clientX,t.clientY),this.healStack=t.altKey||t.ctrlKey||t.metaKey,this.bindMouseEvents(t),this.isEnding_||this.handleTouchStart(t)))}bindMouseEvents(t){this.boundEvents.push(kt(document,"pointerdown",null,this.handleStart.bind(this),!0)),this.boundEvents.push(kt(document,"pointermove",null,this.handleMove.bind(this),!0)),this.boundEvents.push(kt(document,"pointerup",null,this.handleUp.bind(this),!0)),t.preventDefault(),t.stopPropagation()}handleStart(t){this.isDragging()||(this.handleTouchStart(t),this.isMultiTouch()&&rt())}handleMove(t){this.isDragging()&&Ft(t)||!this.isMultiTouch()?(this.updateFromEvent(t),this.workspaceDragger?this.workspaceDragger.drag(this.currentDragDeltaXY):this.blockDragger?this.blockDragger.drag(this.mostRecentEvent,this.currentDragDeltaXY):this.bubbleDragger&&this.bubbleDragger.dragBubble(this.mostRecentEvent,this.currentDragDeltaXY),t.preventDefault(),t.stopPropagation()):this.isMultiTouch()&&(this.handleTouchMove(t),rt())}handleUp(t){if(this.isDragging()||this.handleTouchEnd(t),!this.isMultiTouch()||this.isDragging()){if(!Ft(t))return;if(this.updateFromEvent(t),rt(),this.isEnding_){console.log("Trying to end a gesture recursively.");return}this.isEnding_=!0,this.bubbleDragger?this.bubbleDragger.endBubbleDrag(t,this.currentDragDeltaXY):this.blockDragger?this.blockDragger.endDrag(t,this.currentDragDeltaXY):this.workspaceDragger?this.workspaceDragger.endDrag(this.currentDragDeltaXY):this.isBubbleClick()?this.doBubbleClick():this.isFieldClick()?this.doFieldClick():this.isIconClick()?this.doIconClick():this.isBlockClick()?this.doBlockClick():this.isWorkspaceClick()&&this.doWorkspaceClick(t)}t.preventDefault(),t.stopPropagation(),this.dispose()}handleTouchStart(t){var r=ln(t);this.cachedPoints.set(r,this.getTouchPoint(t));var s=Array.from(this.cachedPoints.keys());s.length===2&&(r=this.cachedPoints.get(s[0]),s=this.cachedPoints.get(s[1]),this.startDistance=Pt.distance(r,s),this.isMultiTouch_=!0,t.preventDefault())}handleTouchMove(t){const r=ln(t);this.cachedPoints.set(r,this.getTouchPoint(t)),this.isPinchZoomEnabled&&this.cachedPoints.size===2?this.handlePinch(t):this.handleMove(t)}handlePinch(t){var r=Array.from(this.cachedPoints.keys()),s=this.cachedPoints.get(r[0]);if(r=this.cachedPoints.get(r[1]),s=Pt.distance(s,r)/this.startDistance,0<this.previousScale&&1/0>this.previousScale){if(r=s-this.previousScale,r=0<r?r*K1:r*Y1,!this.startWorkspace_)throw Error("Cannot handle a pinch because the start workspace is undefined");const c=this.startWorkspace_,g=jr(t,c.getParentSvg(),c.getInverseScreenCTM());c.zoom(g.x,g.y,r)}this.previousScale=s,t.preventDefault()}handleTouchEnd(t){t=ln(t),this.cachedPoints.has(t)&&this.cachedPoints.delete(t),2>this.cachedPoints.size&&(this.cachedPoints.clear(),this.previousScale=0)}getTouchPoint(t){return this.startWorkspace_?new Pt(t.pageX,t.pageY):null}isMultiTouch(){return this.isMultiTouch_}cancel(){this.isEnding_||(rt(),this.bubbleDragger?this.bubbleDragger.endBubbleDrag(this.mostRecentEvent,this.currentDragDeltaXY):this.blockDragger?this.blockDragger.endDrag(this.mostRecentEvent,this.currentDragDeltaXY):this.workspaceDragger&&this.workspaceDragger.endDrag(this.currentDragDeltaXY),this.dispose())}handleRightClick(t){this.targetBlock?(this.bringBlockToFront(),this.targetBlock.workspace.hideChaff(!!this.flyout),this.targetBlock.showContextMenu(t)):this.startBubble?this.startBubble.showContextMenu(t):this.startWorkspace_&&!this.flyout&&(this.startWorkspace_.hideChaff(),this.startWorkspace_.showContextMenu(t)),t.preventDefault(),t.stopPropagation(),this.dispose()}handleWsStart(t,r){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");this.setStartWorkspace(r),this.mostRecentEvent=t,this.doStart(t)}fireWorkspaceClick(t){K(new(se(Ms))(null,t.id,"workspace"))}handleFlyoutStart(t,r){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");this.setStartFlyout(r),this.handleWsStart(t,r.getWorkspace())}handleBlockStart(t,r){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");this.setStartBlock(r),this.mostRecentEvent=t}handleBubbleStart(t,r){if(this.gestureHasStarted)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");this.setStartBubble(r),this.mostRecentEvent=t}doBubbleClick(){this.startBubble instanceof $r&&(this.startBubble.setFocus(),this.startBubble.select())}doFieldClick(){if(!this.startField)throw Error("Cannot do a field click because the start field is undefined");this.currentDropdownOwner!==this.startField&&this.startField.showEditor(this.mostRecentEvent),this.bringBlockToFront()}doIconClick(){if(!this.startIcon)throw Error("Cannot do an icon click because the start icon is undefined");this.startIcon.onClick()}doBlockClick(){if(this.flyout&&this.flyout.autoClose){if(!this.targetBlock)throw Error("Cannot do a block click because the target block is undefined");this.targetBlock.isEnabled()&&(n.getGroup$$module$build$src$core$events$utils()||n.setGroup$$module$build$src$core$events$utils(!0),this.flyout.createBlock(this.targetBlock).scheduleSnapAndBump())}else{if(!this.startWorkspace_)throw Error("Cannot do a block click because the start workspace is undefined");const t=new(se(Ms))(this.startBlock,this.startWorkspace_.id,"block");K(t)}this.bringBlockToFront(),n.setGroup$$module$build$src$core$events$utils(!1)}doWorkspaceClick(t){t=this.creatorWorkspace,G()&&G().unselect(),this.fireWorkspaceClick(this.startWorkspace_||t)}bringBlockToFront(){this.targetBlock&&!this.flyout&&this.targetBlock.bringToFront()}setStartField(t){if(this.gestureHasStarted)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");this.startField||(this.startField=t)}setStartIcon(t){if(this.gestureHasStarted)throw Error("Tried to call gesture.setStartIcon, but the gesture had already been started.");this.startIcon||(this.startIcon=t)}setStartBubble(t){this.startBubble||(this.startBubble=t)}setStartBlock(t){this.startBlock||this.startBubble||(this.startBlock=t,t.isInFlyout&&t!==t.getRootBlock()?this.setTargetBlock(t.getRootBlock()):this.setTargetBlock(t))}setTargetBlock(t){t.isShadow()?this.setTargetBlock(t.getParent()):this.targetBlock=t}setStartWorkspace(t){this.startWorkspace_||(this.startWorkspace_=t)}setStartFlyout(t){this.flyout||(this.flyout=t)}isBubbleClick(){return!!this.startBubble&&!this.hasExceededDragRadius}isBlockClick(){return!!this.startBlock&&!this.hasExceededDragRadius&&!this.isFieldClick()&&!this.isIconClick()}isFieldClick(){return(this.startField?this.startField.isClickable():!1)&&!this.hasExceededDragRadius&&(!this.flyout||!this.flyout.autoClose)}isIconClick(){return!!this.startIcon&&!this.hasExceededDragRadius}isWorkspaceClick(){return!this.startBlock&&!this.startBubble&&!this.startField&&!this.hasExceededDragRadius}isDragging(){return!!this.workspaceDragger||!!this.blockDragger||!!this.bubbleDragger}hasStarted(){return this.gestureHasStarted}getInsertionMarkers(){return this.blockDragger?this.blockDragger.getInsertionMarkers():[]}getCurrentDragger(){let t,r;return(r=(t=this.blockDragger)!=null?t:this.workspaceDragger)!=null?r:this.bubbleDragger}static inProgress(){const t=A();for(let r=0,s;s=t[r];r++)if(s.currentGesture_)return!0;return!1}},p$=class{constructor(t,r){this.pattern=t;let s;this.spacing=(s=r.spacing)!=null?s:0;let c;this.length=(c=r.length)!=null?c:1,this.line2=(this.line1=t.firstChild)&&this.line1.nextSibling;let g;this.snapToGrid=(g=r.snap)!=null?g:!1}shouldSnap(){return this.snapToGrid}getSpacing(){return this.spacing}getPatternId(){return this.pattern.id}update(t){var r=this.spacing*t;this.pattern.setAttribute("width",`${r}`),this.pattern.setAttribute("height",`${r}`),r=Math.floor(this.spacing/2)+.5;let s=r-this.length/2,c=r+this.length/2;r*=t,s*=t,c*=t,this.setLineAttributes(this.line1,t,s,c,r,r),this.setLineAttributes(this.line2,t,r,r,s,c)}setLineAttributes(t,r,s,c,g,P){t&&(t.setAttribute("stroke-width",`${r}`),t.setAttribute("x1",`${s}`),t.setAttribute("y1",`${g}`),t.setAttribute("x2",`${c}`),t.setAttribute("y2",`${P}`))}moveTo(t,r){this.pattern.setAttribute("x",`${t}`),this.pattern.setAttribute("y",`${r}`)}static createDom(t,r,s){t=we(nt.PATTERN,{id:"blocklyGridPattern"+t,patternUnits:"userSpaceOnUse"},s);let c,g;if(0<((c=r.length)!=null?c:1)&&0<((g=r.spacing)!=null?g:0)){we(nt.LINE,{stroke:r.colour},t);let P;(P=r.length)!=null&&P&&we(nt.LINE,{stroke:r.colour},t)}else we(nt.LINE,{},t);return t}};n.Names$$module$build$src$core$names=class{constructor(t,r){this.db=new Map,this.dbReverse=new Set,this.variableMap=null,this.variablePrefix=r||"",this.reservedWords=new Set(t?t.split(","):[])}reset(){this.db.clear(),this.dbReverse.clear(),this.variableMap=null}setVariableMap(t){this.variableMap=t}getNameForUserVariable(t){return this.variableMap?(t=this.variableMap.getVariableById(t))?t.name:null:(console.warn(`Deprecated call to Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:
Blockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());`),null)}populateVariables(t){t=n.allUsedVarModels$$module$build$src$core$variables(t);for(let r=0;r<t.length;r++)this.getName(t[r].getId(),n.NameType$$module$build$src$core$names.VARIABLE)}populateProcedures(t){throw Error("The implementation of populateProcedures should be monkey-patched in by blockly.ts")}getName(t,r){let s=t;r===n.NameType$$module$build$src$core$names.VARIABLE&&(t=this.getNameForUserVariable(t))&&(s=t),t=s.toLowerCase();const c=r===n.NameType$$module$build$src$core$names.VARIABLE||r===n.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:"";this.db.has(r)||this.db.set(r,new Map);const g=this.db.get(r);return g.has(t)?c+g.get(t):(r=this.getDistinctName(s,r),g.set(t,r.substr(c.length)),r)}getUserNames(t){let r;return(t=(r=this.db.get(t))==null?void 0:r.keys())?Array.from(t):[]}getDistinctName(t,r){t=this.safeName(t);let s=null,c,g;for(;this.dbReverse.has(t+((c=s)!=null?c:""))||this.reservedWords.has(t+((g=s)!=null?g:""));)s=s?s+1:2;let P;return t+=(P=s)!=null?P:"",this.dbReverse.add(t),(r===n.NameType$$module$build$src$core$names.VARIABLE||r===n.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE?this.variablePrefix:"")+t}safeName(t){return t?(t=encodeURI(t.replace(/ /g,"_")).replace(/[^\w]/g,"_"),"0123456789".indexOf(t[0])!==-1&&(t="my_"+t)):t=n.Msg$$module$build$src$core$msg.UNNAMED_KEY||"unnamed",t}static equals(t,r){return t.toLowerCase()===r.toLowerCase()}},function(t){t=t.NameType||(t.NameType={}),t.DEVELOPER_VARIABLE="DEVELOPER_VARIABLE",t.VARIABLE="VARIABLE",t.PROCEDURE="PROCEDURE"}(n.Names$$module$build$src$core$names||(n.Names$$module$build$src$core$names={})),n.NameType$$module$build$src$core$names=n.Names$$module$build$src$core$names.NameType,n.Names$$module$build$src$core$names.DEVELOPER_VARIABLE_TYPE=n.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE,n.NameType$$module$build$src$core$names,n.Names$$module$build$src$core$names;var x_=class extends Map{constructor(){super()}set(t,r){return this.get(t)===r?this:(super.set(t,r),xd(r)&&r.startPublishing(),this)}delete(t){const r=this.get(t);return t=super.delete(t),t&&(xd(r)&&r.stopPublishing(),t)}clear(){if(this.size)for(const t of this.keys())this.delete(t)}add(t){return this.set(t.getId(),t)}getProcedures(){return[...this.values()]}},va={};va.CommentIcon=ur,va.Icon=sf,va.IconType=er,va.MutatorIcon=n.MutatorIcon$$module$build$src$core$icons$mutator_icon,va.WarningIcon=_s,va.exceptions=r_,va.registry=pf;var Af,vr;Af="PROCEDURE",n.DEFAULT_ARG$$module$build$src$core$procedures="x",vr={},vr.CATEGORY_NAME=Af,vr.DEFAULT_ARG=n.DEFAULT_ARG$$module$build$src$core$procedures,vr.ObservableProcedureMap=x_,vr.allProcedures=Bd,vr.findLegalName=n.findLegalName$$module$build$src$core$procedures,vr.flyoutCategory=Np,vr.getCallers=Zo,vr.getDefinition=n.getDefinition$$module$build$src$core$procedures,vr.isNameUsed=wp,vr.isProcedureBlock=Zl,vr.mutateCallers=n.mutateCallers$$module$build$src$core$procedures,vr.mutatorOpenListener=Zg,vr.rename=n.rename$$module$build$src$core$procedures;var B_=class{constructor(t,r){this.workspace=t,this.theme=r,this.subscribedWorkspaces_=[],this.componentDB=new Map}getTheme(){return this.theme}setTheme(t){var r=this.theme;this.theme=t,(t=this.workspace.getInjectionDiv())&&(r&&(r=r.getClassName())&&re(t,r),(r=this.theme.getClassName())&&le(t,r));for(let s=0,c;c=this.subscribedWorkspaces_[s];s++)c.refreshTheme();for(const[s,c]of this.componentDB)for(const g of c){t=g.element,r=g.propertyName;const P=this.theme&&this.theme.getComponentStyle(s);t.style.setProperty(r,P||"")}for(const s of this.subscribedWorkspaces_)s.hideChaff()}subscribeWorkspace(t){this.subscribedWorkspaces_.push(t)}unsubscribeWorkspace(t){if(!Zr(this.subscribedWorkspaces_,t))throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.")}subscribe(t,r,s){this.componentDB.has(r)||this.componentDB.set(r,[]),this.componentDB.get(r).push({element:t,propertyName:s}),r=this.theme&&this.theme.getComponentStyle(r),t.style.setProperty(s,r||"")}unsubscribe(t){if(t)for(const[r,s]of this.componentDB){for(let c=s.length-1;0<=c;c--)s[c].element===t&&s.splice(c,1);s.length||this.componentDB.delete(r)}}dispose(){this.subscribedWorkspaces_.length=0,this.componentDB.clear()}},vh="VARIABLE_DYNAMIC",Il={};Il.CATEGORY_NAME=vh,Il.flyoutCategory=ou,Il.flyoutCategoryBlocks=ul,Il.onCreateVariableButtonClick_Colour=Fd,Il.onCreateVariableButtonClick_Number=Hi,Il.onCreateVariableButtonClick_String=Rp;var Rf=class{constructor(t){this.workspace=t,this.variableMap=new Map}clear(){for(const t of this.variableMap.values())for(;0<t.length;)this.deleteVariable(t[0]);if(this.variableMap.size!==0)throw Error("Non-empty variable map")}renameVariable(t,r){if(t.name!==r){var s=this.getVariable(r,t.type),c=this.workspace.getAllBlocks(!1),g=n.getGroup$$module$build$src$core$events$utils();g||n.setGroup$$module$build$src$core$events$utils(!0);try{s&&s.getId()!==t.getId()?this.renameVariableWithConflict_(t,r,s,c):this.renameVariableAndUses_(t,r,c)}finally{n.setGroup$$module$build$src$core$events$utils(g)}}}renameVariableById(t,r){const s=this.getVariableById(t);if(!s)throw Error("Tried to rename a variable that didn't exist. ID: "+t);this.renameVariable(s,r)}renameVariableAndUses_(t,r,s){for(K(new(se(Si))(t,r)),t.name=r,r=0;r<s.length;r++)s[r].updateVarName(t)}renameVariableWithConflict_(t,r,s,c){const g=t.type;for(r!==s.name&&this.renameVariableAndUses_(s,r,c),r=0;r<c.length;r++)c[r].renameVarById(t.getId(),s.getId());K(new(se(Jo))(t)),Zr(this.variableMap.get(g),t)}createVariable(t,r,s){var c=this.getVariable(t,r);if(c){if(s&&c.getId()!==s)throw Error('Variable "'+t+'" is already in use and its id is "'+c.getId()+'" which conflicts with the passed in id, "'+s+'".');return c}if(s&&this.getVariableById(s))throw Error('Variable id, "'+s+'", is already in use.');return c=s||ue(),r=r||"",c=new mc(this.workspace,t,r,c),t=this.variableMap.get(r)||[],t.push(c),this.variableMap.delete(r),this.variableMap.set(r,t),K(new(se(pl))(c)),c}deleteVariable(t){const r=t.getId(),s=this.variableMap.get(t.type);if(s){for(let c=0;c<s.length;c++)if(s[c].getId()===r){s.splice(c,1),K(new(se(Jo))(t)),s.length===0&&this.variableMap.delete(t.type);break}}}deleteVariableById(t){const r=this.getVariableById(t);if(r){var s=r.name;const c=this.getVariableUsesById(t);for(let g=0,P;P=c[g];g++)if(P.type==="procedures_defnoreturn"||P.type==="procedures_defreturn"){t=String(P.getFieldValue("NAME")),s=n.Msg$$module$build$src$core$msg.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",s).replace("%2",t),me(s);return}1<c.length?(s=n.Msg$$module$build$src$core$msg.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(c.length)).replace("%2",s),xe(s,g=>{g&&r&&this.deleteVariableInternal(r,c)})):this.deleteVariableInternal(r,c)}else console.warn("Can't delete non-existent variable: "+t)}deleteVariableInternal(t,r){const s=n.getGroup$$module$build$src$core$events$utils();s||n.setGroup$$module$build$src$core$events$utils(!0);try{for(let c=0;c<r.length;c++)r[c].dispose(!0);this.deleteVariable(t)}finally{n.setGroup$$module$build$src$core$events$utils(s)}}getVariable(t,r){if(r=this.variableMap.get(r||"")){for(let s=0,c;c=r[s];s++)if(n.Names$$module$build$src$core$names.equals(c.name,t))return c}return null}getVariableById(t){for(const r of this.variableMap.values())for(const s of r)if(s.getId()===t)return s;return null}getVariablesOfType(t){return(t=this.variableMap.get(t||""))?t.slice():[]}getVariableTypes(t){const r=new Set(this.variableMap.keys());if(t&&t.getPotentialVariableMap())for(const s of t.getPotentialVariableMap().variableMap.keys())r.add(s);return r.has("")||r.add(""),Array.from(r.values())}getAllVariables(){let t=[];for(const r of this.variableMap.values())t=t.concat(r);return t}getAllVariableNames(){return Array.from(this.variableMap.values()).flat().map(t=>t.name)}getVariableUsesById(t){const r=[],s=this.workspace.getAllBlocks(!1);for(let c=0;c<s.length;c++){const g=s[c].getVarModels();if(g)for(let P=0;P<g.length;P++)g[P].getId()===t&&r.push(s[c])}return r}},_h=class{get isFlyout(){return this.internalIsFlyout}get isMutator(){return this.internalIsMutator}constructor(t){this.isClearing=this.internalIsMutator=this.internalIsFlyout=this.rendered=!1,this.MAX_UNDO=1024,this.connectionDBList=[],this.topBlocks=[],this.topComments=[],this.commentDB=new Map,this.listeners=[],this.undoStack_=[],this.redoStack_=[],this.blockDB=new Map,this.typedBlocksDB=new Map,this.procedureMap=new x_,this.potentialVariableMap=null,this.id=ue(),R(this),this.options=t||new Xi({}),this.RTL=!!this.options.RTL,this.horizontalLayout=!!this.options.horizontalLayout,this.toolboxPosition=this.options.toolboxPosition,this.connectionChecker=new(T(Rt.CONNECTION_CHECKER,this.options,!0))(this),this.variableMap=new Rf(this)}dispose(){this.listeners.length=0,this.clear(),L(this)}sortObjects_(t,r){const s=Math.sin(fr(_h.SCAN_ANGLE))*(this.RTL?-1:1);return t=t.getRelativeToSurfaceXY(),r=r.getRelativeToSurfaceXY(),t.y+s*t.x-(r.y+s*r.x)}addTopBlock(t){this.topBlocks.push(t)}removeTopBlock(t){if(!Zr(this.topBlocks,t))throw Error("Block not present in workspace's list of top-most blocks.")}getTopBlocks(t){const r=[].concat(this.topBlocks);return t&&1<r.length&&r.sort(this.sortObjects_.bind(this)),r}addTypedBlock(t){this.typedBlocksDB.has(t.type)||this.typedBlocksDB.set(t.type,[]),this.typedBlocksDB.get(t.type).push(t)}removeTypedBlock(t){Zr(this.typedBlocksDB.get(t.type),t),this.typedBlocksDB.get(t.type).length||this.typedBlocksDB.delete(t.type)}getBlocksByType(t,r){return this.typedBlocksDB.has(t)?(t=this.typedBlocksDB.get(t).slice(0),r&&t&&1<t.length&&t.sort(this.sortObjects_.bind(this)),t.filter(function(s){return!s.isInsertionMarker()})):[]}addTopComment(t){this.topComments.push(t),this.commentDB.has(t.id)&&console.warn('Overriding an existing comment on this workspace, with id "'+t.id+'"'),this.commentDB.set(t.id,t)}removeTopComment(t){if(!Zr(this.topComments,t))throw Error("Comment not present in workspace's list of top-most comments.");this.commentDB.delete(t.id)}getTopComments(t){const r=[].concat(this.topComments);return t&&1<r.length&&r.sort(this.sortObjects_.bind(this)),r}getAllBlocks(t){if(t){var r=this.getTopBlocks(!0);t=[];for(let s=0;s<r.length;s++)t.push(...r[s].getDescendants(!0))}else for(t=this.getTopBlocks(!1),r=0;r<t.length;r++)t.push(...t[r].getChildren(!1));return t.filter(function(s){return!s.isInsertionMarker()})}clear(){this.isClearing=!0;try{const t=n.getGroup$$module$build$src$core$events$utils();for(t||n.setGroup$$module$build$src$core$events$utils(!0);this.topBlocks.length;)this.topBlocks[0].dispose(!1);for(;this.topComments.length;)this.topComments[this.topComments.length-1].dispose();n.setGroup$$module$build$src$core$events$utils(t),this.variableMap.clear(),this.potentialVariableMap&&this.potentialVariableMap.clear()}finally{this.isClearing=!1}}renameVariableById(t,r){this.variableMap.renameVariableById(t,r)}createVariable(t,r,s){return this.variableMap.createVariable(t,r,s)}getVariableUsesById(t){return this.variableMap.getVariableUsesById(t)}deleteVariableById(t){this.variableMap.deleteVariableById(t)}getVariable(t,r){return this.variableMap.getVariable(t,r)}getVariableById(t){return this.variableMap.getVariableById(t)}getVariablesOfType(t){return this.variableMap.getVariablesOfType(t)}getVariableTypes(){return this.variableMap.getVariableTypes(this)}getAllVariables(){return this.variableMap.getAllVariables()}getAllVariableNames(){return this.variableMap.getAllVariableNames()}getWidth(){return 0}newBlock(t,r){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}remainingCapacity(){return isNaN(this.options.maxBlocks)?1/0:this.options.maxBlocks-this.getAllBlocks(!1).length}remainingCapacityOfType(t){return this.options.maxInstances?(this.options.maxInstances[t]!==void 0?this.options.maxInstances[t]:1/0)-this.getBlocksByType(t,!1).length:1/0}isCapacityAvailable(t){if(!this.hasBlockLimits())return!0;let r=0;for(const s in t){if(t[s]>this.remainingCapacityOfType(s))return!1;r+=t[s]}return!(r>this.remainingCapacity())}hasBlockLimits(){return this.options.maxBlocks!==1/0||!!this.options.maxInstances}getUndoStack(){return this.undoStack_}getRedoStack(){return this.redoStack_}undo(t){var r=t?this.redoStack_:this.undoStack_,s=t?this.undoStack_:this.redoStack_;const c=r.pop();if(c){for(var g=[c];r.length&&c.group&&c.group===r[r.length-1].group;){const P=r.pop();P&&g.push(P)}for(r=0;r<g.length;r++)s.push(g[r]);g=ne(g,t),oe(!1);try{for(s=0;s<g.length;s++)g[s].run(t)}finally{oe(!0)}}}clearUndo(){this.undoStack_.length=0,this.redoStack_.length=0,ge()}addChangeListener(t){return this.listeners.push(t),t}removeChangeListener(t){Zr(this.listeners,t)}fireChangeListener(t){if(t.recordUndo)for(this.undoStack_.push(t),this.redoStack_.length=0;this.undoStack_.length>this.MAX_UNDO&&0<=this.MAX_UNDO;)this.undoStack_.shift();for(let r=0;r<this.listeners.length;r++)(0,this.listeners[r])(t)}getBlockById(t){return this.blockDB.get(t)||null}setBlockById(t,r){this.blockDB.set(t,r)}removeBlockById(t){this.blockDB.delete(t)}getCommentById(t){let r;return(r=this.commentDB.get(t))!=null?r:null}allInputsFilled(t){const r=this.getTopBlocks(!1);for(let s=0;s<r.length;s++)if(!r[s].allInputsFilled(t))return!1;return!0}getPotentialVariableMap(){return this.potentialVariableMap}createPotentialVariableMap(){this.potentialVariableMap=new Rf(this)}getVariableMap(){return this.variableMap}setVariableMap(t){this.variableMap=t}getProcedureMap(){return this.procedureMap}getRootWorkspace(){let t=null;const r=this.options.parentWorkspace;return this.isFlyout?r&&r.options&&(t=r.options.parentWorkspace):r&&(t=r),t}static getById(t){return w(t)}static getAll(){return A()}};_h.SCAN_ANGLE=3;var Q1=100,F_=class{constructor(t){this.parentWorkspace=t,this.sounds=new Map,this.lastSound_=null}dispose(){this.sounds.clear()}load(t,r){if(t.length){try{var s=new globalThis.Audio}catch{return}for(let g=0;g<t.length;g++){const P=t[g],ae=P.match(/\.(\w+)$/);if(ae&&s.canPlayType("audio/"+ae[1])){var c=new globalThis.Audio(P);break}}c&&this.sounds.set(r,c)}}preload(){for(const t of this.sounds.values()){t.volume=.01;const r=t.play();if(r!==void 0?r.then(t.pause).catch(function(){}):t.pause(),bc||Fs)break}}play(t,r){var s=this.sounds.get(t);s?(t=new Date,this.lastSound_!==null&&t.getTime()-this.lastSound_.getTime()<Q1||(this.lastSound_=t,s=bc||Xp?s:s.cloneNode(),s.volume=r===void 0?1:r,s.play())):this.parentWorkspace&&this.parentWorkspace.getAudioManager().play(t,r)}},ys;(function(t){t[t.TOP=0]="TOP",t[t.BOTTOM=1]="BOTTOM"})(ys||(ys={}));var Vc;(function(t){t[t.LEFT=0]="LEFT",t[t.RIGHT=1]="RIGHT"})(Vc||(Vc={}));var _a;(function(t){t[t.UP=0]="UP",t[t.DOWN=1]="DOWN"})(_a||(_a={}));var Su={};Su.bumpDirection=_a,Su.bumpPositionRect=dc,Su.getCornerOppositeToolbox=sr,Su.getStartPositionRect=Vd,Su.horizontalPosition=Vc,Su.verticalPosition=ys;var so={width:96,height:124,url:"sprites.png"},Lf=class{constructor(t){this.workspace=t,this.id="zoomControls",this.boundEvents=[],this.zoomResetGroup=this.zoomOutGroup=this.zoomInGroup=null,this.HEIGHT=this.WIDTH=32,this.SMALL_SPACING=2,this.LARGE_SPACING=11,this.MARGIN_HORIZONTAL=this.MARGIN_VERTICAL=20,this.svgGroup=null,this.top=this.left=0,this.initialized=!1}createDom(){this.svgGroup=we(nt.G,{});const t=String(Math.random()).substring(2);return this.createZoomOutSvg(t),this.createZoomInSvg(t),this.workspace.isMovable()&&this.createZoomResetSvg(t),this.svgGroup}init(){this.workspace.getComponentManager().addComponent({component:this,weight:2,capabilities:[io.Capability.POSITIONABLE]}),this.initialized=!0}dispose(){this.workspace.getComponentManager().removeComponent("zoomControls"),this.svgGroup&&Ne(this.svgGroup);for(const t of this.boundEvents)On(t);this.boundEvents.length=0}getBoundingRectangle(){let t=this.SMALL_SPACING+2*this.HEIGHT;return this.zoomResetGroup&&(t+=this.LARGE_SPACING+this.HEIGHT),new ro(this.top,this.top+t,this.left,this.left+this.WIDTH)}position(t,r){if(this.initialized){var s=sr(this.workspace,t),c=this.SMALL_SPACING+2*this.HEIGHT;if(this.zoomResetGroup&&(c+=this.LARGE_SPACING+this.HEIGHT),t=Vd(s,new Zn(this.WIDTH,c),this.MARGIN_HORIZONTAL,this.MARGIN_VERTICAL,t,this.workspace),s=s.vertical,r=dc(t,this.MARGIN_VERTICAL,s===ys.TOP?_a.DOWN:_a.UP,r),s===ys.TOP){var g=this.SMALL_SPACING+this.HEIGHT,P;(P=this.zoomInGroup)==null||P.setAttribute("transform","translate(0, "+g+")"),this.zoomResetGroup&&this.zoomResetGroup.setAttribute("transform","translate(0, "+(g+this.LARGE_SPACING+this.HEIGHT)+")")}else{P=this.zoomResetGroup?this.LARGE_SPACING+this.HEIGHT:0;let ze;(ze=this.zoomInGroup)==null||ze.setAttribute("transform","translate(0, "+P+")"),P=P+this.SMALL_SPACING+this.HEIGHT,(g=this.zoomOutGroup)==null||g.setAttribute("transform","translate(0, "+P+")")}this.top=r.top,this.left=r.left;var ae;(ae=this.svgGroup)==null||ae.setAttribute("transform","translate("+this.left+","+this.top+")")}}createZoomOutSvg(t){this.zoomOutGroup=we(nt.G,{class:"blocklyZoom"},this.svgGroup);const r=we(nt.CLIPPATH,{id:"blocklyZoomoutClipPath"+t},this.zoomOutGroup);we(nt.RECT,{width:32,height:32},r),we(nt.IMAGE,{width:so.width,height:so.height,x:-64,y:-92,"clip-path":"url(#blocklyZoomoutClipPath"+t+")"},this.zoomOutGroup).setAttributeNS(ki,"xlink:href",this.workspace.options.pathToMedia+so.url),this.boundEvents.push(kt(this.zoomOutGroup,"pointerdown",null,this.zoom.bind(this,-1)))}createZoomInSvg(t){this.zoomInGroup=we(nt.G,{class:"blocklyZoom"},this.svgGroup);const r=we(nt.CLIPPATH,{id:"blocklyZoominClipPath"+t},this.zoomInGroup);we(nt.RECT,{width:32,height:32},r),we(nt.IMAGE,{width:so.width,height:so.height,x:-32,y:-92,"clip-path":"url(#blocklyZoominClipPath"+t+")"},this.zoomInGroup).setAttributeNS(ki,"xlink:href",this.workspace.options.pathToMedia+so.url),this.boundEvents.push(kt(this.zoomInGroup,"pointerdown",null,this.zoom.bind(this,1)))}zoom(t,r){this.workspace.markFocused(),this.workspace.zoomCenter(t),this.fireZoomEvent(),bt(),r.stopPropagation(),r.preventDefault()}createZoomResetSvg(t){this.zoomResetGroup=we(nt.G,{class:"blocklyZoom"},this.svgGroup);const r=we(nt.CLIPPATH,{id:"blocklyZoomresetClipPath"+t},this.zoomResetGroup);we(nt.RECT,{width:32,height:32},r),we(nt.IMAGE,{width:so.width,height:so.height,y:-92,"clip-path":"url(#blocklyZoomresetClipPath"+t+")"},this.zoomResetGroup).setAttributeNS(ki,"xlink:href",this.workspace.options.pathToMedia+so.url),this.boundEvents.push(kt(this.zoomResetGroup,"pointerdown",null,this.resetZoom.bind(this)))}resetZoom(t){this.workspace.markFocused();const r=Math.log(this.workspace.options.zoomOptions.startScale/this.workspace.scale)/Math.log(this.workspace.options.zoomOptions.scaleSpeed);this.workspace.beginCanvasTransition(),this.workspace.zoomCenter(r),this.workspace.scrollCenter(),setTimeout(this.workspace.endCanvasTransition.bind(this.workspace),500),this.fireZoomEvent(),bt(),t.stopPropagation(),t.preventDefault()}fireZoomEvent(){const t=new(se(Ms))(null,this.workspace.id,"zoom_controls");K(t)}};Yn(`
.blocklyZoom>image, .blocklyZoom>svg>image {
  opacity: .4;
}

.blocklyZoom>image:hover, .blocklyZoom>svg>image:hover {
  opacity: .6;
}

.blocklyZoom>image:active, .blocklyZoom>svg>image:active {
  opacity: .8;
}
`);var q1=20,Es=class extends _h{constructor(t){super(t),this.resizeHandlerWrapper=null,this.resizesEnabled=this.isVisible_=this.rendered=!0,this.startScrollY=this.startScrollX=this.scrollY=this.scrollX=0,this.dragDeltaXY=null,this.oldScale=this.scale=1,this.oldLeft=this.oldTop=0,this.inverseScreenCTM=this.targetWorkspace=this.configureContextMenu=this.lastRecordedPageScroll=this.injectionDiv=this.currentGesture_=this.toolbox_=this.flyout=this.scrollbar=this.trashcan=null,this.inverseScreenCTMDirty=!0,this.highlightedBlocks=[],this.toolboxCategoryCallbacks=new Map,this.flyoutButtonCallbacks=new Map,this.cachedParentSvg=null,this.keyboardAccessibilityMode=!1,this.topBoundedElements=[],this.dragTargetAreas=[],this.zoomControls_=null,this.metricsManager=new(T(Rt.METRICS_MANAGER,t,!0))(this),this.getMetrics=t.getMetrics||this.metricsManager.getMetrics.bind(this.metricsManager),this.setMetrics=t.setMetrics||Es.setTopLevelWorkspaceMetrics_,this.componentManager=new io,this.connectionDBList=Mc.init(this.connectionChecker),this.audioManager=new F_(t.parentWorkspace),this.grid=this.options.gridPattern?new p$(this.options.gridPattern,t.gridOptions):null,this.markerManager=new eh(this),Qo&&tt&&this.registerToolboxCategoryCallback(fs,tt),Il&&ou&&this.registerToolboxCategoryCallback(vh,ou),vr&&Np&&(this.registerToolboxCategoryCallback(Af,Np),this.addChangeListener(Zg)),this.themeManager_=this.options.parentWorkspace?this.options.parentWorkspace.getThemeManager():new B_(this,this.options.theme||uf),this.themeManager_.subscribeWorkspace(this);let r;this.renderer=Gg(this.options.renderer||"geras",this.getTheme(),(r=this.options.rendererOverrides)!=null?r:void 0),this.cachedParentSvgSize=new Zn(0,0)}getMarkerManager(){return this.markerManager}getMetricsManager(){return this.metricsManager}setMetricsManager(t){this.metricsManager=t,this.getMetrics=this.metricsManager.getMetrics.bind(this.metricsManager)}getComponentManager(){return this.componentManager}setCursorSvg(t){this.markerManager.setCursorSvg(t)}setMarkerSvg(t){this.markerManager.setMarkerSvg(t)}getMarker(t){return this.markerManager?this.markerManager.getMarker(t):null}getCursor(){return this.markerManager?this.markerManager.getCursor():null}getRenderer(){return this.renderer}getThemeManager(){return this.themeManager_}getTheme(){return this.themeManager_.getTheme()}setTheme(t){t||(t=uf),this.themeManager_.setTheme(t)}refreshTheme(){this.svgGroup_&&this.renderer.refreshDom(this.svgGroup_,this.getTheme()),this.updateBlockStyles_(this.getAllBlocks(!1).filter(function(r){return!!r.getStyleName()})),this.refreshToolboxSelection(),this.toolbox_&&this.toolbox_.refreshTheme(),this.isVisible()&&this.setVisible(!0);const t=new(se(Oi))(this.getTheme().name,this.id);K(t)}updateBlockStyles_(t){for(let r=0,s;s=t[r];r++){const c=s.getStyleName();c&&s.setStyle(c)}}getInverseScreenCTM(){if(this.inverseScreenCTMDirty){const t=this.getParentSvg().getScreenCTM();t&&(this.inverseScreenCTM=t.inverse(),this.inverseScreenCTMDirty=!1)}return this.inverseScreenCTM}updateInverseScreenCTM(){this.inverseScreenCTMDirty=!0}isVisible(){return this.isVisible_}getSvgXY(t){let r=0,s=0,c=1;(this.getCanvas().contains(t)||this.getBubbleCanvas().contains(t))&&(c=this.scale);do{const g=Yo(t);(t===this.getCanvas()||t===this.getBubbleCanvas())&&(c=1),r+=g.x*c,s+=g.y*c,t=t.parentNode}while(t&&t!==this.getParentSvg());return new Pt(r,s)}getCachedParentSvgSize(){const t=this.cachedParentSvgSize;return new Zn(t.width,t.height)}getOriginOffsetInPixels(){return rs(this.getCanvas())}getInjectionDiv(){if(!this.injectionDiv){let t=this.svgGroup_;for(;t;){if((" "+(t.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")!==-1){this.injectionDiv=t;break}t=t.parentNode}}return this.injectionDiv}getBlockCanvas(){return this.svgBlockCanvas_}setResizeHandlerWrapper(t){this.resizeHandlerWrapper=t}createDom(t){return this.svgGroup_=we(nt.G,{class:"blocklyWorkspace"}),t&&(this.svgBackground_=we(nt.RECT,{height:"100%",width:"100%",class:t},this.svgGroup_),t==="blocklyMainBackground"&&this.grid?this.svgBackground_.style.fill="url(#"+this.grid.getPatternId()+")":this.themeManager_.subscribe(this.svgBackground_,"workspaceBackgroundColour","fill")),this.svgBlockCanvas_=we(nt.G,{class:"blocklyBlockCanvas"},this.svgGroup_),this.svgBubbleCanvas_=we(nt.G,{class:"blocklyBubbleCanvas"},this.svgGroup_),this.isFlyout||(kt(this.svgGroup_,"pointerdown",this,this.onMouseDown_,!1),document.body.addEventListener("wheel",function(){}),kt(this.svgGroup_,"wheel",this,this.onMouseWheel_)),this.options.hasCategories&&(this.toolbox_=new(T(Rt.TOOLBOX,this.options,!0))(this)),this.grid&&this.grid.update(this.scale),this.recordDragTargets(),(t=T(Rt.CURSOR,this.options))&&this.markerManager.setCursor(new t),this.renderer.createDom(this.svgGroup_,this.getTheme()),this.svgGroup_}dispose(){if(this.rendered=!1,this.currentGesture_&&this.currentGesture_.cancel(),this.svgGroup_&&Ne(this.svgGroup_),this.toolbox_&&(this.toolbox_.dispose(),this.toolbox_=null),this.flyout&&(this.flyout.dispose(),this.flyout=null),this.trashcan&&(this.trashcan.dispose(),this.trashcan=null),this.scrollbar&&(this.scrollbar.dispose(),this.scrollbar=null),this.zoomControls_&&this.zoomControls_.dispose(),this.audioManager&&this.audioManager.dispose(),this.grid&&(this.grid=null),this.renderer.dispose(),this.markerManager&&this.markerManager.dispose(),super.dispose(),this.themeManager_&&(this.themeManager_.unsubscribeWorkspace(this),this.themeManager_.unsubscribe(this.svgBackground_),this.options.parentWorkspace||this.themeManager_.dispose()),this.connectionDBList.length=0,this.toolboxCategoryCallbacks.clear(),this.flyoutButtonCallbacks.clear(),!this.options.parentWorkspace){const t=this.getParentSvg();t&&t.parentNode&&Ne(t.parentNode)}this.resizeHandlerWrapper&&(On(this.resizeHandlerWrapper),this.resizeHandlerWrapper=null)}addTrashcan(){this.trashcan=Es.newTrashcan(this);const t=this.trashcan.createDom();this.svgGroup_.insertBefore(t,this.svgBlockCanvas_)}static newTrashcan(t){throw Error("The implementation of newTrashcan should be monkey-patched in by blockly.ts")}addZoomControls(){this.zoomControls_=new Lf(this);const t=this.zoomControls_.createDom();this.svgGroup_.appendChild(t)}addFlyout(t){const r=new Xi({parentWorkspace:this,rtl:this.RTL,oneBasedIndex:this.options.oneBasedIndex,horizontalLayout:this.horizontalLayout,renderer:this.options.renderer,rendererOverrides:this.options.rendererOverrides,move:{scrollbars:!0}});return r.toolboxPosition=this.options.toolboxPosition,this.flyout=this.horizontalLayout?new(T(Rt.FLYOUTS_HORIZONTAL_TOOLBOX,this.options,!0))(r):new(T(Rt.FLYOUTS_VERTICAL_TOOLBOX,this.options,!0))(r),this.flyout.autoClose=!1,this.flyout.getWorkspace().setVisible(!0),this.flyout.createDom(t)}getFlyout(t){return this.flyout||t?this.flyout:this.toolbox_?this.toolbox_.getFlyout():null}getToolbox(){return this.toolbox_}updateScreenCalculations_(){this.updateInverseScreenCTM(),this.recordDragTargets()}resizeContents(){this.resizesEnabled&&this.rendered&&(this.scrollbar&&this.scrollbar.resize(),this.updateInverseScreenCTM())}resize(){this.toolbox_&&this.toolbox_.position(),this.flyout&&this.flyout.position();const t=this.componentManager.getComponents(io.Capability.POSITIONABLE,!0),r=this.getMetricsManager().getUiMetrics(),s=[];for(let c=0,g;g=t[c];c++){g.position(r,s);const P=g.getBoundingRectangle();P&&s.push(P)}this.scrollbar&&this.scrollbar.resize(),this.updateScreenCalculations_()}updateScreenCalculationsIfScrolled(){const t=zu();Pt.equals(this.lastRecordedPageScroll,t)||(this.lastRecordedPageScroll=t,this.updateScreenCalculations_())}getCanvas(){return this.svgBlockCanvas_}setCachedParentSvgSize(t,r){const s=this.getParentSvg();t!=null&&(this.cachedParentSvgSize.width=t,s.setAttribute("data-cached-width",`${t}`)),r!=null&&(this.cachedParentSvgSize.height=r,s.setAttribute("data-cached-height",`${r}`))}getBubbleCanvas(){return this.svgBubbleCanvas_}getParentSvg(){if(!this.cachedParentSvg){let t=this.svgGroup_;for(;t;){if(t.tagName==="svg"){this.cachedParentSvg=t;break}t=t.parentNode}}return this.cachedParentSvg}maybeFireViewportChangeEvent(){if(Q()){var t=this.scale,r=-this.scrollY,s=-this.scrollX;if(!(t===this.oldScale&&1>Math.abs(r-this.oldTop)&&1>Math.abs(s-this.oldLeft))){var c=new(se(oa))(r,s,t,this.id,this.oldScale);this.oldScale=t,this.oldTop=r,this.oldLeft=s,K(c)}}}translate(t,r){const s="translate("+t+","+r+") scale("+this.scale+")";this.svgBlockCanvas_.setAttribute("transform",s),this.svgBubbleCanvas_.setAttribute("transform",s),this.grid&&this.grid.moveTo(t,r),this.maybeFireViewportChangeEvent()}getWidth(){const t=this.getMetrics();return t?t.viewWidth/this.scale:0}setVisible(t){if(this.isVisible_=t,this.svgGroup_)if(this.scrollbar&&this.scrollbar.setContainerVisible(t),this.getFlyout()&&this.getFlyout().setContainerVisible(t),this.getParentSvg().style.display=t?"block":"none",this.toolbox_&&this.toolbox_.setVisible(t),t){t=this.getAllBlocks(!1);for(let r=t.length-1;0<=r;r--)t[r].markDirty();this.render(),this.toolbox_&&this.toolbox_.position()}else this.hideChaff(!0)}render(){for(var t=this.getAllBlocks(!1),r=t.length-1;0<=r;r--)t[r].queueRender();if(this.currentGesture_)for(t=this.currentGesture_.getInsertionMarkers(),r=0;r<t.length;r++)t[r].render(!1);this.markerManager.updateMarkers()}highlightBlock(t,r){if(r===void 0){for(let s=0,c;c=this.highlightedBlocks[s];s++)c.setHighlighted(!1);this.highlightedBlocks.length=0}(t=t?this.getBlockById(t):null)&&((r=r===void 0||r)?this.highlightedBlocks.indexOf(t)===-1&&this.highlightedBlocks.push(t):Zr(this.highlightedBlocks,t),t.setHighlighted(r))}paste(t){if(!this.rendered||!t.type&&!t.tagName)return null;this.currentGesture_&&this.currentGesture_.cancel();const r=n.getGroup$$module$build$src$core$events$utils();r||n.setGroup$$module$build$src$core$events$utils(!0);let s;try{s=t.type?this.pasteBlock_(null,t):t.tagName.toLowerCase()==="comment"?this.pasteWorkspaceComment_(t):this.pasteBlock_(t,null)}finally{n.setGroup$$module$build$src$core$events$utils(r)}return s}pasteBlock_(t,r){n.disable$$module$build$src$core$events$utils();let s;try{let c=0,g=0;if(t){s=n.domToBlock$$module$build$src$core$xml(t,this);let P;c=parseInt((P=t.getAttribute("x"))!=null?P:"0"),this.RTL&&(c=-c);let ae;g=parseInt((ae=t.getAttribute("y"))!=null?ae:"0")}else r&&(s=_i(r,this),c=r.x||10,this.RTL&&(c=this.getWidth()-c),g=r.y||10);if(!isNaN(c)&&!isNaN(g)){let P;do{P=!1;const ae=this.getAllBlocks(!1);for(let ze=0,vt;vt=ae[ze];ze++){const Qt=vt.getRelativeToSurfaceXY();if(1>=Math.abs(c-Qt.x)&&1>=Math.abs(g-Qt.y)){P=!0;break}}if(!P){const ze=s.getConnections_(!1);for(let vt=0,Qt;Qt=ze[vt];vt++)if(Qt.closest(n.config$$module$build$src$core$config.snapRadius,new Pt(c,g)).connection){P=!0;break}}P&&(c=this.RTL?c-n.config$$module$build$src$core$config.snapRadius:c+n.config$$module$build$src$core$config.snapRadius,g+=2*n.config$$module$build$src$core$config.snapRadius)}while(P);s.moveTo(new Pt(c,g))}}finally{n.enable$$module$build$src$core$events$utils()}return Q()&&!s.isShadow()&&K(new(se(n.CREATE$$module$build$src$core$events$utils))(s)),s.select(),s}pasteWorkspaceComment_(t){n.disable$$module$build$src$core$events$utils();let r;try{r=$r.fromXmlRendered(t,this);let s,c=parseInt((s=t.getAttribute("x"))!=null?s:"0"),g,P=parseInt((g=t.getAttribute("y"))!=null?g:"0");isNaN(c)||isNaN(P)||(this.RTL&&(c=-c),r.moveBy(c+50,P+50))}finally{n.enable$$module$build$src$core$events$utils()}return Q()&&Ds.fireCreateEvent(r),r.select(),r}refreshToolboxSelection(){const t=this.isFlyout?this.targetWorkspace:this;t&&!t.currentGesture_&&t.toolbox_&&t.toolbox_.getFlyout()&&t.toolbox_.refreshSelection()}renameVariableById(t,r){super.renameVariableById(t,r),this.refreshToolboxSelection()}deleteVariableById(t){super.deleteVariableById(t),this.refreshToolboxSelection()}createVariable(t,r,s){return t=super.createVariable(t,r,s),this.refreshToolboxSelection(),t}recordDragTargets(){const t=this.componentManager.getComponents(io.Capability.DRAG_TARGET,!0);this.dragTargetAreas=[];for(let r=0,s;s=t[r];r++){const c=s.getClientRect();c&&this.dragTargetAreas.push({component:s,clientRect:c})}}newBlock(t,r){throw Error("The implementation of newBlock should be monkey-patched in by blockly.ts")}getDragTarget(t){for(let r=0,s;s=this.dragTargetAreas[r];r++)if(s.clientRect.contains(t.clientX,t.clientY))return s.component;return null}onMouseDown_(t){const r=this.getGesture(t);r&&r.handleWsStart(t,this)}startDrag(t,r){t=jr(t,this.getParentSvg(),this.getInverseScreenCTM()),t.x/=this.scale,t.y/=this.scale,this.dragDeltaXY=Pt.difference(r,t)}moveDrag(t){return t=jr(t,this.getParentSvg(),this.getInverseScreenCTM()),t.x/=this.scale,t.y/=this.scale,Pt.sum(this.dragDeltaXY,t)}isDragging(){return this.currentGesture_!==null&&this.currentGesture_.isDragging()}isDraggable(){return this.options.moveOptions&&this.options.moveOptions.drag}isMovable(){return this.options.moveOptions&&!!this.options.moveOptions.scrollbars||this.options.moveOptions&&this.options.moveOptions.wheel||this.options.moveOptions&&this.options.moveOptions.drag||this.options.zoomOptions&&this.options.zoomOptions.wheel||this.options.zoomOptions&&this.options.zoomOptions.pinch}isMovableHorizontally(){const t=!!this.scrollbar;return this.isMovable()&&(!t||t&&this.scrollbar.canScrollHorizontally())}isMovableVertically(){const t=!!this.scrollbar;return this.isMovable()&&(!t||t&&this.scrollbar.canScrollVertically())}onMouseWheel_(t){if(Cl.inProgress())t.preventDefault(),t.stopPropagation();else{var r=this.options.zoomOptions&&this.options.zoomOptions.wheel,s=this.options.moveOptions&&this.options.moveOptions.wheel;if(r||s){var c=xi(t);if(mr)var g=t.metaKey;r&&(t.ctrlKey||g||!s)?(c=-c.y/50,r=jr(t,this.getParentSvg(),this.getInverseScreenCTM()),this.zoom(r.x,r.y,c)):(r=this.scrollX-c.x,s=this.scrollY-c.y,t.shiftKey&&!c.x&&(r=this.scrollX-c.y,s=this.scrollY),this.scroll(r,s)),t.preventDefault()}}}getBlocksBoundingBox(){const t=this.getTopBoundedElements();if(!t.length)return new ro(0,0,0,0);const r=t[0].getBoundingRectangle();for(let c=1;c<t.length;c++){var s=t[c];s.isInsertionMarker&&s.isInsertionMarker()||(s=s.getBoundingRectangle(),s.top<r.top&&(r.top=s.top),s.bottom>r.bottom&&(r.bottom=s.bottom),s.left<r.left&&(r.left=s.left),s.right>r.right&&(r.right=s.right))}return r}cleanUp(){this.setResizesEnabled(!1),n.setGroup$$module$build$src$core$events$utils(!0);const t=this.getTopBlocks(!0);let r=0;for(let s=0,c;c=t[s];s++){if(!c.isMovable())continue;const g=c.getRelativeToSurfaceXY();c.moveBy(-g.x,r-g.y,["cleanup"]),c.snapToGrid(),r=c.getRelativeToSurfaceXY().y+c.getHeightWidth().height+this.renderer.getConstants().MIN_BLOCK_HEIGHT}n.setGroup$$module$build$src$core$events$utils(!1),this.setResizesEnabled(!0)}showContextMenu(t){if(!this.options.readOnly&&!this.isFlyout){var r=Vn.registry.getContextMenuOptions(Vn.ScopeType.WORKSPACE,{workspace:this});this.configureContextMenu&&this.configureContextMenu(r,t),Ei(t,r,this.RTL)}}updateToolbox(t){if(t=$p(t)){if(!this.options.languageTree)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(Ka(t)){if(!this.toolbox_)throw Error("Existing toolbox has no categories.  Can't change mode.");this.options.languageTree=t,this.toolbox_.render(t)}else{if(!this.flyout)throw Error("Existing toolbox has categories.  Can't change mode.");this.options.languageTree=t,this.flyout.show(t)}}else if(this.options.languageTree)throw Error("Can't nullify an existing toolbox.")}markFocused(){this.options.parentWorkspace?this.options.parentWorkspace.markFocused():(B(this),this.getParentSvg().focus({preventScroll:!0}))}zoom(t,r,s){s=Math.pow(this.options.zoomOptions.scaleSpeed,s);const c=this.scale*s;if(this.scale!==c){c>this.options.zoomOptions.maxScale?s=this.options.zoomOptions.maxScale/this.scale:c<this.options.zoomOptions.minScale&&(s=this.options.zoomOptions.minScale/this.scale);var g=this.getCanvas().getCTM(),P=this.getParentSvg().createSVGPoint();P.x=t,P.y=r,P=P.matrixTransform(g.inverse()),t=P.x,r=P.y,g=g.translate(t*(1-s),r*(1-s)).scale(s),this.scrollX=g.e,this.scrollY=g.f,this.setScale(c)}}zoomCenter(t){var r=this.getMetrics();let s;this.flyout?(s=r.svgWidth?r.svgWidth/2:0,r=r.svgHeight?r.svgHeight/2:0):(s=r.viewWidth/2+r.absoluteLeft,r=r.viewHeight/2+r.absoluteTop),this.zoom(s,r,t)}zoomToFit(){if(this.isMovable()){var t=this.getMetrics(),r=t.viewWidth;t=t.viewHeight;var s=this.getBlocksBoundingBox(),c=2*q1,g=s.right-s.left+c;if(s=s.bottom-s.top+c,g){this.flyout&&(this.horizontalLayout?(t+=this.flyout.getHeight(),s+=this.flyout.getHeight()/this.scale):(r+=this.flyout.getWidth(),g+=this.flyout.getWidth()/this.scale)),r/=g,t/=s,n.disable$$module$build$src$core$events$utils();try{this.setScale(Math.min(r,t)),this.scrollCenter()}finally{n.enable$$module$build$src$core$events$utils()}this.maybeFireViewportChangeEvent()}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}beginCanvasTransition(){le(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),le(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")}endCanvasTransition(){re(this.svgBlockCanvas_,"blocklyCanvasTransitioning"),re(this.svgBubbleCanvas_,"blocklyCanvasTransitioning")}scrollCenter(){if(this.isMovable()){var t=this.getMetrics(),r=(t.scrollWidth-t.viewWidth)/2,s=(t.scrollHeight-t.viewHeight)/2;r=-r-t.scrollLeft,s=-s-t.scrollTop,this.scroll(r,s)}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}centerOnBlock(t,r){if(this.isMovable()){var s=t?this.getBlockById(t):null;if(s){t=s.getRelativeToSurfaceXY(),s=r?{height:s.height,width:s.width}:s.getHeightWidth();var c=this.scale;r=(t.x+(this.RTL?-1:1)*s.width/2)*c,t=(t.y+s.height/2)*c,s=this.getMetrics(),this.scroll(-(r-s.viewWidth/2),-(t-s.viewHeight/2))}}else console.warn("Tried to move a non-movable workspace. This could result in blocks becoming inaccessible.")}setScale(t){this.options.zoomOptions.maxScale&&t>this.options.zoomOptions.maxScale?t=this.options.zoomOptions.maxScale:this.options.zoomOptions.minScale&&t<this.options.zoomOptions.minScale&&(t=this.options.zoomOptions.minScale),this.scale=t,this.hideChaff(!1),(t=this.getFlyout(!1))&&t.isVisible()&&(t.reflow(),this.recordDragTargets()),this.grid&&this.grid.update(this.scale),t=this.getMetrics(),this.scrollX-=t.absoluteLeft,this.scrollY-=t.absoluteTop,t.viewLeft+=t.absoluteLeft,t.viewTop+=t.absoluteTop,this.scroll(this.scrollX,this.scrollY),this.scrollbar&&(this.flyout?this.scrollbar.resizeView(t):this.scrollbar.resizeContent(t))}getScale(){return this.options.parentWorkspace?this.options.parentWorkspace.getScale():this.scale}scroll(t,r){this.hideChaff(!0);const s=this.getMetrics();t=Math.min(t,-s.scrollLeft),r=Math.min(r,-s.scrollTop);const c=s.scrollTop+Math.max(0,s.scrollHeight-s.viewHeight);t=Math.max(t,-(s.scrollLeft+Math.max(0,s.scrollWidth-s.viewWidth))),r=Math.max(r,-c),this.scrollX=t,this.scrollY=r,this.scrollbar&&this.scrollbar.set(-(t+s.scrollLeft),-(r+s.scrollTop),!1),t+=s.absoluteLeft,r+=s.absoluteTop,this.translate(t,r)}getBlockById(t){return super.getBlockById(t)}getAllBlocks(t){return super.getAllBlocks(t)}getTopBlocks(t){return super.getTopBlocks(t)}addTopBlock(t){this.addTopBoundedElement(t),super.addTopBlock(t)}removeTopBlock(t){this.removeTopBoundedElement(t),super.removeTopBlock(t)}addTopComment(t){this.addTopBoundedElement(t),super.addTopComment(t)}removeTopComment(t){this.removeTopBoundedElement(t),super.removeTopComment(t)}getRootWorkspace(){return super.getRootWorkspace()}addTopBoundedElement(t){this.topBoundedElements.push(t)}removeTopBoundedElement(t){Zr(this.topBoundedElements,t)}getTopBoundedElements(){return[].concat(this.topBoundedElements)}setResizesEnabled(t){const r=!this.resizesEnabled&&t;this.resizesEnabled=t,r&&this.resizeContents()}clear(){this.setResizesEnabled(!1),super.clear(),this.topBoundedElements=[],this.setResizesEnabled(!0)}registerButtonCallback(t,r){if(typeof r!="function")throw TypeError("Button callbacks must be functions.");this.flyoutButtonCallbacks.set(t,r)}getButtonCallback(t){let r;return(r=this.flyoutButtonCallbacks.get(t))!=null?r:null}removeButtonCallback(t){this.flyoutButtonCallbacks.delete(t)}registerToolboxCategoryCallback(t,r){if(typeof r!="function")throw TypeError("Toolbox category callbacks must be functions.");this.toolboxCategoryCallbacks.set(t,r)}getToolboxCategoryCallback(t){return this.toolboxCategoryCallbacks.get(t)||null}removeToolboxCategoryCallback(t){this.toolboxCategoryCallbacks.delete(t)}getGesture(t){const r=t.type==="pointerdown",s=this.currentGesture_;return s?r&&s.hasStarted()?(console.warn("Tried to start the same gesture twice."),s.cancel(),null):s:r?this.currentGesture_=new Cl(t,this):null}clearGesture(){this.currentGesture_=null}cancelCurrentGesture(){this.currentGesture_&&this.currentGesture_.cancel()}getAudioManager(){return this.audioManager}getGrid(){return this.grid}hideChaff(t=!1){il(),ct(),as(),this.hideComponents(t)}hideComponents(t=!1){this.getComponentManager().getComponents(io.Capability.AUTOHIDEABLE,!0).forEach(r=>r.autoHide(t))}static setTopLevelWorkspaceMetrics_(t){const r=this.getMetrics();typeof t.x=="number"&&(this.scrollX=-(r.scrollLeft+(r.scrollWidth-r.viewWidth)*t.x)),typeof t.y=="number"&&(this.scrollY=-(r.scrollTop+(r.scrollHeight-r.viewHeight)*t.y)),this.translate(this.scrollX+r.absoluteLeft,this.scrollY+r.absoluteTop)}},Uc;(function(t){t.BLOCK="block",t.BUTTON="button"})(Uc||(Uc={}));var Mf=class extends wf{constructor(t){super(),this.horizontalLayout=!1,this.boundEvents=[],this.filterWrapper=this.reflowWrapper=null,this.mats=[],this.buttons_=[],this.listeners=[],this.permanentlyDisabled=[],this.recycledBlocks=[],this.autoClose=!0,this.isVisible_=!1,this.containerVisible=!0,this.CORNER_RADIUS=8,this.SCROLLBAR_MARGIN=2.5,this.height_=this.width_=0,this.dragAngleRange_=70,this.svgGroup_=this.svgBackground_=null,t.setMetrics=this.setMetrics_.bind(this),this.workspace_=new Es(t),this.workspace_.setMetricsManager(new P_(this.workspace_,this)),this.workspace_.internalIsFlyout=!0,this.workspace_.setVisible(this.isVisible_),this.id=ue(),this.RTL=!!t.RTL,this.toolboxPosition_=t.toolboxPosition,this.tabWidth_=this.workspace_.getRenderer().getConstants().TAB_WIDTH,this.rectMap_=new WeakMap,this.MARGIN=this.CORNER_RADIUS,this.GAP_X=3*this.MARGIN,this.GAP_Y=3*this.MARGIN}createDom(t){return this.svgGroup_=we(t,{class:"blocklyFlyout",style:"display: none"}),this.svgBackground_=we(nt.PATH,{class:"blocklyFlyoutBackground"},this.svgGroup_),this.svgGroup_.appendChild(this.workspace_.createDom()),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutBackgroundColour","fill"),this.workspace_.getThemeManager().subscribe(this.svgBackground_,"flyoutOpacity","fill-opacity"),this.svgGroup_}init(t){this.targetWorkspace=t,this.workspace_.targetWorkspace=t,this.workspace_.scrollbar=new h$(this.workspace_,this.horizontalLayout,!this.horizontalLayout,"blocklyFlyoutScrollbar",this.SCROLLBAR_MARGIN),this.hide(),this.boundEvents.push(kt(this.svgGroup_,"wheel",this,this.wheel_)),this.autoClose||(this.filterWrapper=this.filterForCapacity.bind(this),this.targetWorkspace.addChangeListener(this.filterWrapper)),this.boundEvents.push(kt(this.svgBackground_,"pointerdown",this,this.onMouseDown)),this.workspace_.getGesture=this.targetWorkspace.getGesture.bind(this.targetWorkspace),this.workspace_.setVariableMap(this.targetWorkspace.getVariableMap()),this.workspace_.createPotentialVariableMap(),t.getComponentManager().addComponent({component:this,weight:1,capabilities:[io.Capability.DELETE_AREA,io.Capability.DRAG_TARGET]})}dispose(){this.hide(),this.workspace_.getComponentManager().removeComponent(this.id);for(const t of this.boundEvents)On(t);this.boundEvents.length=0,this.filterWrapper&&this.targetWorkspace.removeChangeListener(this.filterWrapper),this.workspace_&&(this.workspace_.getThemeManager().unsubscribe(this.svgBackground_),this.workspace_.dispose()),this.svgGroup_&&Ne(this.svgGroup_)}getWidth(){return this.width_}getHeight(){return this.height_}getFlyoutScale(){return this.targetWorkspace.scale}getWorkspace(){return this.workspace_}isVisible(){return this.isVisible_}setVisible(t){const r=t!==this.isVisible();this.isVisible_=t,r&&(this.autoClose||this.workspace_.recordDragTargets(),this.updateDisplay())}setContainerVisible(t){const r=t!==this.containerVisible;this.containerVisible=t,r&&this.updateDisplay()}updateDisplay(){let t;t=this.containerVisible?this.isVisible():!1,this.svgGroup_&&(this.svgGroup_.style.display=t?"block":"none");let r;(r=this.workspace_.scrollbar)==null||r.setContainerVisible(t)}positionAt_(t,r,s,c){let g;(g=this.svgGroup_)==null||g.setAttribute("width",`${t}`);let P;(P=this.svgGroup_)==null||P.setAttribute("height",`${r}`),this.workspace_.setCachedParentSvgSize(t,r),this.svgGroup_&&Le(this.svgGroup_,"translate("+s+"px,"+c+"px)"),(t=this.workspace_.scrollbar)&&(t.setOrigin(s,c),t.resize(),t.hScroll&&t.hScroll.setPosition(t.hScroll.position.x,t.hScroll.position.y),t.vScroll&&t.vScroll.setPosition(t.vScroll.position.x,t.vScroll.position.y))}hide(){if(this.isVisible()){this.setVisible(!1);for(const t of this.listeners)On(t);this.listeners.length=0,this.reflowWrapper&&(this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowWrapper=null)}}show(t){this.workspace_.setResizesEnabled(!1),this.hide(),this.clearOldBlocks(),typeof t=="string"&&(t=this.getDynamicCategoryContents(t)),this.setVisible(!0),t=Id(t),t=this.createFlyoutInfo(t),this.layout_(t.contents,t.gaps),this.horizontalLayout?this.height_=0:this.width_=0,this.workspace_.setResizesEnabled(!0),this.reflow(),this.filterForCapacity(),this.position(),this.reflowWrapper=this.reflow.bind(this),this.workspace_.addChangeListener(this.reflowWrapper),this.emptyRecycledBlocks()}createFlyoutInfo(t){const r=[],s=[];this.permanentlyDisabled.length=0;const c=this.horizontalLayout?this.GAP_X:this.GAP_Y;for(const g of t){if("custom"in g){t=this.getDynamicCategoryContents(g.custom),t=Id(t);const{contents:P,gaps:ae}=this.createFlyoutInfo(t);r.push(...P),s.push(...ae)}switch(g.kind.toUpperCase()){case"BLOCK":t=g;const P=this.createFlyoutBlock(t);r.push({type:Uc.BLOCK,block:P}),this.addBlockGap(t,s,c);break;case"SEP":this.addSeparatorGap(g,s,c);break;case"LABEL":t=this.createButton(g,!0),r.push({type:Uc.BUTTON,button:t}),s.push(c);break;case"BUTTON":t=this.createButton(g,!1),r.push({type:Uc.BUTTON,button:t}),s.push(c)}}return{contents:r,gaps:s}}getDynamicCategoryContents(t){if(t=this.workspace_.targetWorkspace.getToolboxCategoryCallback(t),typeof t!="function")throw TypeError("Couldn't find a callback function when opening a toolbox category.");return t(this.workspace_.targetWorkspace)}createButton(t,r){return new Ts(this.workspace_,this.targetWorkspace,t,r)}createFlyoutBlock(t){let r;return t.blockxml?(t=typeof t.blockxml=="string"?n.textToDom$$module$build$src$core$utils$xml(t.blockxml):t.blockxml,(r=this.getRecycledBlock(t.getAttribute("type")))||(r=n.domToBlock$$module$build$src$core$xml(t,this.workspace_))):(r=this.getRecycledBlock(t.type),r||(t.enabled===void 0&&(t.enabled=t.disabled!=="true"&&t.disabled!==!0),r=_i(t,this.workspace_))),r.isEnabled()||this.permanentlyDisabled.push(r),r}getRecycledBlock(t){let r=-1;for(let s=0;s<this.recycledBlocks.length;s++)if(this.recycledBlocks[s].type===t){r=s;break}return r===-1?void 0:this.recycledBlocks.splice(r,1)[0]}addBlockGap(t,r,s){let c;t.gap?c=parseInt(String(t.gap)):t.blockxml&&(t=typeof t.blockxml=="string"?n.textToDom$$module$build$src$core$utils$xml(t.blockxml):t.blockxml,c=parseInt(t.getAttribute("gap"))),r.push(!c||isNaN(c)?s:c)}addSeparatorGap(t,r,s){t=parseInt(String(t.gap)),!isNaN(t)&&0<r.length?r[r.length-1]=t:r.push(s)}clearOldBlocks(){var t=this.workspace_.getTopBlocks(!1);for(let s=0,c;c=t[s];s++)this.blockIsRecyclable_(c)?this.recycleBlock(c):c.dispose(!1,!1);for(t=0;t<this.mats.length;t++){const s=this.mats[t];s&&(Nr(s),Ne(s))}this.mats.length=0;for(let s=0,c;c=this.buttons_[s];s++)c.dispose();this.buttons_.length=0;let r;(r=this.workspace_.getPotentialVariableMap())==null||r.clear()}emptyRecycledBlocks(){for(let t=0;t<this.recycledBlocks.length;t++)this.recycledBlocks[t].dispose();this.recycledBlocks=[]}blockIsRecyclable_(t){return!1}recycleBlock(t){const r=t.getRelativeToSurfaceXY();t.moveBy(-r.x,-r.y),this.recycledBlocks.push(t)}addBlockListeners_(t,r,s){this.listeners.push(kt(t,"pointerdown",null,this.blockMouseDown(r))),this.listeners.push(kt(s,"pointerdown",null,this.blockMouseDown(r))),this.listeners.push(En(t,"pointerenter",r,r.addSelect)),this.listeners.push(En(t,"pointerleave",r,r.removeSelect)),this.listeners.push(En(s,"pointerenter",r,r.addSelect)),this.listeners.push(En(s,"pointerleave",r,r.removeSelect))}blockMouseDown(t){return r=>{const s=this.targetWorkspace.getGesture(r);s&&(s.setStartBlock(t),s.handleFlyoutStart(r,this))}}onMouseDown(t){const r=this.targetWorkspace.getGesture(t);r&&r.handleFlyoutStart(t,this)}isBlockCreatable(t){return t.isEnabled()}createBlock(t){let r=null;n.disable$$module$build$src$core$events$utils();var s=this.targetWorkspace.getAllVariables();this.targetWorkspace.setResizesEnabled(!1);try{r=this.placeNewBlock(t)}finally{n.enable$$module$build$src$core$events$utils()}if(this.targetWorkspace.hideChaff(),t=H(this.targetWorkspace,s),Q()){for(n.setGroup$$module$build$src$core$events$utils(!0),s=0;s<t.length;s++){const c=t[s];K(new(se(pl))(c))}K(new(se(n.CREATE$$module$build$src$core$events$utils))(r))}return this.autoClose?this.hide():this.filterForCapacity(),r}initFlyoutButton_(t,r,s){const c=t.createDom();t.moveTo(r,s),t.show(),this.listeners.push(kt(c,"pointerdown",this,this.onMouseDown)),this.buttons_.push(t)}createRect_(t,r,s,c,g){return r=we(nt.RECT,{"fill-opacity":0,x:r,y:s,height:c.height,width:c.width}),r.tooltip=t,tc(r),this.workspace_.getCanvas().insertBefore(r,t.getSvgRoot()),this.rectMap_.set(t,r),this.mats[g]=r}moveRectToBlock_(t,r){const s=r.getHeightWidth();t.setAttribute("width",String(s.width)),t.setAttribute("height",String(s.height)),r=r.getRelativeToSurfaceXY(),t.setAttribute("y",String(r.y)),t.setAttribute("x",String(this.RTL?r.x-s.width:r.x))}filterForCapacity(){const t=this.workspace_.getTopBlocks(!1);for(let r=0,s;s=t[r];r++)if(this.permanentlyDisabled.indexOf(s)===-1){const c=this.targetWorkspace.isCapacityAvailable(U(s));for(;s;)s.setEnabled(c),s=s.getNextBlock()}}reflow(){this.reflowWrapper&&this.workspace_.removeChangeListener(this.reflowWrapper),this.reflowInternal_(),this.reflowWrapper&&this.workspace_.addChangeListener(this.reflowWrapper)}isScrollable(){return this.workspace_.scrollbar?this.workspace_.scrollbar.isVisible():!1}placeNewBlock(t){var r=this.targetWorkspace;if(!t.getSvgRoot())throw Error("oldBlock is not rendered");const s=Kr(t);return r.setResizesEnabled(!1),r=_i(s,r),this.positionNewBlock(t,r),r}positionNewBlock(t,r){const s=this.targetWorkspace;var c=s.getOriginOffsetInPixels(),g=this.workspace_.getOriginOffsetInPixels();t=t.getRelativeToSurfaceXY(),t.scale(this.workspace_.scale),g=Pt.sum(g,t),c=Pt.difference(g,c),c.scale(1/s.scale),r.moveTo(new Pt(c.x,c.y))}};Mf.FlyoutItemType=Uc;var Pf=class extends Mf{constructor(t){super(t),this.horizontalLayout=!0}setMetrics_(t){if(this.isVisible()){var r=this.workspace_.getMetricsManager(),s=r.getScrollMetrics(),c=r.getViewMetrics();r=r.getAbsoluteMetrics(),typeof t.x=="number"&&(this.workspace_.scrollX=-(s.left+(s.width-c.width)*t.x)),this.workspace_.translate(this.workspace_.scrollX+r.left,this.workspace_.scrollY+r.top)}}getX(){return 0}getY(){if(!this.isVisible())return 0;var t=this.targetWorkspace.getMetricsManager();const r=t.getAbsoluteMetrics(),s=t.getViewMetrics();t=t.getToolboxMetrics();const c=this.toolboxPosition_===vn.TOP;return this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?c?t.height:s.height-this.height_:c?0:s.height:c?0:s.height+r.top-this.height_}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var t=this.targetWorkspace.getMetricsManager().getViewMetrics();this.width_=t.width,this.setBackgroundPath(t.width-2*this.CORNER_RADIUS,this.height_-this.CORNER_RADIUS),t=this.getX();var r=this.getY();this.positionAt_(this.width_,this.height_,t,r)}}setBackgroundPath(t,r){const s=this.toolboxPosition_===vn.TOP,c=["M 0,"+(s?0:this.CORNER_RADIUS)];s?(c.push("h",t+2*this.CORNER_RADIUS),c.push("v",r),c.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,this.CORNER_RADIUS),c.push("h",-t),c.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,-this.CORNER_RADIUS,-this.CORNER_RADIUS)):(c.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,-this.CORNER_RADIUS),c.push("h",t),c.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,1,this.CORNER_RADIUS,this.CORNER_RADIUS),c.push("v",r),c.push("h",-t-2*this.CORNER_RADIUS)),c.push("z"),this.svgBackground_.setAttribute("d",c.join(" "))}scrollToStart(){let t;(t=this.workspace_.scrollbar)==null||t.setX(this.RTL?1/0:0)}wheel_(t){var r=xi(t);if(r=r.x||r.y){const s=this.workspace_.getMetricsManager(),c=s.getScrollMetrics();r=s.getViewMetrics().left-c.left+r;let g;(g=this.workspace_.scrollbar)==null||g.setX(r),ct(),as()}t.preventDefault(),t.stopPropagation()}layout_(t,r){this.workspace_.scale=this.targetWorkspace.scale;const s=this.MARGIN;let c=s+this.tabWidth_;this.RTL&&(t=t.reverse());for(let ze=0,vt;vt=t[ze];ze++)if(vt.type==="block"){var g=vt.block,P=g.getDescendants(!1);for(let Uo=0,mo;mo=P[Uo];Uo++)mo.isInFlyout=!0;P=g.getSvgRoot();const Qt=g.getHeightWidth();var ae=g.outputConnection?this.tabWidth_:0;ae=this.RTL?c+Qt.width:c-ae,g.moveBy(ae,s),ae=this.createRect_(g,ae,s,Qt,ze),c+=Qt.width+r[ze],this.addBlockListeners_(P,g,ae)}else vt.type==="button"&&(g=vt.button,this.initFlyoutButton_(g,c,s),c+=g.width+r[ze])}isDragTowardWorkspace(t){t=Math.atan2(t.y,t.x)/Math.PI*180;const r=this.dragAngleRange_;return t<90+r&&t>90-r||t>-90-r&&t<-90+r}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const t=this.svgGroup_.getBoundingClientRect(),r=t.top;return this.toolboxPosition_===vn.TOP?new ro(-1e9,r+t.height,-1e9,1e9):new ro(r,1e9,-1e9,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let t=0;const r=this.workspace_.getTopBlocks(!1);for(let c=0,g;g=r[c];c++)t=Math.max(t,g.getHeightWidth().height);const s=this.buttons_;for(let c=0,g;g=s[c];c++)t=Math.max(t,g.height);if(t+=1.5*this.MARGIN,t*=this.workspace_.scale,t+=No.scrollbarThickness,this.height_!==t){for(let c=0,g;g=r[c];c++)this.rectMap_.has(g)&&this.moveRectToBlock_(this.rectMap_.get(g),g);this.targetWorkspace.toolboxPosition!==this.toolboxPosition_||this.toolboxPosition_!==vn.TOP||this.targetWorkspace.getToolbox()||this.targetWorkspace.translate(this.targetWorkspace.scrollX,this.targetWorkspace.scrollY+t),this.height_=t,this.position(),this.targetWorkspace.recordDragTargets()}}};i(Rt.FLYOUTS_HORIZONTAL_TOOLBOX,Ls,Pf);var f$=class extends Mf{constructor(t){super(t)}setMetrics_(t){if(this.isVisible()){var r=this.workspace_.getMetricsManager(),s=r.getScrollMetrics(),c=r.getViewMetrics();r=r.getAbsoluteMetrics(),typeof t.y=="number"&&(this.workspace_.scrollY=-(s.top+(s.height-c.height)*t.y)),this.workspace_.translate(this.workspace_.scrollX+r.left,this.workspace_.scrollY+r.top)}}getX(){if(!this.isVisible())return 0;var t=this.targetWorkspace.getMetricsManager();const r=t.getAbsoluteMetrics(),s=t.getViewMetrics();return t=t.getToolboxMetrics(),this.targetWorkspace.toolboxPosition===this.toolboxPosition_?this.targetWorkspace.getToolbox()?this.toolboxPosition_===vn.LEFT?t.width:s.width-this.width_:this.toolboxPosition_===vn.LEFT?0:s.width:this.toolboxPosition_===vn.LEFT?0:s.width+r.left-this.width_}getY(){return 0}position(){if(this.isVisible()&&this.targetWorkspace.isVisible()){var t=this.targetWorkspace.getMetricsManager().getViewMetrics();this.height_=t.height,this.setBackgroundPath(this.width_-this.CORNER_RADIUS,t.height-2*this.CORNER_RADIUS),t=this.getX();var r=this.getY();this.positionAt_(this.width_,this.height_,t,r)}}setBackgroundPath(t,r){const s=this.toolboxPosition_===vn.RIGHT;var c=t+this.CORNER_RADIUS;c=["M "+(s?c:0)+",0"],c.push("h",s?-t:t),c.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,s?0:1,s?-this.CORNER_RADIUS:this.CORNER_RADIUS,this.CORNER_RADIUS),c.push("v",Math.max(0,r)),c.push("a",this.CORNER_RADIUS,this.CORNER_RADIUS,0,0,s?0:1,s?this.CORNER_RADIUS:-this.CORNER_RADIUS,this.CORNER_RADIUS),c.push("h",s?t:-t),c.push("z"),this.svgBackground_.setAttribute("d",c.join(" "))}scrollToStart(){let t;(t=this.workspace_.scrollbar)==null||t.setY(0)}wheel_(t){var r=xi(t);if(r.y){const s=this.workspace_.getMetricsManager(),c=s.getScrollMetrics();r=s.getViewMetrics().top-c.top+r.y;let g;(g=this.workspace_.scrollbar)==null||g.setY(r),ct(),as()}t.preventDefault(),t.stopPropagation()}layout_(t,r){this.workspace_.scale=this.targetWorkspace.scale;var s=this.MARGIN;const c=this.RTL?s:s+this.tabWidth_;for(let ze=0,vt;vt=t[ze];ze++)if(vt.type==="block"){var g=vt.block,P=g.getDescendants(!1);for(let Uo=0,mo;mo=P[Uo];Uo++)mo.isInFlyout=!0;P=g.getSvgRoot();const Qt=g.getHeightWidth();var ae=g.outputConnection?c-this.tabWidth_:c;g.moveBy(ae,s),ae=this.createRect_(g,this.RTL?ae-Qt.width:ae,s,Qt,ze),this.addBlockListeners_(P,g,ae),s+=Qt.height+r[ze]}else vt.type==="button"&&(g=vt.button,this.initFlyoutButton_(g,c,s),s+=g.height+r[ze])}isDragTowardWorkspace(t){t=Math.atan2(t.y,t.x)/Math.PI*180;const r=this.dragAngleRange_;return t<r&&t>-r||t<-180+r||t>180-r}getClientRect(){if(!this.svgGroup_||this.autoClose||!this.isVisible())return null;const t=this.svgGroup_.getBoundingClientRect(),r=t.left;return this.toolboxPosition_===vn.LEFT?new ro(-1e9,1e9,-1e9,r+t.width):new ro(-1e9,1e9,r,1e9)}reflowInternal_(){this.workspace_.scale=this.getFlyoutScale();let t=0;var r=this.workspace_.getTopBlocks(!1);for(let c=0,g;g=r[c];c++){var s=g.getHeightWidth().width;g.outputConnection&&(s-=this.tabWidth_),t=Math.max(t,s)}for(let c=0,g;g=this.buttons_[c];c++)t=Math.max(t,g.width);if(t+=1.5*this.MARGIN+this.tabWidth_,t*=this.workspace_.scale,t+=No.scrollbarThickness,this.width_!==t){for(let c=0,g;g=r[c];c++){if(this.RTL){s=g.getRelativeToSurfaceXY().x;let P=t/this.workspace_.scale-this.MARGIN;g.outputConnection||(P-=this.tabWidth_),g.moveBy(P-s,0)}this.rectMap_.has(g)&&this.moveRectToBlock_(this.rectMap_.get(g),g)}if(this.RTL)for(let c=0,g;g=this.buttons_[c];c++)r=g.getPosition().y,g.moveTo(t/this.workspace_.scale-g.width-this.MARGIN-this.tabWidth_,r);this.targetWorkspace.toolboxPosition!==this.toolboxPosition_||this.toolboxPosition_!==vn.LEFT||this.targetWorkspace.getToolbox()||this.targetWorkspace.translate(this.targetWorkspace.scrollX+t,this.targetWorkspace.scrollY),this.width_=t,this.position(),this.targetWorkspace.recordDragTargets()}}};f$.registryName="verticalFlyout",i(Rt.FLYOUTS_VERTICAL_TOOLBOX,Ls,f$);var Df;n.CodeGenerator$$module$build$src$core$generator=class{constructor(t){this.forBlock=Object.create(null),this.FUNCTION_NAME_PLACEHOLDER_="{leCUI8hutHZI4480Dc}",this.STATEMENT_SUFFIX=this.STATEMENT_PREFIX=this.INFINITE_LOOP_TRAP=null,this.INDENT="  ",this.COMMENT_WRAP=60,this.ORDER_OVERRIDES=[],this.isInitialized=null,this.RESERVED_WORDS_="",this.definitions_=Object.create(null),this.functionNames_=Object.create(null),this.nameDB_=void 0,this.name_=t,this.FUNCTION_NAME_PLACEHOLDER_REGEXP_=new RegExp(this.FUNCTION_NAME_PLACEHOLDER_,"g")}workspaceToCode(t){t||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),t=M());var r=[];this.init(t),t=t.getTopBlocks(!0);for(let s=0,c;c=t[s];s++){let g=this.blockToCode(c);Array.isArray(g)&&(g=g[0]),g&&(c.outputConnection&&(g=this.scrubNakedValue(g),this.STATEMENT_PREFIX&&!c.suppressPrefixSuffix&&(g=this.injectId(this.STATEMENT_PREFIX,c)+g),this.STATEMENT_SUFFIX&&!c.suppressPrefixSuffix&&(g+=this.injectId(this.STATEMENT_SUFFIX,c))),r.push(g))}return r=r.join(`
`),r=this.finish(r),r=r.replace(/^\s+\n/,""),r=r.replace(/\n\s+$/,`
`),r=r.replace(/[ \t]+\n/g,`
`)}prefixLines(t,r){return r+t.replace(/(?!\n$)\n/g,`
`+r)}allNestedComments(t){const r=[];t=t.getDescendants(!0);for(let s=0;s<t.length;s++){const c=t[s].getCommentText();c&&r.push(c)}return r.length&&r.push(""),r.join(`
`)}blockToCode(t,r){if(this.isInitialized===!1&&console.warn("CodeGenerator init was not called before blockToCode was called."),!t)return"";if(!t.isEnabled())return r?"":this.blockToCode(t.getNextBlock());if(t.isInsertionMarker())return r?"":this.blockToCode(t.getChildren(!1)[0]);var s=this.forBlock[t.type];if(!s&&this[t.type]&&(gt("block generator functions on CodeGenerator objects","10.0","11.0","the .forBlock[blockType] dictionary"),s=this[t.type]),typeof s!="function")throw Error(`${this.name_} generator does not know how to generate codefor block type "${t.type}".`);if(s=s.call(t,t,this),Array.isArray(s)){if(!t.outputConnection)throw TypeError("Expecting string from statement block: "+t.type);return[this.scrub_(t,s[0],r),s[1]]}if(typeof s=="string")return this.STATEMENT_PREFIX&&!t.suppressPrefixSuffix&&(s=this.injectId(this.STATEMENT_PREFIX,t)+s),this.STATEMENT_SUFFIX&&!t.suppressPrefixSuffix&&(s+=this.injectId(this.STATEMENT_SUFFIX,t)),this.scrub_(t,s,r);if(s===null)return"";throw SyntaxError("Invalid code generated: "+s)}valueToCode(t,r,s){if(isNaN(s))throw TypeError("Expecting valid order from block: "+t.type);var c=t.getInputTargetBlock(r);if(!c||(r=this.blockToCode(c),r===""))return"";if(!Array.isArray(r))throw TypeError(`Expecting tuple from value block: ${c.type} See developers.google.com/blockly/guides/create-custom-blocks/generating-code for more information`);if(t=r[0],r=r[1],isNaN(r))throw TypeError("Expecting valid order from value block: "+c.type);if(!t)return"";c=!1;var g=Math.floor(s);const P=Math.floor(r);if(g<=P&&(g!==P||g!==0&&g!==99)){for(c=!0,g=0;g<this.ORDER_OVERRIDES.length;g++)if(this.ORDER_OVERRIDES[g][0]===s&&this.ORDER_OVERRIDES[g][1]===r){c=!1;break}}return c&&(t="("+t+")"),t}statementToCode(t,r){if(t=t.getInputTargetBlock(r),r=this.blockToCode(t),typeof r!="string")throw TypeError("Expecting code from statement block: "+(t&&t.type));return r&&(r=this.prefixLines(r,this.INDENT)),r}addLoopTrap(t,r){return this.INFINITE_LOOP_TRAP&&(t=this.prefixLines(this.injectId(this.INFINITE_LOOP_TRAP,r),this.INDENT)+t),this.STATEMENT_SUFFIX&&!r.suppressPrefixSuffix&&(t=this.prefixLines(this.injectId(this.STATEMENT_SUFFIX,r),this.INDENT)+t),this.STATEMENT_PREFIX&&!r.suppressPrefixSuffix&&(t+=this.prefixLines(this.injectId(this.STATEMENT_PREFIX,r),this.INDENT)),t}injectId(t,r){return r=r.id.replace(/\$/g,"$$$$"),t.replace(/%1/g,"'"+r+"'")}addReservedWords(t){this.RESERVED_WORDS_+=t+","}provideFunction_(t,r){if(!this.definitions_[t]){const s=this.nameDB_.getDistinctName(t,n.NameType$$module$build$src$core$names.PROCEDURE);this.functionNames_[t]=s,Array.isArray(r)&&(r=r.join(`
`)),r=r.trim().replace(this.FUNCTION_NAME_PLACEHOLDER_REGEXP_,s);let c;for(;c!==r;)c=r,r=r.replace(/^(( {2})*) {2}/gm,"$1\0");r=r.replace(/\0/g,this.INDENT),this.definitions_[t]=r}return this.functionNames_[t]}init(t){this.definitions_=Object.create(null),this.functionNames_=Object.create(null)}scrub_(t,r,s){return r}finish(t){return this.definitions_=Object.create(null),this.functionNames_=Object.create(null),t}scrubNakedValue(t){return t}},Df={},Df.CodeGenerator=n.CodeGenerator$$module$build$src$core$generator;var zn=class{constructor(){this.shortcuts=new Map,this.keyMap=new Map,this.reset()}reset(){this.shortcuts.clear(),this.keyMap.clear()}register(t,r){if(this.shortcuts.get(t.name)&&!r)throw Error(`Shortcut named "${t.name}" already exists.`);if(this.shortcuts.set(t.name,t),(r=t.keyCodes)&&0<r.length)for(let s=0;s<r.length;s++)this.addKeyMapping(r[s],t.name,!!t.allowCollision)}unregister(t){return this.shortcuts.get(t)?(this.removeAllKeyMappings(t),this.shortcuts.delete(t),!0):(console.warn(`Keyboard shortcut named "${t}" not found.`),!1)}addKeyMapping(t,r,s){t=`${t}`;const c=this.keyMap.get(t);if(c&&!s)throw Error(`Shortcut named "${r}" collides with shortcuts "${c}"`);c&&s?c.unshift(r):this.keyMap.set(t,[r])}removeKeyMapping(t,r,s){const c=this.keyMap.get(t);if(!c)return s||console.warn(`No keyboard shortcut named "${r}" registered with key code "${t}"`),!1;const g=c.indexOf(r);return-1<g?(c.splice(g,1),c.length===0&&this.keyMap.delete(t),!0):(s||console.warn(`No keyboard shortcut named "${r}" registered with key code "${t}"`),!1)}removeAllKeyMappings(t){for(const r of this.keyMap.keys())this.removeKeyMapping(r,t,!0)}setKeyMap(t){this.keyMap.clear();for(const r in t)this.keyMap.set(r,t[r])}getKeyMap(){const t=Object.create(null);for(const[r,s]of this.keyMap)t[r]=s;return t}getRegistry(){const t=Object.create(null);for(const[r,s]of this.shortcuts)t[r]=s;return Vi(Object.create(null),t)}onKeyDown(t,r){var s=this.serializeKeyEvent_(r);if(s=this.getShortcutNamesByKeyCode(s),!s)return!1;for(let c=0,g;g=s[c];c++){const P=this.shortcuts.get(g);let ae,ze;if((ae=P)==null||!ae.preconditionFn||(ze=P)!=null&&ze.preconditionFn(t)){let vt,Qt;if((vt=P)!=null&&vt.callback&&((Qt=P)!=null&&Qt.callback(t,r,P)))return!0}}return!1}getShortcutNamesByKeyCode(t){return this.keyMap.get(t)||[]}getKeyCodesByShortcutName(t){const r=[];for(const[s,c]of this.keyMap)-1<c.indexOf(t)&&r.push(s);return r}serializeKeyEvent_(t){let r="";for(const s in zn.modifierKeys)t.getModifierState(s)&&(r!==""&&(r+="+"),r+=s);return r!==""&&t.keyCode?r=r+"+"+t.keyCode:t.keyCode&&(r=String(t.keyCode)),r}checkModifiers_(t){for(let r=0,s;s=t[r];r++)if(!(s in zn.modifierKeys))throw Error(s+" is not a valid modifier key.")}createSerializedKey(t,r){let s="";if(r){this.checkModifiers_(r);for(const c in zn.modifierKeys)-1<r.indexOf(zn.modifierKeys[c])&&(s!==""&&(s+="+"),s+=c)}return s!==""&&t?s=s+"+"+t:t&&(s=`${t}`),s}};zn.registry=new zn,function(t){t=t.modifierKeys||(t.modifierKeys={}),t[t.Shift=16]="Shift",t[t.Control=17]="Control",t[t.Alt=18]="Alt",t[t.Meta=91]="Meta"}(zn||(zn={}));var V_=!1,Ou={};Ou.Align=n.Align$$module$build$src$core$inputs$align,Ou.DummyInput=Yi,Ou.Input=yl,Ou.StatementInput=wi,Ou.ValueInput=n.ValueInput$$module$build$src$core$inputs$value_input,Ou.inputTypes=n.inputTypes$$module$build$src$core$inputs$input_types;var U_=class extends ga{constructor(){super(),this.FIELD_TEXT_BASELINE_CENTER=!1,this.DARK_PATH_OFFSET=1,this.MAX_BOTTOM_WIDTH=30,this.STATEMENT_BOTTOM_SPACER=-this.NOTCH_HEIGHT/2}getCSS_(t){return super.getCSS_(t).concat([`${t} .blocklyInsertionMarker>.blocklyPathLight,`,`${t} .blocklyInsertionMarker>.blocklyPathDark {`,`fill-opacity: ${this.INSERTION_MARKER_OPACITY};`,"stroke: none;","}"])}},g$=class{constructor(t){this.inlineSteps_=this.steps_="",this.info_=t,this.RTL_=this.info_.RTL,t=t.getRenderer(),this.constants_=t.getConstants(),this.highlightConstants_=t.getHighlightConstants(),this.highlightOffset=this.highlightConstants_.OFFSET,this.outsideCornerPaths_=this.highlightConstants_.OUTSIDE_CORNER,this.insideCornerPaths_=this.highlightConstants_.INSIDE_CORNER,this.puzzleTabPaths_=this.highlightConstants_.PUZZLE_TAB,this.notchPaths_=this.highlightConstants_.NOTCH,this.startPaths_=this.highlightConstants_.START_HAT,this.jaggedTeethPaths_=this.highlightConstants_.JAGGED_TEETH}getPath(){return this.steps_+`
`+this.inlineSteps_}drawTopCorner(t){this.steps_+=fo(t.xPos,this.info_.startY);for(let r=0,s;s=t.elements[r];r++)Qe.isLeftSquareCorner(s)?this.steps_+=this.highlightConstants_.START_POINT:Qe.isLeftRoundedCorner(s)?this.steps_+=this.outsideCornerPaths_.topLeft(this.RTL_):Qe.isPreviousConnection(s)?this.steps_+=this.notchPaths_.pathLeft:Qe.isHat(s)?this.steps_+=this.startPaths_.path(this.RTL_):Qe.isSpacer(s)&&s.width!==0&&(this.steps_+=zt("H",s.xPos+s.width-this.highlightOffset));this.steps_+=zt("H",t.xPos+t.width-this.highlightOffset)}drawJaggedEdge_(t){this.info_.RTL&&(this.steps_+=this.jaggedTeethPaths_.pathLeft+zt("v",t.height-this.jaggedTeethPaths_.height-this.highlightOffset))}drawValueInput(t){const r=t.getLastInput();if(this.RTL_){const s=t.height-r.connectionHeight;this.steps_+=gr(r.xPos+r.width-this.highlightOffset,t.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)+zt("v",s)}else this.steps_+=gr(r.xPos+r.width,t.yPos)+this.puzzleTabPaths_.pathDown(this.RTL_)}drawStatementInput(t){const r=t.getLastInput();if(r)if(this.RTL_){const s=t.height-2*this.insideCornerPaths_.height;this.steps_+=gr(r.xPos,t.yPos)+this.insideCornerPaths_.pathTop(this.RTL_)+zt("v",s)+this.insideCornerPaths_.pathBottom(this.RTL_)+cs(t.width-r.xPos-this.insideCornerPaths_.width,0)}else this.steps_+=gr(r.xPos,t.yPos+t.height)+this.insideCornerPaths_.pathBottom(this.RTL_)+cs(t.width-r.xPos-this.insideCornerPaths_.width,0)}drawRightSideRow(t){const r=t.xPos+t.width-this.highlightOffset;t instanceof i$&&t.followsStatement&&(this.steps_+=zt("H",r)),this.RTL_&&(this.steps_+=zt("H",r),t.height>this.highlightOffset&&(this.steps_+=zt("V",t.yPos+t.height-this.highlightOffset)))}drawBottomRow(t){if(this.RTL_)this.steps_+=zt("V",t.baseline-this.highlightOffset);else{const r=this.info_.bottomRow.elements[0];Qe.isLeftSquareCorner(r)?this.steps_+=gr(t.xPos+this.highlightOffset,t.baseline-this.highlightOffset):Qe.isLeftRoundedCorner(r)&&(this.steps_+=gr(t.xPos,t.baseline),this.steps_+=this.outsideCornerPaths_.bottomLeft())}}drawLeft(){var t=this.info_.outputConnection;t&&(t=t.connectionOffsetY+t.height,this.RTL_?this.steps_+=gr(this.info_.startX,t):(this.steps_+=gr(this.info_.startX+this.highlightOffset,this.info_.bottomRow.baseline-this.highlightOffset),this.steps_+=zt("V",t)),this.steps_+=this.puzzleTabPaths_.pathUp(this.RTL_)),this.RTL_||(t=this.info_.topRow,Qe.isLeftRoundedCorner(t.elements[0])?this.steps_+=zt("V",this.outsideCornerPaths_.height):this.steps_+=zt("V",t.capline+this.highlightOffset))}drawInlineInput(t){const r=this.highlightOffset,s=t.xPos+t.connectionWidth;var c=t.centerline-t.height/2;const g=t.width-t.connectionWidth,P=c+r;this.RTL_?(c=t.connectionOffsetY-r,t=t.height-(t.connectionOffsetY+t.connectionHeight)+r,this.inlineSteps_+=gr(s-r,P)+zt("v",c)+this.puzzleTabPaths_.pathDown(this.RTL_)+zt("v",t)+zt("h",g)):this.inlineSteps_+=gr(t.xPos+t.width+r,P)+zt("v",t.height)+zt("h",-g)+gr(s,c+t.connectionOffsetY)+this.puzzleTabPaths_.pathDown(this.RTL_)}},H_=class extends ch{constructor(t,r){super(t,r),this.highlighter_=new g$(r)}draw(){this.drawOutline_(),this.drawInternals_();const t=this.block_.pathObject;t.setPath(this.outlinePath_+`
`+this.inlinePath_),t.setHighlightPath(this.highlighter_.getPath()),this.info_.RTL&&t.flipRTL(),this.recordSizeOnBlock_()}drawTop_(){this.highlighter_.drawTopCorner(this.info_.topRow),this.highlighter_.drawRightSideRow(this.info_.topRow),super.drawTop_()}drawJaggedEdge_(t){this.highlighter_.drawJaggedEdge_(t),super.drawJaggedEdge_(t)}drawValueInput_(t){this.highlighter_.drawValueInput(t),super.drawValueInput_(t)}drawStatementInput_(t){this.highlighter_.drawStatementInput(t),super.drawStatementInput_(t)}drawRightSideRow_(t){this.highlighter_.drawRightSideRow(t),this.outlinePath_+=zt("H",t.xPos+t.width)+zt("V",t.yPos+t.height)}drawBottom_(){this.highlighter_.drawBottomRow(this.info_.bottomRow),super.drawBottom_()}drawLeft_(){this.highlighter_.drawLeft(),super.drawLeft_()}drawInlineInput_(t){this.highlighter_.drawInlineInput(t),super.drawInlineInput_(t)}positionInlineInputConnection_(t){const r=t.centerline-t.height/2;if(t.connectionModel){let s=t.xPos+t.connectionWidth+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(s*=-1),t.connectionModel.setOffsetInBlock(s,r+t.connectionOffsetY+this.constants_.DARK_PATH_OFFSET)}}positionStatementInputConnection_(t){const r=t.getLastInput();if(r!=null&&r.connectionModel){let s=t.xPos+t.statementEdge+r.notchOffset;s=this.info_.RTL?-1*s:s+this.constants_.DARK_PATH_OFFSET,r.connectionModel.setOffsetInBlock(s,t.yPos+this.constants_.DARK_PATH_OFFSET)}}positionExternalValueConnection_(t){const r=t.getLastInput();if(r&&r.connectionModel){let s=t.xPos+t.width+this.constants_.DARK_PATH_OFFSET;this.info_.RTL&&(s*=-1),r.connectionModel.setOffsetInBlock(s,t.yPos)}}positionNextConnection_(){const t=this.info_.bottomRow;if(t.connection){const r=t.connection,s=r.xPos;r.connectionModel.setOffsetInBlock((this.info_.RTL?-s:s)+this.constants_.DARK_PATH_OFFSET/2,t.baseline+this.constants_.DARK_PATH_OFFSET)}}},G_=class{constructor(t){this.OFFSET=.5,this.constantProvider=t,this.START_POINT=fo(this.OFFSET,this.OFFSET)}init(){this.INSIDE_CORNER=this.makeInsideCorner(),this.OUTSIDE_CORNER=this.makeOutsideCorner(),this.PUZZLE_TAB=this.makePuzzleTab(),this.NOTCH=this.makeNotch(),this.JAGGED_TEETH=this.makeJaggedTeeth(),this.START_HAT=this.makeStartHat()}makeInsideCorner(){const t=this.constantProvider.CORNER_RADIUS,r=this.OFFSET,s=(1-Math.SQRT1_2)*(t+r)-r,c=fo(s,s)+go("a","0 0,0",t,Vt(-s-r,t-s)),g=go("a","0 0,0",t+r,Vt(t+r,t+r)),P=fo(s,-s)+go("a","0 0,0",t+r,Vt(t-s,s+r));return{width:t+r,height:t,pathTop(ae){return ae?c:""},pathBottom(ae){return ae?g:P}}}makeOutsideCorner(){const t=this.constantProvider.CORNER_RADIUS,r=this.OFFSET,s=(1-Math.SQRT1_2)*(t-r)+r,c=fo(s,s)+go("a","0 0,1",t-r,Vt(t-s,-s+r)),g=fo(r,t)+go("a","0 0,1",t-r,Vt(t,-t+r)),P=-s,ae=fo(s,P)+go("a","0 0,1",t-r,Vt(-s+r,-P-t));return{height:t,topLeft(ze){return ze?c:g},bottomLeft(){return ae}}}makePuzzleTab(){const t=this.constantProvider.TAB_WIDTH,r=this.constantProvider.TAB_HEIGHT,s=fo(-2,-r+3.4)+cs(-.45*t,-2.1),c=zt("v",2.5)+fo(.97*-t,2.5)+no("q",[Vt(.05*-t,10),Vt(.3*t,9.5)])+fo(.67*t,-1.9)+zt("v",2.5),g=zt("v",-1.5)+fo(-.92*t,-.5)+no("q",[Vt(-.19*t,-5.5),Vt(0,-11)])+fo(.92*t,1),P=fo(-5,r-.7)+cs(.46*t,-2.1);return{width:t,height:r,pathUp(ae){return ae?s:g},pathDown(ae){return ae?c:P}}}makeNotch(){return{pathLeft:zt("h",this.OFFSET)+this.constantProvider.NOTCH.pathLeft}}makeJaggedTeeth(){return{pathLeft:cs(5.1,2.6)+fo(-10.2,6.8)+cs(5.1,2.6),height:12,width:10.2}}makeStartHat(){const t=this.constantProvider.START_HAT.height,r=fo(25,-8.7)+no("c",[Vt(29.7,-6.2),Vt(57.2,-.5),Vt(75,8.7)]),s=no("c",[Vt(17.8,-9.2),Vt(45.3,-14.9),Vt(75,-8.7)])+gr(100.5,t+.5);return{path(c){return c?r:s}}}},z_=class extends o${constructor(t,r){super(t,r),this.constants_=t,this.connectedBlock&&(this.width+=this.constants_.DARK_PATH_OFFSET,this.height+=this.constants_.DARK_PATH_OFFSET)}},xf=class extends Vo{constructor(t,r){super(t,r),this.constants_=t,this.connectedBlock&&(this.height+=this.constants_.DARK_PATH_OFFSET)}},Bf=class extends Fc{constructor(t,r){super(t,r),this.renderer_=t}getRenderer(){return this.renderer_}populateBottomRow_(){super.populateBottomRow_(),this.block_.inputList.length&&this.block_.inputList[this.block_.inputList.length-1]instanceof wi||(this.bottomRow.minHeight=this.constants_.MEDIUM_PADDING-this.constants_.DARK_PATH_OFFSET)}addInput_(t,r){this.isInline&&t instanceof n.ValueInput$$module$build$src$core$inputs$value_input?(r.elements.push(new z_(this.constants_,t)),r.hasInlineInput=!0):t instanceof wi?(r.elements.push(new xf(this.constants_,t)),r.hasStatement=!0):t instanceof n.ValueInput$$module$build$src$core$inputs$value_input?(r.elements.push(new xc(this.constants_,t)),r.hasExternalInput=!0):t instanceof Yi&&(r.minHeight=Math.max(r.minHeight,this.constants_.DUMMY_INPUT_MIN_HEIGHT),r.hasDummyInput=!0),this.isInline||r.align!==null||(r.align=t.align)}addElemSpacing_(){let t=!1;for(let s=0,c;c=this.rows[s];s++)c.hasExternalInput&&(t=!0);for(let s=0,c;c=this.rows[s];s++){var r=c.elements;if(c.elements=[],c.startsWithElemSpacer()&&c.elements.push(new Ai(this.constants_,this.getInRowSpacing_(null,r[0]))),r.length){for(let g=0;g<r.length-1;g++){c.elements.push(r[g]);const P=this.getInRowSpacing_(r[g],r[g+1]);c.elements.push(new Ai(this.constants_,P))}c.elements.push(r[r.length-1]),c.endsWithElemSpacer()&&(r=this.getInRowSpacing_(r[r.length-1],null),t&&c.hasDummyInput&&(r+=this.constants_.TAB_WIDTH),c.elements.push(new Ai(this.constants_,r)))}}}getInRowSpacing_(t,r){if(!t)return r&&Qe.isField(r)&&r.isEditable?this.constants_.MEDIUM_PADDING:r&&Qe.isInlineInput(r)?this.constants_.MEDIUM_LARGE_PADDING:r&&Qe.isStatementInput(r)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!Qe.isInput(t)&&(!r||Qe.isStatementInput(r)))return Qe.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:Qe.isIcon(t)?2*this.constants_.LARGE_PADDING+1:Qe.isHat(t)?this.constants_.NO_PADDING:Qe.isPreviousOrNextConnection(t)?this.constants_.LARGE_PADDING:Qe.isLeftRoundedCorner(t)?this.constants_.MIN_BLOCK_WIDTH:Qe.isJaggedEdge(t)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(Qe.isInput(t)&&!r){if(Qe.isExternalInput(t))return this.constants_.NO_PADDING;if(Qe.isInlineInput(t))return this.constants_.LARGE_PADDING;if(Qe.isStatementInput(t))return this.constants_.NO_PADDING}if(!Qe.isInput(t)&&r&&Qe.isInput(r)){if(Qe.isField(t)&&t.isEditable){if(Qe.isInlineInput(r)||Qe.isExternalInput(r))return this.constants_.SMALL_PADDING}else{if(Qe.isInlineInput(r)||Qe.isExternalInput(r))return this.constants_.MEDIUM_LARGE_PADDING;if(Qe.isStatementInput(r))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(Qe.isIcon(t)&&r&&!Qe.isInput(r))return this.constants_.LARGE_PADDING;if(Qe.isInlineInput(t)&&r&&Qe.isField(r))return r.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(Qe.isLeftSquareCorner(t)&&r){if(Qe.isHat(r))return this.constants_.NO_PADDING;if(Qe.isPreviousConnection(r))return r.notchOffset;if(Qe.isNextConnection(r))return r.notchOffset+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}if(Qe.isLeftRoundedCorner(t)&&r){if(Qe.isPreviousConnection(r))return r.notchOffset-this.constants_.CORNER_RADIUS;if(Qe.isNextConnection(r))return r.notchOffset-this.constants_.CORNER_RADIUS+(this.RTL?1:-1)*this.constants_.DARK_PATH_OFFSET/2}return Qe.isField(t)&&r&&Qe.isField(r)&&t.isEditable===r.isEditable||r&&Qe.isJaggedEdge(r)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(t,r){return Qe.isTopRow(t)&&Qe.isBottomRow(r)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:Qe.isTopRow(t)||Qe.isBottomRow(r)?this.constants_.NO_PADDING:t.hasExternalInput&&r.hasExternalInput?this.constants_.LARGE_PADDING:!t.hasStatement&&r.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:t.hasStatement&&r.hasStatement||!t.hasStatement&&r.hasDummyInput||t.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(t,r){if(Qe.isSpacer(r))return t.yPos+r.height/2;if(Qe.isBottomRow(t))return t=t.yPos+t.height-t.descenderHeight,Qe.isNextConnection(r)?t+r.height/2:t-r.height/2;if(Qe.isTopRow(t))return Qe.isHat(r)?t.capline-r.height/2:t.capline+r.height/2;let s=t.yPos;return Qe.isField(r)||Qe.isIcon(r)?(s+=r.height/2,(t.hasInlineInput||t.hasStatement)&&r.height+this.constants_.TALL_INPUT_FIELD_OFFSET_Y<=t.height&&(s+=this.constants_.TALL_INPUT_FIELD_OFFSET_Y)):s=Qe.isInlineInput(r)?s+r.height/2:s+t.height/2,s}alignRowElements_(){if(this.isInline){var t=0,r=new WeakMap,s=null;for(let c=this.rows.length-1,g;g=this.rows[c];c--)r.set(g,t),Qe.isInputRow(g)&&(g.hasStatement&&this.alignStatementRow_(g),s&&s.hasStatement&&g.width<s.width?r.set(g,s.width):t=g.width,s=g);t=0;for(let c=0,g;g=this.rows[c];c++)g.hasStatement?t=this.getDesiredRowWidth_(g):Qe.isSpacer(g)?g.width=Math.max(t,r.get(g)):(s=g.width,t=Math.max(t,r.get(g))-s,0<t&&this.addAlignmentPadding_(g,t),t=g.width)}else super.alignRowElements_()}getDesiredRowWidth_(t){return this.isInline&&t.hasStatement?this.statementEdge+this.constants_.MAX_BOTTOM_WIDTH+this.startX:super.getDesiredRowWidth_(t)}finalize_(){let t=0,r=0;for(let c=0,g;g=this.rows[c];c++){g.yPos=r,g.xPos=this.startX,r+=g.height,t=Math.max(t,g.widthWithConnectedBlocks);var s=r-this.topRow.ascenderHeight;g===this.bottomRow&&s<this.constants_.MIN_BLOCK_HEIGHT&&(s=this.constants_.MIN_BLOCK_HEIGHT-s,this.bottomRow.height+=s,r+=s),this.recordElemPositions_(g)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(s=this.block_.nextConnection.targetBlock())&&(t=Math.max(t,s.getHeightWidth().width-this.constants_.DARK_PATH_OFFSET)),this.bottomRow.baseline=r-this.bottomRow.descenderHeight,this.widthWithChildren=t+this.startX+this.constants_.DARK_PATH_OFFSET,this.width+=this.constants_.DARK_PATH_OFFSET,this.height=r+this.constants_.DARK_PATH_OFFSET,this.startY=this.topRow.capline}},W_=class extends kf{constructor(t,r,s){super(t,r,s),this.constants=s,this.colourDark="#000000",this.svgPathDark=we(nt.PATH,{class:"blocklyPathDark",transform:"translate(1,1)"}),this.svgRoot.insertBefore(this.svgPathDark,this.svgPath),this.svgPathLight=we(nt.PATH,{class:"blocklyPathLight"},this.svgRoot)}setPath(t){this.svgPath.setAttribute("d",t),this.svgPathDark.setAttribute("d",t)}setHighlightPath(t){this.svgPathLight.setAttribute("d",t)}flipRTL(){this.svgPath.setAttribute("transform","scale(-1 1)"),this.svgPathLight.setAttribute("transform","scale(-1 1)"),this.svgPathDark.setAttribute("transform","translate(1,1) scale(-1 1)")}applyColour(t){if(this.svgPathLight.style.display="",this.svgPathDark.style.display="",!this.style.colourTertiary)throw Error("The renderer did not properly initialize the tertiary colour of the block style");this.svgPathLight.setAttribute("stroke",this.style.colourTertiary),this.svgPathDark.setAttribute("fill",this.colourDark),super.applyColour(t),this.svgPath.setAttribute("stroke","none")}setStyle(t){this.style=t,this.colourDark=Fi("#000",this.style.colourPrimary,.2)||this.colourDark}updateHighlighted(t){t?(this.svgPath.setAttribute("filter","url(#"+this.constants.embossFilterId+")"),this.svgPathLight.style.display="none"):(this.svgPath.setAttribute("filter","none"),this.svgPathLight.style.display="inline")}updateShadow_(t){if(t){if(this.svgPathLight.style.display="none",!this.style.colourSecondary)throw Error("The renderer did not properly initialize the secondary colour of the block style block style");this.svgPathDark.setAttribute("fill",this.style.colourSecondary),this.svgPath.setAttribute("stroke","none"),this.svgPath.setAttribute("fill",this.style.colourSecondary)}}updateDisabled_(t){super.updateDisabled_(t),t&&this.svgPath.setAttribute("stroke","none")}},j_=class extends mh{constructor(t){super(t),this.highlightConstants=null}init(t,r){super.init(t,r),this.highlightConstants=this.makeHighlightConstants_(),this.highlightConstants.init()}refreshDom(t,r){super.refreshDom(t,r),this.getHighlightConstants().init()}makeConstants_(){return new U_}makeRenderInfo_(t){return new Bf(this,t)}makeDrawer_(t,r){return new H_(t,r)}makePathObject(t,r){return new W_(t,r,this.getConstants())}makeHighlightConstants_(){return new G_(this.getConstants())}getHighlightConstants(){if(!this.highlightConstants)throw Error("Cannot access the highlight constants because init has not been called");return this.highlightConstants}};Ui("geras",j_);var Ws={};Ws.ConstantProvider=U_,Ws.Drawer=H_,Ws.HighlightConstantProvider=G_,Ws.Highlighter=g$,Ws.InlineInput=z_,Ws.PathObject=W_,Ws.RenderInfo=Bf,Ws.Renderer=j_,Ws.StatementInput=xf;var X_=class extends ga{constructor(){super(),gt("Blockly.minimalist.ConstantProvider","v10","v11","Blockly.blockRendering.ConstantProvider")}},K_=class extends ch{constructor(t,r){super(t,r),gt("Blockly.minimalist.Drawer","v10","v11","Blockly.blockRendering.Drawer")}},Y_=class extends Fc{constructor(t,r){super(t,r),gt("Blockly.minimalist.RenderInfo","v10","v11","Blockly.blockRendering.RenderInfo")}getRenderer(){return this.renderer_}},Q_=class extends mh{constructor(t){super(t),gt("Blockly.minimalist.Renderer","v10","v11","Blockly.blockRendering.Renderer")}makeConstants_(){return new X_}makeRenderInfo_(t){return new Y_(this,t)}makeDrawer_(t,r){return new K_(t,r)}};Ui("minimalist",Q_);var bh={};bh.ConstantProvider=X_,bh.Drawer=K_,bh.RenderInfo=Y_,bh.Renderer=Q_;var q_=class extends Fc{constructor(t,r){super(t,r)}getRenderer(){return this.renderer_}addElemSpacing_(){let t=!1;for(var r=0;r<this.rows.length;r++)if(this.rows[r].hasExternalInput){t=!0;break}for(r=0;r<this.rows.length;r++){const c=this.rows[r];var s=c.elements;if(c.elements=[],c.startsWithElemSpacer()&&c.elements.push(new Ai(this.constants_,this.getInRowSpacing_(null,s[0]))),s.length){for(let g=0;g<s.length-1;g++){c.elements.push(s[g]);const P=this.getInRowSpacing_(s[g],s[g+1]);c.elements.push(new Ai(this.constants_,P))}c.elements.push(s[s.length-1]),c.endsWithElemSpacer()&&(s=this.getInRowSpacing_(s[s.length-1],null),t&&c.hasDummyInput&&(s+=this.constants_.TAB_WIDTH),c.elements.push(new Ai(this.constants_,s)))}}}getInRowSpacing_(t,r){if(!t)return r&&Qe.isField(r)&&r.isEditable?this.constants_.MEDIUM_PADDING:r&&Qe.isInlineInput(r)?this.constants_.MEDIUM_LARGE_PADDING:r&&Qe.isStatementInput(r)?this.constants_.STATEMENT_INPUT_PADDING_LEFT:this.constants_.LARGE_PADDING;if(!Qe.isInput(t)&&!r)return Qe.isField(t)&&t.isEditable?this.constants_.MEDIUM_PADDING:Qe.isIcon(t)?2*this.constants_.LARGE_PADDING+1:Qe.isHat(t)?this.constants_.NO_PADDING:Qe.isPreviousOrNextConnection(t)?this.constants_.LARGE_PADDING:Qe.isLeftRoundedCorner(t)?this.constants_.MIN_BLOCK_WIDTH:Qe.isJaggedEdge(t)?this.constants_.NO_PADDING:this.constants_.LARGE_PADDING;if(Qe.isInput(t)&&!r){if(Qe.isExternalInput(t))return this.constants_.NO_PADDING;if(Qe.isInlineInput(t))return this.constants_.LARGE_PADDING;if(Qe.isStatementInput(t))return this.constants_.NO_PADDING}if(!Qe.isInput(t)&&r&&Qe.isInput(r)){if(Qe.isField(t)&&t.isEditable){if(Qe.isInlineInput(r)||Qe.isExternalInput(r))return this.constants_.SMALL_PADDING}else{if(Qe.isInlineInput(r)||Qe.isExternalInput(r))return this.constants_.MEDIUM_LARGE_PADDING;if(Qe.isStatementInput(r))return this.constants_.LARGE_PADDING}return this.constants_.LARGE_PADDING-1}if(Qe.isIcon(t)&&r&&!Qe.isInput(r))return this.constants_.LARGE_PADDING;if(Qe.isInlineInput(t)&&r&&Qe.isField(r))return r.isEditable?this.constants_.MEDIUM_PADDING:this.constants_.LARGE_PADDING;if(Qe.isLeftSquareCorner(t)&&r){if(Qe.isHat(r))return this.constants_.NO_PADDING;if(Qe.isPreviousConnection(r)||Qe.isNextConnection(r))return r.notchOffset}return Qe.isLeftRoundedCorner(t)&&r?r.notchOffset-this.constants_.CORNER_RADIUS:Qe.isField(t)&&r&&Qe.isField(r)&&t.isEditable===r.isEditable||r&&Qe.isJaggedEdge(r)?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getSpacerRowHeight_(t,r){return Qe.isTopRow(t)&&Qe.isBottomRow(r)?this.constants_.EMPTY_BLOCK_SPACER_HEIGHT:Qe.isTopRow(t)||Qe.isBottomRow(r)?this.constants_.NO_PADDING:t.hasExternalInput&&r.hasExternalInput?this.constants_.LARGE_PADDING:!t.hasStatement&&r.hasStatement?this.constants_.BETWEEN_STATEMENT_PADDING_Y:t.hasStatement&&r.hasStatement||t.hasDummyInput||r.hasDummyInput?this.constants_.LARGE_PADDING:this.constants_.MEDIUM_PADDING}getElemCenterline_(t,r){if(Qe.isSpacer(r))return t.yPos+r.height/2;if(Qe.isBottomRow(t))return t=t.yPos+t.height-t.descenderHeight,Qe.isNextConnection(r)?t+r.height/2:t-r.height/2;if(Qe.isTopRow(t))return Qe.isHat(r)?t.capline-r.height/2:t.capline+r.height/2;let s=t.yPos;return s=Qe.isField(r)&&t.hasStatement?s+(this.constants_.TALL_INPUT_FIELD_OFFSET_Y+r.height/2):s+t.height/2}finalize_(){let t=0,r=0;for(var s=0;s<this.rows.length;s++){const g=this.rows[s];g.yPos=r,g.xPos=this.startX,r+=g.height,t=Math.max(t,g.widthWithConnectedBlocks);var c=r-this.topRow.ascenderHeight;g===this.bottomRow&&c<this.constants_.MIN_BLOCK_HEIGHT&&(c=this.constants_.MIN_BLOCK_HEIGHT-c,this.bottomRow.height+=c,r+=c),this.recordElemPositions_(g)}this.outputConnection&&this.block_.nextConnection&&this.block_.nextConnection.isConnected()&&(s=this.block_.nextConnection.targetBlock())&&(t=Math.max(t,s.getHeightWidth().width)),this.bottomRow.baseline=r-this.bottomRow.descenderHeight,this.widthWithChildren=t+this.startX,this.height=r,this.startY=this.topRow.capline}},Z_=class extends mh{constructor(t){super(t)}makeRenderInfo_(t){return new q_(this,t)}};Ui("thrasos",Z_);var m$={};m$.RenderInfo=q_,m$.Renderer=Z_;var Z1=class{constructor(t,r){this.procedureModelClass=t,this.parameterModelClass=r,this.priority=Jv}save(t){return t=t.getProcedureMap().getProcedures().map(r=>tm(r)),t.length?t:null}load(t,r){const s=r.getProcedureMap();for(const c of t)s.add(nm(this.procedureModelClass,this.parameterModelClass,c,r))}clear(t){t.getProcedureMap().clear()}},Hc={};Hc.ProcedureSerializer=Z1,Hc.loadParameter=om,Hc.loadProcedure=nm,Hc.saveParameter=ru,Hc.saveProcedure=tm;var J_=class{constructor(){this.priority=Zv}save(t){const r=[];for(const s of t.getAllVariables())t={name:s.name,id:s.getId()},s.type&&(t.type=s.type),r.push(t);return r.length?r:null}load(t,r){for(const s of t)r.createVariable(s.name,s.type,s.id)}clear(t){t.getVariableMap().clear()}};xa("variables",new J_);var e0={};e0.VariableSerializer=J_;var $$={};$$.load=rm,$$.save=Mp;var J1={blocks:qd,exceptions:pu,priorities:qp,procedures:Hc,registry:Sm,variables:e0,workspaces:$$},js;(function(t){t.ESCAPE="escape",t.DELETE="delete",t.COPY="copy",t.CUT="cut",t.PASTE="paste",t.UNDO="undo",t.REDO="redo"})(js||(js={})),Dp();var Xs={};Xs.names=js,Xs.registerCopy=lm,Xs.registerCut=Pp,Xs.registerDefaultShortcuts=Dp,Xs.registerDelete=sm,Xs.registerEscape=im,Xs.registerPaste=Ud,Xs.registerRedo=Hd,Xs.registerUndo=am;var eT={colour_blocks:{colourPrimary:"#CF63CF",colourSecondary:"#C94FC9",colourTertiary:"#BD42BD"},list_blocks:{colourPrimary:"#9966FF",colourSecondary:"#855CD6",colourTertiary:"#774DCB"},logic_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC"},loop_blocks:{colourPrimary:"#0fBD8C",colourSecondary:"#0DA57A",colourTertiary:"#0B8E69"},math_blocks:{colourPrimary:"#59C059",colourSecondary:"#46B946",colourTertiary:"#389438"},procedure_blocks:{colourPrimary:"#FF6680",colourSecondary:"#FF4D6A",colourTertiary:"#FF3355"},text_blocks:{colourPrimary:"#FFBF00",colourSecondary:"#E6AC00",colourTertiary:"#CC9900"},variable_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},variable_dynamic_blocks:{colourPrimary:"#FF8C1A",colourSecondary:"#FF8000",colourTertiary:"#DB6E00"},hat_blocks:{colourPrimary:"#4C97FF",colourSecondary:"#4280D7",colourTertiary:"#3373CC",hat:"cap"}},tT={colour_category:{colour:"#CF63CF"},list_category:{colour:"#9966FF"},logic_category:{colour:"#4C97FF"},loop_category:{colour:"#0fBD8C"},math_category:{colour:"#59C059"},procedure_category:{colour:"#FF6680"},text_category:{colour:"#FFBF00"},variable_category:{colour:"#FF8C1A"},variable_dynamic_category:{colour:"#FF8C1A"}},d=new Tu("zelos",eT,tT),f={};f.Classic=uf,f.Zelos=d;var E=class{constructor(t,r,s){this.id_=t.toolboxitemid||ee(),this.level_=(this.parent_=s||null)?this.parent_.getLevel()+1:0,this.toolboxItemDef_=t,this.parentToolbox_=r,this.workspace_=this.parentToolbox_.getWorkspace()}init(){}getDiv(){return null}getClickTarget(){return null}getId(){return this.id_}getParent(){return null}getLevel(){return this.level_}isSelectable(){return!1}isCollapsible(){return!1}dispose(){}setVisible_(t){}},V=class extends E{constructor(t,r,s){super(t,r,s),this.colour_=this.name_="",this.labelDom_=this.iconDom_=this.rowContents_=this.rowDiv_=this.htmlDiv_=null,this.isDisabled_=this.isHidden_=!1,this.flyoutItems_=[],this.cssConfig_=this.makeDefaultCssConfig_()}init(){this.parseCategoryDef_(this.toolboxItemDef_),this.parseContents_(this.toolboxItemDef_),this.createDom_(),this.toolboxItemDef_.hidden==="true"&&this.hide()}makeDefaultCssConfig_(){return{container:"blocklyToolboxCategory",row:"blocklyTreeRow",rowcontentcontainer:"blocklyTreeRowContentContainer",icon:"blocklyTreeIcon",label:"blocklyTreeLabel",contents:"blocklyToolboxContents",selected:"blocklyTreeSelected",openicon:"blocklyTreeIconOpen",closedicon:"blocklyTreeIconClosed"}}parseContents_(t){if("custom"in t)this.flyoutItems_=t.custom;else if(t=t.contents)for(let r=0;r<t.length;r++){const s=t[r];Array.isArray(this.flyoutItems_)&&this.flyoutItems_.push(s)}}parseCategoryDef_(t){this.name_="name"in t?wo(t.name):"",this.colour_=this.getColour_(t),Object.assign(this.cssConfig_,t.cssconfig||t.cssConfig)}createDom_(){this.htmlDiv_=this.createContainer_(),qr(this.htmlDiv_,ai.TREEITEM),to(this.htmlDiv_,ho.SELECTED,!1),to(this.htmlDiv_,ho.LEVEL,this.level_+1),this.rowDiv_=this.createRowContainer_(),this.rowDiv_.style.pointerEvents="auto",this.htmlDiv_.appendChild(this.rowDiv_),this.rowContents_=this.createRowContentsContainer_(),this.rowContents_.style.pointerEvents="none",this.rowDiv_.appendChild(this.rowContents_),this.iconDom_=this.createIconDom_(),qr(this.iconDom_,ai.PRESENTATION),this.rowContents_.appendChild(this.iconDom_),this.labelDom_=this.createLabelDom_(this.name_),this.rowContents_.appendChild(this.labelDom_);const t=this.labelDom_.getAttribute("id");return t&&to(this.htmlDiv_,ho.LABELLEDBY,t),this.addColourBorder_(this.colour_),this.htmlDiv_}createContainer_(){const t=document.createElement("div"),r=this.cssConfig_.container;return r&&le(t,r),t}createRowContainer_(){const t=document.createElement("div");var r=this.cssConfig_.row;return r&&le(t,r),r=`${V.nestedPadding*this.getLevel()}px`,this.workspace_.RTL?t.style.paddingRight=r:t.style.paddingLeft=r,t}createRowContentsContainer_(){const t=document.createElement("div"),r=this.cssConfig_.rowcontentcontainer;return r&&le(t,r),t}createIconDom_(){const t=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){const r=this.cssConfig_.icon;r&&le(t,r)}return t.style.display="inline-block",t}createLabelDom_(t){const r=document.createElement("span");return r.setAttribute("id",this.getId()+".label"),r.textContent=t,(t=this.cssConfig_.label)&&le(r,t),r}refreshTheme(){this.colour_=this.getColour_(this.toolboxItemDef_),this.addColourBorder_(this.colour_)}addColourBorder_(t){t&&(t=V.borderWidth+"px solid "+(t||"#ddd"),this.workspace_.RTL?this.rowDiv_.style.borderRight=t:this.rowDiv_.style.borderLeft=t)}getColour_(t){const r=t.categorystyle||t.categoryStyle;if((t=t.colour)&&r)console.warn('Toolbox category "'+this.name_+'" must not have both a style and a colour');else{if(r)return this.getColourfromStyle_(r);if(t)return this.parseColour_(t)}return""}getColourfromStyle_(t){var r=this.workspace_.getTheme();if(t&&r){if((r=r.categoryStyles[t])&&r.colour)return this.parseColour_(r.colour);console.warn('Style "'+t+'" must exist and contain a colour value')}return""}getClickTarget(){return this.rowDiv_}parseColour_(t){if(t=wo(t),t==null||t==="")return"";var r=Number(t);return isNaN(r)?(r=us(t))?r:(console.warn('Toolbox category "'+this.name_+'" has unrecognized colour attribute: '+t),""):yi(r)}openIcon_(t){if(t){var r=this.cssConfig_.closedicon;r&&ce(t,r),(r=this.cssConfig_.openicon)&&le(t,r)}}closeIcon_(t){if(t){var r=this.cssConfig_.openicon;r&&ce(t,r),(r=this.cssConfig_.closedicon)&&le(t,r)}}setVisible_(t){this.htmlDiv_.style.display=t?"block":"none",this.isHidden_=!t,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}hide(){this.setVisible_(!1)}show(){this.setVisible_(!0)}isVisible(){return!this.isHidden_&&this.allAncestorsExpanded_()}allAncestorsExpanded_(){let t=this;for(;t.getParent();)if(t=t.getParent(),!t.isExpanded())return!1;return!0}isSelectable(){return this.isVisible()&&!this.isDisabled_}onClick(t){}setSelected(t){if(this.rowDiv_){var r=this.cssConfig_.selected;if(t){const s=this.parseColour_(V.defaultBackgroundColour);this.rowDiv_.style.backgroundColor=this.colour_||s,r&&le(this.rowDiv_,r)}else this.rowDiv_.style.backgroundColor="",r&&re(this.rowDiv_,r);to(this.htmlDiv_,ho.SELECTED,t)}}setDisabled(t){this.isDisabled_=t,this.getDiv().setAttribute("disabled",`${t}`),t?this.getDiv().setAttribute("disabled","true"):this.getDiv().removeAttribute("disabled")}getName(){return this.name_}getParent(){return this.parent_}getDiv(){return this.htmlDiv_}getContents(){return this.flyoutItems_}updateFlyoutContents(t){this.flyoutItems_=[],this.toolboxItemDef_=typeof t=="string"?{kind:this.toolboxItemDef_.kind,custom:t,id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden}:{kind:this.toolboxItemDef_.kind,name:"name"in this.toolboxItemDef_?this.toolboxItemDef_.name:"",contents:Id(t),id:this.toolboxItemDef_.id,categorystyle:this.toolboxItemDef_.categorystyle,colour:this.toolboxItemDef_.colour,cssconfig:this.toolboxItemDef_.cssconfig,hidden:this.toolboxItemDef_.hidden},this.parseContents_(this.toolboxItemDef_)}dispose(){Ne(this.htmlDiv_)}};V.registrationName="category",V.nestedPadding=19,V.borderWidth=8,V.defaultBackgroundColour="#57e",Yn(`
.blocklyTreeRow:not(.blocklyTreeSelected):hover {
  background-color: rgba(255, 255, 255, .2);
}

.blocklyToolboxDiv[layout="h"] .blocklyToolboxCategory {
  margin: 1px 5px 1px 0;
}

.blocklyToolboxDiv[dir="RTL"][layout="h"] .blocklyToolboxCategory {
  margin: 1px 0 1px 5px;
}

.blocklyTreeRow {
  height: 22px;
  line-height: 22px;
  margin-bottom: 3px;
  padding-right: 8px;
  white-space: nowrap;
}

.blocklyToolboxDiv[dir="RTL"] .blocklyTreeRow {
  margin-left: 8px;
  padding-right: 0;
}

.blocklyTreeIcon {
  background-image: url(<<<PATH>>>/sprites.png);
  height: 16px;
  vertical-align: middle;
  visibility: hidden;
  width: 16px;
}

.blocklyTreeIconClosed {
  background-position: -32px -1px;
}

.blocklyToolboxDiv[dir="RTL"] .blocklyTreeIconClosed {
  background-position: 0 -1px;
}

.blocklyTreeSelected>.blocklyTreeIconClosed {
  background-position: -32px -17px;
}

.blocklyToolboxDiv[dir="RTL"] .blocklyTreeSelected>.blocklyTreeIconClosed {
  background-position: 0 -17px;
}

.blocklyTreeIconOpen {
  background-position: -16px -1px;
}

.blocklyTreeSelected>.blocklyTreeIconOpen {
  background-position: -16px -17px;
}

.blocklyTreeLabel {
  cursor: default;
  font: 16px sans-serif;
  padding: 0 3px;
  vertical-align: middle;
}

.blocklyToolboxDelete .blocklyTreeLabel {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyTreeSelected .blocklyTreeLabel {
  color: #fff;
}
`),i(Rt.TOOLBOX_ITEM,V.registrationName,V);var ie=class extends E{constructor(t,r){super(t,r),this.cssConfig_={container:"blocklyTreeSeparator"},this.htmlDiv_=null,Object.assign(this.cssConfig_,t.cssconfig||t.cssConfig)}init(){this.createDom_()}createDom_(){const t=document.createElement("div"),r=this.cssConfig_.container;return r&&le(t,r),this.htmlDiv_=t}getDiv(){return this.htmlDiv_}dispose(){Ne(this.htmlDiv_)}};ie.registrationName="sep",Yn(`
.blocklyTreeSeparator {
  border-bottom: solid #e5e5e5 1px;
  height: 0;
  margin: 5px 0;
}

.blocklyToolboxDiv[layout="h"] .blocklyTreeSeparator {
  border-right: solid #e5e5e5 1px;
  border-bottom: none;
  height: auto;
  margin: 0 5px 0 5px;
  padding: 5px 0;
  width: 0;
}
`),i(Rt.TOOLBOX_ITEM,ie.registrationName,ie);var ye=class extends V{constructor(t,r,s){super(t,r,s),this.subcategoriesDiv_=null,this.expanded_=!1,this.toolboxItems_=[]}makeDefaultCssConfig_(){const t=super.makeDefaultCssConfig_();return t.contents="blocklyToolboxContents",t}parseContents_(t){if("custom"in t)this.flyoutItems_=t.custom;else{const r=t.contents;if(r){this.flyoutItems_=[],t=!0;for(let s=0;s<r.length;s++){const c=r[s];!h(Rt.TOOLBOX_ITEM,c.kind)||c.kind.toLowerCase()===ie.registrationName&&t?(this.flyoutItems_.push(c),t=!0):(this.createToolboxItem_(c),t=!1)}}}}createToolboxItem_(t){let r=t.kind;r.toUpperCase()==="CATEGORY"&&Ya(t)&&(r=ye.registrationName),t=new(p(Rt.TOOLBOX_ITEM,r))(t,this.parentToolbox_,this),this.toolboxItems_.push(t)}init(){super.init(),this.setExpanded(this.toolboxItemDef_.expanded==="true"||this.toolboxItemDef_.expanded===!0)}createDom_(){super.createDom_();const t=this.getChildToolboxItems();return this.subcategoriesDiv_=this.createSubCategoriesDom_(t),qr(this.subcategoriesDiv_,ai.GROUP),this.htmlDiv_.appendChild(this.subcategoriesDiv_),this.closeIcon_(this.iconDom_),to(this.htmlDiv_,ho.EXPANDED,!1),this.htmlDiv_}createIconDom_(){const t=document.createElement("span");if(!this.parentToolbox_.isHorizontal()){const r=this.cssConfig_.icon;r&&le(t,r),t.style.visibility="visible"}return t.style.display="inline-block",t}createSubCategoriesDom_(t){const r=document.createElement("div");r.style.display="none";var s=this.cssConfig_.contents;for(s&&le(r,s),s=0;s<t.length;s++){const c=t[s];c.init();const g=c.getDiv();if(r.appendChild(g),c.getClickTarget){let P;(P=c.getClickTarget())==null||P.setAttribute("id",c.getId())}}return r}setExpanded(t){this.expanded_!==t&&((this.expanded_=t)?(this.subcategoriesDiv_.style.display="block",this.openIcon_(this.iconDom_)):(this.subcategoriesDiv_.style.display="none",this.closeIcon_(this.iconDom_)),to(this.htmlDiv_,ho.EXPANDED,t),this.parentToolbox_.handleToolboxItemResize())}setVisible_(t){this.htmlDiv_.style.display=t?"block":"none";const r=this.getChildToolboxItems();for(let s=0;s<r.length;s++)r[s].setVisible_(t);this.isHidden_=!t,this.parentToolbox_.getSelectedItem()===this&&this.parentToolbox_.clearSelection()}isExpanded(){return this.expanded_}isCollapsible(){return!0}onClick(t){this.toggleExpanded()}toggleExpanded(){this.setExpanded(!this.expanded_)}getDiv(){return this.htmlDiv_}getChildToolboxItems(){return this.toolboxItems_}};ye.registrationName="collapsibleCategory",i(Rt.TOOLBOX_ITEM,ye.registrationName,ye);var He=class extends wf{constructor(t){super(),this.id="toolbox",this.contentsDiv_=this.HtmlDiv=null,this.isVisible_=!1,this.contents_=[],this.height_=this.width_=0,this.previouslySelectedItem_=this.selectedItem_=this.flyout_=null,this.boundEvents_=[],this.workspace_=t,this.toolboxDef_=t.options.languageTree||{contents:[]},this.horizontalLayout_=t.options.horizontalLayout,this.RTL=t.options.RTL,this.contentMap_=Object.create(null),this.toolboxPosition=t.options.toolboxPosition}onShortcut(t){return!1}init(){var t=this.workspace_;const r=t.getParentSvg();this.flyout_=this.createFlyout_(),this.HtmlDiv=this.createDom_(this.workspace_),$e(this.flyout_.createDom("svg"),r),this.setVisible(!0),this.flyout_.init(t),this.render(this.toolboxDef_),t=t.getThemeManager(),t.subscribe(this.HtmlDiv,"toolboxBackgroundColour","background-color"),t.subscribe(this.HtmlDiv,"toolboxForegroundColour","color"),this.workspace_.getComponentManager().addComponent({component:this,weight:1,capabilities:[io.Capability.AUTOHIDEABLE,io.Capability.DELETE_AREA,io.Capability.DRAG_TARGET]})}createDom_(t){t=t.getParentSvg();const r=this.createContainer_();return this.contentsDiv_=this.createContentsContainer_(),this.contentsDiv_.tabIndex=0,qr(this.contentsDiv_,ai.TREE),r.appendChild(this.contentsDiv_),t.parentNode.insertBefore(r,t),this.attachEvents_(r,this.contentsDiv_),r}createContainer_(){const t=document.createElement("div");return t.setAttribute("layout",this.isHorizontal()?"h":"v"),le(t,"blocklyToolboxDiv"),le(t,"blocklyNonSelectable"),t.setAttribute("dir",this.RTL?"RTL":"LTR"),t}createContentsContainer_(){const t=document.createElement("div");return le(t,"blocklyToolboxContents"),this.isHorizontal()&&(t.style.flexDirection="row"),t}attachEvents_(t,r){t=kt(t,"pointerdown",this,this.onClick_,!1),this.boundEvents_.push(t),r=kt(r,"keydown",this,this.onKeyDown_,!1),this.boundEvents_.push(r)}onClick_(t){if(br(t)||t.target===this.HtmlDiv)M().hideChaff(!1);else{var r=t.target.getAttribute("id");r&&(r=this.getToolboxItemById(r),r.isSelectable()&&(this.setSelectedItem(r),r.onClick(t))),M().hideChaff(!0)}bt()}onKeyDown_(t){let r=!1;switch(t.key){case"ArrowDown":r=this.selectNext_();break;case"ArrowUp":r=this.selectPrevious_();break;case"ArrowLeft":r=this.selectParent_();break;case"ArrowRight":r=this.selectChild_();break;case"Enter":case" ":this.selectedItem_&&this.selectedItem_.isCollapsible()&&(this.selectedItem_.toggleExpanded(),r=!0);break;default:r=!1}!r&&this.selectedItem_&&this.selectedItem_.onKeyDown&&(r=this.selectedItem_.onKeyDown(t)),r&&t.preventDefault()}createFlyout_(){const t=this.workspace_,r=new Xi({parentWorkspace:t,rtl:t.RTL,oneBasedIndex:t.options.oneBasedIndex,horizontalLayout:t.horizontalLayout,renderer:t.options.renderer,rendererOverrides:t.options.rendererOverrides,move:{scrollbars:!0}});return r.toolboxPosition=t.options.toolboxPosition,new(t.horizontalLayout?T(Rt.FLYOUTS_HORIZONTAL_TOOLBOX,t.options,!0):T(Rt.FLYOUTS_VERTICAL_TOOLBOX,t.options,!0))(r)}render(t){this.toolboxDef_=t;for(let r=0;r<this.contents_.length;r++){const s=this.contents_[r];s&&s.dispose()}this.contents_=[],this.contentMap_=Object.create(null),this.renderContents_(t.contents),this.position(),this.handleToolboxItemResize()}renderContents_(t){const r=document.createDocumentFragment();for(let s=0;s<t.length;s++)this.createToolboxItem_(t[s],r);this.contentsDiv_.appendChild(r)}createToolboxItem_(t,r){var s=t.kind;s.toUpperCase()==="CATEGORY"&&Ya(t)&&(s=ye.registrationName),(s=p(Rt.TOOLBOX_ITEM,s.toLowerCase()))&&(t=new s(t,this),t.init(),this.addToolboxItem_(t),(s=t.getDiv())&&r.appendChild(s),t.getClickTarget()&&t.getClickTarget().setAttribute("id",t.getId()))}addToolboxItem_(t){if(this.contents_.push(t),this.contentMap_[t.getId()]=t,t.isCollapsible()){t=t.getChildToolboxItems();for(let r=0;r<t.length;r++)this.addToolboxItem_(t[r])}}getToolboxItems(){return this.contents_}addStyle(t){t&&this.HtmlDiv&&le(this.HtmlDiv,t)}removeStyle(t){t&&this.HtmlDiv&&re(this.HtmlDiv,t)}getClientRect(){if(!this.HtmlDiv||!this.isVisible_)return null;var t=this.HtmlDiv.getBoundingClientRect();const r=t.top,s=r+t.height,c=t.left;return t=c+t.width,this.toolboxPosition===vn.TOP?new ro(-1e7,s,-1e7,1e7):this.toolboxPosition===vn.BOTTOM?new ro(r,1e7,-1e7,1e7):this.toolboxPosition===vn.LEFT?new ro(-1e7,1e7,-1e7,t):new ro(-1e7,1e7,c,1e7)}wouldDelete(t,r){return t instanceof Ni?this.updateWouldDelete_(!t.getParent()&&t.isDeletable()):this.updateWouldDelete_(t.isDeletable()),this.wouldDelete_}onDragEnter(t){this.updateCursorDeleteStyle_(!0)}onDragExit(t){this.updateCursorDeleteStyle_(!1)}onDrop(t){this.updateCursorDeleteStyle_(!1)}updateWouldDelete_(t){t!==this.wouldDelete_&&(this.updateCursorDeleteStyle_(!1),this.wouldDelete_=t,this.updateCursorDeleteStyle_(!0))}updateCursorDeleteStyle_(t){const r=this.wouldDelete_?"blocklyToolboxDelete":"blocklyToolboxGrab";t?this.addStyle(r):this.removeStyle(r)}getToolboxItemById(t){return this.contentMap_[t]||null}getWidth(){return this.width_}getHeight(){return this.height_}getFlyout(){return this.flyout_}getWorkspace(){return this.workspace_}getSelectedItem(){return this.selectedItem_}getPreviouslySelectedItem(){return this.previouslySelectedItem_}isHorizontal(){return this.horizontalLayout_}position(){const t=this.workspace_.getMetrics(),r=this.HtmlDiv;r&&(this.horizontalLayout_?(r.style.left="0",r.style.height="auto",r.style.width="100%",this.height_=r.offsetHeight,this.width_=t.viewWidth,this.toolboxPosition===vn.TOP?r.style.top="0":r.style.bottom="0"):(this.toolboxPosition===vn.RIGHT?r.style.right="0":r.style.left="0",r.style.height="100%",this.width_=r.offsetWidth,this.height_=t.viewHeight),this.flyout_.position())}handleToolboxItemResize(){const t=this.workspace_,r=this.HtmlDiv.getBoundingClientRect();t.translate(this.toolboxPosition===vn.LEFT?t.scrollX+r.width:t.scrollX,this.toolboxPosition===vn.TOP?t.scrollY+r.height:t.scrollY),D(t)}clearSelection(){this.setSelectedItem(null)}refreshTheme(){for(let t=0;t<this.contents_.length;t++){const r=this.contents_[t];r.refreshTheme&&r.refreshTheme()}}refreshSelection(){this.selectedItem_&&this.selectedItem_.isSelectable()&&this.selectedItem_.getContents().length&&this.flyout_.show(this.selectedItem_.getContents())}setVisible(t){this.isVisible_!==t&&(this.HtmlDiv.style.display=t?"block":"none",this.isVisible_=t,this.workspace_.recordDragTargets())}autoHide(t){!t&&this.flyout_&&this.flyout_.autoClose&&this.clearSelection()}setSelectedItem(t){const r=this.selectedItem_;!t&&!r||t&&!um(t)||(this.shouldDeselectItem_(r,t)&&r!==null&&this.deselectItem_(r),this.shouldSelectItem_(r,t)&&t!==null&&this.selectItem_(r,t),this.updateFlyout_(r,t),this.fireSelectEvent_(r,t))}shouldDeselectItem_(t,r){return t!==null&&(!t.isCollapsible()||t!==r)}shouldSelectItem_(t,r){return r!==null&&r!==t}deselectItem_(t){this.selectedItem_=null,this.previouslySelectedItem_=t,t.setSelected(!1),to(this.contentsDiv_,ho.ACTIVEDESCENDANT,"")}selectItem_(t,r){this.selectedItem_=r,this.previouslySelectedItem_=t,r.setSelected(!0),to(this.contentsDiv_,ho.ACTIVEDESCENDANT,r.getId())}selectItemByPosition(t){-1<t&&t<this.contents_.length&&(t=this.contents_[t],t.isSelectable()&&this.setSelectedItem(t))}updateFlyout_(t,r){r&&(t!==r||r.isCollapsible())&&r.getContents().length?(this.flyout_.show(r.getContents()),this.flyout_.scrollToStart()):this.flyout_.hide()}fireSelectEvent_(t,r){const s=t&&t.getName();let c=r&&r.getName();t===r&&(c=null),t=new(se(na))(s,c,this.workspace_.id),K(t)}selectParent_(){return this.selectedItem_?this.selectedItem_.isCollapsible()&&this.selectedItem_.isExpanded()?(this.selectedItem_.toggleExpanded(),!0):this.selectedItem_.getParent()&&this.selectedItem_.getParent().isSelectable()?(this.setSelectedItem(this.selectedItem_.getParent()),!0):!1:!1}selectChild_(){if(!this.selectedItem_||!this.selectedItem_.isCollapsible())return!1;const t=this.selectedItem_;return t.isExpanded()?this.selectNext_():t.toggleExpanded(),!0}selectNext_(){if(!this.selectedItem_)return!1;let t=this.contents_.indexOf(this.selectedItem_)+1;if(-1<t&&t<this.contents_.length){let r=this.contents_[t];for(;r&&!r.isSelectable();)r=this.contents_[++t];if(r&&r.isSelectable())return this.setSelectedItem(r),!0}return!1}selectPrevious_(){if(!this.selectedItem_)return!1;let t=this.contents_.indexOf(this.selectedItem_)-1;if(-1<t&&t<this.contents_.length){let r=this.contents_[t];for(;r&&!r.isSelectable();)r=this.contents_[--t];if(r&&r.isSelectable())return this.setSelectedItem(r),!0}return!1}dispose(){this.workspace_.getComponentManager().removeComponent("toolbox"),this.flyout_.dispose();for(var t=0;t<this.contents_.length;t++)this.contents_[t].dispose();for(t=0;t<this.boundEvents_.length;t++)On(this.boundEvents_[t]);this.boundEvents_=[],this.contents_=[],this.HtmlDiv&&(this.workspace_.getThemeManager().unsubscribe(this.HtmlDiv),Ne(this.HtmlDiv))}};Yn(`
.blocklyToolboxDelete {
  cursor: url("<<<PATH>>>/handdelete.cur"), auto;
}

.blocklyToolboxGrab {
  cursor: url("<<<PATH>>>/handclosed.cur"), auto;
  cursor: grabbing;
  cursor: -webkit-grabbing;
}

/* Category tree in Toolbox. */
.blocklyToolboxDiv {
  background-color: #ddd;
  overflow-x: visible;
  overflow-y: auto;
  padding: 4px 0 4px 0;
  position: absolute;
  z-index: 70;  /* so blocks go under toolbox when dragging */
  -webkit-tap-highlight-color: transparent;  /* issue #1345 */
}

.blocklyToolboxContents {
  display: flex;
  flex-wrap: wrap;
  flex-direction: column;
}

.blocklyToolboxContents:focus {
  outline: none;
}
`),i(Rt.TOOLBOX,Ls,He);var Ye=class extends wf{constructor(t){super(),this.workspace=t,this.id="trashcan",this.contents=[],this.flyout=null,this.isLidOpen=!1,this.minOpenness=0,this.lidTask=this.svgLid=this.svgGroup=null,this.top=this.left=this.lidOpen=0,this.initialized=!1,0>=this.workspace.options.maxTrashcanContents||(t=new Xi({scrollbars:!0,parentWorkspace:this.workspace,rtl:this.workspace.RTL,oneBasedIndex:this.workspace.options.oneBasedIndex,renderer:this.workspace.options.renderer,rendererOverrides:this.workspace.options.rendererOverrides,move:{scrollbars:!0}}),this.workspace.horizontalLayout?(t.toolboxPosition=this.workspace.toolboxPosition===vn.TOP?vn.BOTTOM:vn.TOP,this.flyout=new(T(Rt.FLYOUTS_HORIZONTAL_TOOLBOX,this.workspace.options,!0))(t)):(t.toolboxPosition=this.workspace.toolboxPosition===vn.RIGHT?vn.LEFT:vn.RIGHT,this.flyout=new(T(Rt.FLYOUTS_VERTICAL_TOOLBOX,this.workspace.options,!0))(t)),this.workspace.addChangeListener(this.onDelete.bind(this)))}createDom(){this.svgGroup=we(nt.G,{class:"blocklyTrash"});let t;const r=String(Math.random()).substring(2);t=we(nt.CLIPPATH,{id:"blocklyTrashBodyClipPath"+r},this.svgGroup),we(nt.RECT,{width:st,height:Ct,y:Tt},t);const s=we(nt.IMAGE,{width:so.width,x:-pn,height:so.height,y:-In,"clip-path":"url(#blocklyTrashBodyClipPath"+r+")"},this.svgGroup);return s.setAttributeNS(ki,"xlink:href",this.workspace.options.pathToMedia+so.url),t=we(nt.CLIPPATH,{id:"blocklyTrashLidClipPath"+r},this.svgGroup),we(nt.RECT,{width:st,height:Tt},t),this.svgLid=we(nt.IMAGE,{width:so.width,x:-pn,height:so.height,y:-In,"clip-path":"url(#blocklyTrashLidClipPath"+r+")"},this.svgGroup),this.svgLid.setAttributeNS(ki,"xlink:href",this.workspace.options.pathToMedia+so.url),En(this.svgGroup,"pointerdown",this,this.blockMouseDownWhenOpenable),En(this.svgGroup,"pointerup",this,this.click),En(s,"pointerover",this,this.mouseOver),En(s,"pointerout",this,this.mouseOut),this.animateLid(),this.svgGroup}init(){0<this.workspace.options.maxTrashcanContents&&($e(this.flyout.createDom(nt.SVG),this.workspace.getParentSvg()),this.flyout.init(this.workspace)),this.workspace.getComponentManager().addComponent({component:this,weight:1,capabilities:[io.Capability.AUTOHIDEABLE,io.Capability.DELETE_AREA,io.Capability.DRAG_TARGET,io.Capability.POSITIONABLE]}),this.initialized=!0,this.setLidOpen(!1)}dispose(){this.workspace.getComponentManager().removeComponent("trashcan"),this.svgGroup&&Ne(this.svgGroup),this.lidTask&&clearTimeout(this.lidTask)}hasContents(){return!!this.contents.length}contentsIsOpen(){return!!this.flyout&&this.flyout.isVisible()}openFlyout(){if(!this.contentsIsOpen()){var t=this.contents.map(function(s){return JSON.parse(s)}),r=this.workspace.getParentSvg().style;r.cursor="wait",setTimeout(()=>{let s;(s=this.flyout)==null||s.show(t),r.cursor=""},10),this.fireUiEvent(!0)}}closeFlyout(){if(this.contentsIsOpen()){var t;(t=this.flyout)==null||t.hide(),this.fireUiEvent(!1),this.workspace.recordDragTargets()}}autoHide(t){!t&&this.flyout&&this.closeFlyout()}emptyContents(){this.hasContents()&&(this.contents.length=0,this.setMinOpenness(0),this.closeFlyout())}position(t,r){if(this.initialized){var s=sr(this.workspace,t);t=Vd(s,new Zn(st,Ct+Tt),Wt,Nt,t,this.workspace),r=dc(t,Nt,s.vertical===ys.TOP?_a.DOWN:_a.UP,r),this.top=r.top,this.left=r.left;var c;(c=this.svgGroup)==null||c.setAttribute("transform","translate("+this.left+","+this.top+")")}}getBoundingRectangle(){return new ro(this.top,this.top+Ct+Tt,this.left,this.left+st)}getClientRect(){if(!this.svgGroup)return null;var t=this.svgGroup.getBoundingClientRect();const r=t.top+In-tn;return t=t.left+pn-tn,new ro(r,r+Tt+Ct+2*tn,t,t+st+2*tn)}onDragOver(t){this.setLidOpen(this.wouldDelete_)}onDragExit(t){this.setLidOpen(!1)}onDrop(t){setTimeout(this.setLidOpen.bind(this,!1),100)}setLidOpen(t){this.isLidOpen!==t&&(this.lidTask&&clearTimeout(this.lidTask),this.isLidOpen=t,this.animateLid())}animateLid(){const t=Dn;var r=1/(t+1);this.lidOpen+=this.isLidOpen?r:-r,this.lidOpen=Math.min(Math.max(this.lidOpen,this.minOpenness),1),this.setLidAngle(this.lidOpen*di),r=ci+this.lidOpen*(Br-ci),this.svgGroup&&(this.svgGroup.style.opacity=`${r}`),this.lidOpen>this.minOpenness&&1>this.lidOpen&&(this.lidTask=setTimeout(this.animateLid.bind(this),Rn/t))}setLidAngle(t){const r=this.workspace.toolboxPosition===vn.RIGHT||this.workspace.horizontalLayout&&this.workspace.RTL;let s;(s=this.svgLid)==null||s.setAttribute("transform","rotate("+(r?-t:t)+","+(r?4:st-4)+","+(Tt-2)+")")}setMinOpenness(t){this.minOpenness=t,this.isLidOpen||this.setLidAngle(t*di)}closeLid(){this.setLidOpen(!1)}click(){this.hasContents()&&this.openFlyout()}fireUiEvent(t){t=new(se(ta))(t,this.workspace.id),K(t)}blockMouseDownWhenOpenable(t){!this.contentsIsOpen()&&this.hasContents()&&t.stopPropagation()}mouseOver(){this.hasContents()&&this.setLidOpen(!0)}mouseOut(){this.setLidOpen(!1)}onDelete(t){if(!(0>=this.workspace.options.maxTrashcanContents||t.type!==n.DELETE$$module$build$src$core$events$utils||t.type!==n.DELETE$$module$build$src$core$events$utils||t.wasShadow)){if(!t.oldJson)throw Error("Encountered a delete event without proper oldJson");if(t=JSON.stringify(this.cleanBlockJson(t.oldJson)),this.contents.indexOf(t)===-1){for(this.contents.unshift(t);this.contents.length>this.workspace.options.maxTrashcanContents;)this.contents.pop();this.setMinOpenness(gn)}}}cleanBlockJson(t){function r(s){if(s){if(delete s.id,delete s.x,delete s.y,delete s.enabled,s.icons&&s.icons.comment){var c=s.icons.comment;delete c.height,delete c.width,delete c.pinned}c=s.inputs;for(var g in c){var P=c[g];const ae=P.block;P=P.shadow,ae&&r(ae),P&&r(P)}s.next&&(g=s.next,s=g.block,g=g.shadow,s&&r(s),g&&r(g))}}return t=JSON.parse(JSON.stringify(t)),r(t),Object.assign({},{kind:"BLOCK"},t)}},st=47,Ct=44,Tt=16,Nt=20,Wt=20,tn=10,pn=0,In=32,gn=.1,Rn=80,Dn=4,ci=.4,Br=.8,di=45,jo="10.0.0",Cs=n.Align$$module$build$src$core$inputs$align.LEFT,Sl=n.Align$$module$build$src$core$inputs$align.CENTRE,t0=n.Align$$module$build$src$core$inputs$align.RIGHT,I4=Kt.INPUT_VALUE,S4=Kt.OUTPUT_VALUE,O4=Kt.NEXT_STATEMENT,k4=Kt.PREVIOUS_STATEMENT,w4=n.inputTypes$$module$build$src$core$inputs$input_types.DUMMY,N4=vn.TOP,A4=vn.BOTTOM,R4=vn.LEFT,L4=vn.RIGHT;_h.prototype.newBlock=function(t,r){return new wc(this,t,r)},Es.prototype.newBlock=function(t,r){return new Ni(this,t,r)},Es.newTrashcan=function(t){return new Ye(t)},$r.prototype.showContextMenu=function(t){if(!this.workspace.options.readOnly){var r=[];this.isDeletable()&&this.isMovable()&&(r.push(Ug(this)),r.push(Vg(this))),Ei(t,r,this.RTL)}},Tl.prototype.newWorkspaceSvg=function(t){return new Es(t)},n.Names$$module$build$src$core$names.prototype.populateProcedures=function(t){t=Bd(t),t=t[0].concat(t[1]);for(let r=0;r<t.length;r++)this.getName(t[r][0],n.Names$$module$build$src$core$names.NameType.PROCEDURE)};var M4=Kt,ht={};return ht.ALIGN_CENTRE=Sl,ht.ALIGN_LEFT=Cs,ht.ALIGN_RIGHT=t0,ht.ASTNode=It,ht.BasicCursor=Ac,ht.Block=wc,ht.BlockDragger=__,ht.BlockSvg=Ni,ht.Blocks=Ar,ht.Bubble=Tn,ht.BubbleDragger=Lc,ht.COLLAPSED_FIELD_NAME=Jp,ht.COLLAPSED_INPUT_NAME=Tc,ht.COLLAPSE_CHARS=T_,ht.CodeGenerator=n.CodeGenerator$$module$build$src$core$generator,ht.CollapsibleToolboxCategory=ye,ht.ComponentManager=io,ht.Connection=Bn,ht.ConnectionChecker=Tf,ht.ConnectionDB=Mc,ht.ConnectionType=Kt,ht.ContextMenu=Gs,ht.ContextMenuItems=xr,ht.ContextMenuRegistry=Vn,ht.Css=Qp,ht.Cursor=So,ht.DELETE_VARIABLE_ID=bf,ht.DRAG_STACK=_f,ht.DUMMY_INPUT=w4,ht.DeleteArea=wf,ht.DragTarget=L_,ht.DropDownDiv=Do,ht.Events=jt,ht.Extensions=Ki,ht.Field=An,ht.FieldAngle=Sn,ht.FieldCheckbox=Iu,ht.FieldColour=Ri,ht.FieldDropdown=Us,ht.FieldImage=Cu,ht.FieldLabel=Hs,ht.FieldLabelSerializable=M_,ht.FieldMultilineInput=u$,ht.FieldNumber=c$,ht.FieldTextInput=Dc,ht.FieldVariable=$h,ht.Flyout=Mf,ht.FlyoutButton=Ts,ht.FlyoutMetricsManager=P_,ht.Generator=n.CodeGenerator$$module$build$src$core$generator,ht.Gesture=Cl,ht.Grid=p$,ht.HorizontalFlyout=Pf,ht.INPUT_VALUE=I4,ht.Input=yl,ht.InsertionMarkerManager=un,ht.Marker=Io,ht.MarkerManager=eh,ht.Menu=xm,ht.MenuItem=Bm,ht.MetricsManager=d$,ht.Msg=n.Msg$$module$build$src$core$msg,ht.NEXT_STATEMENT=O4,ht.Names=n.Names$$module$build$src$core$names,ht.OPPOSITE_TYPE=yu,ht.OUTPUT_VALUE=S4,ht.Options=Xi,ht.PREVIOUS_STATEMENT=k4,ht.PROCEDURE_CATEGORY_NAME=Af,ht.Procedures=vr,ht.RENAME_VARIABLE_ID=vs,ht.RenderedConnection=Pr,ht.Scrollbar=No,ht.ScrollbarPair=h$,ht.ShortcutItems=Xs,ht.ShortcutRegistry=zn,ht.TOOLBOX_AT_BOTTOM=A4,ht.TOOLBOX_AT_LEFT=R4,ht.TOOLBOX_AT_RIGHT=L4,ht.TOOLBOX_AT_TOP=N4,ht.TabNavigateCursor=y_,ht.Theme=Tu,ht.ThemeManager=B_,ht.Themes=f,ht.Toolbox=He,ht.ToolboxCategory=V,ht.ToolboxItem=E,ht.ToolboxSeparator=ie,ht.Tooltip=tr,ht.Touch=an,ht.Trashcan=Ye,ht.UnattachedFieldError=Bo,ht.VARIABLE_CATEGORY_NAME=fs,ht.VARIABLE_DYNAMIC_CATEGORY_NAME=vh,ht.VERSION=jo,ht.VariableMap=Rf,ht.VariableModel=mc,ht.Variables=Qo,ht.VariablesDynamic=Il,ht.VerticalFlyout=f$,ht.WidgetDiv=Vs,ht.Workspace=_h,ht.WorkspaceAudio=F_,ht.WorkspaceComment=Ds,ht.WorkspaceCommentSvg=$r,ht.WorkspaceDragger=D_,ht.WorkspaceSvg=Es,ht.Xml=ri,ht.ZoomControls=Lf,ht.blockAnimations=ah,ht.blockRendering=Xn,ht.browserEvents=$l,ht.bubbles=Rc,ht.bumpObjects=gf,ht.clipboard=uh,ht.common=Po,ht.config=n.config$$module$build$src$core$config,ht.connectionTypes=M4,ht.constants=ef,ht.defineBlocksWithJsonArray=Y,ht.dialog=ia,ht.fieldRegistry=rh,ht.geras=Ws,ht.getMainWorkspace=M,ht.getSelected=G,ht.hasBubble=hn,ht.hideChaff=cm,ht.icons=va,ht.inject=Pv,ht.inputTypes=n.inputTypes$$module$build$src$core$inputs$input_types,ht.inputs=Ou,ht.isIcon=Fv,ht.isObservable=xd,ht.isSerializable=Be,ht.isVariableBackedParameterModel=Ce,ht.minimalist=bh,ht.procedures=vr,ht.registry=Ii,ht.renderManagement=jm,ht.serialization=J1,ht.setLocale=Gp,ht.setParentContainer=x,ht.svgResize=D,ht.thrasos=m$,ht.uiPosition=Su,ht.utils=To,ht.zelos=Qi,"Blockly"in globalThis||(globalThis.Blockly={Msg:uu}),ht.__namespace__=n,ht})}(sT)),sT.exports}var OS;function V4(){return OS||(OS=1,function(e,o){(function(n,i){e.exports=i(Hh())})(Wn,function(n){/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */return n})}(iT)),iT.exports}var kS;function id(){return kS||(kS=1,function(e,o){(function(n,i){e.exports=i(V4())})(Wn,function(n){return n})}(rT)),rT.exports}var lT={exports:{}},wS;function U4(){return wS||(wS=1,function(e,o){(function(n,i){e.exports=i()})(Wn,function(){var n=n||{Msg:Object.create(null)};return n.Msg.ADD_COMMENT="Add Comment",n.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'",n.Msg.CHANGE_VALUE_TITLE="Change value:",n.Msg.CLEAN_UP="Clean up Blocks",n.Msg.COLLAPSED_WARNINGS_WARNING="Collapsed blocks contain warnings.",n.Msg.COLLAPSE_ALL="Collapse Blocks",n.Msg.COLLAPSE_BLOCK="Collapse Block",n.Msg.COLOUR_BLEND_COLOUR1="colour 1",n.Msg.COLOUR_BLEND_COLOUR2="colour 2",n.Msg.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",n.Msg.COLOUR_BLEND_RATIO="ratio",n.Msg.COLOUR_BLEND_TITLE="blend",n.Msg.COLOUR_BLEND_TOOLTIP="Blends two colours together with a given ratio (0.0 - 1.0).",n.Msg.COLOUR_PICKER_HELPURL="https://en.wikipedia.org/wiki/Color",n.Msg.COLOUR_PICKER_TOOLTIP="Choose a colour from the palette.",n.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",n.Msg.COLOUR_RANDOM_TITLE="random colour",n.Msg.COLOUR_RANDOM_TOOLTIP="Choose a colour at random.",n.Msg.COLOUR_RGB_BLUE="blue",n.Msg.COLOUR_RGB_GREEN="green",n.Msg.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html",n.Msg.COLOUR_RGB_RED="red",n.Msg.COLOUR_RGB_TITLE="colour with",n.Msg.COLOUR_RGB_TOOLTIP="Create a colour with the specified amount of red, green, and blue. All values must be between 0 and 100.",n.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",n.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="break out of loop",n.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="continue with next iteration of loop",n.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="Break out of the containing loop.",n.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="Skip the rest of this loop, and continue with the next iteration.",n.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="Warning: This block may only be used within a loop.",n.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",n.Msg.CONTROLS_FOREACH_TITLE="for each item %1 in list %2",n.Msg.CONTROLS_FOREACH_TOOLTIP="For each item in a list, set the variable '%1' to the item, and then do some statements.",n.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",n.Msg.CONTROLS_FOR_TITLE="count with %1 from %2 to %3 by %4",n.Msg.CONTROLS_FOR_TOOLTIP="Have the variable '%1' take on the values from the start number to the end number, counting by the specified interval, and do the specified blocks.",n.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.",n.Msg.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.",n.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",n.Msg.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.",n.Msg.CONTROLS_IF_MSG_ELSE="else",n.Msg.CONTROLS_IF_MSG_ELSEIF="else if",n.Msg.CONTROLS_IF_MSG_IF="if",n.Msg.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.",n.Msg.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.",n.Msg.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.",n.Msg.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.",n.Msg.CONTROLS_REPEAT_HELPURL="https://en.wikipedia.org/wiki/For_loop",n.Msg.CONTROLS_REPEAT_INPUT_DO="do",n.Msg.CONTROLS_REPEAT_TITLE="repeat %1 times",n.Msg.CONTROLS_REPEAT_TOOLTIP="Do some statements several times.",n.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",n.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="repeat until",n.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="repeat while",n.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="While a value is false, then do some statements.",n.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="While a value is true, then do some statements.",n.Msg.DELETE_ALL_BLOCKS="Delete all %1 blocks?",n.Msg.DELETE_BLOCK="Delete Block",n.Msg.DELETE_VARIABLE="Delete the '%1' variable",n.Msg.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?",n.Msg.DELETE_X_BLOCKS="Delete %1 Blocks",n.Msg.DIALOG_CANCEL="Cancel",n.Msg.DIALOG_OK="OK",n.Msg.DISABLE_BLOCK="Disable Block",n.Msg.DUPLICATE_BLOCK="Duplicate",n.Msg.DUPLICATE_COMMENT="Duplicate Comment",n.Msg.ENABLE_BLOCK="Enable Block",n.Msg.EXPAND_ALL="Expand Blocks",n.Msg.EXPAND_BLOCK="Expand Block",n.Msg.EXTERNAL_INPUTS="External Inputs",n.Msg.HELP="Help",n.Msg.INLINE_INPUTS="Inline Inputs",n.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",n.Msg.LISTS_CREATE_EMPTY_TITLE="create empty list",n.Msg.LISTS_CREATE_EMPTY_TOOLTIP="Returns a list, of length 0, containing no data records",n.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="list",n.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="Add, remove, or reorder sections to reconfigure this list block.",n.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",n.Msg.LISTS_CREATE_WITH_INPUT_WITH="create list with",n.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="Add an item to the list.",n.Msg.LISTS_CREATE_WITH_TOOLTIP="Create a list with any number of items.",n.Msg.LISTS_GET_INDEX_FIRST="first",n.Msg.LISTS_GET_INDEX_FROM_END="# from end",n.Msg.LISTS_GET_INDEX_FROM_START="#",n.Msg.LISTS_GET_INDEX_GET="get",n.Msg.LISTS_GET_INDEX_GET_REMOVE="get and remove",n.Msg.LISTS_GET_INDEX_LAST="last",n.Msg.LISTS_GET_INDEX_RANDOM="random",n.Msg.LISTS_GET_INDEX_REMOVE="remove",n.Msg.LISTS_GET_INDEX_TAIL="",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="Returns the first item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="Returns the item at the specified position in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="Returns the last item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="Returns a random item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="Removes and returns the first item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="Removes and returns the item at the specified position in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="Removes and returns the last item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="Removes and returns a random item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="Removes the first item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="Removes the item at the specified position in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="Removes the last item in a list.",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="Removes a random item in a list.",n.Msg.LISTS_GET_SUBLIST_END_FROM_END="to # from end",n.Msg.LISTS_GET_SUBLIST_END_FROM_START="to #",n.Msg.LISTS_GET_SUBLIST_END_LAST="to last",n.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",n.Msg.LISTS_GET_SUBLIST_START_FIRST="get sub-list from first",n.Msg.LISTS_GET_SUBLIST_START_FROM_END="get sub-list from # from end",n.Msg.LISTS_GET_SUBLIST_START_FROM_START="get sub-list from #",n.Msg.LISTS_GET_SUBLIST_TAIL="",n.Msg.LISTS_GET_SUBLIST_TOOLTIP="Creates a copy of the specified portion of a list.",n.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1 is the last item.",n.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1 is the first item.",n.Msg.LISTS_INDEX_OF_FIRST="find first occurrence of item",n.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",n.Msg.LISTS_INDEX_OF_LAST="find last occurrence of item",n.Msg.LISTS_INDEX_OF_TOOLTIP="Returns the index of the first/last occurrence of the item in the list. Returns %1 if item is not found.",n.Msg.LISTS_INLIST="in list",n.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",n.Msg.LISTS_ISEMPTY_TITLE="%1 is empty",n.Msg.LISTS_ISEMPTY_TOOLTIP="Returns true if the list is empty.",n.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",n.Msg.LISTS_LENGTH_TITLE="length of %1",n.Msg.LISTS_LENGTH_TOOLTIP="Returns the length of a list.",n.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",n.Msg.LISTS_REPEAT_TITLE="create list with item %1 repeated %2 times",n.Msg.LISTS_REPEAT_TOOLTIP="Creates a list consisting of the given value repeated the specified number of times.",n.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",n.Msg.LISTS_REVERSE_MESSAGE0="reverse %1",n.Msg.LISTS_REVERSE_TOOLTIP="Reverse a copy of a list.",n.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",n.Msg.LISTS_SET_INDEX_INPUT_TO="as",n.Msg.LISTS_SET_INDEX_INSERT="insert at",n.Msg.LISTS_SET_INDEX_SET="set",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="Inserts the item at the start of a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="Inserts the item at the specified position in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="Append the item to the end of a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="Inserts the item randomly in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="Sets the first item in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="Sets the item at the specified position in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="Sets the last item in a list.",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="Sets a random item in a list.",n.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",n.Msg.LISTS_SORT_ORDER_ASCENDING="ascending",n.Msg.LISTS_SORT_ORDER_DESCENDING="descending",n.Msg.LISTS_SORT_TITLE="sort %1 %2 %3",n.Msg.LISTS_SORT_TOOLTIP="Sort a copy of a list.",n.Msg.LISTS_SORT_TYPE_IGNORECASE="alphabetic, ignore case",n.Msg.LISTS_SORT_TYPE_NUMERIC="numeric",n.Msg.LISTS_SORT_TYPE_TEXT="alphabetic",n.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",n.Msg.LISTS_SPLIT_LIST_FROM_TEXT="make list from text",n.Msg.LISTS_SPLIT_TEXT_FROM_LIST="make text from list",n.Msg.LISTS_SPLIT_TOOLTIP_JOIN="Join a list of texts into one text, separated by a delimiter.",n.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="Split text into a list of texts, breaking at each delimiter.",n.Msg.LISTS_SPLIT_WITH_DELIMITER="with delimiter",n.Msg.LOGIC_BOOLEAN_FALSE="false",n.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",n.Msg.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.",n.Msg.LOGIC_BOOLEAN_TRUE="true",n.Msg.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)",n.Msg.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.",n.Msg.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.",n.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.",n.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",n.Msg.LOGIC_NEGATE_TITLE="not %1",n.Msg.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.",n.Msg.LOGIC_NULL="null",n.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",n.Msg.LOGIC_NULL_TOOLTIP="Returns null.",n.Msg.LOGIC_OPERATION_AND="and",n.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",n.Msg.LOGIC_OPERATION_OR="or",n.Msg.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.",n.Msg.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.",n.Msg.LOGIC_TERNARY_CONDITION="test",n.Msg.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:",n.Msg.LOGIC_TERNARY_IF_FALSE="if false",n.Msg.LOGIC_TERNARY_IF_TRUE="if true",n.Msg.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.",n.Msg.MATH_ADDITION_SYMBOL="+",n.Msg.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic",n.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.",n.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.",n.Msg.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2",n.Msg.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2",n.Msg.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.",n.Msg.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter",n.Msg.MATH_CHANGE_TITLE="change %1 by %2",n.Msg.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.",n.Msg.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant",n.Msg.MATH_CONSTANT_TOOLTIP="Return one of the common constants: π (3.141…), e (2.718…), φ (1.618…), sqrt(2) (1.414…), sqrt(½) (0.707…), or ∞ (infinity).",n.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",n.Msg.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3",n.Msg.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).",n.Msg.MATH_DIVISION_SYMBOL="÷",n.Msg.MATH_IS_DIVISIBLE_BY="is divisible by",n.Msg.MATH_IS_EVEN="is even",n.Msg.MATH_IS_NEGATIVE="is negative",n.Msg.MATH_IS_ODD="is odd",n.Msg.MATH_IS_POSITIVE="is positive",n.Msg.MATH_IS_PRIME="is prime",n.Msg.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.",n.Msg.MATH_IS_WHOLE="is whole",n.Msg.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation",n.Msg.MATH_MODULO_TITLE="remainder of %1 ÷ %2",n.Msg.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.",n.Msg.MATH_MULTIPLICATION_SYMBOL="×",n.Msg.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number",n.Msg.MATH_NUMBER_TOOLTIP="A number.",n.Msg.MATH_ONLIST_HELPURL="",n.Msg.MATH_ONLIST_OPERATOR_AVERAGE="average of list",n.Msg.MATH_ONLIST_OPERATOR_MAX="max of list",n.Msg.MATH_ONLIST_OPERATOR_MEDIAN="median of list",n.Msg.MATH_ONLIST_OPERATOR_MIN="min of list",n.Msg.MATH_ONLIST_OPERATOR_MODE="modes of list",n.Msg.MATH_ONLIST_OPERATOR_RANDOM="random item of list",n.Msg.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list",n.Msg.MATH_ONLIST_OPERATOR_SUM="sum of list",n.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.",n.Msg.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.",n.Msg.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.",n.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.",n.Msg.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.",n.Msg.MATH_POWER_SYMBOL="^",n.Msg.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",n.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction",n.Msg.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).",n.Msg.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation",n.Msg.MATH_RANDOM_INT_TITLE="random integer from %1 to %2",n.Msg.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.",n.Msg.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding",n.Msg.MATH_ROUND_OPERATOR_ROUND="round",n.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="round down",n.Msg.MATH_ROUND_OPERATOR_ROUNDUP="round up",n.Msg.MATH_ROUND_TOOLTIP="Round a number up or down.",n.Msg.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root",n.Msg.MATH_SINGLE_OP_ABSOLUTE="absolute",n.Msg.MATH_SINGLE_OP_ROOT="square root",n.Msg.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.",n.Msg.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.",n.Msg.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.",n.Msg.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.",n.Msg.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.",n.Msg.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.",n.Msg.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.",n.Msg.MATH_SUBTRACTION_SYMBOL="-",n.Msg.MATH_TRIG_ACOS="acos",n.Msg.MATH_TRIG_ASIN="asin",n.Msg.MATH_TRIG_ATAN="atan",n.Msg.MATH_TRIG_COS="cos",n.Msg.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions",n.Msg.MATH_TRIG_SIN="sin",n.Msg.MATH_TRIG_TAN="tan",n.Msg.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.",n.Msg.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.",n.Msg.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.",n.Msg.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).",n.Msg.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).",n.Msg.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).",n.Msg.NEW_COLOUR_VARIABLE="Create colour variable...",n.Msg.NEW_NUMBER_VARIABLE="Create number variable...",n.Msg.NEW_STRING_VARIABLE="Create string variable...",n.Msg.NEW_VARIABLE="Create variable...",n.Msg.NEW_VARIABLE_TITLE="New variable name:",n.Msg.NEW_VARIABLE_TYPE_TITLE="New variable type:",n.Msg.ORDINAL_NUMBER_SUFFIX="",n.Msg.PROCEDURES_ALLOW_STATEMENTS="allow statements",n.Msg.PROCEDURES_BEFORE_PARAMS="with:",n.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",n.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="Run the user-defined function '%1'.",n.Msg.PROCEDURES_CALLRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",n.Msg.PROCEDURES_CALLRETURN_TOOLTIP="Run the user-defined function '%1' and use its output.",n.Msg.PROCEDURES_CALL_BEFORE_PARAMS="with:",n.Msg.PROCEDURES_CREATE_DO="Create '%1'",n.Msg.PROCEDURES_DEFNORETURN_COMMENT="Describe this function...",n.Msg.PROCEDURES_DEFNORETURN_DO="",n.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",n.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="do something",n.Msg.PROCEDURES_DEFNORETURN_TITLE="to",n.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="Creates a function with no output.",n.Msg.PROCEDURES_DEFRETURN_HELPURL="https://en.wikipedia.org/wiki/Subroutine",n.Msg.PROCEDURES_DEFRETURN_RETURN="return",n.Msg.PROCEDURES_DEFRETURN_TOOLTIP="Creates a function with an output.",n.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="Warning: This function has duplicate parameters.",n.Msg.PROCEDURES_HIGHLIGHT_DEF="Highlight function definition",n.Msg.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause",n.Msg.PROCEDURES_IFRETURN_TOOLTIP="If a value is true, then return a second value.",n.Msg.PROCEDURES_IFRETURN_WARNING="Warning: This block may be used only within a function definition.",n.Msg.PROCEDURES_MUTATORARG_TITLE="input name:",n.Msg.PROCEDURES_MUTATORARG_TOOLTIP="Add an input to the function.",n.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="inputs",n.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="Add, remove, or reorder inputs to this function.",n.Msg.REDO="Redo",n.Msg.REMOVE_COMMENT="Remove Comment",n.Msg.RENAME_VARIABLE="Rename variable...",n.Msg.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:",n.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",n.Msg.TEXT_APPEND_TITLE="to %1 append text %2",n.Msg.TEXT_APPEND_TOOLTIP="Append some text to variable '%1'.",n.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",n.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="to lower case",n.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="to Title Case",n.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="to UPPER CASE",n.Msg.TEXT_CHANGECASE_TOOLTIP="Return a copy of the text in a different case.",n.Msg.TEXT_CHARAT_FIRST="get first letter",n.Msg.TEXT_CHARAT_FROM_END="get letter # from end",n.Msg.TEXT_CHARAT_FROM_START="get letter #",n.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",n.Msg.TEXT_CHARAT_LAST="get last letter",n.Msg.TEXT_CHARAT_RANDOM="get random letter",n.Msg.TEXT_CHARAT_TAIL="",n.Msg.TEXT_CHARAT_TITLE="in text %1 %2",n.Msg.TEXT_CHARAT_TOOLTIP="Returns the letter at the specified position.",n.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",n.Msg.TEXT_COUNT_MESSAGE0="count %1 in %2",n.Msg.TEXT_COUNT_TOOLTIP="Count how many times some text occurs within some other text.",n.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="Add an item to the text.",n.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="join",n.Msg.TEXT_CREATE_JOIN_TOOLTIP="Add, remove, or reorder sections to reconfigure this text block.",n.Msg.TEXT_GET_SUBSTRING_END_FROM_END="to letter # from end",n.Msg.TEXT_GET_SUBSTRING_END_FROM_START="to letter #",n.Msg.TEXT_GET_SUBSTRING_END_LAST="to last letter",n.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",n.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="in text",n.Msg.TEXT_GET_SUBSTRING_START_FIRST="get substring from first letter",n.Msg.TEXT_GET_SUBSTRING_START_FROM_END="get substring from letter # from end",n.Msg.TEXT_GET_SUBSTRING_START_FROM_START="get substring from letter #",n.Msg.TEXT_GET_SUBSTRING_TAIL="",n.Msg.TEXT_GET_SUBSTRING_TOOLTIP="Returns a specified portion of the text.",n.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",n.Msg.TEXT_INDEXOF_OPERATOR_FIRST="find first occurrence of text",n.Msg.TEXT_INDEXOF_OPERATOR_LAST="find last occurrence of text",n.Msg.TEXT_INDEXOF_TITLE="in text %1 %2 %3",n.Msg.TEXT_INDEXOF_TOOLTIP="Returns the index of the first/last occurrence of the first text in the second text. Returns %1 if text is not found.",n.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",n.Msg.TEXT_ISEMPTY_TITLE="%1 is empty",n.Msg.TEXT_ISEMPTY_TOOLTIP="Returns true if the provided text is empty.",n.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",n.Msg.TEXT_JOIN_TITLE_CREATEWITH="create text with",n.Msg.TEXT_JOIN_TOOLTIP="Create a piece of text by joining together any number of items.",n.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",n.Msg.TEXT_LENGTH_TITLE="length of %1",n.Msg.TEXT_LENGTH_TOOLTIP="Returns the number of letters (including spaces) in the provided text.",n.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",n.Msg.TEXT_PRINT_TITLE="print %1",n.Msg.TEXT_PRINT_TOOLTIP="Print the specified text, number or other value.",n.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",n.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="Prompt for user for a number.",n.Msg.TEXT_PROMPT_TOOLTIP_TEXT="Prompt for user for some text.",n.Msg.TEXT_PROMPT_TYPE_NUMBER="prompt for number with message",n.Msg.TEXT_PROMPT_TYPE_TEXT="prompt for text with message",n.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",n.Msg.TEXT_REPLACE_MESSAGE0="replace %1 with %2 in %3",n.Msg.TEXT_REPLACE_TOOLTIP="Replace all occurances of some text within some other text.",n.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",n.Msg.TEXT_REVERSE_MESSAGE0="reverse %1",n.Msg.TEXT_REVERSE_TOOLTIP="Reverses the order of the characters in the text.",n.Msg.TEXT_TEXT_HELPURL="https://en.wikipedia.org/wiki/String_(computer_science)",n.Msg.TEXT_TEXT_TOOLTIP="A letter, word, or line of text.",n.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",n.Msg.TEXT_TRIM_OPERATOR_BOTH="trim spaces from both sides of",n.Msg.TEXT_TRIM_OPERATOR_LEFT="trim spaces from left side of",n.Msg.TEXT_TRIM_OPERATOR_RIGHT="trim spaces from right side of",n.Msg.TEXT_TRIM_TOOLTIP="Return a copy of the text with spaces removed from one or both ends.",n.Msg.TODAY="Today",n.Msg.UNDO="Undo",n.Msg.UNNAMED_KEY="unnamed",n.Msg.VARIABLES_DEFAULT_NAME="item",n.Msg.VARIABLES_GET_CREATE_SET="Create 'set %1'",n.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",n.Msg.VARIABLES_GET_TOOLTIP="Returns the value of this variable.",n.Msg.VARIABLES_SET="set %1 to %2",n.Msg.VARIABLES_SET_CREATE_GET="Create 'get %1'",n.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",n.Msg.VARIABLES_SET_TOOLTIP="Sets this variable to be equal to the input.",n.Msg.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.",n.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.",n.Msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER="A variable named '%1' already exists as a parameter in the procedure '%2'.",n.Msg.WORKSPACE_ARIA_LABEL="Blockly Workspace",n.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...",n.Msg.CONTROLS_FOREACH_INPUT_DO=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.CONTROLS_FOR_INPUT_DO=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=n.Msg.CONTROLS_IF_MSG_ELSEIF,n.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=n.Msg.CONTROLS_IF_MSG_ELSE,n.Msg.CONTROLS_IF_IF_TITLE_IF=n.Msg.CONTROLS_IF_MSG_IF,n.Msg.CONTROLS_IF_MSG_THEN=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.LISTS_CREATE_WITH_ITEM_TITLE=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.LISTS_GET_INDEX_HELPURL=n.Msg.LISTS_INDEX_OF_HELPURL,n.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.MATH_CHANGE_TITLE_ITEM=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.PROCEDURES_DEFRETURN_COMMENT=n.Msg.PROCEDURES_DEFNORETURN_COMMENT,n.Msg.PROCEDURES_DEFRETURN_DO=n.Msg.PROCEDURES_DEFNORETURN_DO,n.Msg.PROCEDURES_DEFRETURN_PROCEDURE=n.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,n.Msg.PROCEDURES_DEFRETURN_TITLE=n.Msg.PROCEDURES_DEFNORETURN_TITLE,n.Msg.TEXT_APPEND_VARIABLE=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.LOGIC_HUE="210",n.Msg.LOOPS_HUE="120",n.Msg.MATH_HUE="230",n.Msg.TEXTS_HUE="160",n.Msg.LISTS_HUE="260",n.Msg.COLOUR_HUE="20",n.Msg.VARIABLES_HUE="330",n.Msg.VARIABLES_DYNAMIC_HUE="310",n.Msg.PROCEDURES_HUE="290",n.Msg})}(lT)),lT.exports}var aT={exports:{}},uT={exports:{}},NS;function H4(){return NS||(NS=1,function(e,o){(function(n,i){e.exports=i(Hh())})(Wn,function(n){var i=n.__namespace__,l=i.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"colour_picker",message0:"%1",args0:[{type:"field_colour",name:"COLOUR",colour:"#ff0000"}],output:"Colour",helpUrl:"%{BKY_COLOUR_PICKER_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_PICKER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"colour_random",message0:"%{BKY_COLOUR_RANDOM_TITLE}",output:"Colour",helpUrl:"%{BKY_COLOUR_RANDOM_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RANDOM_TOOLTIP}"},{type:"colour_rgb",message0:"%{BKY_COLOUR_RGB_TITLE} %{BKY_COLOUR_RGB_RED} %1 %{BKY_COLOUR_RGB_GREEN} %2 %{BKY_COLOUR_RGB_BLUE} %3",args0:[{type:"input_value",name:"RED",check:"Number",align:"RIGHT"},{type:"input_value",name:"GREEN",check:"Number",align:"RIGHT"},{type:"input_value",name:"BLUE",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_RGB_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_RGB_TOOLTIP}"},{type:"colour_blend",message0:"%{BKY_COLOUR_BLEND_TITLE} %{BKY_COLOUR_BLEND_COLOUR1} %1 %{BKY_COLOUR_BLEND_COLOUR2} %2 %{BKY_COLOUR_BLEND_RATIO} %3",args0:[{type:"input_value",name:"COLOUR1",check:"Colour",align:"RIGHT"},{type:"input_value",name:"COLOUR2",check:"Colour",align:"RIGHT"},{type:"input_value",name:"RATIO",check:"Number",align:"RIGHT"}],output:"Colour",helpUrl:"%{BKY_COLOUR_BLEND_HELPURL}",style:"colour_blocks",tooltip:"%{BKY_COLOUR_BLEND_TOOLTIP}"}]);i.defineBlocks$$module$build$src$core$common(l);var u={};u.blocks=l;var a=i.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"lists_create_empty",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE}",output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_CREATE_EMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_CREATE_EMPTY_HELPURL}"},{type:"lists_repeat",message0:"%{BKY_LISTS_REPEAT_TITLE}",args0:[{type:"input_value",name:"ITEM"},{type:"input_value",name:"NUM",check:"Number"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_LISTS_REPEAT_HELPURL}"},{type:"lists_reverse",message0:"%{BKY_LISTS_REVERSE_MESSAGE0}",args0:[{type:"input_value",name:"LIST",check:"Array"}],output:"Array",inputsInline:!0,style:"list_blocks",tooltip:"%{BKY_LISTS_REVERSE_TOOLTIP}",helpUrl:"%{BKY_LISTS_REVERSE_HELPURL}"},{type:"lists_isEmpty",message0:"%{BKY_LISTS_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"list_blocks",tooltip:"%{BKY_LISTS_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_LISTS_ISEMPTY_HELPURL}"},{type:"lists_length",message0:"%{BKY_LISTS_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"list_blocks",tooltip:"%{BKY_LISTS_LENGTH_TOOLTIP}",helpUrl:"%{BKY_LISTS_LENGTH_HELPURL}"}]),h={init:function(){this.setHelpUrl(i.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_HELPURL),this.setStyle("list_blocks"),this.itemCount_=3,this.updateShape_(),this.setOutput(!0,"Array"),this.setMutator(new i.MutatorIcon$$module$build$src$core$icons$mutator_icon(["lists_create_with_item"],this)),this.setTooltip(i.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_TOOLTIP)},mutationToDom:function(){const k=i.createElement$$module$build$src$core$utils$xml("mutation");return k.setAttribute("items",String(this.itemCount_)),k},domToMutation:function(k){if(k=k.getAttribute("items"),!k)throw new TypeError("element did not have items");this.itemCount_=parseInt(k,10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(k){this.itemCount_=k.itemCount,this.updateShape_()},decompose:function(k){const de=k.newBlock("lists_create_with_container");de.initSvg();let Ce=de.getInput("STACK").connection;for(let Te=0;Te<this.itemCount_;Te++){const Ve=k.newBlock("lists_create_with_item");if(Ve.initSvg(),!Ve.previousConnection)throw Error("itemBlock has no previousConnection");Ce.connect(Ve.previousConnection),Ce=Ve.nextConnection}return de},compose:function(k){var de=k.getInputTargetBlock("STACK");for(k=[];de;)de.isInsertionMarker()||k.push(de.valueConnection_),de=de.getNextBlock();for(de=0;de<this.itemCount_;de++){const Ce=this.getInput("ADD"+de).connection.targetConnection;Ce&&k.indexOf(Ce)===-1&&Ce.disconnect()}for(this.itemCount_=k.length,this.updateShape_(),de=0;de<this.itemCount_;de++){let Ce;(Ce=k[de])==null||Ce.reconnect(this,"ADD"+de)}},saveConnections:function(k){k=k.getInputTargetBlock("STACK");let de=0;for(;k;){if(k.isInsertionMarker()){k=k.getNextBlock();continue}const Ce=this.getInput("ADD"+de);let Te;k.valueConnection_=(Te=Ce)==null?void 0:Te.connection.targetConnection,k=k.getNextBlock(),de++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(i.Msg$$module$build$src$core$msg.LISTS_CREATE_EMPTY_TITLE);for(var k=0;k<this.itemCount_;k++)if(!this.getInput("ADD"+k)){const de=this.appendValueInput("ADD"+k).setAlign(i.Align$$module$build$src$core$inputs$align.RIGHT);k===0&&de.appendField(i.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_INPUT_WITH)}for(k=this.itemCount_;this.getInput("ADD"+k);k++)this.removeInput("ADD"+k)}};a.lists_create_with=h;var p={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(i.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD),this.appendStatementInput("STACK"),this.setTooltip(i.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP),this.contextMenu=!1}};a.lists_create_with_container=p;var m={init:function(){this.setStyle("list_blocks"),this.appendDummyInput().appendField(i.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TITLE),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(i.Msg$$module$build$src$core$msg.LISTS_CREATE_WITH_ITEM_TOOLTIP),this.contextMenu=!1}};a.lists_create_with_item=m;var $={init:function(){var k=[[i.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_FIRST,"FIRST"],[i.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_LAST,"LAST"]];if(this.setHelpUrl(i.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_HELPURL),this.setStyle("list_blocks"),this.setOutput(!0,"Number"),this.appendValueInput("VALUE").setCheck("Array").appendField(i.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_INPUT_IN_LIST),k=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:k}),!k)throw Error("field_dropdown not found");this.appendValueInput("FIND").appendField(k,"END"),this.setInputsInline(!0),this.setTooltip(()=>i.Msg$$module$build$src$core$msg.LISTS_INDEX_OF_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"0":"-1"))}};a.lists_indexOf=$;var T={init:function(){var k=[[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET,"GET"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_GET_REMOVE,"GET_REMOVE"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_REMOVE,"REMOVE"]];this.WHERE_OPTIONS=[[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,"FIRST"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,"LAST"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_HELPURL),this.setStyle("list_blocks"),k=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:k}),k.setValidator(function(de){de=de==="REMOVE",this.getSourceBlock().updateStatement_(de)}),this.appendValueInput("VALUE").setCheck("Array").appendField(i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_INPUT_IN_LIST),this.appendDummyInput().appendField(k,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.appendDummyInput("TAIL").appendField(i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL),this.setInputsInline(!0),this.setOutput(!0),this.updateAt_(!0),this.setTooltip(()=>{const de=this.getFieldValue("MODE"),Ce=this.getFieldValue("WHERE");let Te="";switch(de+" "+Ce){case"GET FROM_START":case"GET FROM_END":Te=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM;break;case"GET FIRST":Te=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST;break;case"GET LAST":Te=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST;break;case"GET RANDOM":Te=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM;break;case"GET_REMOVE FROM_START":case"GET_REMOVE FROM_END":Te=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM;break;case"GET_REMOVE FIRST":Te=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST;break;case"GET_REMOVE LAST":Te=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST;break;case"GET_REMOVE RANDOM":Te=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM;break;case"REMOVE FROM_START":case"REMOVE FROM_END":Te=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM;break;case"REMOVE FIRST":Te=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST;break;case"REMOVE LAST":Te=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST;break;case"REMOVE RANDOM":Te=i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM}return(Ce==="FROM_START"||Ce==="FROM_END")&&(Te+="  "+(Ce==="FROM_START"?i.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:i.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP).replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),Te})},mutationToDom:function(){const k=i.createElement$$module$build$src$core$utils$xml("mutation");k.setAttribute("statement",String(!this.outputConnection));const de=this.getInput("AT")instanceof i.ValueInput$$module$build$src$core$inputs$value_input;return k.setAttribute("at",String(de)),k},domToMutation:function(k){const de=k.getAttribute("statement")==="true";this.updateStatement_(de),k=k.getAttribute("at")!=="false",this.updateAt_(k)},saveExtraState:function(){return this.outputConnection?null:{isStatement:!0}},loadExtraState:function(k){k.isStatement?this.updateStatement_(!0):typeof k=="string"&&this.domToMutation(i.textToDom$$module$build$src$core$utils$xml(k))},updateStatement_:function(k){k!==!this.outputConnection&&(this.unplug(!0,!0),k?(this.setOutput(!1),this.setPreviousStatement(!0),this.setNextStatement(!0)):(this.setPreviousStatement(!1),this.setNextStatement(!1),this.setOutput(!0)))},updateAt_:function(k){this.removeInput("AT"),this.removeInput("ORDINAL",!0),k?(this.appendValueInput("AT").setCheck("Number"),i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");const de=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this.WHERE_OPTIONS});de.setValidator(function(Ce){const Te=Ce==="FROM_START"||Ce==="FROM_END";if(Te!==k){const Ve=this.getSourceBlock();return Ve.updateAt_(Te),Ve.setFieldValue(Ce,"WHERE"),null}}),this.getInput("AT").appendField(de,"WHERE"),i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_TAIL&&this.moveInputBefore("TAIL",null)}};a.lists_getIndex=T;var w={init:function(){var k=[[i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_SET,"SET"],[i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INSERT,"INSERT"]];this.WHERE_OPTIONS=[[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_START,"FROM_START"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FROM_END,"FROM_END"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_FIRST,"FIRST"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_LAST,"LAST"],[i.Msg$$module$build$src$core$msg.LISTS_GET_INDEX_RANDOM,"RANDOM"]],this.setHelpUrl(i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_IN_LIST),k=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:k}),this.appendDummyInput().appendField(k,"MODE").appendField("","SPACE"),this.appendDummyInput("AT"),this.appendValueInput("TO").appendField(i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_INPUT_TO),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip(i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP),this.updateAt_(!0),this.setTooltip(()=>{const de=this.getFieldValue("MODE"),Ce=this.getFieldValue("WHERE");let Te="";switch(de+" "+Ce){case"SET FROM_START":case"SET FROM_END":Te=i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM;break;case"SET FIRST":Te=i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST;break;case"SET LAST":Te=i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST;break;case"SET RANDOM":Te=i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM;break;case"INSERT FROM_START":case"INSERT FROM_END":Te=i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM;break;case"INSERT FIRST":Te=i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST;break;case"INSERT LAST":Te=i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST;break;case"INSERT RANDOM":Te=i.Msg$$module$build$src$core$msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM}return(Ce==="FROM_START"||Ce==="FROM_END")&&(Te+="  "+i.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),Te})},mutationToDom:function(){const k=i.createElement$$module$build$src$core$utils$xml("mutation"),de=this.getInput("AT")instanceof i.ValueInput$$module$build$src$core$inputs$value_input;return k.setAttribute("at",String(de)),k},domToMutation:function(k){k=k.getAttribute("at")!=="false",this.updateAt_(k)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(k){this.removeInput("AT"),this.removeInput("ORDINAL",!0),k?(this.appendValueInput("AT").setCheck("Number"),i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT");const de=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this.WHERE_OPTIONS});de.setValidator(function(Ce){const Te=Ce==="FROM_START"||Ce==="FROM_END";if(Te!==k){const Ve=this.getSourceBlock();return Ve.updateAt_(Te),Ve.setFieldValue(Ce,"WHERE"),null}}),this.moveInputBefore("AT","TO"),this.getInput("ORDINAL")&&this.moveInputBefore("ORDINAL","TO"),this.getInput("AT").appendField(de,"WHERE")}};a.lists_setIndex=w;var A={init:function(){this.WHERE_OPTIONS_1=[[i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_START,"FROM_START"],[i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FROM_END,"FROM_END"],[i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_START,"FROM_START"],[i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_FROM_END,"FROM_END"],[i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_END_LAST,"LAST"]],this.setHelpUrl(i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("LIST").setCheck("Array").appendField(i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_INPUT_IN_LIST),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.appendDummyInput("TAIL").appendField(i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TOOLTIP)},mutationToDom:function(){const k=i.createElement$$module$build$src$core$utils$xml("mutation");var de=this.getInput("AT1")instanceof i.ValueInput$$module$build$src$core$inputs$value_input;return k.setAttribute("at1",String(de)),de=this.getInput("AT2")instanceof i.ValueInput$$module$build$src$core$inputs$value_input,k.setAttribute("at2",String(de)),k},domToMutation:function(k){const de=k.getAttribute("at1")==="true";k=k.getAttribute("at2")==="true",this.updateAt_(1,de),this.updateAt_(2,k)},saveExtraState:function(){return null},loadExtraState:function(){},updateAt_:function(k,de){this.removeInput("AT"+k),this.removeInput("ORDINAL"+k,!0),de?(this.appendValueInput("AT"+k).setCheck("Number"),i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+k).appendField(i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+k);const Ce=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this["WHERE_OPTIONS_"+k]});Ce.setValidator(function(Te){const Ve=Te==="FROM_START"||Te==="FROM_END";if(Ve!==de){const tt=this.getSourceBlock();return tt.updateAt_(k,Ve),tt.setFieldValue(Te,"WHERE"+k),null}}),this.getInput("AT"+k).appendField(Ce,"WHERE"+k),k===1&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2")),i.Msg$$module$build$src$core$msg.LISTS_GET_SUBLIST_TAIL&&this.moveInputBefore("TAIL",null)}};a.lists_getSublist=A,a.lists_sort={init:function(){this.jsonInit({message0:"%{BKY_LISTS_SORT_TITLE}",args0:[{type:"field_dropdown",name:"TYPE",options:[["%{BKY_LISTS_SORT_TYPE_NUMERIC}","NUMERIC"],["%{BKY_LISTS_SORT_TYPE_TEXT}","TEXT"],["%{BKY_LISTS_SORT_TYPE_IGNORECASE}","IGNORE_CASE"]]},{type:"field_dropdown",name:"DIRECTION",options:[["%{BKY_LISTS_SORT_ORDER_ASCENDING}","1"],["%{BKY_LISTS_SORT_ORDER_DESCENDING}","-1"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Array",style:"list_blocks",tooltip:"%{BKY_LISTS_SORT_TOOLTIP}",helpUrl:"%{BKY_LISTS_SORT_HELPURL}"})}},a.lists_split={init:function(){const k=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:[[i.Msg$$module$build$src$core$msg.LISTS_SPLIT_LIST_FROM_TEXT,"SPLIT"],[i.Msg$$module$build$src$core$msg.LISTS_SPLIT_TEXT_FROM_LIST,"JOIN"]]});if(!k)throw Error("field_dropdown not found");k.setValidator(de=>{this.updateType_(de)}),this.setHelpUrl(i.Msg$$module$build$src$core$msg.LISTS_SPLIT_HELPURL),this.setStyle("list_blocks"),this.appendValueInput("INPUT").setCheck("String").appendField(k,"MODE"),this.appendValueInput("DELIM").setCheck("String").appendField(i.Msg$$module$build$src$core$msg.LISTS_SPLIT_WITH_DELIMITER),this.setInputsInline(!0),this.setOutput(!0,"Array"),this.setTooltip(()=>{const de=this.getFieldValue("MODE");if(de==="SPLIT")return i.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_SPLIT;if(de==="JOIN")return i.Msg$$module$build$src$core$msg.LISTS_SPLIT_TOOLTIP_JOIN;throw Error("Unknown mode: "+de)})},updateType_:function(k){if(this.getFieldValue("MODE")!==k){const de=this.getInput("INPUT").connection;de.setShadowDom(null);const Ce=de.targetBlock();Ce&&(de.disconnect(),Ce.isShadow()?Ce.dispose(!1):this.bumpNeighbours())}k==="SPLIT"?(this.outputConnection.setCheck("Array"),this.getInput("INPUT").setCheck("String")):(this.outputConnection.setCheck("String"),this.getInput("INPUT").setCheck("Array"))},mutationToDom:function(){const k=i.createElement$$module$build$src$core$utils$xml("mutation");return k.setAttribute("mode",this.getFieldValue("MODE")),k},domToMutation:function(k){this.updateType_(k.getAttribute("mode"))},saveExtraState:function(){return null},loadExtraState:function(){}},i.defineBlocks$$module$build$src$core$common(a);var R={};R.blocks=a;var L=i.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["≠","NEQ"],["‏<","LT"],["‏≤","LTE"],["‏>","GT"],["‏≥","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_null",message0:"%{BKY_LOGIC_NULL}",output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_NULL_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NULL_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]},{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]),M={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"};i.register$$module$build$src$core$extensions("logic_op_tooltip",i.buildTooltipForDropdown$$module$build$src$core$extensions("OP",M));var B={elseifCount_:0,elseCount_:0,mutationToDom:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const k=i.createElement$$module$build$src$core$utils$xml("mutation");return this.elseifCount_&&k.setAttribute("elseif",String(this.elseifCount_)),this.elseCount_&&k.setAttribute("else","1"),k},domToMutation:function(k){this.elseifCount_=parseInt(k.getAttribute("elseif"),10)||0,this.elseCount_=parseInt(k.getAttribute("else"),10)||0,this.rebuildShape_()},saveExtraState:function(){if(!this.elseifCount_&&!this.elseCount_)return null;const k=Object.create(null);return this.elseifCount_&&(k.elseIfCount=this.elseifCount_),this.elseCount_&&(k.hasElse=!0),k},loadExtraState:function(k){this.elseifCount_=k.elseIfCount||0,this.elseCount_=k.hasElse?1:0,this.updateShape_()},decompose:function(k){const de=k.newBlock("controls_if_if");de.initSvg();let Ce=de.nextConnection;for(let Te=1;Te<=this.elseifCount_;Te++){const Ve=k.newBlock("controls_if_elseif");Ve.initSvg(),Ce.connect(Ve.previousConnection),Ce=Ve.nextConnection}return this.elseCount_&&(k=k.newBlock("controls_if_else"),k.initSvg(),Ce.connect(k.previousConnection)),de},compose:function(k){k=k.nextConnection.targetBlock(),this.elseCount_=this.elseifCount_=0;const de=[null],Ce=[null];let Te=null;for(;k;){if(!k.isInsertionMarker())switch(k.type){case"controls_if_elseif":this.elseifCount_++,de.push(k.valueConnection_),Ce.push(k.statementConnection_);break;case"controls_if_else":this.elseCount_++,Te=k.statementConnection_;break;default:throw TypeError("Unknown block type: "+k.type)}k=k.getNextBlock()}this.updateShape_(),this.reconnectChildBlocks_(de,Ce,Te)},saveConnections:function(k){k=k.nextConnection.targetBlock();let de=1;for(;k;){if(!k.isInsertionMarker())switch(k.type){case"controls_if_elseif":var Ce=this.getInput("IF"+de);const Te=this.getInput("DO"+de);k.valueConnection_=Ce&&Ce.connection.targetConnection,k.statementConnection_=Te&&Te.connection.targetConnection,de++;break;case"controls_if_else":Ce=this.getInput("ELSE"),k.statementConnection_=Ce&&Ce.connection.targetConnection;break;default:throw TypeError("Unknown block type: "+k.type)}k=k.getNextBlock()}},rebuildShape_:function(){const k=[null],de=[null];let Ce=null;this.getInput("ELSE")&&(Ce=this.getInput("ELSE").connection.targetConnection);for(let Te=1;this.getInput("IF"+Te);Te++){const Ve=this.getInput("IF"+Te),tt=this.getInput("DO"+Te);k.push(Ve.connection.targetConnection),de.push(tt.connection.targetConnection)}this.updateShape_(),this.reconnectChildBlocks_(k,de,Ce)},updateShape_:function(){this.getInput("ELSE")&&this.removeInput("ELSE");for(var k=1;this.getInput("IF"+k);k++)this.removeInput("IF"+k),this.removeInput("DO"+k);for(k=1;k<=this.elseifCount_;k++)this.appendValueInput("IF"+k).setCheck("Boolean").appendField(i.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSEIF),this.appendStatementInput("DO"+k).appendField(i.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_THEN);this.elseCount_&&this.appendStatementInput("ELSE").appendField(i.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_ELSE)},reconnectChildBlocks_:function(k,de,Ce){for(let Te=1;Te<=this.elseifCount_;Te++){let Ve;(Ve=k[Te])==null||Ve.reconnect(this,"IF"+Te);let tt;(tt=de[Te])==null||tt.reconnect(this,"DO"+Te)}Ce==null||Ce.reconnect(this,"ELSE")}};i.registerMutator$$module$build$src$core$extensions("controls_if_mutator",B,null,["controls_if_elseif","controls_if_else"]);var G=function(){this.setTooltip((function(){if(this.elseifCount_||this.elseCount_){if(!this.elseifCount_&&this.elseCount_)return i.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_2;if(this.elseifCount_&&!this.elseCount_)return i.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_3;if(this.elseifCount_&&this.elseCount_)return i.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_4}else return i.Msg$$module$build$src$core$msg.CONTROLS_IF_TOOLTIP_1;return""}).bind(this))};i.register$$module$build$src$core$extensions("controls_if_tooltip",G);var j={onchange:function(k){this.prevBlocks_||(this.prevBlocks_=[null,null]);var de=this.getInputTargetBlock("A");const Ce=this.getInputTargetBlock("B");de&&Ce&&!this.workspace.connectionChecker.doTypeChecks(de.outputConnection,Ce.outputConnection)&&(i.setGroup$$module$build$src$core$events$utils(k.group),k=this.prevBlocks_[0],k!==de&&(de.unplug(),!k||k.isDisposed()||k.isShadow()||this.getInput("A").connection.connect(k.outputConnection)),de=this.prevBlocks_[1],de!==Ce&&(Ce.unplug(),!de||de.isDisposed()||de.isShadow()||this.getInput("B").connection.connect(de.outputConnection)),this.bumpNeighbours(),i.setGroup$$module$build$src$core$events$utils(!1)),this.prevBlocks_[0]=this.getInputTargetBlock("A"),this.prevBlocks_[1]=this.getInputTargetBlock("B")}},F=function(){this.mixin(j)};i.register$$module$build$src$core$extensions("logic_compare",F);var x={prevParentConnection_:null,onchange:function(k){const de=this.getInputTargetBlock("THEN"),Ce=this.getInputTargetBlock("ELSE"),Te=this.outputConnection.targetConnection;if((de||Ce)&&Te)for(let Ve=0;2>Ve;Ve++){const tt=Ve===1?de:Ce;tt&&!tt.workspace.connectionChecker.doTypeChecks(tt.outputConnection,Te)&&(i.setGroup$$module$build$src$core$events$utils(k.group),Te===this.prevParentConnection_?(this.unplug(),Te.getSourceBlock().bumpNeighbours()):(tt.unplug(),tt.bumpNeighbours()),i.setGroup$$module$build$src$core$events$utils(!1))}this.prevParentConnection_=Te}};i.registerMixin$$module$build$src$core$extensions("logic_ternary",x),i.defineBlocks$$module$build$src$core$common(L);var D=i.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"controls_repeat_ext",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"input_value",name:"TIMES",check:"Number"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_repeat",message0:"%{BKY_CONTROLS_REPEAT_TITLE}",args0:[{type:"field_number",name:"TIMES",value:10,min:0,precision:1}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",tooltip:"%{BKY_CONTROLS_REPEAT_TOOLTIP}",helpUrl:"%{BKY_CONTROLS_REPEAT_HELPURL}"},{type:"controls_whileUntil",message0:"%1 %2",args0:[{type:"field_dropdown",name:"MODE",options:[["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_WHILE}","WHILE"],["%{BKY_CONTROLS_WHILEUNTIL_OPERATOR_UNTIL}","UNTIL"]]},{type:"input_value",name:"BOOL",check:"Boolean"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_WHILEUNTIL_HELPURL}",extensions:["controls_whileUntil_tooltip"]},{type:"controls_for",message0:"%{BKY_CONTROLS_FOR_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"FROM",check:"Number",align:"RIGHT"},{type:"input_value",name:"TO",check:"Number",align:"RIGHT"},{type:"input_value",name:"BY",check:"Number",align:"RIGHT"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],inputsInline:!0,previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOR_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_for_tooltip"]},{type:"controls_forEach",message0:"%{BKY_CONTROLS_FOREACH_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:null},{type:"input_value",name:"LIST",check:"Array"}],message1:"%{BKY_CONTROLS_REPEAT_INPUT_DO} %1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FOREACH_HELPURL}",extensions:["contextMenu_newGetVariableBlock","controls_forEach_tooltip"]},{type:"controls_flow_statements",message0:"%1",args0:[{type:"field_dropdown",name:"FLOW",options:[["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK}","BREAK"],["%{BKY_CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE}","CONTINUE"]]}],previousStatement:null,style:"loop_blocks",helpUrl:"%{BKY_CONTROLS_FLOW_STATEMENTS_HELPURL}",suppressPrefixSuffix:!0,extensions:["controls_flow_tooltip","controls_flow_in_loop_check"]}]),U={WHILE:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_WHILE}",UNTIL:"%{BKY_CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL}"};i.register$$module$build$src$core$extensions("controls_whileUntil_tooltip",i.buildTooltipForDropdown$$module$build$src$core$extensions("MODE",U));var te={BREAK:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK}",CONTINUE:"%{BKY_CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE}"};i.register$$module$build$src$core$extensions("controls_flow_tooltip",i.buildTooltipForDropdown$$module$build$src$core$extensions("FLOW",te));var Y={customContextMenu:function(k){if(!this.isInFlyout){var de=this.getField("VAR").getVariable(),Ce=de.name;if(!this.isCollapsed()&&Ce!==null){de=i.generateVariableFieldDom$$module$build$src$core$variables(de);const Te=i.createElement$$module$build$src$core$utils$xml("block");Te.setAttribute("type","variables_get"),Te.appendChild(de),k.push({enabled:!0,text:i.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1",Ce),callback:i.callbackFactory$$module$build$src$core$contextmenu(this,Te)})}}}};i.registerMixin$$module$build$src$core$extensions("contextMenu_newGetVariableBlock",Y),i.register$$module$build$src$core$extensions("controls_for_tooltip",i.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOR_TOOLTIP}","VAR")),i.register$$module$build$src$core$extensions("controls_forEach_tooltip",i.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_CONTROLS_FOREACH_TOOLTIP}","VAR"));var J=new Set(["controls_repeat","controls_repeat_ext","controls_forEach","controls_for","controls_whileUntil"]),ee={getSurroundLoop:function(){let k=this;do{if(J.has(k.type))return k;k=k.getSurroundParent()}while(k);return null},onchange:function(k){var de=this.workspace;if(de.isDragging&&!de.isDragging()&&k.type===i.MOVE$$module$build$src$core$events$utils&&(de=!!this.getSurroundLoop(),this.setWarningText(de?null:i.Msg$$module$build$src$core$msg.CONTROLS_FLOW_STATEMENTS_WARNING),!this.isInFlyout)){const Ce=i.getGroup$$module$build$src$core$events$utils();i.setGroup$$module$build$src$core$events$utils(k.group),this.setEnabled(de),i.setGroup$$module$build$src$core$events$utils(Ce)}}};i.registerMixin$$module$build$src$core$extensions("controls_flow_in_loop_check",ee),i.defineBlocks$$module$build$src$core$common(D);var ue={};ue.blocks=D,ue.loopTypes=J;var oe=i.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["π","PI"],["e","E"],["φ","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(½)","SQRT1_2"],["∞","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}","RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]),X={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"};i.register$$module$build$src$core$extensions("math_op_tooltip",i.buildTooltipForDropdown$$module$build$src$core$extensions("OP",X));var K={mutationToDom:function(){const k=i.createElement$$module$build$src$core$utils$xml("mutation"),de=this.getFieldValue("PROPERTY")==="DIVISIBLE_BY";return k.setAttribute("divisor_input",String(de)),k},domToMutation:function(k){k=k.getAttribute("divisor_input")==="true",this.updateShape_(k)},updateShape_:function(k){const de=this.getInput("DIVISOR");k?de||this.appendValueInput("DIVISOR").setCheck("Number"):de&&this.removeInput("DIVISOR")}},q=function(){this.getField("PROPERTY").setValidator(function(k){k=k==="DIVISIBLE_BY",this.getSourceBlock().updateShape_(k)})};i.registerMutator$$module$build$src$core$extensions("math_is_divisibleby_mutator",K,q),i.register$$module$build$src$core$extensions("math_change_tooltip",i.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_MATH_CHANGE_TOOLTIP}","VAR"));var z={updateType_:function(k){k==="MODE"?this.outputConnection.setCheck("Array"):this.outputConnection.setCheck("Number")},mutationToDom:function(){const k=i.createElement$$module$build$src$core$utils$xml("mutation");return k.setAttribute("op",this.getFieldValue("OP")),k},domToMutation:function(k){if(k=k.getAttribute("op"),k===null)throw new TypeError("xmlElement had no op attribute");this.updateType_(k)}},ne=function(){this.getField("OP").setValidator((function(k){this.updateType_(k)}).bind(this))};i.registerMutator$$module$build$src$core$extensions("math_modes_of_list_mutator",z,ne),i.defineBlocks$$module$build$src$core$common(oe);var ge={};ge.blocks=oe;var Q={},Oe={setStatements_:function(k){this.hasStatements_!==k&&(k?(this.appendStatementInput("STACK").appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_DO),this.getInput("RETURN")&&this.moveInputBefore("STACK","RETURN")):this.removeInput("STACK",!0),this.hasStatements_=k)},updateParams_:function(){let k="";this.arguments_.length&&(k=i.Msg$$module$build$src$core$msg.PROCEDURES_BEFORE_PARAMS+" "+this.arguments_.join(", ")),i.disable$$module$build$src$core$events$utils();try{this.setFieldValue(k,"PARAMS")}finally{i.enable$$module$build$src$core$events$utils()}},mutationToDom:function(k){const de=i.createElement$$module$build$src$core$utils$xml("mutation");k&&de.setAttribute("name",this.getFieldValue("NAME"));for(let Ce=0;Ce<this.argumentVarModels_.length;Ce++){const Te=i.createElement$$module$build$src$core$utils$xml("arg"),Ve=this.argumentVarModels_[Ce];Te.setAttribute("name",Ve.name),Te.setAttribute("varid",Ve.getId()),k&&this.paramIds_&&Te.setAttribute("paramId",this.paramIds_[Ce]),de.appendChild(Te)}return this.hasStatements_||de.setAttribute("statements","false"),de},domToMutation:function(k){this.arguments_=[],this.argumentVarModels_=[];for(let Ce=0,Te;Te=k.childNodes[Ce];Ce++)if(Te.nodeName.toLowerCase()==="arg"){var de=Te;const Ve=de.getAttribute("name");de=de.getAttribute("varid")||de.getAttribute("varId"),this.arguments_.push(Ve),de=i.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,de,Ve,""),de!==null?this.argumentVarModels_.push(de):console.log(`Failed to create a variable named "${Ve}", ignoring.`)}this.updateParams_(),i.mutateCallers$$module$build$src$core$procedures(this),this.setStatements_(k.getAttribute("statements")!=="false")},saveExtraState:function(){if(!this.argumentVarModels_.length&&this.hasStatements_)return null;const k=Object.create(null);if(this.argumentVarModels_.length){k.params=[];for(let de=0;de<this.argumentVarModels_.length;de++)k.params.push({name:this.argumentVarModels_[de].name,id:this.argumentVarModels_[de].getId()})}return this.hasStatements_||(k.hasStatements=!1),k},loadExtraState:function(k){if(this.arguments_=[],this.argumentVarModels_=[],k.params)for(let Ce=0;Ce<k.params.length;Ce++){var de=k.params[Ce];de=i.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,de.id,de.name,""),this.arguments_.push(de.name),this.argumentVarModels_.push(de)}this.updateParams_(),i.mutateCallers$$module$build$src$core$procedures(this),this.setStatements_(k.hasStatements!==!1)},decompose:function(k){const de=i.createElement$$module$build$src$core$utils$xml("block");de.setAttribute("type","procedures_mutatorcontainer");var Ce=i.createElement$$module$build$src$core$utils$xml("statement");Ce.setAttribute("name","STACK"),de.appendChild(Ce);for(let Ve=0;Ve<this.arguments_.length;Ve++){const tt=i.createElement$$module$build$src$core$utils$xml("block");tt.setAttribute("type","procedures_mutatorarg");var Te=i.createElement$$module$build$src$core$utils$xml("field");Te.setAttribute("name","NAME");const Et=i.createTextNode$$module$build$src$core$utils$xml(this.arguments_[Ve]);Te.appendChild(Et),tt.appendChild(Te),Te=i.createElement$$module$build$src$core$utils$xml("next"),tt.appendChild(Te),Ce.appendChild(tt),Ce=Te}return k=i.domToBlock$$module$build$src$core$xml(de,k),this.type==="procedures_defreturn"?k.setFieldValue(this.hasStatements_,"STATEMENTS"):k.removeInput("STATEMENT_INPUT"),i.mutateCallers$$module$build$src$core$procedures(this),k},compose:function(k){this.arguments_=[],this.paramIds_=[],this.argumentVarModels_=[];let de=k.getInputTargetBlock("STACK");for(;de&&!de.isInsertionMarker();){var Ce=de.getFieldValue("NAME");this.arguments_.push(Ce),Ce=this.workspace.getVariable(Ce,""),this.argumentVarModels_.push(Ce),this.paramIds_.push(de.id),de=de.nextConnection&&de.nextConnection.targetBlock()}if(this.updateParams_(),i.mutateCallers$$module$build$src$core$procedures(this),k=k.getFieldValue("STATEMENTS"),k!==null&&(k=k==="TRUE",this.hasStatements_!==k))if(k){this.setStatements_(!0);var Te;(Te=this.statementConnection_)==null||Te.reconnect(this,"STACK"),this.statementConnection_=null}else Te=this.getInput("STACK").connection,(this.statementConnection_=Te.targetConnection)&&(Te=Te.targetBlock(),Te.unplug(),Te.bumpNeighbours()),this.setStatements_(!1)},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},renameVarById:function(k,de){var Ce=this.workspace.getVariableById(k);if(Ce.type===""){Ce=Ce.name,de=this.workspace.getVariableById(de);var Te=!1;for(let Ve=0;Ve<this.argumentVarModels_.length;Ve++)this.argumentVarModels_[Ve].getId()===k&&(this.arguments_[Ve]=de.name,this.argumentVarModels_[Ve]=de,Te=!0);Te&&(this.displayRenamedVar_(Ce,de.name),i.mutateCallers$$module$build$src$core$procedures(this))}},updateVarName:function(k){const de=k.name;let Ce=!1,Te;for(let Ve=0;Ve<this.argumentVarModels_.length;Ve++)this.argumentVarModels_[Ve].getId()===k.getId()&&(Te=this.arguments_[Ve],this.arguments_[Ve]=de,Ce=!0);Ce&&(this.displayRenamedVar_(Te,de),i.mutateCallers$$module$build$src$core$procedures(this))},displayRenamedVar_:function(k,de){this.updateParams_();var Ce=this.getIcon(i.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE);if(Ce&&Ce.bubbleIsVisible()){Ce=Ce.getWorkspace().getAllBlocks(!1);for(let Te=0,Ve;Ve=Ce[Te];Te++)Ve.type==="procedures_mutatorarg"&&i.Names$$module$build$src$core$names.equals(k,Ve.getFieldValue("NAME"))&&Ve.setFieldValue(de,"NAME")}},customContextMenu:function(k){if(!this.isInFlyout){var de=this.getFieldValue("NAME"),Ce=i.createElement$$module$build$src$core$utils$xml("mutation");Ce.setAttribute("name",de);for(var Te=0;Te<this.arguments_.length;Te++){var Ve=i.createElement$$module$build$src$core$utils$xml("arg");Ve.setAttribute("name",this.arguments_[Te]),Ce.appendChild(Ve)}if(Te=i.createElement$$module$build$src$core$utils$xml("block"),Te.setAttribute("type",this.callType_),Te.appendChild(Ce),k.push({enabled:!0,text:i.Msg$$module$build$src$core$msg.PROCEDURES_CREATE_DO.replace("%1",de),callback:i.callbackFactory$$module$build$src$core$contextmenu(this,Te)}),!this.isCollapsed())for(de=0;de<this.argumentVarModels_.length;de++)Ce=this.argumentVarModels_[de],Te=i.generateVariableFieldDom$$module$build$src$core$variables(Ce),Ve=i.createElement$$module$build$src$core$utils$xml("block"),Ve.setAttribute("type","variables_get"),Ve.appendChild(Te),k.push({enabled:!0,text:i.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET.replace("%1",Ce.name),callback:i.callbackFactory$$module$build$src$core$contextmenu(this,Ve)})}}};Q.procedures_defnoreturn=Object.assign({},Oe,{init:function(){var k=i.findLegalName$$module$build$src$core$procedures("",this);k=i.fromJson$$module$build$src$core$field_registry({type:"field_input",text:k}),k.setValidator(i.rename$$module$build$src$core$procedures),k.setSpellcheck(!1),this.appendDummyInput().appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TITLE).appendField(k,"NAME").appendField("","PARAMS"),this.setMutator(new i.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&i.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT&&this.setCommentText(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_TOOLTIP),this.setHelpUrl(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!1]},callType_:"procedures_callnoreturn"}),Q.procedures_defreturn=Object.assign({},Oe,{init:function(){var k=i.findLegalName$$module$build$src$core$procedures("",this);k=i.fromJson$$module$build$src$core$field_registry({type:"field_input",text:k}),k.setValidator(i.rename$$module$build$src$core$procedures),k.setSpellcheck(!1),this.appendDummyInput().appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TITLE).appendField(k,"NAME").appendField("","PARAMS"),this.appendValueInput("RETURN").setAlign(i.Align$$module$build$src$core$inputs$input.RIGHT).appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.setMutator(new i.MutatorIcon$$module$build$src$core$icons$mutator_icon(["procedures_mutatorarg"],this)),(this.workspace.options.comments||this.workspace.options.parentWorkspace&&this.workspace.options.parentWorkspace.options.comments)&&i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT&&this.setCommentText(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_COMMENT),this.setStyle("procedure_blocks"),this.setTooltip(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_TOOLTIP),this.setHelpUrl(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.setStatements_(!0),this.statementConnection_=null},getProcedureDef:function(){return[this.getFieldValue("NAME"),this.arguments_,!0]},callType_:"procedures_callreturn"});var Re={init:function(){this.appendDummyInput().appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TITLE),this.appendStatementInput("STACK"),this.appendDummyInput("STATEMENT_INPUT").appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_ALLOW_STATEMENTS).appendField(i.fromJson$$module$build$src$core$field_registry({type:"field_checkbox",checked:!0}),"STATEMENTS"),this.setStyle("procedure_blocks"),this.setTooltip(i.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP),this.contextMenu=!1}};Q.procedures_mutatorcontainer=Re;var _e={init:function(){const k=i.fromJson$$module$build$src$core$field_registry({type:"field_input",text:i.DEFAULT_ARG$$module$build$src$core$procedures});k.setValidator(this.validator_),k.oldShowEditorFn_=k.showEditor_,k.showEditor_=function(){this.createdVariables_=[],this.oldShowEditorFn_()},this.appendDummyInput().appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TITLE).appendField(k,"NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(i.Msg$$module$build$src$core$msg.PROCEDURES_MUTATORARG_TOOLTIP),this.contextMenu=!1,k.onFinishEditing_=this.deleteIntermediateVars_,k.createdVariables_=[],k.onFinishEditing_("x")},validator_:function(k){var de=this.getSourceBlock();const Ce=de.workspace.getRootWorkspace();if(k=k.replace(/[\s\xa0]+/g," ").replace(/^ | $/g,""),!k)return null;const Te=(de.workspace.targetWorkspace||de.workspace).getAllBlocks(!1),Ve=k.toLowerCase();for(let tt=0;tt<Te.length;tt++){if(Te[tt].id===this.getSourceBlock().id)continue;const Et=Te[tt].getFieldValue("NAME");if(Et&&Et.toLowerCase()===Ve)return null}return de.isInFlyout||((de=Ce.getVariable(k,""))&&de.name!==k&&Ce.renameVariableById(de.getId(),k),de||(de=Ce.createVariable(k,""))&&this.createdVariables_&&this.createdVariables_.push(de)),k},deleteIntermediateVars_:function(k){const de=this.getSourceBlock().workspace.getRootWorkspace();if(de)for(let Ce=0;Ce<this.createdVariables_.length;Ce++){const Te=this.createdVariables_[Ce];Te.name!==k&&de.deleteVariableById(Te.getId())}}};Q.procedures_mutatorarg=_e;var se={getProcedureCall:function(){return this.getFieldValue("NAME")},renameProcedure:function(k,de){i.Names$$module$build$src$core$names.equals(k,this.getProcedureCall())&&(this.setFieldValue(de,"NAME"),this.setTooltip((this.outputConnection?i.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_TOOLTIP:i.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_TOOLTIP).replace("%1",de)))},setProcedureParameters_:function(k,de){var Ce=i.getDefinition$$module$build$src$core$procedures(this.getProcedureCall(),this.workspace);if((Ce=(Ce=Ce&&Ce.getIcon(i.MutatorIcon$$module$build$src$core$icons$mutator_icon.TYPE))&&Ce.bubbleIsVisible())?this.setCollapsed(!1):(this.quarkConnections_={},this.quarkIds_=null),k.join(`
`)===this.arguments_.join(`
`))this.quarkIds_=de;else{if(de.length!==k.length)throw RangeError("paramNames and paramIds must be the same length.");this.quarkIds_||(this.quarkConnections_={},this.quarkIds_=[]);for(let Ve=0;Ve<this.arguments_.length;Ve++){var Te=this.getInput("ARG"+Ve);Te&&(Te=Te.connection.targetConnection,this.quarkConnections_[this.quarkIds_[Ve]]=Te,Ce&&Te&&de.indexOf(this.quarkIds_[Ve])===-1&&(Te.disconnect(),Te.getSourceBlock().bumpNeighbours()))}for(this.arguments_=[].concat(k),this.argumentVarModels_=[],k=0;k<this.arguments_.length;k++)Ce=i.getOrCreateVariablePackage$$module$build$src$core$variables(this.workspace,null,this.arguments_[k],""),this.argumentVarModels_.push(Ce);if(this.updateShape_(),this.quarkIds_=de){for(de=0;de<this.arguments_.length;de++)if(k=this.quarkIds_[de],k in this.quarkConnections_){let Ve;(Ve=this.quarkConnections_[k])!=null&&Ve.reconnect(this,"ARG"+de)||delete this.quarkConnections_[k]}}}},updateShape_:function(){for(var k=0;k<this.arguments_.length;k++){var de=this.getField("ARGNAME"+k);if(de){i.disable$$module$build$src$core$events$utils();try{de.setValue(this.arguments_[k])}finally{i.enable$$module$build$src$core$events$utils()}}else de=i.fromJson$$module$build$src$core$field_registry({type:"field_label",text:this.arguments_[k]}),this.appendValueInput("ARG"+k).setAlign(i.Align$$module$build$src$core$inputs$input.RIGHT).appendField(de,"ARGNAME"+k).init()}for(k=this.arguments_.length;this.getInput("ARG"+k);k++)this.removeInput("ARG"+k);(k=this.getInput("TOPROW"))&&(this.arguments_.length?this.getField("WITH")||(k.appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_CALL_BEFORE_PARAMS,"WITH"),k.init()):this.getField("WITH")&&k.removeField("WITH"))},mutationToDom:function(){const k=i.createElement$$module$build$src$core$utils$xml("mutation");k.setAttribute("name",this.getProcedureCall());for(let de=0;de<this.arguments_.length;de++){const Ce=i.createElement$$module$build$src$core$utils$xml("arg");Ce.setAttribute("name",this.arguments_[de]),k.appendChild(Ce)}return k},domToMutation:function(k){var de=k.getAttribute("name");this.renameProcedure(this.getProcedureCall(),de),de=[];const Ce=[];for(let Te=0,Ve;Ve=k.childNodes[Te];Te++)Ve.nodeName.toLowerCase()==="arg"&&(de.push(Ve.getAttribute("name")),Ce.push(Ve.getAttribute("paramId")));this.setProcedureParameters_(de,Ce)},saveExtraState:function(){const k=Object.create(null);return k.name=this.getProcedureCall(),this.arguments_.length&&(k.params=this.arguments_),k},loadExtraState:function(k){if(this.renameProcedure(this.getProcedureCall(),k.name),k=k.params){const de=[];de.length=k.length,de.fill(null),this.setProcedureParameters_(k,de)}},getVars:function(){return this.arguments_},getVarModels:function(){return this.argumentVarModels_},onchange:function(k){if(this.workspace&&!this.workspace.isFlyout&&k.recordUndo)if(k.type===i.CREATE$$module$build$src$core$events$utils&&k.ids.indexOf(this.id)!==-1){var de=this.getProcedureCall();if(de=i.getDefinition$$module$build$src$core$procedures(de,this.workspace),!de||de.type===this.defType_&&JSON.stringify(de.getVars())===JSON.stringify(this.arguments_)||(de=null),!de){i.setGroup$$module$build$src$core$events$utils(k.group),k=i.createElement$$module$build$src$core$utils$xml("xml"),de=i.createElement$$module$build$src$core$utils$xml("block"),de.setAttribute("type",this.defType_);var Ce=this.getRelativeToSurfaceXY(),Te=Ce.y+2*i.config$$module$build$src$core$config.snapRadius;de.setAttribute("x",`${Ce.x+i.config$$module$build$src$core$config.snapRadius*(this.RTL?-1:1)}`),de.setAttribute("y",`${Te}`),Ce=this.mutationToDom(),de.appendChild(Ce),Ce=i.createElement$$module$build$src$core$utils$xml("field"),Ce.setAttribute("name","NAME"),Te=this.getProcedureCall();const Ve=i.findLegalName$$module$build$src$core$procedures(Te,this);Te!==Ve&&this.renameProcedure(Te,Ve),Ce.appendChild(i.createTextNode$$module$build$src$core$utils$xml(Te)),de.appendChild(Ce),k.appendChild(de),i.domToWorkspace$$module$build$src$core$xml(k,this.workspace),i.setGroup$$module$build$src$core$events$utils(!1)}}else k.type===i.DELETE$$module$build$src$core$events$utils?(de=this.getProcedureCall(),i.getDefinition$$module$build$src$core$procedures(de,this.workspace)||(i.setGroup$$module$build$src$core$events$utils(k.group),this.dispose(!0),i.setGroup$$module$build$src$core$events$utils(!1))):k.type===i.CHANGE$$module$build$src$core$events$utils&&k.element==="disabled"&&(de=this.getProcedureCall(),(de=i.getDefinition$$module$build$src$core$procedures(de,this.workspace))&&de.id===k.blockId&&((de=i.getGroup$$module$build$src$core$events$utils())&&console.log("Saw an existing group while responding to a definition change"),i.setGroup$$module$build$src$core$events$utils(k.group),k.newValue?(this.previousEnabledState_=this.isEnabled(),this.setEnabled(!1)):this.setEnabled(this.previousEnabledState_),i.setGroup$$module$build$src$core$events$utils(de)))},customContextMenu:function(k){if(this.workspace.isMovable()){var de=this.getProcedureCall(),Ce=this.workspace;k.push({enabled:!0,text:i.Msg$$module$build$src$core$msg.PROCEDURES_HIGHLIGHT_DEF,callback:function(){const Te=i.getDefinition$$module$build$src$core$procedures(de,Ce);Te&&(Ce.centerOnBlock(Te.id),Te.select())}})}}};Q.procedures_callnoreturn=Object.assign({},se,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(i.Msg$$module$build$src$core$msg.PROCEDURES_CALLNORETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},defType_:"procedures_defnoreturn"}),Q.procedures_callreturn=Object.assign({},se,{init:function(){this.appendDummyInput("TOPROW").appendField("","NAME"),this.setOutput(!0),this.setStyle("procedure_blocks"),this.setHelpUrl(i.Msg$$module$build$src$core$msg.PROCEDURES_CALLRETURN_HELPURL),this.arguments_=[],this.argumentVarModels_=[],this.quarkConnections_={},this.quarkIds_=null,this.previousEnabledState_=!0},defType_:"procedures_defreturn"});var ke={init:function(){this.appendValueInput("CONDITION").setCheck("Boolean").appendField(i.Msg$$module$build$src$core$msg.CONTROLS_IF_MSG_IF),this.appendValueInput("VALUE").appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setStyle("procedure_blocks"),this.setTooltip(i.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_TOOLTIP),this.setHelpUrl(i.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_HELPURL),this.hasReturnValue_=!0},mutationToDom:function(){const k=i.createElement$$module$build$src$core$utils$xml("mutation");return k.setAttribute("value",String(Number(this.hasReturnValue_))),k},domToMutation:function(k){this.hasReturnValue_=k.getAttribute("value")==="1",this.hasReturnValue_||(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN))},onchange:function(k){if(!(this.workspace.isDragging&&this.workspace.isDragging()||k.type!==i.MOVE$$module$build$src$core$events$utils)){var de=!1,Ce=this;do{if(this.FUNCTION_TYPES.indexOf(Ce.type)!==-1){de=!0;break}Ce=Ce.getSurroundParent()}while(Ce);de?(Ce.type==="procedures_defnoreturn"&&this.hasReturnValue_?(this.removeInput("VALUE"),this.appendDummyInput("VALUE").appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!1):Ce.type!=="procedures_defreturn"||this.hasReturnValue_||(this.removeInput("VALUE"),this.appendValueInput("VALUE").appendField(i.Msg$$module$build$src$core$msg.PROCEDURES_DEFRETURN_RETURN),this.hasReturnValue_=!0),this.setWarningText(null)):this.setWarningText(i.Msg$$module$build$src$core$msg.PROCEDURES_IFRETURN_WARNING),this.isInFlyout||(Ce=i.getGroup$$module$build$src$core$events$utils(),i.setGroup$$module$build$src$core$events$utils(k.group),this.setEnabled(de),i.setGroup$$module$build$src$core$events$utils(Ce))}},FUNCTION_TYPES:["procedures_defnoreturn","procedures_defreturn"]};Q.procedures_ifreturn=ke,i.defineBlocks$$module$build$src$core$common(Q);var Be={};Be.blocks=Q;var et=i.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"text",message0:"%1",args0:[{type:"field_input",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["text_quotes","parent_tooltip_when_inline"]},{type:"text_multiline",message0:"%1 %2",args0:[{type:"field_image",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAARCAYAAADpPU2iAAAABGdBTUEAALGPC/xhBQAAAAlwSFlzAAAdhgAAHYYBXaITgQAAABh0RVh0U29mdHdhcmUAcGFpbnQubmV0IDQuMS42/U4J6AAAAP1JREFUOE+Vks0KQUEYhjmRIja4ABtZ2dm5A3t3Ia6AUm7CylYuQRaUhZSlLZJiQbFAyRnPN33y01HOW08z8873zpwzM4F3GWOCruvGIE4/rLaV+Nq1hVGMBqzhqlxgCys4wJA65xnogMHsQ5lujnYHTejBBCK2mE4abjCgMGhNxHgDFWjDSG07kdfVa2pZMf4ZyMAdWmpZMfYOsLiDMYMjlMB+K613QISRhTnITnsYg5yUd0DETmEoMlkFOeIT/A58iyK5E18BuTBfgYXfwNJv4P9/oEBerLylOnRhygmGdPpTTBZAPkde61lbQe4moWUvYUZYLfUNftIY4zwA5X2Z9AYnQrEAAAAASUVORK5CYII=",width:12,height:17,alt:"¶"},{type:"field_multilinetext",name:"TEXT",text:""}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_TEXT_HELPURL}",tooltip:"%{BKY_TEXT_TEXT_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"text_join",message0:"",output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_JOIN_HELPURL}",tooltip:"%{BKY_TEXT_JOIN_TOOLTIP}",mutator:"text_join_mutator"},{type:"text_create_join_container",message0:"%{BKY_TEXT_CREATE_JOIN_TITLE_JOIN} %1 %2",args0:[{type:"input_dummy"},{type:"input_statement",name:"STACK"}],style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_TOOLTIP}",enableContextMenu:!1},{type:"text_create_join_item",message0:"%{BKY_TEXT_CREATE_JOIN_ITEM_TITLE_ITEM}",previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:"%{BKY_TEXT_CREATE_JOIN_ITEM_TOOLTIP}",enableContextMenu:!1},{type:"text_append",message0:"%{BKY_TEXT_APPEND_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_TEXT_APPEND_VARIABLE}"},{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",extensions:["text_append_tooltip"]},{type:"text_length",message0:"%{BKY_TEXT_LENGTH_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Number",style:"text_blocks",tooltip:"%{BKY_TEXT_LENGTH_TOOLTIP}",helpUrl:"%{BKY_TEXT_LENGTH_HELPURL}"},{type:"text_isEmpty",message0:"%{BKY_TEXT_ISEMPTY_TITLE}",args0:[{type:"input_value",name:"VALUE",check:["String","Array"]}],output:"Boolean",style:"text_blocks",tooltip:"%{BKY_TEXT_ISEMPTY_TOOLTIP}",helpUrl:"%{BKY_TEXT_ISEMPTY_HELPURL}"},{type:"text_indexOf",message0:"%{BKY_TEXT_INDEXOF_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"END",options:[["%{BKY_TEXT_INDEXOF_OPERATOR_FIRST}","FIRST"],["%{BKY_TEXT_INDEXOF_OPERATOR_LAST}","LAST"]]},{type:"input_value",name:"FIND",check:"String"}],output:"Number",style:"text_blocks",helpUrl:"%{BKY_TEXT_INDEXOF_HELPURL}",inputsInline:!0,extensions:["text_indexOf_tooltip"]},{type:"text_charAt",message0:"%{BKY_TEXT_CHARAT_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"String"},{type:"field_dropdown",name:"WHERE",options:[["%{BKY_TEXT_CHARAT_FROM_START}","FROM_START"],["%{BKY_TEXT_CHARAT_FROM_END}","FROM_END"],["%{BKY_TEXT_CHARAT_FIRST}","FIRST"],["%{BKY_TEXT_CHARAT_LAST}","LAST"],["%{BKY_TEXT_CHARAT_RANDOM}","RANDOM"]]}],output:"String",style:"text_blocks",helpUrl:"%{BKY_TEXT_CHARAT_HELPURL}",inputsInline:!0,mutator:"text_charAt_mutator"}]),ut={init:function(){this.WHERE_OPTIONS_1=[[i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_START,"FROM_START"],[i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FROM_END,"FROM_END"],[i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_START_FIRST,"FIRST"]],this.WHERE_OPTIONS_2=[[i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_START,"FROM_START"],[i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_FROM_END,"FROM_END"],[i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_END_LAST,"LAST"]],this.setHelpUrl(i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("STRING").setCheck("String").appendField(i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT),this.appendDummyInput("AT1"),this.appendDummyInput("AT2"),i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&this.appendDummyInput("TAIL").appendField(i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL),this.setInputsInline(!0),this.setOutput(!0,"String"),this.updateAt_(1,!0),this.updateAt_(2,!0),this.setTooltip(i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TOOLTIP)},mutationToDom:function(){const k=i.createElement$$module$build$src$core$utils$xml("mutation");var de=this.getInput("AT1")instanceof i.ValueInput$$module$build$src$core$inputs$value_input;return k.setAttribute("at1",`${de}`),de=this.getInput("AT2")instanceof i.ValueInput$$module$build$src$core$inputs$value_input,k.setAttribute("at2",`${de}`),k},domToMutation:function(k){const de=k.getAttribute("at1")==="true";k=k.getAttribute("at2")==="true",this.updateAt_(1,de),this.updateAt_(2,k)},updateAt_:function(k,de){this.removeInput("AT"+k),this.removeInput("ORDINAL"+k,!0),de?(this.appendValueInput("AT"+k).setCheck("Number"),i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL"+k).appendField(i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)):this.appendDummyInput("AT"+k),k===2&&i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(i.Msg$$module$build$src$core$msg.TEXT_GET_SUBSTRING_TAIL));const Ce=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:this["WHERE_OPTIONS_"+k]});Ce.setValidator(function(Te){const Ve=Te==="FROM_START"||Te==="FROM_END";if(Ve!==de){const tt=this.getSourceBlock();return tt.updateAt_(k,Ve),tt.setFieldValue(Te,"WHERE"+k),null}}),this.getInput("AT"+k).appendField(Ce,"WHERE"+k),k===1&&(this.moveInputBefore("AT1","AT2"),this.getInput("ORDINAL1")&&this.moveInputBefore("ORDINAL1","AT2"))}};et.text_getSubstring=ut,et.text_changeCase={init:function(){const k=[[i.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE,"UPPERCASE"],[i.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE,"LOWERCASE"],[i.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_OPERATOR_TITLECASE,"TITLECASE"]];this.setHelpUrl(i.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:k}),"CASE"),this.setOutput(!0,"String"),this.setTooltip(i.Msg$$module$build$src$core$msg.TEXT_CHANGECASE_TOOLTIP)}},et.text_trim={init:function(){const k=[[i.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_BOTH,"BOTH"],[i.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_LEFT,"LEFT"],[i.Msg$$module$build$src$core$msg.TEXT_TRIM_OPERATOR_RIGHT,"RIGHT"]];this.setHelpUrl(i.Msg$$module$build$src$core$msg.TEXT_TRIM_HELPURL),this.setStyle("text_blocks"),this.appendValueInput("TEXT").setCheck("String").appendField(i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:k}),"MODE"),this.setOutput(!0,"String"),this.setTooltip(i.Msg$$module$build$src$core$msg.TEXT_TRIM_TOOLTIP)}},et.text_print={init:function(){this.jsonInit({message0:i.Msg$$module$build$src$core$msg.TEXT_PRINT_TITLE,args0:[{type:"input_value",name:"TEXT"}],previousStatement:null,nextStatement:null,style:"text_blocks",tooltip:i.Msg$$module$build$src$core$msg.TEXT_PRINT_TOOLTIP,helpUrl:i.Msg$$module$build$src$core$msg.TEXT_PRINT_HELPURL})}};var dt={updateType_:function(k){this.outputConnection.setCheck(k==="NUMBER"?"Number":"String")},mutationToDom:function(){const k=i.createElement$$module$build$src$core$utils$xml("mutation");return k.setAttribute("type",this.getFieldValue("TYPE")),k},domToMutation:function(k){this.updateType_(k.getAttribute("type"))}};et.text_prompt_ext=Object.assign({},dt,{init:function(){var k=[[i.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[i.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(i.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),k=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:k}),k.setValidator(de=>{this.updateType_(de)}),this.appendValueInput("TEXT").appendField(k,"TYPE"),this.setOutput(!0,"String"),this.setTooltip(()=>this.getFieldValue("TYPE")==="TEXT"?i.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:i.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}});var gt=Object.assign({},dt,{init:function(){this.mixin(we);var k=[[i.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_TEXT,"TEXT"],[i.Msg$$module$build$src$core$msg.TEXT_PROMPT_TYPE_NUMBER,"NUMBER"]];this.setHelpUrl(i.Msg$$module$build$src$core$msg.TEXT_PROMPT_HELPURL),this.setStyle("text_blocks"),k=i.fromJson$$module$build$src$core$field_registry({type:"field_dropdown",options:k}),k.setValidator(de=>{this.updateType_(de)}),this.appendDummyInput().appendField(k,"TYPE").appendField(this.newQuote_(!0)).appendField(i.fromJson$$module$build$src$core$field_registry({type:"field_input",text:""}),"TEXT").appendField(this.newQuote_(!1)),this.setOutput(!0,"String"),this.setTooltip(()=>this.getFieldValue("TYPE")==="TEXT"?i.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_TEXT:i.Msg$$module$build$src$core$msg.TEXT_PROMPT_TOOLTIP_NUMBER)}});et.text_prompt=gt,et.text_count={init:function(){this.jsonInit({message0:i.Msg$$module$build$src$core$msg.TEXT_COUNT_MESSAGE0,args0:[{type:"input_value",name:"SUB",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"Number",inputsInline:!0,style:"text_blocks",tooltip:i.Msg$$module$build$src$core$msg.TEXT_COUNT_TOOLTIP,helpUrl:i.Msg$$module$build$src$core$msg.TEXT_COUNT_HELPURL})}},et.text_replace={init:function(){this.jsonInit({message0:i.Msg$$module$build$src$core$msg.TEXT_REPLACE_MESSAGE0,args0:[{type:"input_value",name:"FROM",check:"String"},{type:"input_value",name:"TO",check:"String"},{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:i.Msg$$module$build$src$core$msg.TEXT_REPLACE_TOOLTIP,helpUrl:i.Msg$$module$build$src$core$msg.TEXT_REPLACE_HELPURL})}},et.text_reverse={init:function(){this.jsonInit({message0:i.Msg$$module$build$src$core$msg.TEXT_REVERSE_MESSAGE0,args0:[{type:"input_value",name:"TEXT",check:"String"}],output:"String",inputsInline:!0,style:"text_blocks",tooltip:i.Msg$$module$build$src$core$msg.TEXT_REVERSE_TOOLTIP,helpUrl:i.Msg$$module$build$src$core$msg.TEXT_REVERSE_HELPURL})}};var we={QUOTE_IMAGE_LEFT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAn0lEQVQI1z3OMa5BURSF4f/cQhAKjUQhuQmFNwGJEUi0RKN5rU7FHKhpjEH3TEMtkdBSCY1EIv8r7nFX9e29V7EBAOvu7RPjwmWGH/VuF8CyN9/OAdvqIXYLvtRaNjx9mMTDyo+NjAN1HNcl9ZQ5oQMM3dgDUqDo1l8DzvwmtZN7mnD+PkmLa+4mhrxVA9fRowBWmVBhFy5gYEjKMfz9AylsaRRgGzvZAAAAAElFTkSuQmCC",QUOTE_IMAGE_RIGHT_DATAURI:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAAKCAQAAAAqJXdxAAAAqUlEQVQI1z3KvUpCcRiA8ef9E4JNHhI0aFEacm1o0BsI0Slx8wa8gLauoDnoBhq7DcfWhggONDmJJgqCPA7neJ7p934EOOKOnM8Q7PDElo/4x4lFb2DmuUjcUzS3URnGib9qaPNbuXvBO3sGPHJDRG6fGVdMSeWDP2q99FQdFrz26Gu5Tq7dFMzUvbXy8KXeAj57cOklgA+u1B5AoslLtGIHQMaCVnwDnADZIFIrXsoXrgAAAABJRU5ErkJggg==",QUOTE_IMAGE_WIDTH:12,QUOTE_IMAGE_HEIGHT:12,quoteField_:function(k){for(let de=0,Ce;Ce=this.inputList[de];de++)for(let Te=0,Ve;Ve=Ce.fieldRow[Te];Te++)if(k===Ve.name){Ce.insertFieldAt(Te,this.newQuote_(!0)),Ce.insertFieldAt(Te+2,this.newQuote_(!1));return}console.warn('field named "'+k+'" not found in '+this.toDevString())},newQuote_:function(k){return k=this.RTL?!k:k,i.fromJson$$module$build$src$core$field_registry({type:"field_image",src:k?this.QUOTE_IMAGE_LEFT_DATAURI:this.QUOTE_IMAGE_RIGHT_DATAURI,width:this.QUOTE_IMAGE_WIDTH,height:this.QUOTE_IMAGE_HEIGHT,alt:k?"“":"”"})}},le=function(){this.mixin(we),this.quoteField_("TEXT")},ce={itemCount_:0,mutationToDom:function(){const k=i.createElement$$module$build$src$core$utils$xml("mutation");return k.setAttribute("items",`${this.itemCount_}`),k},domToMutation:function(k){this.itemCount_=parseInt(k.getAttribute("items"),10),this.updateShape_()},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(k){this.itemCount_=k.itemCount,this.updateShape_()},decompose:function(k){const de=k.newBlock("text_create_join_container");de.initSvg();let Ce=de.getInput("STACK").connection;for(let Te=0;Te<this.itemCount_;Te++){const Ve=k.newBlock("text_create_join_item");Ve.initSvg(),Ce.connect(Ve.previousConnection),Ce=Ve.nextConnection}return de},compose:function(k){var de=k.getInputTargetBlock("STACK");for(k=[];de;)de.isInsertionMarker()||k.push(de.valueConnection_),de=de.getNextBlock();for(de=0;de<this.itemCount_;de++){const Ce=this.getInput("ADD"+de).connection.targetConnection;Ce&&k.indexOf(Ce)===-1&&Ce.disconnect()}for(this.itemCount_=k.length,this.updateShape_(),de=0;de<this.itemCount_;de++){let Ce;(Ce=k[de])==null||Ce.reconnect(this,"ADD"+de)}},saveConnections:function(k){k=k.getInputTargetBlock("STACK");let de=0;for(;k;){if(k.isInsertionMarker()){k=k.getNextBlock();continue}const Ce=this.getInput("ADD"+de);k.valueConnection_=Ce&&Ce.connection.targetConnection,k=k.getNextBlock(),de++}},updateShape_:function(){this.itemCount_&&this.getInput("EMPTY")?this.removeInput("EMPTY"):this.itemCount_||this.getInput("EMPTY")||this.appendDummyInput("EMPTY").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1));for(var k=0;k<this.itemCount_;k++)if(!this.getInput("ADD"+k)){const de=this.appendValueInput("ADD"+k).setAlign(i.Align$$module$build$src$core$inputs$align.RIGHT);k===0&&de.appendField(i.Msg$$module$build$src$core$msg.TEXT_JOIN_TITLE_CREATEWITH)}for(k=this.itemCount_;this.getInput("ADD"+k);k++)this.removeInput("ADD"+k)}},re=function(){this.mixin(we),this.itemCount_=2,this.updateShape_(),this.setMutator(new i.MutatorIcon$$module$build$src$core$icons$mutator_icon(["text_create_join_item"],this))};i.register$$module$build$src$core$extensions("text_append_tooltip",i.buildTooltipWithFieldText$$module$build$src$core$extensions("%{BKY_TEXT_APPEND_TOOLTIP}","VAR"));var Me=function(){this.setTooltip(()=>i.Msg$$module$build$src$core$msg.TEXT_INDEXOF_TOOLTIP.replace("%1",this.workspace.options.oneBasedIndex?"0":"-1"))},Ne={isAt_:!1,mutationToDom:function(){const k=i.createElement$$module$build$src$core$utils$xml("mutation");return k.setAttribute("at",`${this.isAt_}`),k},domToMutation:function(k){k=k.getAttribute("at")!=="false",this.updateAt_(k)},updateAt_:function(k){this.removeInput("AT",!0),this.removeInput("ORDINAL",!0),k&&(this.appendValueInput("AT").setCheck("Number"),i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX&&this.appendDummyInput("ORDINAL").appendField(i.Msg$$module$build$src$core$msg.ORDINAL_NUMBER_SUFFIX)),i.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL&&(this.removeInput("TAIL",!0),this.appendDummyInput("TAIL").appendField(i.Msg$$module$build$src$core$msg.TEXT_CHARAT_TAIL)),this.isAt_=k}},$e=function(){this.getField("WHERE").setValidator(function(k){k=k==="FROM_START"||k==="FROM_END";const de=this.getSourceBlock();k!==de.isAt_&&de.updateAt_(k)}),this.updateAt_(!0),this.setTooltip(()=>{var k=this.getFieldValue("WHERE");let de=i.Msg$$module$build$src$core$msg.TEXT_CHARAT_TOOLTIP;return(k==="FROM_START"||k==="FROM_END")&&(k=k==="FROM_START"?i.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_START_TOOLTIP:i.Msg$$module$build$src$core$msg.LISTS_INDEX_FROM_END_TOOLTIP)&&(de+="  "+k.replace("%1",this.workspace.options.oneBasedIndex?"#1":"#0")),de})};i.register$$module$build$src$core$extensions("text_indexOf_tooltip",Me),i.register$$module$build$src$core$extensions("text_quotes",le),i.registerMutator$$module$build$src$core$extensions("text_join_mutator",ce,re),i.registerMutator$$module$build$src$core$extensions("text_charAt_mutator",Ne,$e),i.defineBlocks$$module$build$src$core$common(et);var Fe={};Fe.blocks=et;var Le=i.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"variables_get",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableSetterGetter"]},{type:"variables_set",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableSetterGetter"]}]),qe={customContextMenu:function(k){if(this.isInFlyout)(this.type==="variables_get"||this.type==="variables_get_reporter")&&(de={text:i.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:Xe(this)},Ce=this.getField("VAR").getText(),Ce={text:i.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",Ce),enabled:!0,callback:at(this)},k.unshift(de),k.unshift(Ce));else{if(this.type==="variables_get")var de="variables_set",Ce=i.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET;else de="variables_get",Ce=i.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;const Te=this.getField("VAR").getText(),Ve=i.createElement$$module$build$src$core$utils$xml("field");Ve.setAttribute("name","VAR"),Ve.appendChild(i.createTextNode$$module$build$src$core$utils$xml(Te));const tt=i.createElement$$module$build$src$core$utils$xml("block");tt.setAttribute("type",de),tt.appendChild(Ve),k.push({enabled:0<this.workspace.remainingCapacity(),text:Ce.replace("%1",Te),callback:i.callbackFactory$$module$build$src$core$contextmenu(this,tt)})}}},Xe=function(k){return function(){const de=k.workspace,Ce=k.getField("VAR").getVariable();i.renameVariable$$module$build$src$core$variables(de,Ce)}},at=function(k){return function(){const de=k.workspace,Ce=k.getField("VAR").getVariable();de.deleteVariableById(Ce.getId()),de.refreshToolboxSelection()}};i.registerMixin$$module$build$src$core$extensions("contextMenu_variableSetterGetter",qe),i.defineBlocks$$module$build$src$core$common(Le);var Ee={};Ee.blocks=Le;var Ie=i.createBlockDefinitionsFromJsonArray$$module$build$src$core$common([{type:"variables_get_dynamic",message0:"%1",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"}],output:null,style:"variable_dynamic_blocks",helpUrl:"%{BKY_VARIABLES_GET_HELPURL}",tooltip:"%{BKY_VARIABLES_GET_TOOLTIP}",extensions:["contextMenu_variableDynamicSetterGetter"]},{type:"variables_set_dynamic",message0:"%{BKY_VARIABLES_SET}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_VARIABLES_DEFAULT_NAME}"},{type:"input_value",name:"VALUE"}],previousStatement:null,nextStatement:null,style:"variable_dynamic_blocks",tooltip:"%{BKY_VARIABLES_SET_TOOLTIP}",helpUrl:"%{BKY_VARIABLES_SET_HELPURL}",extensions:["contextMenu_variableDynamicSetterGetter"]}]),he={customContextMenu:function(k){if(this.isInFlyout)(this.type==="variables_get_dynamic"||this.type==="variables_get_reporter_dynamic")&&(de={text:i.Msg$$module$build$src$core$msg.RENAME_VARIABLE,enabled:!0,callback:me(this)},Te=this.getField("VAR").getText(),Te={text:i.Msg$$module$build$src$core$msg.DELETE_VARIABLE.replace("%1",Te),enabled:!0,callback:Se(this)},k.unshift(de),k.unshift(Te));else{var de=this.getFieldValue("VAR"),Ce=this.workspace.getVariableById(de).type;if(this.type==="variables_get_dynamic"){de="variables_set_dynamic";var Te=i.Msg$$module$build$src$core$msg.VARIABLES_GET_CREATE_SET}else de="variables_get_dynamic",Te=i.Msg$$module$build$src$core$msg.VARIABLES_SET_CREATE_GET;const Ve=this.getField("VAR").getText(),tt=i.createElement$$module$build$src$core$utils$xml("field");tt.setAttribute("name","VAR"),tt.setAttribute("variabletype",Ce),tt.appendChild(i.createTextNode$$module$build$src$core$utils$xml(Ve)),Ce=i.createElement$$module$build$src$core$utils$xml("block"),Ce.setAttribute("type",de),Ce.appendChild(tt),k.push({enabled:0<this.workspace.remainingCapacity(),text:Te.replace("%1",Ve),callback:i.callbackFactory$$module$build$src$core$contextmenu(this,Ce)})}},onchange:function(k){k=this.getFieldValue("VAR"),k=i.getVariable$$module$build$src$core$variables(this.workspace,k),this.type==="variables_get_dynamic"?this.outputConnection.setCheck(k.type):this.getInput("VALUE").connection.setCheck(k.type)}},me=function(k){return function(){const de=k.workspace,Ce=k.getField("VAR").getVariable();i.renameVariable$$module$build$src$core$variables(de,Ce)}},Se=function(k){return function(){const de=k.workspace,Ce=k.getField("VAR").getVariable();de.deleteVariableById(Ce.getId()),de.refreshToolboxSelection()}};i.registerMixin$$module$build$src$core$extensions("contextMenu_variableDynamicSetterGetter",he),i.defineBlocks$$module$build$src$core$common(Ie);var xe={};xe.blocks=Ie;var Ke=Object.assign({},l,a,L,D,oe,Q,Le,Ie),C={};return C.blocks=Ke,C.colour=u,C.lists=R,C.loops=ue,C.math=ge,C.procedures=Be,C.texts=Fe,C.variables=Ee,C.variablesDynamic=xe,C.__namespace__=i,C})}(uT)),uT.exports}var AS;function G4(){return AS||(AS=1,function(e,o){(function(n,i){e.exports=i(H4())})(Wn,function(n){/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */return n})}(aT)),aT.exports}var cT={exports:{}},dT={exports:{}},RS;function z4(){return RS||(RS=1,function(e,o){(function(n,i){e.exports=i(Hh())})(Wn,function(n){var i=n.__namespace__,l=function(v,I){return[I.quote_(v.getFieldValue("COLOUR")),C.ATOMIC]},u=function(v,I){return[I.provideFunction_("colourRandom",`
function ${I.FUNCTION_NAME_PLACEHOLDER_}() {
  var num = Math.floor(Math.random() * Math.pow(2, 24));
  return '#' + ('00000' + num.toString(16)).substr(-6);
}
`)+"()",C.FUNCTION_CALL]},a=function(v,I){const H=I.valueToCode(v,"RED",C.NONE)||0,pe=I.valueToCode(v,"GREEN",C.NONE)||0;return v=I.valueToCode(v,"BLUE",C.NONE)||0,[I.provideFunction_("colourRgb",`
function ${I.FUNCTION_NAME_PLACEHOLDER_}(r, g, b) {
  r = Math.max(Math.min(Number(r), 100), 0) * 2.55;
  g = Math.max(Math.min(Number(g), 100), 0) * 2.55;
  b = Math.max(Math.min(Number(b), 100), 0) * 2.55;
  r = ('0' + (Math.round(r) || 0).toString(16)).slice(-2);
  g = ('0' + (Math.round(g) || 0).toString(16)).slice(-2);
  b = ('0' + (Math.round(b) || 0).toString(16)).slice(-2);
  return '#' + r + g + b;
}
`)+"("+H+", "+pe+", "+v+")",C.FUNCTION_CALL]},h=function(v,I){const H=I.valueToCode(v,"COLOUR1",C.NONE)||"'#000000'",pe=I.valueToCode(v,"COLOUR2",C.NONE)||"'#000000'";return v=I.valueToCode(v,"RATIO",C.NONE)||.5,[I.provideFunction_("colourBlend",`
function ${I.FUNCTION_NAME_PLACEHOLDER_}(c1, c2, ratio) {
  ratio = Math.max(Math.min(Number(ratio), 1), 0);
  var r1 = parseInt(c1.substring(1, 3), 16);
  var g1 = parseInt(c1.substring(3, 5), 16);
  var b1 = parseInt(c1.substring(5, 7), 16);
  var r2 = parseInt(c2.substring(1, 3), 16);
  var g2 = parseInt(c2.substring(3, 5), 16);
  var b2 = parseInt(c2.substring(5, 7), 16);
  var r = Math.round(r1 * (1 - ratio) + r2 * ratio);
  var g = Math.round(g1 * (1 - ratio) + g2 * ratio);
  var b = Math.round(b1 * (1 - ratio) + b2 * ratio);
  r = ('0' + (r || 0).toString(16)).slice(-2);
  g = ('0' + (g || 0).toString(16)).slice(-2);
  b = ('0' + (b || 0).toString(16)).slice(-2);
  return '#' + r + g + b;
}
`)+"("+H+", "+pe+", "+v+")",C.FUNCTION_CALL]},p=function(v,I){return["[]",C.ATOMIC]},m=function(v,I){const H=Array(v.itemCount_);for(let pe=0;pe<v.itemCount_;pe++)H[pe]=I.valueToCode(v,"ADD"+pe,C.NONE)||"null";return["["+H.join(", ")+"]",C.ATOMIC]},$=function(v,I){const H=I.provideFunction_("listsRepeat",`
function ${I.FUNCTION_NAME_PLACEHOLDER_}(value, n) {
  var array = [];
  for (var i = 0; i < n; i++) {
    array[i] = value;
  }
  return array;
}
`),pe=I.valueToCode(v,"ITEM",C.NONE)||"null";return v=I.valueToCode(v,"NUM",C.NONE)||"0",[H+"("+pe+", "+v+")",C.FUNCTION_CALL]},T=function(v,I){return[(I.valueToCode(v,"VALUE",C.MEMBER)||"[]")+".length",C.MEMBER]},w=function(v,I){return["!"+(I.valueToCode(v,"VALUE",C.MEMBER)||"[]")+".length",C.LOGICAL_NOT]},A=function(v,I){const H=v.getFieldValue("END")==="FIRST"?"indexOf":"lastIndexOf",pe=I.valueToCode(v,"FIND",C.NONE)||"''";return I=(I.valueToCode(v,"VALUE",C.MEMBER)||"[]")+"."+H+"("+pe+")",v.workspace.options.oneBasedIndex?[I+" + 1",C.ADDITION]:[I,C.FUNCTION_CALL]},R=function(v,I){const H=v.getFieldValue("MODE")||"GET",pe=v.getFieldValue("WHERE")||"FROM_START";var rt=I.valueToCode(v,"VALUE",pe==="RANDOM"?C.NONE:C.MEMBER)||"[]";switch(pe){case"FIRST":if(H==="GET")return[rt+"[0]",C.MEMBER];if(H==="GET_REMOVE")return[rt+".shift()",C.MEMBER];if(H==="REMOVE")return rt+`.shift();
`;break;case"LAST":if(H==="GET")return[rt+".slice(-1)[0]",C.MEMBER];if(H==="GET_REMOVE")return[rt+".pop()",C.MEMBER];if(H==="REMOVE")return rt+`.pop();
`;break;case"FROM_START":if(v=I.getAdjusted(v,"AT"),H==="GET")return[rt+"["+v+"]",C.MEMBER];if(H==="GET_REMOVE")return[rt+".splice("+v+", 1)[0]",C.FUNCTION_CALL];if(H==="REMOVE")return rt+".splice("+v+`, 1);
`;break;case"FROM_END":if(v=I.getAdjusted(v,"AT",1,!0),H==="GET")return[rt+".slice("+v+")[0]",C.FUNCTION_CALL];if(H==="GET_REMOVE")return[rt+".splice("+v+", 1)[0]",C.FUNCTION_CALL];if(H==="REMOVE")return rt+".splice("+v+", 1);";break;case"RANDOM":if(rt=I.provideFunction_("listsGetRandomItem",`
function ${I.FUNCTION_NAME_PLACEHOLDER_}(list, remove) {
  var x = Math.floor(Math.random() * list.length);
  if (remove) {
    return list.splice(x, 1)[0];
  } else {
    return list[x];
  }
}
`)+"("+rt+", "+(H!=="GET")+")",H==="GET"||H==="GET_REMOVE")return[rt,C.FUNCTION_CALL];if(H==="REMOVE")return rt+`;
`}throw Error("Unhandled combination (lists_getIndex).")},L=function(v,I){function H(){if(pe.match(/^\w+$/))return"";const ln=I.nameDB_.getDistinctName("tmpList",i.NameType$$module$build$src$core$names.VARIABLE),Hn="var "+ln+" = "+pe+`;
`;return pe=ln,Hn}let pe=I.valueToCode(v,"LIST",C.MEMBER)||"[]";const rt=v.getFieldValue("MODE")||"GET";var bt=v.getFieldValue("WHERE")||"FROM_START";const Ft=I.valueToCode(v,"TO",C.ASSIGNMENT)||"null";switch(bt){case"FIRST":if(rt==="SET")return pe+"[0] = "+Ft+`;
`;if(rt==="INSERT")return pe+".unshift("+Ft+`);
`;break;case"LAST":if(rt==="SET")return H()+(pe+"["+pe+".length - 1] = "+Ft+`;
`);if(rt==="INSERT")return pe+".push("+Ft+`);
`;break;case"FROM_START":if(v=I.getAdjusted(v,"AT"),rt==="SET")return pe+"["+v+"] = "+Ft+`;
`;if(rt==="INSERT")return pe+".splice("+v+", 0, "+Ft+`);
`;break;case"FROM_END":if(v=I.getAdjusted(v,"AT",1,!1,C.SUBTRACTION),bt=H(),rt==="SET")return bt+(pe+"["+pe+".length - "+v+"] = "+Ft+`;
`);if(rt==="INSERT")return bt+(pe+".splice("+pe+".length - "+v+", 0, "+Ft+`);
`);break;case"RANDOM":if(v=H(),bt=I.nameDB_.getDistinctName("tmpX",i.NameType$$module$build$src$core$names.VARIABLE),v+="var "+bt+" = Math.floor(Math.random() * "+pe+`.length);
`,rt==="SET")return v+(pe+"["+bt+"] = "+Ft+`;
`);if(rt==="INSERT")return v+(pe+".splice("+bt+", 0, "+Ft+`);
`)}throw Error("Unhandled combination (lists_setIndex).")},M=function(v,I){var H=I.valueToCode(v,"LIST",C.MEMBER)||"[]",pe=v.getFieldValue("WHERE1");const rt=v.getFieldValue("WHERE2");if(pe==="FIRST"&&rt==="LAST")H+=".slice(0)";else if(H.match(/^\w+$/)||pe!=="FROM_END"&&rt==="FROM_START"){switch(pe){case"FROM_START":pe=I.getAdjusted(v,"AT1");break;case"FROM_END":pe=I.getAdjusted(v,"AT1",1,!1,C.SUBTRACTION),pe=H+".length - "+pe;break;case"FIRST":pe="0";break;default:throw Error("Unhandled option (lists_getSublist).")}switch(rt){case"FROM_START":I=I.getAdjusted(v,"AT2",1);break;case"FROM_END":I=I.getAdjusted(v,"AT2",0,!1,C.SUBTRACTION),I=H+".length - "+I;break;case"LAST":I=H+".length";break;default:throw Error("Unhandled option (lists_getSublist).")}H=H+".slice("+pe+", "+I+")"}else{const bt=I.getAdjusted(v,"AT1");v=I.getAdjusted(v,"AT2");const Ft={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};H=I.provideFunction_("subsequence"+Ft[pe]+Ft[rt],`
function ${I.FUNCTION_NAME_PLACEHOLDER_}(sequence${pe==="FROM_END"||pe==="FROM_START"?", at1":""}${rt==="FROM_END"||rt==="FROM_START"?", at2":""}) {
  var start = ${Ce("sequence",pe,"at1")};
  var end = ${Ce("sequence",rt,"at2")} + 1;
  return sequence.slice(start, end);
}
`)+"("+H+(pe==="FROM_END"||pe==="FROM_START"?", "+bt:"")+(rt==="FROM_END"||rt==="FROM_START"?", "+v:"")+")"}return[H,C.FUNCTION_CALL]},B=function(v,I){const H=I.valueToCode(v,"LIST",C.FUNCTION_CALL)||"[]",pe=v.getFieldValue("DIRECTION")==="1"?1:-1;return v=v.getFieldValue("TYPE"),I=I.provideFunction_("listsGetSortCompare",`
function ${I.FUNCTION_NAME_PLACEHOLDER_}(type, direction) {
  var compareFuncs = {
    'NUMERIC': function(a, b) {
        return Number(a) - Number(b); },
    'TEXT': function(a, b) {
        return String(a) > String(b) ? 1 : -1; },
    'IGNORE_CASE': function(a, b) {
        return String(a).toLowerCase() > String(b).toLowerCase() ? 1 : -1; },
  };
  var compare = compareFuncs[type];
  return function(a, b) { return compare(a, b) * direction; };
}
      `),[H+".slice().sort("+I+'("'+v+'", '+pe+"))",C.FUNCTION_CALL]},G=function(v,I){let H=I.valueToCode(v,"INPUT",C.MEMBER);if(I=I.valueToCode(v,"DELIM",C.NONE)||"''",v=v.getFieldValue("MODE"),v==="SPLIT")H||(H="''"),v="split";else if(v==="JOIN")H||(H="[]"),v="join";else throw Error("Unknown mode: "+v);return[H+"."+v+"("+I+")",C.FUNCTION_CALL]},j=function(v,I){return[(I.valueToCode(v,"LIST",C.FUNCTION_CALL)||"[]")+".slice().reverse()",C.FUNCTION_CALL]},F=function(v,I){var H=0;let pe="";I.STATEMENT_PREFIX&&(pe+=I.injectId(I.STATEMENT_PREFIX,v));do{const rt=I.valueToCode(v,"IF"+H,C.NONE)||"false";let bt=I.statementToCode(v,"DO"+H);I.STATEMENT_SUFFIX&&(bt=I.prefixLines(I.injectId(I.STATEMENT_SUFFIX,v),I.INDENT)+bt),pe+=(0<H?" else ":"")+"if ("+rt+`) {
`+bt+"}",H++}while(v.getInput("IF"+H));return(v.getInput("ELSE")||I.STATEMENT_SUFFIX)&&(H=I.statementToCode(v,"ELSE"),I.STATEMENT_SUFFIX&&(H=I.prefixLines(I.injectId(I.STATEMENT_SUFFIX,v),I.INDENT)+H),pe+=` else {
`+H+"}"),pe+`
`},x=function(v,I){const H={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[v.getFieldValue("OP")],pe=H==="=="||H==="!="?C.EQUALITY:C.RELATIONAL,rt=I.valueToCode(v,"A",pe)||"0";return v=I.valueToCode(v,"B",pe)||"0",[rt+" "+H+" "+v,pe]},D=function(v,I){const H=v.getFieldValue("OP")==="AND"?"&&":"||",pe=H==="&&"?C.LOGICAL_AND:C.LOGICAL_OR;let rt=I.valueToCode(v,"A",pe);return v=I.valueToCode(v,"B",pe),rt||v?(I=H==="&&"?"true":"false",rt||(rt=I),v||(v=I)):v=rt="false",[rt+" "+H+" "+v,pe]},U=function(v,I){const H=C.LOGICAL_NOT;return["!"+(I.valueToCode(v,"BOOL",H)||"true"),H]},te=function(v,I){return[v.getFieldValue("BOOL")==="TRUE"?"true":"false",C.ATOMIC]},Y=function(v,I){return["null",C.ATOMIC]},J=function(v,I){const H=I.valueToCode(v,"IF",C.CONDITIONAL)||"false",pe=I.valueToCode(v,"THEN",C.CONDITIONAL)||"null";return v=I.valueToCode(v,"ELSE",C.CONDITIONAL)||"null",[H+" ? "+pe+" : "+v,C.CONDITIONAL]},ee=function(v,I){let H;H=v.getField("TIMES")?String(Number(v.getFieldValue("TIMES"))):I.valueToCode(v,"TIMES",C.ASSIGNMENT)||"0";let pe=I.statementToCode(v,"DO");pe=I.addLoopTrap(pe,v),v="";const rt=I.nameDB_.getDistinctName("count",i.NameType$$module$build$src$core$names.VARIABLE);let bt=H;return H.match(/^\w+$/)||i.isNumber$$module$build$src$core$utils$string(H)||(bt=I.nameDB_.getDistinctName("repeat_end",i.NameType$$module$build$src$core$names.VARIABLE),v+="var "+bt+" = "+H+`;
`),v+("for (var "+rt+" = 0; "+rt+" < "+bt+"; "+rt+`++) {
`+pe+`}
`)},ue=function(v,I){const H=v.getFieldValue("MODE")==="UNTIL";let pe=I.valueToCode(v,"BOOL",H?C.LOGICAL_NOT:C.NONE)||"false",rt=I.statementToCode(v,"DO");return rt=I.addLoopTrap(rt,v),H&&(pe="!"+pe),"while ("+pe+`) {
`+rt+`}
`},oe=function(v,I){var H=I.nameDB_.getName(v.getFieldValue("VAR"),i.NameType$$module$build$src$core$names.VARIABLE),pe=I.valueToCode(v,"FROM",C.ASSIGNMENT)||"0",rt=I.valueToCode(v,"TO",C.ASSIGNMENT)||"0";const bt=I.valueToCode(v,"BY",C.ASSIGNMENT)||"1";let Ft=I.statementToCode(v,"DO");if(Ft=I.addLoopTrap(Ft,v),i.isNumber$$module$build$src$core$utils$string(pe)&&i.isNumber$$module$build$src$core$utils$string(rt)&&i.isNumber$$module$build$src$core$utils$string(bt))I=Number(pe)<=Number(rt),v="for ("+H+" = "+pe+"; "+H+(I?" <= ":" >= ")+rt+"; "+H,H=Math.abs(Number(bt)),v=H===1?v+(I?"++":"--"):v+((I?" += ":" -= ")+H),v+=`) {
`+Ft+`}
`;else{v="";let ln=pe;pe.match(/^\w+$/)||i.isNumber$$module$build$src$core$utils$string(pe)||(ln=I.nameDB_.getDistinctName(H+"_start",i.NameType$$module$build$src$core$names.VARIABLE),v+="var "+ln+" = "+pe+`;
`),pe=rt,rt.match(/^\w+$/)||i.isNumber$$module$build$src$core$utils$string(rt)||(pe=I.nameDB_.getDistinctName(H+"_end",i.NameType$$module$build$src$core$names.VARIABLE),v+="var "+pe+" = "+rt+`;
`),rt=I.nameDB_.getDistinctName(H+"_inc",i.NameType$$module$build$src$core$names.VARIABLE),v+="var "+rt+" = ",v=i.isNumber$$module$build$src$core$utils$string(bt)?v+(Math.abs(bt)+`;
`):v+("Math.abs("+bt+`);
`),v+="if ("+ln+" > "+pe+`) {
`,v+=I.INDENT+rt+" = -"+rt+`;
`,v=v+`}
for (`+(H+" = "+ln+"; "+rt+" >= 0 ? "+H+" <= "+pe+" : "+H+" >= "+pe+"; "+H+" += "+rt+`) {
`+Ft+`}
`)}return v},X=function(v,I){const H=I.nameDB_.getName(v.getFieldValue("VAR"),i.NameType$$module$build$src$core$names.VARIABLE);var pe=I.valueToCode(v,"LIST",C.ASSIGNMENT)||"[]";let rt=I.statementToCode(v,"DO");rt=I.addLoopTrap(rt,v),v="";let bt=pe;return pe.match(/^\w+$/)||(bt=I.nameDB_.getDistinctName(H+"_list",i.NameType$$module$build$src$core$names.VARIABLE),v+="var "+bt+" = "+pe+`;
`),pe=I.nameDB_.getDistinctName(H+"_index",i.NameType$$module$build$src$core$names.VARIABLE),rt=I.INDENT+H+" = "+bt+"["+pe+`];
`+rt,v+("for (var "+pe+" in "+bt+`) {
`+rt+`}
`)},K=function(v,I){let H="";if(I.STATEMENT_PREFIX&&(H+=I.injectId(I.STATEMENT_PREFIX,v)),I.STATEMENT_SUFFIX&&(H+=I.injectId(I.STATEMENT_SUFFIX,v)),I.STATEMENT_PREFIX){const pe=v.getSurroundLoop();pe&&!pe.suppressPrefixSuffix&&(H+=I.injectId(I.STATEMENT_PREFIX,pe))}switch(v.getFieldValue("FLOW")){case"BREAK":return H+`break;
`;case"CONTINUE":return H+`continue;
`}throw Error("Unknown flow statement.")},q=function(v,I){return v=Number(v.getFieldValue("NUM")),[v,0<=v?C.ATOMIC:C.UNARY_NEGATION]},z=function(v,I){var H={ADD:[" + ",C.ADDITION],MINUS:[" - ",C.SUBTRACTION],MULTIPLY:[" * ",C.MULTIPLICATION],DIVIDE:[" / ",C.DIVISION],POWER:[null,C.NONE]}[v.getFieldValue("OP")];const pe=H[0];H=H[1];const rt=I.valueToCode(v,"A",H)||"0";return v=I.valueToCode(v,"B",H)||"0",pe?[rt+pe+v,H]:["Math.pow("+rt+", "+v+")",C.FUNCTION_CALL]},ne=function(v,I){const H=v.getFieldValue("OP");let pe;if(H==="NEG")return v=I.valueToCode(v,"NUM",C.UNARY_NEGATION)||"0",v[0]==="-"&&(v=" "+v),["-"+v,C.UNARY_NEGATION];switch(v=H==="SIN"||H==="COS"||H==="TAN"?I.valueToCode(v,"NUM",C.DIVISION)||"0":I.valueToCode(v,"NUM",C.NONE)||"0",H){case"ABS":pe="Math.abs("+v+")";break;case"ROOT":pe="Math.sqrt("+v+")";break;case"LN":pe="Math.log("+v+")";break;case"EXP":pe="Math.exp("+v+")";break;case"POW10":pe="Math.pow(10,"+v+")";break;case"ROUND":pe="Math.round("+v+")";break;case"ROUNDUP":pe="Math.ceil("+v+")";break;case"ROUNDDOWN":pe="Math.floor("+v+")";break;case"SIN":pe="Math.sin("+v+" / 180 * Math.PI)";break;case"COS":pe="Math.cos("+v+" / 180 * Math.PI)";break;case"TAN":pe="Math.tan("+v+" / 180 * Math.PI)"}if(pe)return[pe,C.FUNCTION_CALL];switch(H){case"LOG10":pe="Math.log("+v+") / Math.log(10)";break;case"ASIN":pe="Math.asin("+v+") / Math.PI * 180";break;case"ACOS":pe="Math.acos("+v+") / Math.PI * 180";break;case"ATAN":pe="Math.atan("+v+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+H)}return[pe,C.DIVISION]},ge=function(v,I){return{PI:["Math.PI",C.MEMBER],E:["Math.E",C.MEMBER],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",C.DIVISION],SQRT2:["Math.SQRT2",C.MEMBER],SQRT1_2:["Math.SQRT1_2",C.MEMBER],INFINITY:["Infinity",C.ATOMIC]}[v.getFieldValue("CONSTANT")]},Q=function(v,I){var H={EVEN:[" % 2 === 0",C.MODULUS,C.EQUALITY],ODD:[" % 2 === 1",C.MODULUS,C.EQUALITY],WHOLE:[" % 1 === 0",C.MODULUS,C.EQUALITY],POSITIVE:[" > 0",C.RELATIONAL,C.RELATIONAL],NEGATIVE:[" < 0",C.RELATIONAL,C.RELATIONAL],DIVISIBLE_BY:[null,C.MODULUS,C.EQUALITY],PRIME:[null,C.NONE,C.FUNCTION_CALL]};const pe=v.getFieldValue("PROPERTY"),[rt,bt,Ft]=H[pe];return H=I.valueToCode(v,"NUMBER_TO_CHECK",bt)||"0",pe==="PRIME"?v=I.provideFunction_("mathIsPrime",`
function ${I.FUNCTION_NAME_PLACEHOLDER_}(n) {
  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods
  if (n == 2 || n == 3) {
    return true;
  }
  // False if n is NaN, negative, is 1, or not whole.
  // And false if n is divisible by 2 or 3.
  if (isNaN(n) || n <= 1 || n % 1 !== 0 || n % 2 === 0 || n % 3 === 0) {
    return false;
  }
  // Check all the numbers of form 6k +/- 1, up to sqrt(n).
  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {
    if (n % (x - 1) === 0 || n % (x + 1) === 0) {
      return false;
    }
  }
  return true;
}
`)+"("+H+")":pe==="DIVISIBLE_BY"?(v=I.valueToCode(v,"DIVISOR",C.MODULUS)||"0",v=H+" % "+v+" === 0"):v=H+rt,[v,Ft]},Oe=function(v,I){const H=I.valueToCode(v,"DELTA",C.ADDITION)||"0";return v=I.nameDB_.getName(v.getFieldValue("VAR"),i.NameType$$module$build$src$core$names.VARIABLE),v+" = (typeof "+v+" === 'number' ? "+v+" : 0) + "+H+`;
`},Re=function(v,I){var H=v.getFieldValue("OP");switch(H){case"SUM":v=I.valueToCode(v,"LIST",C.MEMBER)||"[]",v+=".reduce(function(x, y) {return x + y;}, 0)";break;case"MIN":v=I.valueToCode(v,"LIST",C.NONE)||"[]",v="Math.min.apply(null, "+v+")";break;case"MAX":v=I.valueToCode(v,"LIST",C.NONE)||"[]",v="Math.max.apply(null, "+v+")";break;case"AVERAGE":H=I.provideFunction_("mathMean",`
function ${I.FUNCTION_NAME_PLACEHOLDER_}(myList) {
  return myList.reduce(function(x, y) {return x + y;}, 0) / myList.length;
}
`),v=I.valueToCode(v,"LIST",C.NONE)||"[]",v=H+"("+v+")";break;case"MEDIAN":H=I.provideFunction_("mathMedian",`
function ${I.FUNCTION_NAME_PLACEHOLDER_}(myList) {
  var localList = myList.filter(function (x) {return typeof x === 'number';});
  if (!localList.length) return null;
  localList.sort(function(a, b) {return b - a;});
  if (localList.length % 2 === 0) {
    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;
  } else {
    return localList[(localList.length - 1) / 2];
  }
}
`),v=I.valueToCode(v,"LIST",C.NONE)||"[]",v=H+"("+v+")";break;case"MODE":H=I.provideFunction_("mathModes",`
function ${I.FUNCTION_NAME_PLACEHOLDER_}(values) {
  var modes = [];
  var counts = [];
  var maxCount = 0;
  for (var i = 0; i < values.length; i++) {
    var value = values[i];
    var found = false;
    var thisCount;
    for (var j = 0; j < counts.length; j++) {
      if (counts[j][0] === value) {
        thisCount = ++counts[j][1];
        found = true;
        break;
      }
    }
    if (!found) {
      counts.push([value, 1]);
      thisCount = 1;
    }
    maxCount = Math.max(thisCount, maxCount);
  }
  for (var j = 0; j < counts.length; j++) {
    if (counts[j][1] === maxCount) {
        modes.push(counts[j][0]);
    }
  }
  return modes;
}
`),v=I.valueToCode(v,"LIST",C.NONE)||"[]",v=H+"("+v+")";break;case"STD_DEV":H=I.provideFunction_("mathStandardDeviation",`
function ${I.FUNCTION_NAME_PLACEHOLDER_}(numbers) {
  var n = numbers.length;
  if (!n) return null;
  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;
  var variance = 0;
  for (var j = 0; j < n; j++) {
    variance += Math.pow(numbers[j] - mean, 2);
  }
  variance = variance / n;
  return Math.sqrt(variance);
}
`),v=I.valueToCode(v,"LIST",C.NONE)||"[]",v=H+"("+v+")";break;case"RANDOM":H=I.provideFunction_("mathRandomList",`
function ${I.FUNCTION_NAME_PLACEHOLDER_}(list) {
  var x = Math.floor(Math.random() * list.length);
  return list[x];
}
`),v=I.valueToCode(v,"LIST",C.NONE)||"[]",v=H+"("+v+")";break;default:throw Error("Unknown operator: "+H)}return[v,C.FUNCTION_CALL]},_e=function(v,I){const H=I.valueToCode(v,"DIVIDEND",C.MODULUS)||"0";return v=I.valueToCode(v,"DIVISOR",C.MODULUS)||"0",[H+" % "+v,C.MODULUS]},se=function(v,I){const H=I.valueToCode(v,"VALUE",C.NONE)||"0",pe=I.valueToCode(v,"LOW",C.NONE)||"0";return v=I.valueToCode(v,"HIGH",C.NONE)||"Infinity",["Math.min(Math.max("+H+", "+pe+"), "+v+")",C.FUNCTION_CALL]},ke=function(v,I){const H=I.valueToCode(v,"FROM",C.NONE)||"0";return v=I.valueToCode(v,"TO",C.NONE)||"0",[I.provideFunction_("mathRandomInt",`
function ${I.FUNCTION_NAME_PLACEHOLDER_}(a, b) {
  if (a > b) {
    // Swap a and b to ensure a is smaller.
    var c = a;
    a = b;
    b = c;
  }
  return Math.floor(Math.random() * (b - a + 1) + a);
}
`)+"("+H+", "+v+")",C.FUNCTION_CALL]},Be=function(v,I){return["Math.random()",C.FUNCTION_CALL]},et=function(v,I){const H=I.valueToCode(v,"X",C.NONE)||"0";return["Math.atan2("+(I.valueToCode(v,"Y",C.NONE)||"0")+", "+H+") / Math.PI * 180",C.DIVISION]},ut=function(v,I){const H=I.nameDB_.getName(v.getFieldValue("NAME"),i.NameType$$module$build$src$core$names.PROCEDURE);var pe="";I.STATEMENT_PREFIX&&(pe+=I.injectId(I.STATEMENT_PREFIX,v)),I.STATEMENT_SUFFIX&&(pe+=I.injectId(I.STATEMENT_SUFFIX,v)),pe&&(pe=I.prefixLines(pe,I.INDENT));let rt="";I.INFINITE_LOOP_TRAP&&(rt=I.prefixLines(I.injectId(I.INFINITE_LOOP_TRAP,v),I.INDENT));const bt=I.statementToCode(v,"STACK");let Ft=I.valueToCode(v,"RETURN",C.NONE)||"",ln="";bt&&Ft&&(ln=pe),Ft&&(Ft=I.INDENT+"return "+Ft+`;
`);const Hn=[],kt=v.getVars();for(let En=0;En<kt.length;En++)Hn[En]=I.nameDB_.getName(kt[En],i.NameType$$module$build$src$core$names.VARIABLE);return pe="function "+H+"("+Hn.join(", ")+`) {
`+pe+rt+bt+ln+Ft+"}",pe=I.scrub_(v,pe),I.definitions_["%"+H]=pe,null},dt=function(v,I){const H=I.nameDB_.getName(v.getFieldValue("NAME"),i.NameType$$module$build$src$core$names.PROCEDURE),pe=[],rt=v.getVars();for(let bt=0;bt<rt.length;bt++)pe[bt]=I.valueToCode(v,"ARG"+bt,C.NONE)||"null";return[H+"("+pe.join(", ")+")",C.FUNCTION_CALL]},gt=function(v,I){return I.forBlock.procedures_callreturn(v,I)[0]+`;
`},we=function(v,I){let H="if ("+(I.valueToCode(v,"CONDITION",C.NONE)||"false")+`) {
`;return I.STATEMENT_SUFFIX&&(H+=I.prefixLines(I.injectId(I.STATEMENT_SUFFIX,v),I.INDENT)),v.hasReturnValue_?(v=I.valueToCode(v,"VALUE",C.NONE)||"null",H+=I.INDENT+"return "+v+`;
`):H+=I.INDENT+`return;
`,H+`}
`},le=function(v,I){return[I.quote_(v.getFieldValue("TEXT")),C.ATOMIC]},ce=function(v,I){return v=I.multiline_quote_(v.getFieldValue("TEXT")),I=v.indexOf("+")!==-1?C.ADDITION:C.ATOMIC,[v,I]},re=function(v,I){switch(v.itemCount_){case 0:return["''",C.ATOMIC];case 1:return v=I.valueToCode(v,"ADD0",C.NONE)||"''",qt(v);case 2:var H=I.valueToCode(v,"ADD0",C.NONE)||"''";return v=I.valueToCode(v,"ADD1",C.NONE)||"''",[qt(H)[0]+" + "+qt(v)[0],C.ADDITION];default:H=Array(v.itemCount_);for(let pe=0;pe<v.itemCount_;pe++)H[pe]=I.valueToCode(v,"ADD"+pe,C.NONE)||"''";return["["+H.join(",")+"].join('')",C.FUNCTION_CALL]}},Me=function(v,I){const H=I.nameDB_.getName(v.getFieldValue("VAR"),i.NameType$$module$build$src$core$names.VARIABLE);return v=I.valueToCode(v,"TEXT",C.NONE)||"''",H+" += "+qt(v)[0]+`;
`},Ne=function(v,I){return[(I.valueToCode(v,"VALUE",C.MEMBER)||"''")+".length",C.MEMBER]},$e=function(v,I){return["!"+(I.valueToCode(v,"VALUE",C.MEMBER)||"''")+".length",C.LOGICAL_NOT]},Fe=function(v,I){const H=v.getFieldValue("END")==="FIRST"?"indexOf":"lastIndexOf",pe=I.valueToCode(v,"FIND",C.NONE)||"''";return I=(I.valueToCode(v,"VALUE",C.MEMBER)||"''")+"."+H+"("+pe+")",v.workspace.options.oneBasedIndex?[I+" + 1",C.ADDITION]:[I,C.FUNCTION_CALL]},Le=function(v,I){const H=v.getFieldValue("WHERE")||"FROM_START",pe=I.valueToCode(v,"VALUE",H==="RANDOM"?C.NONE:C.MEMBER)||"''";switch(H){case"FIRST":return[pe+".charAt(0)",C.FUNCTION_CALL];case"LAST":return[pe+".slice(-1)",C.FUNCTION_CALL];case"FROM_START":return v=I.getAdjusted(v,"AT"),[pe+".charAt("+v+")",C.FUNCTION_CALL];case"FROM_END":return v=I.getAdjusted(v,"AT",1,!0),[pe+".slice("+v+").charAt(0)",C.FUNCTION_CALL];case"RANDOM":return[I.provideFunction_("textRandomLetter",`
function ${I.FUNCTION_NAME_PLACEHOLDER_}(text) {
  var x = Math.floor(Math.random() * text.length);
  return text[x];
}
`)+"("+pe+")",C.FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},qe=function(v,I){var H=v.getFieldValue("WHERE1");const pe=v.getFieldValue("WHERE2");var rt=H!=="FROM_END"&&H!=="LAST"&&pe!=="FROM_END"&&pe!=="LAST",bt=I.valueToCode(v,"STRING",rt?C.MEMBER:C.NONE)||"''";if(H==="FIRST"&&pe==="LAST")return[bt,C.NONE];if(bt.match(/^'?\w+'?$/)||rt){switch(H){case"FROM_START":H=I.getAdjusted(v,"AT1");break;case"FROM_END":H=I.getAdjusted(v,"AT1",1,!1,C.SUBTRACTION),H=bt+".length - "+H;break;case"FIRST":H="0";break;default:throw Error("Unhandled option (text_getSubstring).")}switch(pe){case"FROM_START":I=I.getAdjusted(v,"AT2",1);break;case"FROM_END":I=I.getAdjusted(v,"AT2",0,!1,C.SUBTRACTION),I=bt+".length - "+I;break;case"LAST":I=bt+".length";break;default:throw Error("Unhandled option (text_getSubstring).")}bt=bt+".slice("+H+", "+I+")"}else{rt=I.getAdjusted(v,"AT1"),v=I.getAdjusted(v,"AT2");const Ft={FIRST:"First",LAST:"Last",FROM_START:"FromStart",FROM_END:"FromEnd"};bt=I.provideFunction_("subsequence"+Ft[H]+Ft[pe],`
function ${I.FUNCTION_NAME_PLACEHOLDER_}(sequence${H==="FROM_END"||H==="FROM_START"?", at1":""}${pe==="FROM_END"||pe==="FROM_START"?", at2":""}) {
  var start = ${sn("sequence",H,"at1")};
  var end = ${sn("sequence",pe,"at2")} + 1;
  return sequence.slice(start, end);
}
`)+"("+bt+(H==="FROM_END"||H==="FROM_START"?", "+rt:"")+(pe==="FROM_END"||pe==="FROM_START"?", "+v:"")+")"}return[bt,C.FUNCTION_CALL]},Xe=function(v,I){const H={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[v.getFieldValue("CASE")];return v=I.valueToCode(v,"TEXT",H?C.MEMBER:C.NONE)||"''",[H?v+H:I.provideFunction_("textToTitleCase",`
function ${I.FUNCTION_NAME_PLACEHOLDER_}(str) {
  return str.replace(/\\S+/g,
      function(txt) {return txt[0].toUpperCase() + txt.substring(1).toLowerCase();});
}
`)+"("+v+")",C.FUNCTION_CALL]},at=function(v,I){const H={LEFT:".replace(/^[\\s\\xa0]+/, '')",RIGHT:".replace(/[\\s\\xa0]+$/, '')",BOTH:".trim()"}[v.getFieldValue("MODE")];return[(I.valueToCode(v,"TEXT",C.MEMBER)||"''")+H,C.FUNCTION_CALL]},Ee=function(v,I){return"window.alert("+(I.valueToCode(v,"TEXT",C.NONE)||"''")+`);
`},Ie=function(v,I){return I="window.prompt("+(v.getField("TEXT")?I.quote_(v.getFieldValue("TEXT")):I.valueToCode(v,"TEXT",C.NONE)||"''")+")",v.getFieldValue("TYPE")==="NUMBER"&&(I="Number("+I+")"),[I,C.FUNCTION_CALL]},he=function(v,I){const H=I.valueToCode(v,"TEXT",C.NONE)||"''";return v=I.valueToCode(v,"SUB",C.NONE)||"''",[I.provideFunction_("textCount",`
function ${I.FUNCTION_NAME_PLACEHOLDER_}(haystack, needle) {
  if (needle.length === 0) {
    return haystack.length + 1;
  } else {
    return haystack.split(needle).length - 1;
  }
}
`)+"("+H+", "+v+")",C.FUNCTION_CALL]},me=function(v,I){const H=I.valueToCode(v,"TEXT",C.NONE)||"''",pe=I.valueToCode(v,"FROM",C.NONE)||"''";return v=I.valueToCode(v,"TO",C.NONE)||"''",[I.provideFunction_("textReplace",`
function ${I.FUNCTION_NAME_PLACEHOLDER_}(haystack, needle, replacement) {
  needle = needle.replace(/([-()\\[\\]{}+?*.$\\^|,:#<!\\\\])/g, '\\\\$1')
                 .replace(/\\x08/g, '\\\\x08');
  return haystack.replace(new RegExp(needle, 'g'), replacement);
}
`)+"("+H+", "+pe+", "+v+")",C.FUNCTION_CALL]},Se=function(v,I){return[(I.valueToCode(v,"TEXT",C.MEMBER)||"''")+".split('').reverse().join('')",C.FUNCTION_CALL]},xe=function(v,I){return[I.nameDB_.getName(v.getFieldValue("VAR"),i.NameType$$module$build$src$core$names.VARIABLE),C.ATOMIC]},Ke=function(v,I){const H=I.valueToCode(v,"VALUE",C.ASSIGNMENT)||"0";return I.nameDB_.getName(v.getFieldValue("VAR"),i.NameType$$module$build$src$core$names.VARIABLE)+" = "+H+`;
`},C={ATOMIC:0,NEW:1.1,MEMBER:1.2,FUNCTION_CALL:2,INCREMENT:3,DECREMENT:3,BITWISE_NOT:4.1,UNARY_PLUS:4.2,UNARY_NEGATION:4.3,LOGICAL_NOT:4.4,TYPEOF:4.5,VOID:4.6,DELETE:4.7,AWAIT:4.8,EXPONENTIATION:5,MULTIPLICATION:5.1,DIVISION:5.2,MODULUS:5.3,SUBTRACTION:6.1,ADDITION:6.2,BITWISE_SHIFT:7,RELATIONAL:8,IN:8,INSTANCEOF:8,EQUALITY:9,BITWISE_AND:10,BITWISE_XOR:11,BITWISE_OR:12,LOGICAL_AND:13,LOGICAL_OR:14,CONDITIONAL:15,ASSIGNMENT:16,YIELD:17,COMMA:18,NONE:99},k=class extends i.CodeGenerator$$module$build$src$core$generator{constructor(v){super(v??"JavaScript"),this.ORDER_OVERRIDES=[[C.FUNCTION_CALL,C.MEMBER],[C.FUNCTION_CALL,C.FUNCTION_CALL],[C.MEMBER,C.MEMBER],[C.MEMBER,C.FUNCTION_CALL],[C.LOGICAL_NOT,C.LOGICAL_NOT],[C.MULTIPLICATION,C.MULTIPLICATION],[C.ADDITION,C.ADDITION],[C.LOGICAL_AND,C.LOGICAL_AND],[C.LOGICAL_OR,C.LOGICAL_OR]],this.isInitialized=!1;for(const I in C)this["ORDER_"+I]=C[I];this.addReservedWords("break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(globalThis).join(","))}init(v){super.init(v),this.nameDB_?this.nameDB_.reset():this.nameDB_=new i.Names$$module$build$src$core$names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(v.getVariableMap()),this.nameDB_.populateVariables(v),this.nameDB_.populateProcedures(v);const I=[];var H=i.allDeveloperVariables$$module$build$src$core$variables(v);for(let pe=0;pe<H.length;pe++)I.push(this.nameDB_.getName(H[pe],i.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE));for(v=i.allUsedVarModels$$module$build$src$core$variables(v),H=0;H<v.length;H++)I.push(this.nameDB_.getName(v[H].getId(),i.NameType$$module$build$src$core$names.VARIABLE));I.length&&(this.definitions_.variables="var "+I.join(", ")+";"),this.isInitialized=!0}finish(v){const I=Object.values(this.definitions_);return super.finish(v),this.isInitialized=!1,this.nameDB_.reset(),I.join(`

`)+`


`+v}scrubNakedValue(v){return v+`;
`}quote_(v){return v=v.replace(/\\/g,"\\\\").replace(/\n/g,`\\
`).replace(/'/g,"\\'"),"'"+v+"'"}multiline_quote_(v){return v.split(/\n/g).map(this.quote_).join(` + '\\n' +
`)}scrub_(v,I,H){let pe="";if(!v.outputConnection||!v.outputConnection.targetConnection){var rt=v.getCommentText();rt&&(rt=i.wrap$$module$build$src$core$utils$string(rt,this.COMMENT_WRAP-3),pe+=this.prefixLines(rt+`
`,"// "));for(let bt=0;bt<v.inputList.length;bt++)v.inputList[bt].type===i.inputTypes$$module$build$src$core$inputs$input_types.VALUE&&(rt=v.inputList[bt].connection.targetBlock())&&(rt=this.allNestedComments(rt))&&(pe+=this.prefixLines(rt,"// "))}return v=v.nextConnection&&v.nextConnection.targetBlock(),H=H?"":this.blockToCode(v),pe+I+H}getAdjusted(v,I,H,pe,rt){H=H||0,rt=rt||this.ORDER_NONE,v.workspace.options.oneBasedIndex&&H--;const bt=v.workspace.options.oneBasedIndex?"1":"0";let Ft,ln=rt;return 0<H?Ft=ln=this.ORDER_ADDITION:0>H?Ft=ln=this.ORDER_SUBTRACTION:pe&&(Ft=ln=this.ORDER_UNARY_NEGATION),v=this.valueToCode(v,I,ln)||bt,i.isNumber$$module$build$src$core$utils$string(v)?(v=Number(v)+H,pe&&(v=-v)):(0<H?v=v+" + "+H:0>H&&(v=v+" - "+-H),pe&&(v=H?"-("+v+")":"-"+v),Ft=Math.floor(Ft),rt=Math.floor(rt),Ft&&rt>=Ft&&(v="("+v+")")),v}},de={};de.colour_blend=h,de.colour_picker=l,de.colour_random=u,de.colour_rgb=a;var Ce=function(v,I,H){return I==="FIRST"?"0":I==="FROM_END"?v+".length - 1 - "+H:I==="LAST"?v+".length - 1":H},Te={};Te.lists_create_empty=p,Te.lists_create_with=m,Te.lists_getIndex=R,Te.lists_getSublist=M,Te.lists_indexOf=A,Te.lists_isEmpty=w,Te.lists_length=T,Te.lists_repeat=$,Te.lists_reverse=j,Te.lists_setIndex=L,Te.lists_sort=B,Te.lists_split=G;var Ve={};Ve.controls_if=F,Ve.controls_ifelse=F,Ve.logic_boolean=te,Ve.logic_compare=x,Ve.logic_negate=U,Ve.logic_null=Y,Ve.logic_operation=D,Ve.logic_ternary=J;var tt={};tt.controls_flow_statements=K,tt.controls_for=oe,tt.controls_forEach=X,tt.controls_repeat=ee,tt.controls_repeat_ext=ee,tt.controls_whileUntil=ue;var Et={};Et.math_arithmetic=z,Et.math_atan2=et,Et.math_change=Oe,Et.math_constant=ge,Et.math_constrain=se,Et.math_modulo=_e,Et.math_number=q,Et.math_number_property=Q,Et.math_on_list=Re,Et.math_random_float=Be,Et.math_random_int=ke,Et.math_round=ne,Et.math_single=ne,Et.math_trig=ne;var St={};St.procedures_callnoreturn=gt,St.procedures_callreturn=dt,St.procedures_defnoreturn=ut,St.procedures_defreturn=ut,St.procedures_ifreturn=we;var Bt=/^\s*'([^']|\\')*'\s*$/,qt=function(v){return Bt.test(v)?[v,C.ATOMIC]:["String("+v+")",C.FUNCTION_CALL]},sn=function(v,I,H){return I==="FIRST"?"0":I==="FROM_END"?v+".length - 1 - "+H:I==="LAST"?v+".length - 1":H},dn={};dn.text=le,dn.text_append=Me,dn.text_changeCase=Xe,dn.text_charAt=Le,dn.text_count=he,dn.text_getSubstring=qe,dn.text_indexOf=Fe,dn.text_isEmpty=$e,dn.text_join=re,dn.text_length=Ne,dn.text_multiline=ce,dn.text_print=Ee,dn.text_prompt=Ie,dn.text_prompt_ext=Ie,dn.text_replace=me,dn.text_reverse=Se,dn.text_trim=at;var y={};y.variables_get=xe,y.variables_set=Ke;var N={};N.variables_get_dynamic=xe,N.variables_set_dynamic=Ke;var S=new k;Object.assign(S.forBlock,de,Te,Ve,tt,Et,St,dn,y,N);var b={};return b.JavascriptGenerator=k,b.Order=C,b.javascriptGenerator=S,b.__namespace__=i,b})}(dT)),dT.exports}var LS;function IN(){return LS||(LS=1,function(e,o){(function(n,i){e.exports=i(id(),z4())})(Wn,function(n,i){/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */return i})}(cT)),cT.exports}var MS;function W4(){return MS||(MS=1,function(e,o){(function(n,i){e.exports=i(id(),U4(),G4(),IN())})(Wn,function(n,i,l,u){return n.setLocale(i),n})}(oT)),oT.exports}(function(e,o){(function(n,i){e.exports=i(W4())})(Wn,function(n){/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */return n})})(CN);var j4=CN.exports;const bn=xl(j4);bn.Theme.defineTheme("codemao",{base:bn.Themes.Zelos,blockStyles:{controller:{colourPrimary:"#68cdff",colourTertiary:"#5db8e5"},calculation:{colourPrimary:"#feae8a",colourTertiary:"#e49c7c"},function:{colourPrimary:"#f88767",colourTertiary:"#df795c"},utility:{colourPrimary:"#00afc3",colourTertiary:"#009daf"},variable:{colourPrimary:"#ffbb55",colourTertiary:"#e5a84c"},list:{colourPrimary:"#f9cc37",colourTertiary:"#e0b731"},dictionary:{colourPrimary:"#a073ff",colourTertiary:"#9067e5"},color:{colourPrimary:"#2bc9a7",colourTertiary:"#19b693"}},categoryStyles:{controller:{colour:"#01adff"},calculation:{colour:"#f0aa8b"},function:{colour:"#f88767"},utility:{colour:"#5ab45b"},variable:{colour:"#ffbb55"},list:{colour:"#ff9c37"},dictionary:{colour:"#2bc9a7"},color:{colour:"#2bc9a7"}}});class X4 extends bn.zelos.ConstantProvider{constructor(){super(),this.NOTCH_WIDTH=0,this.NOTCH_HEIGHT=8,this.CORNER_RADIUS=4,this.FIELD_TEXT_FONTSIZE=13,this.FIELD_TEXT_FONTWEIGHT="500",this.TOP_ROW_MIN_HEIGHT=2,this.BOTTOM_ROW_MIN_HEIGHT=2}makeNotch(){function i(a){return bn.utils.svgPaths.line([bn.utils.svgPaths.point(0,0),bn.utils.svgPaths.point(a*0,0),bn.utils.svgPaths.point(0,-0)])}const l=i(1),u=i(-1);return{width:0,height:0+this.NOTCH_HEIGHT,pathLeft:l,pathRight:u}}}class K4 extends bn.zelos.Renderer{constructor(o){super(o)}makeConstants_(){return new X4}}bn.blockRendering.register("codemao",K4);(function(){window.__iconpark__=window.__iconpark__||{};var e=JSON.parse('{"730536":{"viewBox":"0 0 72 72","fill":"none","content":"<g><defs><clipPath id=\\"a\\"><rect width=\\"72\\" height=\\"72\\" rx=\\"25\\"/></clipPath></defs><g clip-path=\\"url(#a)\\" fill-rule=\\"evenodd\\" fill=\\"#000\\"><path data-follow-fill=\\"currentColor\\" style=\\"mix-blend-mode:passthrough\\" d=\\"M21 43a3 3 0 0 1 6 0v11a3 3 0 1 1-6 0V43Zm0-25a3 3 0 0 1 6 0v11a3 3 0 1 1-6 0V18Z\\" fill=\\"currentColor\\"/><path data-follow-fill=\\"currentColor\\" style=\\"mix-blend-mode:passthrough\\" d=\\"M33 36a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-5 0q0-1.657-1.172-2.828Q25.657 32 24 32q-1.657 0-2.828 1.172Q20 34.343 20 36q0 1.657 1.172 2.828Q22.343 40 24 40q1.657 0 2.828-1.172Q28 37.657 28 36Zm16 2a3 3 0 0 1 6 0v16a3 3 0 1 1-6 0V38Zm0-20a3 3 0 0 1 6 0v6a3 3 0 1 1-6 0v-6Z\\" fill=\\"currentColor\\"/><path data-follow-fill=\\"currentColor\\" style=\\"mix-blend-mode:passthrough\\" d=\\"M56 31a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-5 0q0-1.657-1.172-2.828Q48.657 27 47 27q-1.657 0-2.828 1.172Q43 29.343 43 31q0 1.657 1.172 2.828Q45.343 35 47 35q1.657 0 2.828-1.172Q51 32.657 51 31Z\\" fill=\\"currentColor\\"/></g></g>"},"730537":{"viewBox":"0 0 72 72","fill":"none","content":"<g><defs><clipPath id=\\"a\\"><rect width=\\"72\\" height=\\"72\\" rx=\\"0\\"/></clipPath></defs><g clip-path=\\"url(#a)\\"><path data-follow-fill=\\"currentColor\\" style=\\"mix-blend-mode:passthrough\\" d=\\"M21 25h30a3 3 0 1 1 0 6H21a3 3 0 0 1 0-6Zm0 15h30a3 3 0 1 1 0 6H21a3 3 0 0 1 0-6Z\\" fill-rule=\\"evenodd\\" fill=\\"currentColor\\"/></g></g>"},"730538":{"viewBox":"0 0 72 72","fill":"none","content":"<g><defs><clipPath id=\\"a\\"><rect rx=\\"0\\" height=\\"72\\" width=\\"72\\"/></clipPath></defs><g clip-path=\\"url(#a)\\"><path fill=\\"currentColor\\" fill-rule=\\"evenodd\\" d=\\"M53.827 16.766H97.09a3 3 0 0 1 0 6H53.827a3 3 0 0 1 0-6Z\\" transform=\\"matrix(-.7071 .7071 .7674 .64117 73.901 -29.924)\\" style=\\"mix-blend-mode:passthrough\\" data-follow-fill=\\"currentColor\\"/><path fill=\\"currentColor\\" fill-rule=\\"evenodd\\" d=\\"m71.443 16.693 1.118 7.864q.282 1.982-1.136 3.396-1.418 1.413-3.4 1.125L34.75 24.245l.761 4.825a3 3 0 1 1-5.926.935L28.399 22.5q-.153-.97.158-1.896.295-.878.947-1.539.653-.66 1.527-.966.923-.322 1.894-.181l33.32 4.84-.742-5.22v-.003a3 3 0 0 1 5.94-.844v.003Z\\" transform=\\"matrix(.67663 .73632 -.79378 .6082 20.369 -15.345)\\" style=\\"mix-blend-mode:passthrough\\" data-follow-fill=\\"currentColor\\"/></g></g>"}}');for(var o in e)window.__iconpark__[o]=e[o];var n={controller:730536,calculation:730537,variable:730538};for(var i in n)window.__iconpark__[i]=e[n[i]]})();typeof globalThis!="object"&&(Object.prototype.__defineGetter__("__magic__",function(){return this}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__);(function(){var e={491:function(i){i.exports=function(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l},i.exports.default=i.exports,i.exports.__esModule=!0},946:function(i){i.exports=function(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")},i.exports.default=i.exports,i.exports.__esModule=!0},33:function(i){function l(u,a){for(var h=0;h<a.length;h++){var p=a[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(u,p.key,p)}}i.exports=function(u,a,h){return a&&l(u.prototype,a),h&&l(u,h),u},i.exports.default=i.exports,i.exports.__esModule=!0},87:function(i,l,u){function a(h,p){(p==null||p>h.length)&&(p=h.length);for(var m=0,$=new Array(p);m<p;m++)$[m]=h[m];return $}u.d(l,{Z:function(){return a}})},553:function(i,l,u){function a(h){if(h===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return h}u.d(l,{Z:function(){return a}})},4:function(i,l,u){function a(p,m,$,T,w,A,R){try{var L=p[A](R),M=L.value}catch(B){return void $(B)}L.done?m(M):Promise.resolve(M).then(T,w)}function h(p){return function(){var m=this,$=arguments;return new Promise(function(T,w){var A=p.apply(m,$);function R(M){a(A,T,w,R,L,"next",M)}function L(M){a(A,T,w,R,L,"throw",M)}R(void 0)})}}u.d(l,{Z:function(){return h}})},306:function(i,l,u){function a(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}u.d(l,{Z:function(){return a}})},439:function(i,l,u){function a(p,m){for(var $=0;$<m.length;$++){var T=m[$];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(p,T.key,T)}}function h(p,m,$){return m&&a(p.prototype,m),$&&a(p,$),p}u.d(l,{Z:function(){return h}})},110:function(i,l,u){function a(h){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(p){return p.__proto__||Object.getPrototypeOf(p)})(h)}u.d(l,{Z:function(){return a}})},961:function(i,l,u){u.d(l,{Z:function(){return h}});var a=u(765);function h(p,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");p.prototype=Object.create(m&&m.prototype,{constructor:{value:p,writable:!0,configurable:!0}}),m&&(0,a.Z)(p,m)}},662:function(i,l,u){function a(h,p){if(h!==p)throw new TypeError("Cannot instantiate an arrow function")}u.d(l,{Z:function(){return a}})},933:function(i,l,u){u.d(l,{Z:function(){return p}});var a=u(366),h=u(553);function p(m,$){return!$||(0,a.Z)($)!=="object"&&typeof $!="function"?(0,h.Z)(m):$}},765:function(i,l,u){function a(h,p){return(a=Object.setPrototypeOf||function(m,$){return m.__proto__=$,m})(h,p)}u.d(l,{Z:function(){return a}})},919:function(i,l,u){u.d(l,{Z:function(){return p}});var a=u(87),h=u(299);function p(m){return function($){if(Array.isArray($))return(0,a.Z)($)}(m)||function($){if(typeof Symbol<"u"&&$[Symbol.iterator]!=null||$["@@iterator"]!=null)return Array.from($)}(m)||(0,h.Z)(m)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},366:function(i,l,u){function a(h){return(a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}u.d(l,{Z:function(){return a}})},299:function(i,l,u){u.d(l,{Z:function(){return h}});var a=u(87);function h(p,m){if(p){if(typeof p=="string")return(0,a.Z)(p,m);var $=Object.prototype.toString.call(p).slice(8,-1);return $==="Object"&&p.constructor&&($=p.constructor.name),$==="Map"||$==="Set"?Array.from(p):$==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($)?(0,a.Z)(p,m):void 0}}},97:function(i,l,u){var a=u(945);function h(p,m,$){return typeof Reflect<"u"&&Reflect.get?(i.exports=h=Reflect.get,i.exports.default=i.exports,i.exports.__esModule=!0):(i.exports=h=function(T,w,A){var R=a(T,w);if(R){var L=Object.getOwnPropertyDescriptor(R,w);return L.get?L.get.call(A):L.value}},i.exports.default=i.exports,i.exports.__esModule=!0),h(p,m,$||p)}i.exports=h,i.exports.default=i.exports,i.exports.__esModule=!0},323:function(i){function l(u){return i.exports=l=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)},i.exports.default=i.exports,i.exports.__esModule=!0,l(u)}i.exports=l,i.exports.default=i.exports,i.exports.__esModule=!0},22:function(i,l,u){var a=u(596);i.exports=function(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),p&&a(h,p)},i.exports.default=i.exports,i.exports.__esModule=!0},836:function(i){i.exports=function(l,u){if(l!==u)throw new TypeError("Cannot instantiate an arrow function")},i.exports.default=i.exports,i.exports.__esModule=!0},246:function(i,l,u){var a=u(924).default,h=u(491);i.exports=function(p,m){return!m||a(m)!=="object"&&typeof m!="function"?h(p):m},i.exports.default=i.exports,i.exports.__esModule=!0},596:function(i){function l(u,a){return i.exports=l=Object.setPrototypeOf||function(h,p){return h.__proto__=p,h},i.exports.default=i.exports,i.exports.__esModule=!0,l(u,a)}i.exports=l,i.exports.default=i.exports,i.exports.__esModule=!0},945:function(i,l,u){var a=u(323);i.exports=function(h,p){for(;!Object.prototype.hasOwnProperty.call(h,p)&&(h=a(h))!==null;);return h},i.exports.default=i.exports,i.exports.__esModule=!0},111:function(i){i.exports=function(l,u){return u||(u=l.slice(0)),Object.freeze(Object.defineProperties(l,{raw:{value:Object.freeze(u)}}))},i.exports.default=i.exports,i.exports.__esModule=!0},924:function(i){function l(u){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?(i.exports=l=function(a){return typeof a},i.exports.default=i.exports,i.exports.__esModule=!0):(i.exports=l=function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a},i.exports.default=i.exports,i.exports.__esModule=!0),l(u)}i.exports=l,i.exports.default=i.exports,i.exports.__esModule=!0},264:function(i,l,u){i.exports=u(588)},806:function(i,l,u){u.d(l,{Vm:function(){return at},dy:function(){return ke},Jb:function(){return et},Ld:function(){return ut},sY:function(){return gt},YP:function(){return Be}});var a=u(961),h=u(933),p=u(110),m=u(919),$=u(299),T,w,A,R,L=u(306),M=u(439),B=u(366),G=u(662),j=void 0;function F(Ee){var Ie=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var he,me=(0,p.Z)(Ee);if(Ie){var Se=(0,p.Z)(this).constructor;he=Reflect.construct(me,arguments,Se)}else he=me.apply(this,arguments);return(0,h.Z)(this,he)}}function x(Ee,Ie){var he=typeof Symbol<"u"&&Ee[Symbol.iterator]||Ee["@@iterator"];if(!he){if(Array.isArray(Ee)||(he=function(k,de){if(k){if(typeof k=="string")return D(k,de);var Ce=Object.prototype.toString.call(k).slice(8,-1);return Ce==="Object"&&k.constructor&&(Ce=k.constructor.name),Ce==="Map"||Ce==="Set"?Array.from(k):Ce==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ce)?D(k,de):void 0}}(Ee))||Ie&&Ee&&typeof Ee.length=="number"){he&&(Ee=he);var me=0,Se=function(){};return{s:Se,n:function(){return me>=Ee.length?{done:!0}:{done:!1,value:Ee[me++]}},e:function(k){throw k},f:Se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xe,Ke=!0,C=!1;return{s:function(){he=he.call(Ee)},n:function(){var k=he.next();return Ke=k.done,k},e:function(k){C=!0,xe=k},f:function(){try{Ke||he.return==null||he.return()}finally{if(C)throw xe}}}}function D(Ee,Ie){(Ie==null||Ie>Ee.length)&&(Ie=Ee.length);for(var he=0,me=new Array(Ie);he<Ie;he++)me[he]=Ee[he];return me}var U=globalThis.trustedTypes,te=U?U.createPolicy("lit-html",{createHTML:(function(Ee){return(0,G.Z)(this,j),Ee}).bind(void 0)}):void 0,Y="lit$".concat((Math.random()+"").slice(9),"$"),J="?"+Y,ee="<".concat(J,">"),ue=document,oe=(function(){var Ee=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return(0,G.Z)(this,j),ue.createComment(Ee)}).bind(void 0),X=(function(Ee){return(0,G.Z)(this,j),Ee===null||(0,B.Z)(Ee)!="object"&&typeof Ee!="function"}).bind(void 0),K=Array.isArray,q=(function(Ee){var Ie;return(0,G.Z)(this,j),K(Ee)||typeof((Ie=Ee)===null||Ie===void 0?void 0:Ie[Symbol.iterator])=="function"}).bind(void 0),z=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,ne=/-->/g,ge=/>/g,Q=/>|[ 	\n\r](?:([^\s"'>=/]+)([ 	\n\r]*=[ 	\n\r]*(?:[^ 	\n\r"'`<>=]|("|')|))|$)/g,Oe=/'/g,Re=/"/g,_e=/^(?:script|style|textarea)$/i,se=(function(Ee){var Ie=this;return(0,G.Z)(this,j),(function(he){(0,G.Z)(this,Ie);for(var me=arguments.length,Se=new Array(me>1?me-1:0),xe=1;xe<me;xe++)Se[xe-1]=arguments[xe];return{_$litType$:Ee,strings:he,values:Se}}).bind(this)}).bind(void 0),ke=se(1),Be=se(2),et=Symbol.for("lit-noChange"),ut=Symbol.for("lit-nothing"),dt=new WeakMap,gt=(function(Ee,Ie,he){var me,Se;(0,G.Z)(this,j);var xe=(me=he==null?void 0:he.renderBefore)!==null&&me!==void 0?me:Ie,Ke=xe._$litPart$;if(Ke===void 0){var C=(Se=he==null?void 0:he.renderBefore)!==null&&Se!==void 0?Se:null;xe._$litPart$=Ke=new Ne(Ie.insertBefore(oe(),C),C,void 0,he)}return Ke.I(Ee),Ke}).bind(void 0),we=ue.createTreeWalker(ue,129,null,!1),le=(function(Ee,Ie){(0,G.Z)(this,j);for(var he,me=Ee.length-1,Se=[],xe=Ie===2?"<svg>":"",Ke=z,C=0;C<me;C++){for(var k=Ee[C],de=void 0,Ce=void 0,Te=-1,Ve=0;Ve<k.length&&(Ke.lastIndex=Ve,(Ce=Ke.exec(k))!==null);)Ve=Ke.lastIndex,Ke===z?Ce[1]==="!--"?Ke=ne:Ce[1]!==void 0?Ke=ge:Ce[2]!==void 0?(_e.test(Ce[2])&&(he=RegExp("</"+Ce[2],"g")),Ke=Q):Ce[3]!==void 0&&(Ke=Q):Ke===Q?Ce[0]===">"?(Ke=he??z,Te=-1):Ce[1]===void 0?Te=-2:(Te=Ke.lastIndex-Ce[2].length,de=Ce[1],Ke=Ce[3]===void 0?Q:Ce[3]==='"'?Re:Oe):Ke===Re||Ke===Oe?Ke=Q:Ke===ne||Ke===ge?Ke=z:(Ke=Q,he=void 0);var tt=Ke===Q&&Ee[C+1].startsWith("/>")?" ":"";xe+=Ke===z?k+ee:Te>=0?(Se.push(de),k.slice(0,Te)+"$lit$"+k.slice(Te)+Y+tt):k+Y+(Te===-2?(Se.push(void 0),C):tt)}var Et=xe+(Ee[me]||"<?>")+(Ie===2?"</svg>":"");return[te!==void 0?te.createHTML(Et):Et,Se]}).bind(void 0),ce=function(){function Ee(Ie,he){var me,Se=Ie.strings,xe=Ie._$litType$;(0,L.Z)(this,Ee),this.parts=[];var Ke=0,C=0,k=Se.length-1,de=this.parts,Ce=function(bt,Ft){return function(ln){if(Array.isArray(ln))return ln}(bt)||function(ln,Hn){var kt=ln&&(typeof Symbol<"u"&&ln[Symbol.iterator]||ln["@@iterator"]);if(kt!=null){var En,On,hr=[],br=!0,jr=!1;try{for(kt=kt.call(ln);!(br=(En=kt.next()).done)&&(hr.push(En.value),!Hn||hr.length!==Hn);br=!0);}catch(xi){jr=!0,On=xi}finally{try{br||kt.return==null||kt.return()}finally{if(jr)throw On}}return hr}}(bt,Ft)||(0,$.Z)(bt,Ft)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}(le(Se,xe),2),Te=Ce[0],Ve=Ce[1];if(this.el=Ee.createElement(Te,he),we.currentNode=this.el.content,xe===2){var tt=this.el.content,Et=tt.firstChild;Et.remove(),tt.append.apply(tt,(0,m.Z)(Et.childNodes))}for(;(me=we.nextNode())!==null&&de.length<k;){if(me.nodeType===1){if(me.hasAttributes()){var St,Bt=[],qt=x(me.getAttributeNames());try{for(qt.s();!(St=qt.n()).done;){var sn=St.value;if(sn.endsWith("$lit$")||sn.startsWith(Y)){var dn=Ve[C++];if(Bt.push(sn),dn!==void 0){var y=me.getAttribute(dn.toLowerCase()+"$lit$").split(Y),N=/([.?@])?(.*)/.exec(dn);de.push({type:1,index:Ke,name:N[2],strings:y,ctor:N[1]==="."?Fe:N[1]==="?"?Le:N[1]==="@"?qe:$e})}else de.push({type:6,index:Ke})}}}catch(bt){qt.e(bt)}finally{qt.f()}for(var S=0,b=Bt;S<b.length;S++){var v=b[S];me.removeAttribute(v)}}if(_e.test(me.tagName)){var I=me.textContent.split(Y),H=I.length-1;if(H>0){me.textContent=U?U.emptyScript:"";for(var pe=0;pe<H;pe++)me.append(I[pe],oe()),we.nextNode(),de.push({type:2,index:++Ke});me.append(I[H],oe())}}}else if(me.nodeType===8)if(me.data===J)de.push({type:2,index:Ke});else for(var rt=-1;(rt=me.data.indexOf(Y,rt+1))!==-1;)de.push({type:7,index:Ke}),rt+=Y.length-1;Ke++}}return(0,M.Z)(Ee,null,[{key:"createElement",value:function(Ie,he){var me=ue.createElement("template");return me.innerHTML=Ie,me}}]),Ee}();function re(Ee,Ie){var he,me,Se,xe,Ke=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ee,C=arguments.length>3?arguments[3]:void 0;if(Ie===et)return Ie;var k=C!==void 0?(he=Ke.Σi)===null||he===void 0?void 0:he[C]:Ke.Σo,de=X(Ie)?void 0:Ie._$litDirective$;return(k==null?void 0:k.constructor)!==de&&((me=k==null?void 0:k.O)===null||me===void 0||me.call(k,!1),de===void 0?k=void 0:(k=new de(Ee)).T(Ee,Ke,C),C!==void 0?((Se=(xe=Ke).Σi)!==null&&Se!==void 0?Se:xe.Σi=[])[C]=k:Ke.Σo=k),k!==void 0&&(Ie=re(Ee,k.S(Ee,Ie.values),k,C)),Ie}var Me=function(){function Ee(Ie,he){(0,L.Z)(this,Ee),this.l=[],this.N=void 0,this.D=Ie,this.M=he}return(0,M.Z)(Ee,[{key:"u",value:function(Ie){var he,me=this.D,Se=me.el.content,xe=me.parts,Ke=((he=Ie==null?void 0:Ie.creationScope)!==null&&he!==void 0?he:ue).importNode(Se,!0);we.currentNode=Ke;for(var C=we.nextNode(),k=0,de=0,Ce=xe[0];Ce!==void 0;){if(k===Ce.index){var Te=void 0;Ce.type===2?Te=new Ne(C,C.nextSibling,this,Ie):Ce.type===1?Te=new Ce.ctor(C,Ce.name,Ce.strings,this,Ie):Ce.type===6&&(Te=new Xe(C,this,Ie)),this.l.push(Te),Ce=xe[++de]}k!==(Ce==null?void 0:Ce.index)&&(C=we.nextNode(),k++)}return Ke}},{key:"v",value:function(Ie){var he,me=0,Se=x(this.l);try{for(Se.s();!(he=Se.n()).done;){var xe=he.value;xe!==void 0&&(xe.strings!==void 0?(xe.I(Ie,xe,me),me+=xe.strings.length-2):xe.I(Ie[me])),me++}}catch(Ke){Se.e(Ke)}finally{Se.f()}}}]),Ee}(),Ne=function(){function Ee(Ie,he,me,Se){(0,L.Z)(this,Ee),this.type=2,this.N=void 0,this.A=Ie,this.B=he,this.M=me,this.options=Se}return(0,M.Z)(Ee,[{key:"setConnected",value:function(Ie){var he;(he=this.P)===null||he===void 0||he.call(this,Ie)}},{key:"parentNode",get:function(){return this.A.parentNode}},{key:"startNode",get:function(){return this.A}},{key:"endNode",get:function(){return this.B}},{key:"I",value:function(Ie){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;Ie=re(this,Ie,he),X(Ie)?Ie===ut||Ie==null||Ie===""?(this.H!==ut&&this.R(),this.H=ut):Ie!==this.H&&Ie!==et&&this.m(Ie):Ie._$litType$!==void 0?this._(Ie):Ie.nodeType!==void 0?this.$(Ie):q(Ie)?this.g(Ie):this.m(Ie)}},{key:"k",value:function(Ie){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.B;return this.A.parentNode.insertBefore(Ie,he)}},{key:"$",value:function(Ie){this.H!==Ie&&(this.R(),this.H=this.k(Ie))}},{key:"m",value:function(Ie){var he=this.A.nextSibling;he!==null&&he.nodeType===3&&(this.B===null?he.nextSibling===null:he===this.B.previousSibling)?he.data=Ie:this.$(ue.createTextNode(Ie)),this.H=Ie}},{key:"_",value:function(Ie){var he,me=Ie.values,Se=Ie._$litType$,xe=typeof Se=="number"?this.C(Ie):(Se.el===void 0&&(Se.el=ce.createElement(Se.h,this.options)),Se);if(((he=this.H)===null||he===void 0?void 0:he.D)===xe)this.H.v(me);else{var Ke=new Me(xe,this),C=Ke.u(this.options);Ke.v(me),this.$(C),this.H=Ke}}},{key:"C",value:function(Ie){var he=dt.get(Ie.strings);return he===void 0&&dt.set(Ie.strings,he=new ce(Ie)),he}},{key:"g",value:function(Ie){K(this.H)||(this.H=[],this.R());var he,me,Se=this.H,xe=0,Ke=x(Ie);try{for(Ke.s();!(me=Ke.n()).done;){var C=me.value;xe===Se.length?Se.push(he=new Ee(this.k(oe()),this.k(oe()),this,this.options)):he=Se[xe],he.I(C),xe++}}catch(k){Ke.e(k)}finally{Ke.f()}xe<Se.length&&(this.R(he&&he.B.nextSibling,xe),Se.length=xe)}},{key:"R",value:function(){var Ie,he=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.A.nextSibling,me=arguments.length>1?arguments[1]:void 0;for((Ie=this.P)===null||Ie===void 0||Ie.call(this,!1,!0,me);he&&he!==this.B;){var Se=he.nextSibling;he.remove(),he=Se}}}]),Ee}(),$e=function(){function Ee(Ie,he,me,Se,xe){(0,L.Z)(this,Ee),this.type=1,this.H=ut,this.N=void 0,this.V=void 0,this.element=Ie,this.name=he,this.M=Se,this.options=xe,me.length>2||me[0]!==""||me[1]!==""?(this.H=Array(me.length-1).fill(ut),this.strings=me):this.H=ut}return(0,M.Z)(Ee,[{key:"tagName",get:function(){return this.element.tagName}},{key:"I",value:function(Ie){var he=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this,me=arguments.length>2?arguments[2]:void 0,Se=arguments.length>3?arguments[3]:void 0,xe=this.strings,Ke=!1;if(xe===void 0)Ie=re(this,Ie,he,0),(Ke=!X(Ie)||Ie!==this.H&&Ie!==et)&&(this.H=Ie);else{var C,k,de=Ie;for(Ie=xe[0],C=0;C<xe.length-1;C++)(k=re(this,de[me+C],he,C))===et&&(k=this.H[C]),Ke||(Ke=!X(k)||k!==this.H[C]),k===ut?Ie=ut:Ie!==ut&&(Ie+=(k??"")+xe[C+1]),this.H[C]=k}Ke&&!Se&&this.W(Ie)}},{key:"W",value:function(Ie){Ie===ut?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,Ie??"")}}]),Ee}(),Fe=function(Ee){(0,a.Z)(he,Ee);var Ie=F(he);function he(){var me;return(0,L.Z)(this,he),(me=Ie.apply(this,arguments)).type=3,me}return(0,M.Z)(he,[{key:"W",value:function(me){this.element[this.name]=me===ut?void 0:me}}]),he}($e),Le=function(Ee){(0,a.Z)(he,Ee);var Ie=F(he);function he(){var me;return(0,L.Z)(this,he),(me=Ie.apply(this,arguments)).type=4,me}return(0,M.Z)(he,[{key:"W",value:function(me){me&&me!==ut?this.element.setAttribute(this.name,""):this.element.removeAttribute(this.name)}}]),he}($e),qe=function(Ee){(0,a.Z)(he,Ee);var Ie=F(he);function he(){var me;return(0,L.Z)(this,he),(me=Ie.apply(this,arguments)).type=5,me}return(0,M.Z)(he,[{key:"I",value:function(me){var Se,xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this;if((me=(Se=re(this,me,xe,0))!==null&&Se!==void 0?Se:ut)!==et){var Ke=this.H,C=me===ut&&Ke!==ut||me.capture!==Ke.capture||me.once!==Ke.once||me.passive!==Ke.passive,k=me!==ut&&(Ke===ut||C);C&&this.element.removeEventListener(this.name,this,Ke),k&&this.element.addEventListener(this.name,this,me),this.H=me}}},{key:"handleEvent",value:function(me){var Se,xe;typeof this.H=="function"?this.H.call((xe=(Se=this.options)===null||Se===void 0?void 0:Se.host)!==null&&xe!==void 0?xe:this.element,me):this.H.handleEvent(me)}}]),he}($e),Xe=function(){function Ee(Ie,he,me){(0,L.Z)(this,Ee),this.element=Ie,this.type=6,this.N=void 0,this.V=void 0,this.M=he,this.options=me}return(0,M.Z)(Ee,[{key:"I",value:function(Ie){re(this,Ie)}}]),Ee}(),at={Z:"$lit$",U:Y,Y:J,q:1,X:le,tt:Me,it:q,st:re,et:Ne,ot:$e,nt:Le,rt:qe,lt:Fe,ht:Xe};(w=(T=globalThis).litHtmlPlatformSupport)===null||w===void 0||w.call(T,ce,Ne),((A=(R=globalThis).litHtmlVersions)!==null&&A!==void 0?A:R.litHtmlVersions=[]).push("2.0.0-rc.2")},318:function(i,l,u){u.r(l),u.d(l,{customElement:function(){return h},eventOptions:function(){return F},property:function(){return w},query:function(){return D},queryAll:function(){return U},queryAssignedNodes:function(){return oe},queryAsync:function(){return J},state:function(){return L}});var a=u(662),h=(function(X){var K=this;return(0,a.Z)(this,void 0),(function(q){var z=this;return(0,a.Z)(this,K),typeof q=="function"?(function(ne,ge){return(0,a.Z)(this,z),window.customElements.define(ne,ge),ge}).bind(this)(X,q):(function(ne,ge){return(0,a.Z)(this,z),{kind:ge.kind,elements:ge.elements,finisher:function(Q){window.customElements.define(ne,Q)}}}).bind(this)(X,q)}).bind(this)}).bind(void 0);function p(X,K,q){return K in X?Object.defineProperty(X,K,{value:q,enumerable:!0,configurable:!0,writable:!0}):X[K]=q,X}function m(X,K){var q=Object.keys(X);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(X);K&&(z=z.filter(function(ne){return Object.getOwnPropertyDescriptor(X,ne).enumerable})),q.push.apply(q,z)}return q}function $(X){for(var K=1;K<arguments.length;K++){var q=arguments[K]!=null?arguments[K]:{};K%2?m(Object(q),!0).forEach(function(z){p(X,z,q[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(X,Object.getOwnPropertyDescriptors(q)):m(Object(q)).forEach(function(z){Object.defineProperty(X,z,Object.getOwnPropertyDescriptor(q,z))})}return X}var T=(function(X,K){return(0,a.Z)(this,void 0),K.kind==="method"&&K.descriptor&&!("value"in K.descriptor)?$($({},K),{},{finisher:function(q){q.createProperty(K.key,X)}}):{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:K.key,initializer:function(){typeof K.initializer=="function"&&(this[K.key]=K.initializer.call(this))},finisher:function(q){q.createProperty(K.key,X)}}}).bind(void 0);function w(X){var K=this;return(function(q,z){var ne=this;return(0,a.Z)(this,K),z!==void 0?(function(ge,Q,Oe){(0,a.Z)(this,ne),Q.constructor.createProperty(Oe,ge)}).bind(this)(X,q,z):T(X,q)}).bind(this)}function A(X,K){var q=Object.keys(X);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(X);K&&(z=z.filter(function(ne){return Object.getOwnPropertyDescriptor(X,ne).enumerable})),q.push.apply(q,z)}return q}function R(X){for(var K=1;K<arguments.length;K++){var q=arguments[K]!=null?arguments[K]:{};K%2?A(Object(q),!0).forEach(function(z){p(X,z,q[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(X,Object.getOwnPropertyDescriptors(q)):A(Object(q)).forEach(function(z){Object.defineProperty(X,z,Object.getOwnPropertyDescriptor(q,z))})}return X}function L(X){return w(R(R({},X),{},{state:!0,attribute:!1}))}var M=void 0;function B(X,K){var q=Object.keys(X);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(X);K&&(z=z.filter(function(ne){return Object.getOwnPropertyDescriptor(X,ne).enumerable})),q.push.apply(q,z)}return q}function G(X){for(var K=1;K<arguments.length;K++){var q=arguments[K]!=null?arguments[K]:{};K%2?B(Object(q),!0).forEach(function(z){p(X,z,q[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(X,Object.getOwnPropertyDescriptors(q)):B(Object(q)).forEach(function(z){Object.defineProperty(X,z,Object.getOwnPropertyDescriptor(q,z))})}return X}(function(X,K,q){(0,a.Z)(this,M),Object.defineProperty(K,q,X)}).bind(void 0),(function(X,K){return(0,a.Z)(this,M),{kind:"method",placement:"prototype",key:K.key,descriptor:X}}).bind(void 0);var j=(function(X){var K=this,q=X.finisher,z=X.descriptor;return(0,a.Z)(this,M),(function(ne,ge){var Q;if((0,a.Z)(this,K),ge===void 0){var Oe=(Q=ne.originalKey)!==null&&Q!==void 0?Q:ne.key,Re=z!=null?{kind:"method",placement:"prototype",key:Oe,descriptor:z(ne.key)}:G(G({},ne),{},{key:Oe});return q!=null&&(Re.finisher=function(se){q(se,Oe)}),Re}var _e=ne.constructor;z!==void 0&&Object.defineProperty(ne,ge,z(ge)),q==null||q(_e,ge)}).bind(this)}).bind(void 0);function F(X){var K=this;return j({finisher:(function(q,z){(0,a.Z)(this,K),Object.assign(q.prototype[z],X)}).bind(this)})}var x=u(366);function D(X,K){var q=this;return j({descriptor:(function(z){(0,a.Z)(this,q);var ne={get:function(){var Q;return(Q=this.renderRoot)===null||Q===void 0?void 0:Q.querySelector(X)},enumerable:!0,configurable:!0};if(K){var ge=(0,x.Z)(z)=="symbol"?Symbol():"__"+z;ne.get=function(){var Q;return this[ge]===void 0&&(this[ge]=(Q=this.renderRoot)===null||Q===void 0?void 0:Q.querySelector(X)),this[ge]}}return ne}).bind(this)})}function U(X){var K=this;return j({descriptor:(function(q){return(0,a.Z)(this,K),{get:function(){var z;return(z=this.renderRoot)===null||z===void 0?void 0:z.querySelectorAll(X)},enumerable:!0,configurable:!0}}).bind(this)})}var te=u(4),Y=u(264);function J(X){var K=this;return j({descriptor:(function(q){return(0,a.Z)(this,K),{get:function(){var z=this;return(0,te.Z)(Y.mark(function ne(){var ge;return Y.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,z.updateComplete;case 2:return Q.abrupt("return",(ge=z.renderRoot)===null||ge===void 0?void 0:ge.querySelector(X));case 3:case"end":return Q.stop()}},ne)}))()},enumerable:!0,configurable:!0}}).bind(this)})}var ee=Element.prototype,ue=ee.msMatchesSelector||ee.webkitMatchesSelector;function oe(){var X=this,K=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",q=arguments.length>1&&arguments[1]!==void 0&&arguments[1],z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"";return j({descriptor:(function(ne){return(0,a.Z)(this,X),{get:function(){var ge,Q,Oe=this,Re="slot"+(K?"[name=".concat(K,"]"):":not([name])"),_e=(Q=(ge=this.renderRoot)===null||ge===void 0?void 0:ge.querySelector(Re))===null||Q===void 0?void 0:Q.assignedNodes({flatten:q});return _e&&z&&(_e=_e.filter((function(se){return(0,a.Z)(this,Oe),se.nodeType===Node.ELEMENT_NODE&&(se.matches?se.matches(z):ue.call(se,z))}).bind(this))),_e},enumerable:!0,configurable:!0}}).bind(this)})}},544:function(i,l,u){u.r(l),u.d(l,{unsafeSVG:function(){return G}});var a=u(306),h=u(961),p=u(933),m=u(110),$=u(919),T=u(439),w=u(662),A=(function(j){var F=this;return(0,w.Z)(this,void 0),(function(){(0,w.Z)(this,F);for(var x=arguments.length,D=new Array(x),U=0;U<x;U++)D[U]=arguments[U];return{_$litDirective$:j,values:D}}).bind(this)}).bind(void 0),R=function(){function j(F){(0,a.Z)(this,j)}return(0,T.Z)(j,[{key:"T",value:function(F,x,D){this.Σdt=F,this.M=x,this.Σct=D}},{key:"S",value:function(F,x){return this.update(F,x)}},{key:"update",value:function(F,x){return this.render.apply(this,(0,$.Z)(x))}}]),j}(),L=u(806),M=function(j){(0,h.Z)(U,j);var F,x,D=(F=U,x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var te,Y=(0,m.Z)(F);if(x){var J=(0,m.Z)(this).constructor;te=Reflect.construct(Y,arguments,J)}else te=Y.apply(this,arguments);return(0,p.Z)(this,te)});function U(te){var Y;if((0,a.Z)(this,U),(Y=D.call(this,te)).vt=L.Ld,te.type!==2)throw Error(Y.constructor.directiveName+"() can only be used in child bindings");return(0,p.Z)(Y)}return(0,T.Z)(U,[{key:"render",value:function(te){if(te===L.Ld)return this.Vt=void 0,this.vt=te;if(te===L.Jb)return te;if(typeof te!="string")throw Error(this.constructor.directiveName+"() called with a non-string value");if(te===this.vt)return this.Vt;this.vt=te;var Y=[te];return Y.raw=Y,this.Vt={_$litType$:this.constructor.resultType,strings:Y,values:[]}}}]),U}(R);M.directiveName="unsafeHTML",M.resultType=1,A(M);var B=function(j){(0,h.Z)(U,j);var F,x,D=(F=U,x=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var te,Y=(0,m.Z)(F);if(x){var J=(0,m.Z)(this).constructor;te=Reflect.construct(Y,arguments,J)}else te=Y.apply(this,arguments);return(0,p.Z)(this,te)});function U(){return(0,a.Z)(this,U),D.apply(this,arguments)}return U}(M);B.directiveName="unsafeSVG",B.resultType=2;var G=A(B)},523:function(i,l,u){u.r(l),u.d(l,{CSSResult:function(){return oe},LitElement:function(){return Me},ReactiveElement:function(){return se},UpdatingElement:function(){return re},_Σ:function(){return a.Vm},_Φ:function(){return Ne},adoptStyles:function(){return z},css:function(){return q},defaultConverter:function(){return Oe},getCompatibleStyle:function(){return ne},html:function(){return a.dy},noChange:function(){return a.Jb},notEqual:function(){return Re},nothing:function(){return a.Ld},render:function(){return a.sY},supportsAdoptingStyleSheets:function(){return ee},svg:function(){return a.YP},unsafeCSS:function(){return X}});var a=u(806),h=u(919),p=u(366),m=u(4),$=u(306),T=u(439),w=u(961),A=u(933),R=u(110),L=u(765);function M(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function B($e,Fe,Le){return(B=M()?Reflect.construct:function(qe,Xe,at){var Ee=[null];Ee.push.apply(Ee,Xe);var Ie=new(Function.bind.apply(qe,Ee));return at&&(0,L.Z)(Ie,at.prototype),Ie}).apply(null,arguments)}function G($e){var Fe=typeof Map=="function"?new Map:void 0;return(G=function(Le){if(Le===null||(qe=Le,Function.toString.call(qe).indexOf("[native code]")===-1))return Le;var qe;if(typeof Le!="function")throw new TypeError("Super expression must either be null or a function");if(Fe!==void 0){if(Fe.has(Le))return Fe.get(Le);Fe.set(Le,Xe)}function Xe(){return B(Le,arguments,(0,R.Z)(this).constructor)}return Xe.prototype=Object.create(Le.prototype,{constructor:{value:Xe,enumerable:!1,writable:!0,configurable:!0}}),(0,L.Z)(Xe,Le)})($e)}var j=u(662),F=u(264),x=void 0;function D($e,Fe){(Fe==null||Fe>$e.length)&&(Fe=$e.length);for(var Le=0,qe=new Array(Fe);Le<Fe;Le++)qe[Le]=$e[Le];return qe}var U,te,Y,J,ee=window.ShadowRoot&&(window.ShadyCSS===void 0||window.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,ue=Symbol(),oe=function(){function $e(Fe,Le){if((0,$.Z)(this,$e),Le!==ue)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=Fe}return(0,T.Z)($e,[{key:"styleSheet",get:function(){return ee&&this.t===void 0&&(this.t=new CSSStyleSheet,this.t.replaceSync(this.cssText)),this.t}},{key:"toString",value:function(){return this.cssText}}]),$e}(),X=(function($e){return(0,j.Z)(this,x),new oe($e+"",ue)}).bind(void 0),K=new Map,q=(function($e){var Fe=this;(0,j.Z)(this,x);for(var Le=arguments.length,qe=new Array(Le>1?Le-1:0),Xe=1;Xe<Le;Xe++)qe[Xe-1]=arguments[Xe];var at=qe.reduce((function(Ie,he,me){var Se=this;return(0,j.Z)(this,Fe),Ie+(function(xe){if((0,j.Z)(this,Se),xe instanceof oe)return xe.cssText;if(typeof xe=="number")return xe;throw Error("Value passed to 'css' function must be a 'css' function result: ".concat(xe,`. Use 'unsafeCSS' to pass non-literal values, but
            take care to ensure page security.`))}).bind(this)(he)+$e[me+1]}).bind(this),$e[0]),Ee=K.get(at);return Ee===void 0&&K.set(at,Ee=new oe(at,ue)),Ee}).bind(void 0),z=(function($e,Fe){var Le=this;(0,j.Z)(this,x),ee?$e.adoptedStyleSheets=Fe.map((function(qe){return(0,j.Z)(this,Le),qe instanceof CSSStyleSheet?qe:qe.styleSheet}).bind(this)):Fe.forEach((function(qe){(0,j.Z)(this,Le);var Xe=document.createElement("style");Xe.textContent=qe.cssText,$e.appendChild(Xe)}).bind(this))}).bind(void 0),ne=ee?(function($e){return(0,j.Z)(this,x),$e}).bind(void 0):(function($e){var Fe=this;return(0,j.Z)(this,x),$e instanceof CSSStyleSheet?(function(Le){(0,j.Z)(this,Fe);var qe,Xe="",at=function(Ee,Ie){var he=typeof Symbol<"u"&&Ee[Symbol.iterator]||Ee["@@iterator"];if(!he){if(Array.isArray(Ee)||(he=function(k,de){if(k){if(typeof k=="string")return D(k,de);var Ce=Object.prototype.toString.call(k).slice(8,-1);return Ce==="Object"&&k.constructor&&(Ce=k.constructor.name),Ce==="Map"||Ce==="Set"?Array.from(k):Ce==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ce)?D(k,de):void 0}}(Ee))||Ie&&Ee&&typeof Ee.length=="number"){he&&(Ee=he);var me=0,Se=function(){};return{s:Se,n:function(){return me>=Ee.length?{done:!0}:{done:!1,value:Ee[me++]}},e:function(k){throw k},f:Se}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var xe,Ke=!0,C=!1;return{s:function(){he=he.call(Ee)},n:function(){var k=he.next();return Ke=k.done,k},e:function(k){C=!0,xe=k},f:function(){try{Ke||he.return==null||he.return()}finally{if(C)throw xe}}}}(Le.cssRules);try{for(at.s();!(qe=at.n()).done;)Xe+=qe.value.cssText}catch(Ee){at.e(Ee)}finally{at.f()}return X(Xe)}).bind(this)($e):$e}).bind(void 0);function ge($e,Fe){var Le=typeof Symbol<"u"&&$e[Symbol.iterator]||$e["@@iterator"];if(!Le){if(Array.isArray($e)||(Le=function(he,me){if(he){if(typeof he=="string")return Q(he,me);var Se=Object.prototype.toString.call(he).slice(8,-1);return Se==="Object"&&he.constructor&&(Se=he.constructor.name),Se==="Map"||Se==="Set"?Array.from(he):Se==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Se)?Q(he,me):void 0}}($e))||Fe&&$e&&typeof $e.length=="number"){Le&&($e=Le);var qe=0,Xe=function(){};return{s:Xe,n:function(){return qe>=$e.length?{done:!0}:{done:!1,value:$e[qe++]}},e:function(he){throw he},f:Xe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var at,Ee=!0,Ie=!1;return{s:function(){Le=Le.call($e)},n:function(){var he=Le.next();return Ee=he.done,he},e:function(he){Ie=!0,at=he},f:function(){try{Ee||Le.return==null||Le.return()}finally{if(Ie)throw at}}}}function Q($e,Fe){(Fe==null||Fe>$e.length)&&(Fe=$e.length);for(var Le=0,qe=new Array(Fe);Le<Fe;Le++)qe[Le]=$e[Le];return qe}var Oe={toAttribute:function($e,Fe){switch(Fe){case Boolean:$e=$e?"":null;break;case Object:case Array:$e=$e==null?$e:JSON.stringify($e)}return $e},fromAttribute:function($e,Fe){var Le=$e;switch(Fe){case Boolean:Le=$e!==null;break;case Number:Le=$e===null?null:Number($e);break;case Object:case Array:try{Le=JSON.parse($e)}catch{Le=null}}return Le}},Re=(function($e,Fe){return(0,j.Z)(this,void 0),Fe!==$e&&(Fe==Fe||$e==$e)}).bind(void 0),_e={attribute:!0,type:String,converter:Oe,reflect:!1,hasChanged:Re},se=function($e){(0,w.Z)(at,$e);var Fe,Le,qe,Xe=(Le=at,qe=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var Ee,Ie=(0,R.Z)(Le);if(qe){var he=(0,R.Z)(this).constructor;Ee=Reflect.construct(Ie,arguments,he)}else Ee=Ie.apply(this,arguments);return(0,A.Z)(this,Ee)});function at(){var Ee;return(0,$.Z)(this,at),(Ee=Xe.call(this)).Πi=new Map,Ee.Πo=void 0,Ee.Πl=void 0,Ee.isUpdatePending=!1,Ee.hasUpdated=!1,Ee.Πh=null,Ee.u(),Ee}return(0,T.Z)(at,[{key:"u",value:function(){var Ee,Ie=this;this.Πg=new Promise((function(he){return(0,j.Z)(this,Ie),this.enableUpdating=he}).bind(this)),this.L=new Map,this.Π_(),this.requestUpdate(),(Ee=this.constructor.v)===null||Ee===void 0||Ee.forEach((function(he){return(0,j.Z)(this,Ie),he(this)}).bind(this))}},{key:"addController",value:function(Ee){var Ie,he;((Ie=this.ΠU)!==null&&Ie!==void 0?Ie:this.ΠU=[]).push(Ee),this.renderRoot!==void 0&&this.isConnected&&((he=Ee.hostConnected)===null||he===void 0||he.call(Ee))}},{key:"removeController",value:function(Ee){var Ie;(Ie=this.ΠU)===null||Ie===void 0||Ie.splice(this.ΠU.indexOf(Ee)>>>0,1)}},{key:"Π_",value:function(){var Ee=this;this.constructor.elementProperties.forEach((function(Ie,he){(0,j.Z)(this,Ee),this.hasOwnProperty(he)&&(this.Πi.set(he,this[he]),delete this[he])}).bind(this))}},{key:"createRenderRoot",value:function(){var Ee,Ie=(Ee=this.shadowRoot)!==null&&Ee!==void 0?Ee:this.attachShadow(this.constructor.shadowRootOptions);return z(Ie,this.constructor.elementStyles),Ie}},{key:"connectedCallback",value:function(){var Ee,Ie=this;this.renderRoot===void 0&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(Ee=this.ΠU)===null||Ee===void 0||Ee.forEach((function(he){var me;return(0,j.Z)(this,Ie),(me=he.hostConnected)===null||me===void 0?void 0:me.call(he)}).bind(this)),this.Πl&&(this.Πl(),this.Πo=this.Πl=void 0)}},{key:"enableUpdating",value:function(Ee){}},{key:"disconnectedCallback",value:function(){var Ee,Ie=this;(Ee=this.ΠU)===null||Ee===void 0||Ee.forEach((function(he){var me;return(0,j.Z)(this,Ie),(me=he.hostDisconnected)===null||me===void 0?void 0:me.call(he)}).bind(this)),this.Πo=new Promise((function(he){return(0,j.Z)(this,Ie),this.Πl=he}).bind(this))}},{key:"attributeChangedCallback",value:function(Ee,Ie,he){this.K(Ee,he)}},{key:"Πj",value:function(Ee,Ie){var he,me,Se=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_e,xe=this.constructor.Πp(Ee,Se);if(xe!==void 0&&Se.reflect===!0){var Ke=((me=(he=Se.converter)===null||he===void 0?void 0:he.toAttribute)!==null&&me!==void 0?me:Oe.toAttribute)(Ie,Se.type);this.Πh=Ee,Ke==null?this.removeAttribute(xe):this.setAttribute(xe,Ke),this.Πh=null}}},{key:"K",value:function(Ee,Ie){var he,me,Se,xe=this.constructor,Ke=xe.Πm.get(Ee);if(Ke!==void 0&&this.Πh!==Ke){var C=xe.getPropertyOptions(Ke),k=C.converter,de=(Se=(me=(he=k)===null||he===void 0?void 0:he.fromAttribute)!==null&&me!==void 0?me:typeof k=="function"?k:null)!==null&&Se!==void 0?Se:Oe.fromAttribute;this.Πh=Ke,this[Ke]=de(Ie,C.type),this.Πh=null}}},{key:"requestUpdate",value:function(Ee,Ie,he){var me=!0;Ee!==void 0&&(((he=he||this.constructor.getPropertyOptions(Ee)).hasChanged||Re)(this[Ee],Ie)?(this.L.has(Ee)||this.L.set(Ee,Ie),he.reflect===!0&&this.Πh!==Ee&&(this.Πk===void 0&&(this.Πk=new Map),this.Πk.set(Ee,he))):me=!1),!this.isUpdatePending&&me&&(this.Πg=this.Πq())}},{key:"Πq",value:(Fe=(0,m.Z)(F.mark(function Ee(){var Ie;return F.wrap(function(he){for(;;)switch(he.prev=he.next){case 0:return this.isUpdatePending=!0,he.prev=1,he.next=4,this.Πg;case 4:if(!this.Πo){he.next=9;break}return he.next=7,this.Πo;case 7:he.next=4;break;case 9:he.next=14;break;case 11:he.prev=11,he.t0=he.catch(1),Promise.reject(he.t0);case 14:if(Ie=this.performUpdate(),he.t1=Ie!=null,!he.t1){he.next=19;break}return he.next=19,Ie;case 19:return he.abrupt("return",!this.isUpdatePending);case 20:case"end":return he.stop()}},Ee,this,[[1,11]])})),function(){return Fe.apply(this,arguments)})},{key:"performUpdate",value:function(){var Ee,Ie=this;if(this.isUpdatePending){this.hasUpdated,this.Πi&&(this.Πi.forEach((function(Se,xe){return(0,j.Z)(this,Ie),this[xe]=Se}).bind(this)),this.Πi=void 0);var he=!1,me=this.L;try{(he=this.shouldUpdate(me))?(this.willUpdate(me),(Ee=this.ΠU)===null||Ee===void 0||Ee.forEach((function(Se){var xe;return(0,j.Z)(this,Ie),(xe=Se.hostUpdate)===null||xe===void 0?void 0:xe.call(Se)}).bind(this)),this.update(me)):this.Π$()}catch(Se){throw he=!1,this.Π$(),Se}he&&this.E(me)}}},{key:"willUpdate",value:function(Ee){}},{key:"E",value:function(Ee){var Ie,he=this;(Ie=this.ΠU)===null||Ie===void 0||Ie.forEach((function(me){var Se;return(0,j.Z)(this,he),(Se=me.hostUpdated)===null||Se===void 0?void 0:Se.call(me)}).bind(this)),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(Ee)),this.updated(Ee)}},{key:"Π$",value:function(){this.L=new Map,this.isUpdatePending=!1}},{key:"updateComplete",get:function(){return this.getUpdateComplete()}},{key:"getUpdateComplete",value:function(){return this.Πg}},{key:"shouldUpdate",value:function(Ee){return!0}},{key:"update",value:function(Ee){var Ie=this;this.Πk!==void 0&&(this.Πk.forEach((function(he,me){return(0,j.Z)(this,Ie),this.Πj(me,this[me],he)}).bind(this)),this.Πk=void 0),this.Π$()}},{key:"updated",value:function(Ee){}},{key:"firstUpdated",value:function(Ee){}}],[{key:"addInitializer",value:function(Ee){var Ie;(Ie=this.v)!==null&&Ie!==void 0||(this.v=[]),this.v.push(Ee)}},{key:"observedAttributes",get:function(){var Ee=this;this.finalize();var Ie=[];return this.elementProperties.forEach((function(he,me){(0,j.Z)(this,Ee);var Se=this.Πp(me,he);Se!==void 0&&(this.Πm.set(Se,me),Ie.push(Se))}).bind(this)),Ie}},{key:"createProperty",value:function(Ee){var Ie=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_e;if(Ie.state&&(Ie.attribute=!1),this.finalize(),this.elementProperties.set(Ee,Ie),!Ie.noAccessor&&!this.prototype.hasOwnProperty(Ee)){var he=(0,p.Z)(Ee)=="symbol"?Symbol():"__"+Ee,me=this.getPropertyDescriptor(Ee,he,Ie);me!==void 0&&Object.defineProperty(this.prototype,Ee,me)}}},{key:"getPropertyDescriptor",value:function(Ee,Ie,he){return{get:function(){return this[Ie]},set:function(me){var Se=this[Ee];this[Ie]=me,this.requestUpdate(Ee,Se,he)},configurable:!0,enumerable:!0}}},{key:"getPropertyOptions",value:function(Ee){return this.elementProperties.get(Ee)||_e}},{key:"finalize",value:function(){if(this.hasOwnProperty("finalized"))return!1;this.finalized=!0;var Ee=Object.getPrototypeOf(this);if(Ee.finalize(),this.elementProperties=new Map(Ee.elementProperties),this.Πm=new Map,this.hasOwnProperty("properties")){var Ie,he=this.properties,me=ge([].concat((0,h.Z)(Object.getOwnPropertyNames(he)),(0,h.Z)(Object.getOwnPropertySymbols(he))));try{for(me.s();!(Ie=me.n()).done;){var Se=Ie.value;this.createProperty(Se,he[Se])}}catch(xe){me.e(xe)}finally{me.f()}}return this.elementStyles=this.finalizeStyles(this.styles),!0}},{key:"finalizeStyles",value:function(Ee){var Ie=[];if(Array.isArray(Ee)){var he,me=ge(new Set(Ee.flat(1/0).reverse()));try{for(me.s();!(he=me.n()).done;){var Se=he.value;Ie.unshift(ne(Se))}}catch(xe){me.e(xe)}finally{me.f()}}else Ee!==void 0&&Ie.push(ne(Ee));return Ie}},{key:"Πp",value:function(Ee,Ie){var he=Ie.attribute;return he===!1?void 0:typeof he=="string"?he:typeof Ee=="string"?Ee.toLowerCase():void 0}}]),at}(G(HTMLElement));se.finalized=!0,se.shadowRootOptions={mode:"open"},(te=(U=globalThis).reactiveElementPlatformSupport)===null||te===void 0||te.call(U,{ReactiveElement:se}),((Y=(J=globalThis).reactiveElementVersions)!==null&&Y!==void 0?Y:J.reactiveElementVersions=[]).push("1.0.0-rc.1");var ke=u(553);function Be($e,Fe,Le){return(Be=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(qe,Xe,at){var Ee=function(he,me){for(;!Object.prototype.hasOwnProperty.call(he,me)&&(he=(0,R.Z)(he))!==null;);return he}(qe,Xe);if(Ee){var Ie=Object.getOwnPropertyDescriptor(Ee,Xe);return Ie.get?Ie.get.call(at):Ie.value}})($e,Fe,Le||$e)}var et,ut,dt,gt,we,le,ce=void 0,re=se;((et=(le=globalThis).litElementVersions)!==null&&et!==void 0?et:le.litElementVersions=[]).push("3.0.0-rc.1");var Me=function($e){(0,w.Z)(Xe,$e);var Fe,Le,qe=(Fe=Xe,Le=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var at,Ee=(0,R.Z)(Fe);if(Le){var Ie=(0,R.Z)(this).constructor;at=Reflect.construct(Ee,arguments,Ie)}else at=Ee.apply(this,arguments);return(0,A.Z)(this,at)});function Xe(){var at;return(0,$.Z)(this,Xe),(at=qe.apply(this,arguments)).renderOptions={host:(0,ke.Z)(at)},at.Φt=void 0,at}return(0,T.Z)(Xe,[{key:"createRenderRoot",value:function(){var at,Ee,Ie=Be((0,R.Z)(Xe.prototype),"createRenderRoot",this).call(this);return(at=(Ee=this.renderOptions).renderBefore)!==null&&at!==void 0||(Ee.renderBefore=Ie.firstChild),Ie}},{key:"update",value:function(at){var Ee=this.render();Be((0,R.Z)(Xe.prototype),"update",this).call(this,at),this.Φt=(0,a.sY)(Ee,this.renderRoot,this.renderOptions)}},{key:"connectedCallback",value:function(){var at;Be((0,R.Z)(Xe.prototype),"connectedCallback",this).call(this),(at=this.Φt)===null||at===void 0||at.setConnected(!0)}},{key:"disconnectedCallback",value:function(){var at;Be((0,R.Z)(Xe.prototype),"disconnectedCallback",this).call(this),(at=this.Φt)===null||at===void 0||at.setConnected(!1)}},{key:"render",value:function(){return a.Jb}}]),Xe}(se);Me.finalized=!0,Me._$litElement$=!0,(dt=(ut=globalThis).litElementHydrateSupport)===null||dt===void 0||dt.call(ut,{LitElement:Me}),(we=(gt=globalThis).litElementPlatformSupport)===null||we===void 0||we.call(gt,{LitElement:Me});var Ne={K:(function($e,Fe,Le){(0,j.Z)(this,ce),$e.K(Fe,Le)}).bind(void 0),L:(function($e){return(0,j.Z)(this,ce),$e.L}).bind(void 0)}},588:function(i,l,u){i=u.nmd(i);var a=u(924),h=function(p){var m,$=Object.prototype,T=$.hasOwnProperty,w=typeof Symbol=="function"?Symbol:{},A=w.iterator||"@@iterator",R=w.asyncIterator||"@@asyncIterator",L=w.toStringTag||"@@toStringTag";function M(_e,se,ke){return Object.defineProperty(_e,se,{value:ke,enumerable:!0,configurable:!0,writable:!0}),_e[se]}try{M({},"")}catch{M=function(se,ke,Be){return se[ke]=Be}}function B(_e,se,ke,Be){var et=se&&se.prototype instanceof te?se:te,ut=Object.create(et.prototype),dt=new Q(Be||[]);return ut._invoke=function(gt,we,le){var ce=j;return function(re,Me){if(ce===x)throw new Error("Generator is already running");if(ce===D){if(re==="throw")throw Me;return Re()}for(le.method=re,le.arg=Me;;){var Ne=le.delegate;if(Ne){var $e=z(Ne,le);if($e){if($e===U)continue;return $e}}if(le.method==="next")le.sent=le._sent=le.arg;else if(le.method==="throw"){if(ce===j)throw ce=D,le.arg;le.dispatchException(le.arg)}else le.method==="return"&&le.abrupt("return",le.arg);ce=x;var Fe=G(gt,we,le);if(Fe.type==="normal"){if(ce=le.done?D:F,Fe.arg===U)continue;return{value:Fe.arg,done:le.done}}Fe.type==="throw"&&(ce=D,le.method="throw",le.arg=Fe.arg)}}}(_e,ke,dt),ut}function G(_e,se,ke){try{return{type:"normal",arg:_e.call(se,ke)}}catch(Be){return{type:"throw",arg:Be}}}p.wrap=B;var j="suspendedStart",F="suspendedYield",x="executing",D="completed",U={};function te(){}function Y(){}function J(){}var ee={};ee[A]=function(){return this};var ue=Object.getPrototypeOf,oe=ue&&ue(ue(Oe([])));oe&&oe!==$&&T.call(oe,A)&&(ee=oe);var X=J.prototype=te.prototype=Object.create(ee);function K(_e){["next","throw","return"].forEach(function(se){M(_e,se,function(ke){return this._invoke(se,ke)})})}function q(_e,se){function ke(et,ut,dt,gt){var we=G(_e[et],_e,ut);if(we.type!=="throw"){var le=we.arg,ce=le.value;return ce&&a(ce)==="object"&&T.call(ce,"__await")?se.resolve(ce.__await).then(function(re){ke("next",re,dt,gt)},function(re){ke("throw",re,dt,gt)}):se.resolve(ce).then(function(re){le.value=re,dt(le)},function(re){return ke("throw",re,dt,gt)})}gt(we.arg)}var Be;this._invoke=function(et,ut){function dt(){return new se(function(gt,we){ke(et,ut,gt,we)})}return Be=Be?Be.then(dt,dt):dt()}}function z(_e,se){var ke=_e.iterator[se.method];if(ke===m){if(se.delegate=null,se.method==="throw"){if(_e.iterator.return&&(se.method="return",se.arg=m,z(_e,se),se.method==="throw"))return U;se.method="throw",se.arg=new TypeError("The iterator does not provide a 'throw' method")}return U}var Be=G(ke,_e.iterator,se.arg);if(Be.type==="throw")return se.method="throw",se.arg=Be.arg,se.delegate=null,U;var et=Be.arg;return et?et.done?(se[_e.resultName]=et.value,se.next=_e.nextLoc,se.method!=="return"&&(se.method="next",se.arg=m),se.delegate=null,U):et:(se.method="throw",se.arg=new TypeError("iterator result is not an object"),se.delegate=null,U)}function ne(_e){var se={tryLoc:_e[0]};1 in _e&&(se.catchLoc=_e[1]),2 in _e&&(se.finallyLoc=_e[2],se.afterLoc=_e[3]),this.tryEntries.push(se)}function ge(_e){var se=_e.completion||{};se.type="normal",delete se.arg,_e.completion=se}function Q(_e){this.tryEntries=[{tryLoc:"root"}],_e.forEach(ne,this),this.reset(!0)}function Oe(_e){if(_e){var se=_e[A];if(se)return se.call(_e);if(typeof _e.next=="function")return _e;if(!isNaN(_e.length)){var ke=-1,Be=function et(){for(;++ke<_e.length;)if(T.call(_e,ke))return et.value=_e[ke],et.done=!1,et;return et.value=m,et.done=!0,et};return Be.next=Be}}return{next:Re}}function Re(){return{value:m,done:!0}}return Y.prototype=X.constructor=J,J.constructor=Y,Y.displayName=M(J,L,"GeneratorFunction"),p.isGeneratorFunction=function(_e){var se=typeof _e=="function"&&_e.constructor;return!!se&&(se===Y||(se.displayName||se.name)==="GeneratorFunction")},p.mark=function(_e){return Object.setPrototypeOf?Object.setPrototypeOf(_e,J):(_e.__proto__=J,M(_e,L,"GeneratorFunction")),_e.prototype=Object.create(X),_e},p.awrap=function(_e){return{__await:_e}},K(q.prototype),q.prototype[R]=function(){return this},p.AsyncIterator=q,p.async=function(_e,se,ke,Be,et){et===void 0&&(et=Promise);var ut=new q(B(_e,se,ke,Be),et);return p.isGeneratorFunction(se)?ut:ut.next().then(function(dt){return dt.done?dt.value:ut.next()})},K(X),M(X,L,"Generator"),X[A]=function(){return this},X.toString=function(){return"[object Generator]"},p.keys=function(_e){var se=[];for(var ke in _e)se.push(ke);return se.reverse(),function Be(){for(;se.length;){var et=se.pop();if(et in _e)return Be.value=et,Be.done=!1,Be}return Be.done=!0,Be}},p.values=Oe,Q.prototype={constructor:Q,reset:function(_e){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(ge),!_e)for(var se in this)se.charAt(0)==="t"&&T.call(this,se)&&!isNaN(+se.slice(1))&&(this[se]=m)},stop:function(){this.done=!0;var _e=this.tryEntries[0].completion;if(_e.type==="throw")throw _e.arg;return this.rval},dispatchException:function(_e){if(this.done)throw _e;var se=this;function ke(we,le){return ut.type="throw",ut.arg=_e,se.next=we,le&&(se.method="next",se.arg=m),!!le}for(var Be=this.tryEntries.length-1;Be>=0;--Be){var et=this.tryEntries[Be],ut=et.completion;if(et.tryLoc==="root")return ke("end");if(et.tryLoc<=this.prev){var dt=T.call(et,"catchLoc"),gt=T.call(et,"finallyLoc");if(dt&&gt){if(this.prev<et.catchLoc)return ke(et.catchLoc,!0);if(this.prev<et.finallyLoc)return ke(et.finallyLoc)}else if(dt){if(this.prev<et.catchLoc)return ke(et.catchLoc,!0)}else{if(!gt)throw new Error("try statement without catch or finally");if(this.prev<et.finallyLoc)return ke(et.finallyLoc)}}}},abrupt:function(_e,se){for(var ke=this.tryEntries.length-1;ke>=0;--ke){var Be=this.tryEntries[ke];if(Be.tryLoc<=this.prev&&T.call(Be,"finallyLoc")&&this.prev<Be.finallyLoc){var et=Be;break}}et&&(_e==="break"||_e==="continue")&&et.tryLoc<=se&&se<=et.finallyLoc&&(et=null);var ut=et?et.completion:{};return ut.type=_e,ut.arg=se,et?(this.method="next",this.next=et.finallyLoc,U):this.complete(ut)},complete:function(_e,se){if(_e.type==="throw")throw _e.arg;return _e.type==="break"||_e.type==="continue"?this.next=_e.arg:_e.type==="return"?(this.rval=this.arg=_e.arg,this.method="return",this.next="end"):_e.type==="normal"&&se&&(this.next=se),U},finish:function(_e){for(var se=this.tryEntries.length-1;se>=0;--se){var ke=this.tryEntries[se];if(ke.finallyLoc===_e)return this.complete(ke.completion,ke.afterLoc),ge(ke),U}},catch:function(_e){for(var se=this.tryEntries.length-1;se>=0;--se){var ke=this.tryEntries[se];if(ke.tryLoc===_e){var Be=ke.completion;if(Be.type==="throw"){var et=Be.arg;ge(ke)}return et}}throw new Error("illegal catch attempt")},delegateYield:function(_e,se,ke){return this.delegate={iterator:Oe(_e),resultName:se,nextLoc:ke},this.method==="next"&&(this.arg=m),U}},p}(a(i)==="object"?i.exports:{});try{regeneratorRuntime=h}catch{Function("r","regeneratorRuntime = r")(h)}},629:function(i,l,u){var a,h,p=u(111),m=u(836),$=u(946),T=u(33),w=u(97),A=u(22),R=u(246),L=u(323),M=u(924),B=this&&this.__decorate||function(te,Y,J,ee){var ue,oe=arguments.length,X=oe<3?Y:ee===null?ee=Object.getOwnPropertyDescriptor(Y,J):ee;if((typeof Reflect>"u"?"undefined":M(Reflect))==="object"&&typeof Reflect.decorate=="function")X=Reflect.decorate(te,Y,J,ee);else for(var K=te.length-1;K>=0;K--)(ue=te[K])&&(X=(oe<3?ue(X):oe>3?ue(Y,J,X):ue(Y,J))||X);return oe>3&&X&&Object.defineProperty(Y,J,X),X};Object.defineProperty(l,"__esModule",{value:!0}),l.IconparkIconElement=void 0;var G=u(523),j=u(318),F=u(544),x={color:1,fill:1,stroke:1},D={STROKE:{trackAttr:"data-follow-stroke",rawAttr:"stroke"},FILL:{trackAttr:"data-follow-fill",rawAttr:"fill"}},U=function(te){A(ue,te);var Y,J,ee=(Y=ue,J=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}(),function(){var oe,X=L(Y);if(J){var K=L(this).constructor;oe=Reflect.construct(X,arguments,K)}else oe=X.apply(this,arguments);return R(this,oe)});function ue(){var oe;return $(this,ue),(oe=ee.apply(this,arguments)).name="",oe.identifyer="",oe.size="1em",oe}return T(ue,[{key:"_width",get:function(){return this.width||this.size}},{key:"_height",get:function(){return this.height||this.size}},{key:"_stroke",get:function(){return this.stroke||this.color}},{key:"_fill",get:function(){return this.fill||this.color}},{key:"SVGConfig",get:function(){return(window.__iconpark__||{})[this.identifyer]||(window.__iconpark__||{})[this.name]||{viewBox:"0 0 0 0",content:""}}},{key:"connectedCallback",value:function(){var oe=this;w(L(ue.prototype),"connectedCallback",this).call(this),setTimeout((function(){m(this,oe),this.monkeyPatch("STROKE",!0),this.monkeyPatch("FILL",!0)}).bind(this))}},{key:"monkeyPatch",value:function(oe,X){switch(oe){case"STROKE":this.updateDOMByHand(this.strokeAppliedNodes,"STROKE",this._stroke,!!X);break;case"FILL":this.updateDOMByHand(this.fillAppliedNodes,"FILL",this._fill,!!X)}}},{key:"updateDOMByHand",value:function(oe,X,K,q){var z=this;!K&&q||oe&&oe.forEach((function(ne){m(this,z),K&&K===ne.getAttribute(D[X].rawAttr)||ne.setAttribute(D[X].rawAttr,K||ne.getAttribute(D[X].trackAttr))}).bind(this))}},{key:"attributeChangedCallback",value:function(oe,X,K){var q=this;w(L(ue.prototype),"attributeChangedCallback",this).call(this,oe,X,K),oe==="name"||oe==="identifyer"?setTimeout((function(){m(this,q),this.monkeyPatch("STROKE"),this.monkeyPatch("FILL")}).bind(this)):x[oe]&&(this.monkeyPatch("STROKE"),this.monkeyPatch("FILL"))}},{key:"render",value:function(){return G.svg(a||(a=p(["<svg width="," height=",' preserveAspectRatio="xMidYMid meet" xmlns="http://www.w3.org/2000/svg" fill='," viewBox=",">","</svg>"])),this._width,this._height,this.SVGConfig.fill,this.SVGConfig.viewBox,F.unsafeSVG(this.SVGConfig.content))}}]),ue}(G.LitElement);U.styles=G.css(h||(h=p([":host {display: inline-flex; align-items: center; justify-content: center;} :host([spin]) svg {animation: iconpark-spin 1s infinite linear;} :host([spin][rtl]) svg {animation: iconpark-spin-rtl 1s infinite linear;} :host([rtl]) svg {transform: scaleX(-1);} @keyframes iconpark-spin {0% { -webkit-transform: rotate(0); transform: rotate(0);} 100% {-webkit-transform: rotate(360deg); transform: rotate(360deg);}} @keyframes iconpark-spin-rtl {0% {-webkit-transform: scaleX(-1) rotate(0); transform: scaleX(-1) rotate(0);} 100% {-webkit-transform: scaleX(-1) rotate(360deg); transform: scaleX(-1) rotate(360deg);}}"]))),B([j.property({reflect:!0})],U.prototype,"name",void 0),B([j.property({reflect:!0,attribute:"icon-id"})],U.prototype,"identifyer",void 0),B([j.property({reflect:!0})],U.prototype,"color",void 0),B([j.property({reflect:!0})],U.prototype,"stroke",void 0),B([j.property({reflect:!0})],U.prototype,"fill",void 0),B([j.property({reflect:!0})],U.prototype,"size",void 0),B([j.property({reflect:!0})],U.prototype,"width",void 0),B([j.property({reflect:!0})],U.prototype,"height",void 0),B([j.queryAll("[".concat(D.STROKE.trackAttr,"]"))],U.prototype,"strokeAppliedNodes",void 0),B([j.queryAll("[".concat(D.FILL.trackAttr,"]"))],U.prototype,"fillAppliedNodes",void 0),l.IconparkIconElement=U,customElements.get("iconpark-icon")||customElements.define("iconpark-icon",U)}},o={};function n(i){var l=o[i];if(l!==void 0)return l.exports;var u=o[i]={id:i,loaded:!1,exports:{}};return e[i].call(u.exports,u,u.exports,n),u.loaded=!0,u.exports}n.d=function(i,l){for(var u in l)n.o(l,u)&&!n.o(i,u)&&Object.defineProperty(i,u,{enumerable:!0,get:l[u]})},n.o=function(i,l){return Object.prototype.hasOwnProperty.call(i,l)},n.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},n.nmd=function(i){return i.paths=[],i.children||(i.children=[]),i},n(629)})();const PS="/assets/superellipse-abb4b598.svg";class Y4 extends bn.ToolboxCategory{constructor(n,i,l){super(n,i,l);lo(this,"setSelected",n=>{let i=this.rowDiv_.getElementsByClassName("blocklyTreeLabel")[0];n?(this.rowDiv_.style.backgroundColor="var(--toolbox-category-background-selected)",i.style.color="var(--toolbox-category-color-selected)"):(this.rowDiv_.style.backgroundColor="",i.style.color=""),bn.utils.aria.setState(this.htmlDiv_,bn.utils.aria.State.SELECTED,n)});lo(this,"createIconDom_",()=>{const n=document.createElement("iconpark-icon");return n.name=this.toolboxItemDef_.categorystyle,n.size="21",n.style=`
      -webkit-mask-size: 100% 100%;
      -webkit-mask-image: url(${PS});
      mask-size: 100% 100%;
      mask-image: url(${PS});
      color: white;
    `,n})}addColourBorder_(n){this.rowDiv_.children[0].children[0].style.backgroundColor=n}}class Q4{constructor(){lo(this,"load",()=>{bn.registry.register(bn.registry.Type.TOOLBOX_ITEM,bn.ToolboxCategory.registrationName,Y4,!0)});lo(this,"ariaFix",()=>{Array.prototype.forEach.call(this.ariaElements,function(o){o.setAttribute("aria-level","1")})});lo(this,"resize",()=>{document.querySelector(".blocklyFlyout").style.width=localStorage.getItem("block_all_shown")?"":"320px"});this.ariaElements=document.getElementsByClassName("blocklyToolboxCategory")}}let KC=new Q4;KC.load();window.addEventListener("resize",KC.resize);bn.VerticalFlyout.prototype.reflowInternal_=function(){this.workspace_.scale=.8;let e=0,o=this.workspace_.getTopBlocks(!1),n=0;for(let i=0,l;l=o[i];i++)n=l.getHeightWidth().width,l.outputConnection&&(n-=this.tabWidth_),e=Math.max(e,n);for(let i=0,l;l=this.buttons_[i];i++)e=Math.max(e,l.width);if(e+=1.5*this.MARGIN+this.tabWidth_,e*=this.workspace_.scale,e+=bn.Scrollbar.scrollbarThickness,this.width_!==e){for(let i=0,l;l=o[i];i++){if(this.RTL){n=l.getRelativeToSurfaceXY().x;let u=e/this.workspace_.scale-this.MARGIN;l.outputConnection||(u-=this.tabWidth_),l.moveBy(u-n,0)}this.rectMap_.has(l)&&this.moveRectToBlock_(this.rectMap_.get(l),l)}if(this.RTL)for(let i=0,l;l=this.buttons_[i];i++)o=l.getPosition().y,l.moveTo(e/this.workspace_.scale-l.width-this.MARGIN-this.tabWidth_,o);this.targetWorkspace.toolboxPosition!==this.toolboxPosition_||this.toolboxPosition_!==bn.utils.toolbox.Position.LEFT||this.targetWorkspace.getToolbox()||this.targetWorkspace.translate(this.targetWorkspace.scrollX+e,this.targetWorkspace.scrollY),this.width_=e,this.position(),this.targetWorkspace.recordDragTargets()}};bn.defineBlocksWithJsonArray([{type:"controls_forever",message0:"%1",args0:[{type:"field_label",text:"重复执行（慎用）"}],message1:"%1",args1:[{type:"input_statement",name:"DO"}],previousStatement:null,nextStatement:null,style:"controller",tooltip:"重复执行。"}]);bn.defineBlocksWithJsonArray([{type:"math_evenly_divisible",message0:"%1 能被 %2 整除",args0:[{type:"input_value",name:"DIVIDEND",check:"Number",value:0},{type:"input_value",name:"DIVISOR",check:"Number",value:0}],inputsInline:!0,output:"Boolean",style:"calculation",tooltip:"判断第一个数是否恰好被第二个数整除。"}]);const q4="categoryToolbox",Z4=[{kind:"category",name:"控制",categorystyle:"controller",contents:[{kind:"block",type:"controls_if"},{kind:"block",type:"controls_if",extraState:{hasElse:!0}},{kind:"sep",gap:"64"},{kind:"block",type:"controls_whileUntil"},{kind:"block",type:"controls_repeat_ext",inputs:{TIMES:{block:{type:"math_number",fields:{NUM:1}}}}},{kind:"block",type:"controls_forever"},{kind:"block",type:"controls_for",inputs:{FROM:{block:{type:"math_number",fields:{NUM:1}}},TO:{block:{type:"math_number",fields:{NUM:10}}},BY:{block:{type:"math_number",fields:{NUM:1}}}}},{kind:"block",type:"controls_flow_statements"},{kind:"sep",gap:"64"},{kind:"block",type:"logic_ternary"}]},{kind:"category",name:"逻辑",categorystyle:"calculation",contents:[{kind:"block",type:"math_number",fields:{NUM:0}},{kind:"block",type:"math_arithmetic",inputs:{A:{block:{type:"math_number",fields:{NUM:0}}},B:{block:{type:"math_number",fields:{NUM:0}}}}},{kind:"block",type:"math_random_int",inputs:{FROM:{block:{type:"math_number",fields:{NUM:0}}},TO:{block:{type:"math_number",fields:{NUM:5}}}}},{kind:"sep",gap:"64"},{kind:"block",type:"math_round"},{kind:"block",type:"math_single"},{kind:"block",type:"math_modulo"},{kind:"block",type:"math_trig"},{kind:"sep",gap:"64"},{kind:"block",type:"math_evenly_divisible",inputs:{DIVIDEND:{block:{type:"math_number",fields:{NUM:9}}},DIVISOR:{block:{type:"math_number",fields:{NUM:3}}}}},{kind:"block",type:"math_number_property"},{kind:"sep",gap:"64"},{kind:"block",type:"logic_compare"},{kind:"block",type:"logic_operation"},{kind:"block",type:"logic_negate"},{kind:"block",type:"logic_boolean"}]},{kind:"category",name:"变量",categorystyle:"variable",custom:"VARIABLE",contents:[{kind:"block",type:"variables_set"},{kind:"block",type:"math_change"},{kind:"block",type:"variables_get"}]}],SN={kind:q4,contents:Z4};function J4(e,o){const n=bn.Blocks[e].init;bn.Blocks[e].init=function(){n.bind(this)(),this.setStyle(o)}}SN.contents.forEach(function(e){if("contents"in e){let o=e.categorystyle;e.contents.forEach(function(n){n.kind==="block"&&J4(n.type,o)})}else console.warn("This category is empty. ","If you are using a custom approach, ","please list all possible blocks in contents for a unified format.")});bn.FlyoutButton.BORDER_RADIUS=4;bn.FlyoutButton.TEXT_MARGIN_X=25;bn.FlyoutButton.TEXT_MARGIN_Y=15;bn.Scrollbar.scrollbarThickness=10;var e3={exports:{}};/*! For license information please see index.js.LICENSE.txt */(function(e,o){(function(n,i){e.exports=i(id())})(Wn,n=>(()=>{var i={573:h=>{h.exports=n}},l={};function u(h){var p=l[h];if(p!==void 0)return p.exports;var m=l[h]={exports:{}};return i[h](m,m.exports,u),m.exports}u.n=h=>{var p=h&&h.__esModule?()=>h.default:()=>h;return u.d(p,{a:p}),p},u.d=(h,p)=>{for(var m in p)u.o(p,m)&&!u.o(h,m)&&Object.defineProperty(h,m,{enumerable:!0,get:p[m]})},u.o=(h,p)=>Object.prototype.hasOwnProperty.call(h,p),u.r=h=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(h,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(h,"__esModule",{value:!0})};var a={};return(()=>{u.r(a);var h=u(573),p=u.n(h);function m(x){if(x.saveExtraState){const D=x.saveExtraState();return D?JSON.stringify(D):""}if(x.mutationToDom){const D=x.mutationToDom();return D?h.Xml.domToText(D):""}return""}function $(x){const D=new h.FieldImage(w,15,15,void 0,T);return D.args_=x,D}function T(x){const D=x.getSourceBlock();if(D.isInFlyout)return;h.Events.setGroup(!0);const U=m(D);D.minus(x.args_);const te=m(D);U!=te&&h.Events.fire(new h.Events.BlockChange(D,"mutation",null,U,te)),h.Events.setGroup(!1)}const w="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNMTggMTFoLTEyYy0xLjEwNCAwLTIgLjg5Ni0yIDJzLjg5NiAyIDIgMmgxMmMxLjEwNCAwIDItLjg5NiAyLTJzLS44OTYtMi0yLTJ6IiBmaWxsPSJ3aGl0ZSIgLz48L3N2Zz4K";function A(x){const D=new h.FieldImage(L,15,15,void 0,R);return D.args_=x,D}function R(x){const D=x.getSourceBlock();if(D.isInFlyout)return;h.Events.setGroup(!0);const U=m(D);D.plus(x.args_);const te=m(D);U!=te&&h.Events.fire(new h.Events.BlockChange(D,"mutation",null,U,te)),h.Events.setGroup(!1)}const L="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZlcnNpb249IjEuMSIgd2lkdGg9IjI0IiBoZWlnaHQ9IjI0Ij48cGF0aCBkPSJNMTggMTBoLTR2LTRjMC0xLjEwNC0uODk2LTItMi0ycy0yIC44OTYtMiAybC4wNzEgNGgtNC4wNzFjLTEuMTA0IDAtMiAuODk2LTIgMnMuODk2IDIgMiAybDQuMDcxLS4wNzEtLjA3MSA0LjA3MWMwIDEuMTA0Ljg5NiAyIDIgMnMyLS44OTYgMi0ydi00LjA3MWw0IC4wNzFjMS4xMDQgMCAyLS44OTYgMi0ycy0uODk2LTItMi0yeiIgZmlsbD0id2hpdGUiIC8+PC9zdmc+Cg==",M={elseIfCount_:0,hasElse_:!1,mutationToDom:function(){if(!this.elseIfCount_&&!this.hasElse_)return null;const x=p().utils.xml.createElement("mutation");return x.setAttribute("elseif",this.elseIfCount_),this.hasElse_&&x.setAttribute("else",1),x},domToMutation:function(x){const D=parseInt(x.getAttribute("elseif"),10)||0;this.hasElse_=!!parseInt(x.getAttribute("else"),10)||0,this.hasElse_&&!this.getInput("ELSE")&&this.appendStatementInput("ELSE").appendField(p().Msg.CONTROLS_IF_MSG_ELSE),this.updateShape_(D)},saveExtraState:function(){if(!this.elseIfCount_&&!this.hasElse_)return null;const x=Object.create(null);return this.elseIfCount_&&(x.elseIfCount=this.elseIfCount_),this.hasElse_&&(x.hasElse=!0),x},loadExtraState:function(x){const D=x.elseIfCount||0;this.hasElse_=x.hasElse||!1,this.hasElse_&&!this.getInput("ELSE")&&this.appendStatementInput("ELSE").appendField(p().Msg.CONTROLS_IF_MSG_ELSE),this.updateShape_(D)},updateShape_:function(x){for(;this.elseIfCount_<x;)this.addElseIf_();for(;this.elseIfCount_>x;)this.removeElseIf_()},plus:function(){this.addElseIf_()},minus:function(x){this.elseIfCount_!=0&&this.removeElseIf_(x)},addElseIf_:function(){this.elseIfCount_++,this.appendValueInput("IF"+this.elseIfCount_).setCheck("Boolean").appendField(p().Msg.CONTROLS_IF_MSG_ELSEIF).appendField($(this.elseIfCount_),"MINUS"+this.elseIfCount_),this.appendStatementInput("DO"+this.elseIfCount_).appendField(p().Msg.CONTROLS_IF_MSG_THEN),this.getInput("ELSE")&&this.moveInputBefore("ELSE",null)},removeElseIf_:function(x){if(x!==void 0&&x!=this.elseIfCount_){const D=2*x,U=this.inputList;let te=U[D].connection;te.isConnected()&&te.disconnect(),te=U[D+1].connection,te.isConnected()&&te.disconnect(),this.bumpNeighbours();for(let Y,J=D+2;(Y=this.inputList[J])&&Y.name!="ELSE";J++){const ee=Y.connection.targetConnection;ee&&this.inputList[J-2].connection.connect(ee)}}this.removeInput("IF"+this.elseIfCount_),this.removeInput("DO"+this.elseIfCount_),this.elseIfCount_--}};p().Extensions.isRegistered("controls_if_mutator")&&p().Extensions.unregister("controls_if_mutator"),p().Extensions.registerMutator("controls_if_mutator",M,function(){this.getInput("IF0").insertFieldAt(0,A(),"PLUS")}),delete p().Blocks.lists_create_with,p().defineBlocksWithJsonArray([{type:"lists_create_with",message0:"%{BKY_LISTS_CREATE_EMPTY_TITLE} %1",args0:[{type:"input_dummy",name:"EMPTY"}],output:"Array",style:"list_blocks",helpUrl:"%{BKY_LISTS_CREATE_WITH_HELPURL}",tooltip:"%{BKY_LISTS_CREATE_WITH_TOOLTIP}",mutator:"new_list_create_with_mutator"}]);const B={itemCount_:0,mutationToDom:function(){const x=p().utils.xml.createElement("mutation");return x.setAttribute("items",this.itemCount_),x},domToMutation:function(x){const D=parseInt(x.getAttribute("items"),10);this.updateShape_(D)},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(x){this.updateShape_(x.itemCount)},updateShape_:function(x){for(;this.itemCount_<x;)this.addPart_();for(;this.itemCount_>x;)this.removePart_();this.updateMinus_()},plus:function(){this.addPart_(),this.updateMinus_()},minus:function(){this.itemCount_!=0&&(this.removePart_(),this.updateMinus_())},addPart_:function(){this.itemCount_==0?(this.removeInput("EMPTY"),this.topInput_=this.appendValueInput("ADD"+this.itemCount_).appendField(A(),"PLUS").appendField(p().Msg.LISTS_CREATE_WITH_INPUT_WITH)):this.appendValueInput("ADD"+this.itemCount_),this.itemCount_++},removePart_:function(){this.itemCount_--,this.removeInput("ADD"+this.itemCount_),this.itemCount_==0&&(this.topInput_=this.appendDummyInput("EMPTY").appendField(A(),"PLUS").appendField(p().Msg.LISTS_CREATE_EMPTY_TITLE))},updateMinus_:function(){const x=this.getField("MINUS");!x&&this.itemCount_>0?this.topInput_.insertFieldAt(1,$(),"MINUS"):x&&this.itemCount_<1&&this.topInput_.removeField("MINUS")}};p().Extensions.registerMutator("new_list_create_with_mutator",B,function(){this.getInput("EMPTY").insertFieldAt(0,A(),"PLUS"),this.updateShape_(3)}),p().Msg.PROCEDURE_VARIABLE="variable:",delete p().Blocks.procedures_defnoreturn,delete p().Blocks.procedures_defreturn,p().defineBlocksWithJsonArray([{type:"procedures_defnoreturn",message0:"%{BKY_PROCEDURES_DEFNORETURN_TITLE} %1 %2",message1:"%{BKY_PROCEDURES_DEFNORETURN_DO} %1",args0:[{type:"field_input",name:"NAME",text:""},{type:"input_dummy",name:"TOP"}],args1:[{type:"input_statement",name:"STACK"}],style:"procedure_blocks",helpUrl:"%{BKY_PROCEDURES_DEFNORETURN_HELPURL}",tooltip:"%{BKY_PROCEDURES_DEFNORETURN_TOOLTIP}",extensions:["get_procedure_def_no_return","procedure_context_menu","procedure_rename","procedure_vars"],mutator:"procedure_def_mutator"},{type:"procedures_defreturn",message0:"%{BKY_PROCEDURES_DEFRETURN_TITLE} %1 %2",message1:"%{BKY_PROCEDURES_DEFRETURN_DO} %1",message2:"%{BKY_PROCEDURES_DEFRETURN_RETURN} %1",args0:[{type:"field_input",name:"NAME",text:""},{type:"input_dummy",name:"TOP"}],args1:[{type:"input_statement",name:"STACK"}],args2:[{type:"input_value",align:"right",name:"RETURN"}],style:"procedure_blocks",helpUrl:"%{BKY_PROCEDURES_DEFRETURN_HELPURL}",tooltip:"%{BKY_PROCEDURES_DEFRETURN_TOOLTIP}",extensions:["get_procedure_def_return","procedure_context_menu","procedure_rename","procedure_vars"],mutator:"procedure_def_mutator"}]),p().Extensions.registerMixin("get_procedure_def_no_return",{getProcedureDef:function(){const x=this.argData_.map(D=>D.model.name);return[this.getFieldValue("NAME"),x,!1]},callType_:"procedures_callnoreturn"}),p().Extensions.registerMixin("get_procedure_def_return",{getProcedureDef:function(){const x=this.argData_.map(D=>D.model.name);return[this.getFieldValue("NAME"),x,!0]},callType_:"procedures_callreturn"});const G={customContextMenu:function(x){if(this.isInFlyout)return;const D=this.getFieldValue("NAME"),U=p().Msg.PROCEDURES_CREATE_DO.replace("%1",D),te=p().utils.xml.createElement("block");te.setAttribute("type",this.callType_),te.appendChild(this.mutationToDom(!0));const Y=p().ContextMenu.callbackFactory(this,te);if(x.push({enabled:!0,text:U,callback:Y}),this.isCollapsed())return;const J=this.getVarModels();for(const ee of J){const ue=p().Msg.VARIABLES_SET_CREATE_GET.replace("%1",ee.name),oe=p().utils.xml.createElement("block");oe.setAttribute("type","variables_get"),oe.appendChild(p().Variables.generateVariableFieldDom(ee));const X=p().ContextMenu.callbackFactory(this,oe);x.push({enabled:!0,text:ue,callback:X})}}};p().Extensions.registerMixin("procedure_context_menu",G);const j={mutationToDom:function(x=!1){const D=p().utils.xml.createElement("mutation");return x&&D.setAttribute("name",this.getFieldValue("NAME")),this.argData_.forEach(U=>{const te=p().utils.xml.createElement("arg"),Y=U.model;te.setAttribute("name",Y.name),te.setAttribute("varid",Y.getId()),te.setAttribute("argid",U.argId),x&&te.setAttribute("paramid",U.argId),D.appendChild(te)}),this.hasStatements_||D.setAttribute("statements","false"),D},domToMutation:function(x){this.hasStatements_=x.getAttribute("statements")!=="false",this.hasStatements_||this.removeInput("STACK");const D=[],U=[],te=[];for(const Y of x.childNodes)Y.nodeName.toLowerCase()=="arg"&&(D.push(Y.getAttribute("name")),U.push(Y.getAttribute("varid")||Y.getAttribute("varId")),te.push(Y.getAttribute("argid")));this.updateShape_(D,U,te)},saveExtraState:function(){if(!this.argData_.length&&this.hasStatements_)return null;const x=Object.create(null);return this.argData_.length&&(x.params=[],this.argData_.forEach(D=>{const U=D.model;x.params.push({name:U.name,id:U.getId(),argId:D.argId})})),this.hasStatements_||(x.hasStatements=!1),x},loadExtraState:function(x){this.hasStatements_=x.hasStatements!==!1,this.hasStatements_||this.removeInput("STACK");const D=[],U=[],te=[];if(x.params)for(let Y=0;Y<x.params.length;Y++){const J=x.params[Y];D.push(J.name),U.push(J.id),te.push(J.argId)}this.updateShape_(D,U,te)},updateShape_:function(x,D,U){if(x.length!=D.length)throw Error("names and varIds must have the same length.");for(let Y=this.argData_.length-1;Y>=0;Y--)this.removeArg_(this.argData_[Y].argId);this.argData_=[];const te=D.length;for(let Y=0;Y<te;Y++)this.addArg_(x[Y],D[Y],U[Y]);p().Procedures.mutateCallers(this)},plus:function(){this.addArg_(),p().Procedures.mutateCallers(this)},minus:function(x){this.argData_.length&&(this.removeArg_(x),p().Procedures.mutateCallers(this))},addArg_:function(x=null,D=null,U=null){if(!this.argData_.length){const J=new(p()).FieldLabel(p().Msg.PROCEDURES_BEFORE_PARAMS);this.getInput("TOP").appendField(J,"WITH")}const te=this.argData_.map(J=>J.model.name);x=x||p().Variables.generateUniqueNameFromOptions(p().Procedures.DEFAULT_ARG,te);const Y=p().Variables.getOrCreateVariablePackage(this.workspace,D,x,"");U=U||p().utils.idGenerator.genUid(),this.addVarInput_(x,U),this.getInput("STACK")?this.moveInputBefore(U,"STACK"):this.moveInputBefore(U,"RETURN"),this.argData_.push({model:Y,argId:U})},removeArg_:function(x){this.removeInput(x,!0)&&(this.argData_.length==1&&this.getInput("TOP").removeField("WITH"),this.argData_=this.argData_.filter(D=>D.argId!=x))},addVarInput_:function(x,D){const U=new(p()).FieldTextInput(x,this.validator_);U.onFinishEditing_=this.finishEditing_.bind(U),U.varIdsToDelete_=[],U.preEditVarModel_=null,this.appendDummyInput(D).setAlign(p().ALIGN_RIGHT).appendField($(D)).appendField(p().Msg.PROCEDURE_VARIABLE).appendField(U,D)},validator_:function(x){const D=this.getSourceBlock(),U=D.workspace,te=D.argData_,Y=D.argData_.find(oe=>oe.argId==this.name),J=Y.model.getId(),ee=(x=x.replace(/[\s\xa0]+/g," ").trim()).toLowerCase();if(!x||!te.every(oe=>oe.argId==this.name||ee!=oe.model.name.toLowerCase()))return this.preEditVarModel_&&(Y.model=this.preEditVarModel_,this.preEditVarModel_=null),p().Procedures.mutateCallers(D),null;this.varIdsToDelete_.length||(this.preEditVarModel_=Y.model,U.getVariableUsesById(J).every(oe=>oe.id==D.id||oe.getProcedureCall&&oe.getProcedureCall()==D.getProcedureDef()[0])&&this.varIdsToDelete_.push(J));let ue=U.getVariable(x,"");return ue?ue.name!=x&&U.renameVariableById(ue.getId(),x):(ue=U.createVariable(x,""),this.varIdsToDelete_.push(ue.getId())),ue.getId()!=J&&(Y.model=ue),p().Procedures.mutateCallers(D),x},finishEditing_:function(x){const D=this.getSourceBlock(),U=D.argData_.find(te=>te.argId==this.name).model.getId();this.varIdsToDelete_.forEach(te=>{te!=U&&D.workspace.deleteVariableById(te)}),this.varIdsToDelete_.length=0,this.preEditVarModel_=null}};p().Extensions.registerMutator("procedure_def_mutator",j,function(){this.argData_=[],this.hasStatements_=!0,this.getInput("TOP").insertFieldAt(0,A(),"PLUS")}),p().Extensions.register("procedure_rename",function(){this.getField("NAME").setValidator(p().Procedures.rename)}),p().Extensions.register("procedure_vars",function(){const x={getVars:function(){return this.argData_.map(D=>D.model.name)},getVarModels:function(){return this.argData_.map(D=>D.model)},renameVarById:function(D,U){const te=this.argData_.find(ee=>ee.model.getId()==D);if(!te)return;const Y=this.workspace.getVariableById(U),J=Y.name;this.addVarInput_(J,U),this.moveInputBefore(U,D),this.removeInput(D),te.model=Y,p().Procedures.mutateCallers(this)},updateVarName:function(D){const U=D.getId(),te=this.argData_.find(Y=>Y.model.getId()==U);te&&(this.setFieldValue(D.name,te.argId),te.model=D)}};this.mixin(x,!0)});const F={itemCount_:0,mutationToDom:function(){const x=p().utils.xml.createElement("mutation");return x.setAttribute("items",this.itemCount_),x},domToMutation:function(x){const D=parseInt(x.getAttribute("items"),10);this.updateShape_(D)},saveExtraState:function(){return{itemCount:this.itemCount_}},loadExtraState:function(x){this.updateShape_(x.itemCount)},updateShape_:function(x){for(;this.itemCount_<x;)this.addPart_();for(;this.itemCount_>x;)this.removePart_();this.updateMinus_()},plus:function(){this.addPart_(),this.updateMinus_()},minus:function(){this.itemCount_!=0&&(this.removePart_(),this.updateMinus_())},addPart_:function(){this.itemCount_==0?(this.getInput("EMPTY")&&this.removeInput("EMPTY"),this.topInput_=this.appendValueInput("ADD"+this.itemCount_).appendField(A(),"PLUS").appendField(p().Msg.TEXT_JOIN_TITLE_CREATEWITH)):this.appendValueInput("ADD"+this.itemCount_),this.itemCount_++},removePart_:function(){this.itemCount_--,this.removeInput("ADD"+this.itemCount_),this.itemCount_==0&&(this.topInput_=this.appendDummyInput("EMPTY").appendField(A(),"PLUS").appendField(this.newQuote_(!0)).appendField(this.newQuote_(!1)))},updateMinus_:function(){const x=this.getField("MINUS");!x&&this.itemCount_>0?this.topInput_.insertFieldAt(1,$(),"MINUS"):x&&this.itemCount_<1&&this.topInput_.removeField("MINUS")}};p().Extensions.isRegistered("text_join_mutator")&&p().Extensions.unregister("text_join_mutator"),p().Extensions.registerMutator("text_join_mutator",F,function(){p().Extensions.apply("text_quotes",this,!1),this.updateShape_(2)})})(),a})())})(e3);function YC(e,o){const n=Object.create(null),i=e.split(",");for(let l=0;l<i.length;l++)n[i[l]]=!0;return o?l=>!!n[l.toLowerCase()]:l=>!!n[l]}const Ro={},jf=[],Ll=()=>{},t3=()=>!1,n3=/^on[^a-z]/,Yb=e=>n3.test(e),QC=e=>e.startsWith("onUpdate:"),rr=Object.assign,qC=(e,o)=>{const n=e.indexOf(o);n>-1&&e.splice(n,1)},o3=Object.prototype.hasOwnProperty,Qn=(e,o)=>o3.call(e,o),mn=Array.isArray,Xf=e=>Qb(e)==="[object Map]",ON=e=>Qb(e)==="[object Set]",wn=e=>typeof e=="function",Xo=e=>typeof e=="string",ZC=e=>typeof e=="symbol",ko=e=>e!==null&&typeof e=="object",kN=e=>ko(e)&&wn(e.then)&&wn(e.catch),wN=Object.prototype.toString,Qb=e=>wN.call(e),r3=e=>Qb(e).slice(8,-1),NN=e=>Qb(e)==="[object Object]",JC=e=>Xo(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,b0=YC(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),qb=e=>{const o=Object.create(null);return n=>o[n]||(o[n]=e(n))},i3=/-(\w)/g,ka=qb(e=>e.replace(i3,(o,n)=>n?n.toUpperCase():"")),s3=/\B([A-Z])/g,Gh=qb(e=>e.replace(s3,"-$1").toLowerCase()),Zb=qb(e=>e.charAt(0).toUpperCase()+e.slice(1)),hT=qb(e=>e?`on${Zb(e)}`:""),W$=(e,o)=>!Object.is(e,o),pT=(e,o)=>{for(let n=0;n<e.length;n++)e[n](o)},Tb=(e,o,n)=>{Object.defineProperty(e,o,{configurable:!0,enumerable:!1,value:n})},l3=e=>{const o=parseFloat(e);return isNaN(o)?e:o},a3=e=>{const o=Xo(e)?Number(e):NaN;return isNaN(o)?e:o};let DS;const sC=()=>DS||(DS=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function yt(e){if(mn(e)){const o={};for(let n=0;n<e.length;n++){const i=e[n],l=Xo(i)?h3(i):yt(i);if(l)for(const u in l)o[u]=l[u]}return o}else{if(Xo(e))return e;if(ko(e))return e}}const u3=/;(?![^(]*\))/g,c3=/:([^]+)/,d3=/\/\*[^]*?\*\//g;function h3(e){const o={};return e.replace(d3,"").split(u3).forEach(n=>{if(n){const i=n.split(c3);i.length>1&&(o[i[0].trim()]=i[1].trim())}}),o}function Z(e){let o="";if(Xo(e))o=e;else if(mn(e))for(let n=0;n<e.length;n++){const i=Z(e[n]);i&&(o+=i+" ")}else if(ko(e))for(const n in e)e[n]&&(o+=n+" ");return o.trim()}function ao(e){if(!e)return null;let{class:o,style:n}=e;return o&&!Xo(o)&&(e.class=Z(o)),n&&(e.style=yt(n)),e}const p3="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",f3=YC(p3);function AN(e){return!!e||e===""}const Mt=e=>Xo(e)?e:e==null?"":mn(e)||ko(e)&&(e.toString===wN||!wn(e.toString))?JSON.stringify(e,RN,2):String(e),RN=(e,o)=>o&&o.__v_isRef?RN(e,o.value):Xf(o)?{[`Map(${o.size})`]:[...o.entries()].reduce((n,[i,l])=>(n[`${i} =>`]=l,n),{})}:ON(o)?{[`Set(${o.size})`]:[...o.values()]}:ko(o)&&!mn(o)&&!NN(o)?String(o):o;let kl;class g3{constructor(o=!1){this.detached=o,this._active=!0,this.effects=[],this.cleanups=[],this.parent=kl,!o&&kl&&(this.index=(kl.scopes||(kl.scopes=[])).push(this)-1)}get active(){return this._active}run(o){if(this._active){const n=kl;try{return kl=this,o()}finally{kl=n}}}on(){kl=this}off(){kl=this.parent}stop(o){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!o){const l=this.parent.scopes.pop();l&&l!==this&&(this.parent.scopes[this.index]=l,l.index=this.index)}this.parent=void 0,this._active=!1}}}function m3(e,o=kl){o&&o.active&&o.effects.push(e)}function $3(){return kl}const eI=e=>{const o=new Set(e);return o.w=0,o.n=0,o},LN=e=>(e.w&ed)>0,MN=e=>(e.n&ed)>0,v3=({deps:e})=>{if(e.length)for(let o=0;o<e.length;o++)e[o].w|=ed},_3=e=>{const{deps:o}=e;if(o.length){let n=0;for(let i=0;i<o.length;i++){const l=o[i];LN(l)&&!MN(l)?l.delete(e):o[n++]=l,l.w&=~ed,l.n&=~ed}o.length=n}},yb=new WeakMap;let E$=0,ed=1;const lC=30;let Nl;const Ah=Symbol(""),aC=Symbol("");class tI{constructor(o,n=null,i){this.fn=o,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,m3(this,i)}run(){if(!this.active)return this.fn();let o=Nl,n=Zc;for(;o;){if(o===this)return;o=o.parent}try{return this.parent=Nl,Nl=this,Zc=!0,ed=1<<++E$,E$<=lC?v3(this):xS(this),this.fn()}finally{E$<=lC&&_3(this),ed=1<<--E$,Nl=this.parent,Zc=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Nl===this?this.deferStop=!0:this.active&&(xS(this),this.onStop&&this.onStop(),this.active=!1)}}function xS(e){const{deps:o}=e;if(o.length){for(let n=0;n<o.length;n++)o[n].delete(e);o.length=0}}let Zc=!0;const PN=[];function dg(){PN.push(Zc),Zc=!1}function hg(){const e=PN.pop();Zc=e===void 0?!0:e}function ns(e,o,n){if(Zc&&Nl){let i=yb.get(e);i||yb.set(e,i=new Map);let l=i.get(n);l||i.set(n,l=eI()),DN(l)}}function DN(e,o){let n=!1;E$<=lC?MN(e)||(e.n|=ed,n=!LN(e)):n=!e.has(Nl),n&&(e.add(Nl),Nl.deps.push(e))}function Bu(e,o,n,i,l,u){const a=yb.get(e);if(!a)return;let h=[];if(o==="clear")h=[...a.values()];else if(n==="length"&&mn(e)){const p=Number(i);a.forEach((m,$)=>{($==="length"||$>=p)&&h.push(m)})}else switch(n!==void 0&&h.push(a.get(n)),o){case"add":mn(e)?JC(n)&&h.push(a.get("length")):(h.push(a.get(Ah)),Xf(e)&&h.push(a.get(aC)));break;case"delete":mn(e)||(h.push(a.get(Ah)),Xf(e)&&h.push(a.get(aC)));break;case"set":Xf(e)&&h.push(a.get(Ah));break}if(h.length===1)h[0]&&uC(h[0]);else{const p=[];for(const m of h)m&&p.push(...m);uC(eI(p))}}function uC(e,o){const n=mn(e)?e:[...e];for(const i of n)i.computed&&BS(i);for(const i of n)i.computed||BS(i)}function BS(e,o){(e!==Nl||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function b3(e,o){var n;return(n=yb.get(e))==null?void 0:n.get(o)}const T3=YC("__proto__,__v_isRef,__isVue"),xN=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(ZC)),y3=nI(),E3=nI(!1,!0),C3=nI(!0),FS=I3();function I3(){const e={};return["includes","indexOf","lastIndexOf"].forEach(o=>{e[o]=function(...n){const i=Kn(this);for(let u=0,a=this.length;u<a;u++)ns(i,"get",u+"");const l=i[o](...n);return l===-1||l===!1?i[o](...n.map(Kn)):l}}),["push","pop","shift","unshift","splice"].forEach(o=>{e[o]=function(...n){dg();const i=Kn(this)[o].apply(this,n);return hg(),i}}),e}function S3(e){const o=Kn(this);return ns(o,"has",e),o.hasOwnProperty(e)}function nI(e=!1,o=!1){return function(i,l,u){if(l==="__v_isReactive")return!e;if(l==="__v_isReadonly")return e;if(l==="__v_isShallow")return o;if(l==="__v_raw"&&u===(e?o?H3:HN:o?UN:VN).get(i))return i;const a=mn(i);if(!e){if(a&&Qn(FS,l))return Reflect.get(FS,l,u);if(l==="hasOwnProperty")return S3}const h=Reflect.get(i,l,u);return(ZC(l)?xN.has(l):T3(l))||(e||ns(i,"get",l),o)?h:nr(h)?a&&JC(l)?h:h.value:ko(h)?e?iI(h):ft(h):h}}const O3=BN(),k3=BN(!0);function BN(e=!1){return function(n,i,l,u){let a=n[i];if(ng(a)&&nr(a)&&!nr(l))return!1;if(!e&&(!Eb(l)&&!ng(l)&&(a=Kn(a),l=Kn(l)),!mn(n)&&nr(a)&&!nr(l)))return a.value=l,!0;const h=mn(n)&&JC(i)?Number(i)<n.length:Qn(n,i),p=Reflect.set(n,i,l,u);return n===Kn(u)&&(h?W$(l,a)&&Bu(n,"set",i,l):Bu(n,"add",i,l)),p}}function w3(e,o){const n=Qn(e,o);e[o];const i=Reflect.deleteProperty(e,o);return i&&n&&Bu(e,"delete",o,void 0),i}function N3(e,o){const n=Reflect.has(e,o);return(!ZC(o)||!xN.has(o))&&ns(e,"has",o),n}function A3(e){return ns(e,"iterate",mn(e)?"length":Ah),Reflect.ownKeys(e)}const FN={get:y3,set:O3,deleteProperty:w3,has:N3,ownKeys:A3},R3={get:C3,set(e,o){return!0},deleteProperty(e,o){return!0}},L3=rr({},FN,{get:E3,set:k3}),oI=e=>e,Jb=e=>Reflect.getPrototypeOf(e);function n0(e,o,n=!1,i=!1){e=e.__v_raw;const l=Kn(e),u=Kn(o);n||(o!==u&&ns(l,"get",o),ns(l,"get",u));const{has:a}=Jb(l),h=i?oI:n?lI:j$;if(a.call(l,o))return h(e.get(o));if(a.call(l,u))return h(e.get(u));e!==l&&e.get(o)}function o0(e,o=!1){const n=this.__v_raw,i=Kn(n),l=Kn(e);return o||(e!==l&&ns(i,"has",e),ns(i,"has",l)),e===l?n.has(e):n.has(e)||n.has(l)}function r0(e,o=!1){return e=e.__v_raw,!o&&ns(Kn(e),"iterate",Ah),Reflect.get(e,"size",e)}function VS(e){e=Kn(e);const o=Kn(this);return Jb(o).has.call(o,e)||(o.add(e),Bu(o,"add",e,e)),this}function US(e,o){o=Kn(o);const n=Kn(this),{has:i,get:l}=Jb(n);let u=i.call(n,e);u||(e=Kn(e),u=i.call(n,e));const a=l.call(n,e);return n.set(e,o),u?W$(o,a)&&Bu(n,"set",e,o):Bu(n,"add",e,o),this}function HS(e){const o=Kn(this),{has:n,get:i}=Jb(o);let l=n.call(o,e);l||(e=Kn(e),l=n.call(o,e)),i&&i.call(o,e);const u=o.delete(e);return l&&Bu(o,"delete",e,void 0),u}function GS(){const e=Kn(this),o=e.size!==0,n=e.clear();return o&&Bu(e,"clear",void 0,void 0),n}function i0(e,o){return function(i,l){const u=this,a=u.__v_raw,h=Kn(a),p=o?oI:e?lI:j$;return!e&&ns(h,"iterate",Ah),a.forEach((m,$)=>i.call(l,p(m),p($),u))}}function s0(e,o,n){return function(...i){const l=this.__v_raw,u=Kn(l),a=Xf(u),h=e==="entries"||e===Symbol.iterator&&a,p=e==="keys"&&a,m=l[e](...i),$=n?oI:o?lI:j$;return!o&&ns(u,"iterate",p?aC:Ah),{next(){const{value:T,done:w}=m.next();return w?{value:T,done:w}:{value:h?[$(T[0]),$(T[1])]:$(T),done:w}},[Symbol.iterator](){return this}}}}function Gc(e){return function(...o){return e==="delete"?!1:this}}function M3(){const e={get(u){return n0(this,u)},get size(){return r0(this)},has:o0,add:VS,set:US,delete:HS,clear:GS,forEach:i0(!1,!1)},o={get(u){return n0(this,u,!1,!0)},get size(){return r0(this)},has:o0,add:VS,set:US,delete:HS,clear:GS,forEach:i0(!1,!0)},n={get(u){return n0(this,u,!0)},get size(){return r0(this,!0)},has(u){return o0.call(this,u,!0)},add:Gc("add"),set:Gc("set"),delete:Gc("delete"),clear:Gc("clear"),forEach:i0(!0,!1)},i={get(u){return n0(this,u,!0,!0)},get size(){return r0(this,!0)},has(u){return o0.call(this,u,!0)},add:Gc("add"),set:Gc("set"),delete:Gc("delete"),clear:Gc("clear"),forEach:i0(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(u=>{e[u]=s0(u,!1,!1),n[u]=s0(u,!0,!1),o[u]=s0(u,!1,!0),i[u]=s0(u,!0,!0)}),[e,n,o,i]}const[P3,D3,x3,B3]=M3();function rI(e,o){const n=o?e?B3:x3:e?D3:P3;return(i,l,u)=>l==="__v_isReactive"?!e:l==="__v_isReadonly"?e:l==="__v_raw"?i:Reflect.get(Qn(n,l)&&l in i?n:i,l,u)}const F3={get:rI(!1,!1)},V3={get:rI(!1,!0)},U3={get:rI(!0,!1)},VN=new WeakMap,UN=new WeakMap,HN=new WeakMap,H3=new WeakMap;function G3(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function z3(e){return e.__v_skip||!Object.isExtensible(e)?0:G3(r3(e))}function ft(e){return ng(e)?e:sI(e,!1,FN,F3,VN)}function W3(e){return sI(e,!1,L3,V3,UN)}function iI(e){return sI(e,!0,R3,U3,HN)}function sI(e,o,n,i,l){if(!ko(e)||e.__v_raw&&!(o&&e.__v_isReactive))return e;const u=l.get(e);if(u)return u;const a=z3(e);if(a===0)return e;const h=new Proxy(e,a===2?i:n);return l.set(e,h),h}function Kf(e){return ng(e)?Kf(e.__v_raw):!!(e&&e.__v_isReactive)}function ng(e){return!!(e&&e.__v_isReadonly)}function Eb(e){return!!(e&&e.__v_isShallow)}function GN(e){return Kf(e)||ng(e)}function Kn(e){const o=e&&e.__v_raw;return o?Kn(o):e}function zN(e){return Tb(e,"__v_skip",!0),e}const j$=e=>ko(e)?ft(e):e,lI=e=>ko(e)?iI(e):e;function WN(e){Zc&&Nl&&(e=Kn(e),DN(e.dep||(e.dep=eI())))}function jN(e,o){e=Kn(e);const n=e.dep;n&&uC(n)}function nr(e){return!!(e&&e.__v_isRef===!0)}function ve(e){return XN(e,!1)}function j3(e){return XN(e,!0)}function XN(e,o){return nr(e)?e:new X3(e,o)}class X3{constructor(o,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?o:Kn(o),this._value=n?o:j$(o)}get value(){return WN(this),this._value}set value(o){const n=this.__v_isShallow||Eb(o)||ng(o);o=n?o:Kn(o),W$(o,this._rawValue)&&(this._rawValue=o,this._value=n?o:j$(o),jN(this))}}function Ta(e){return nr(e)?e.value:e}const K3={get:(e,o,n)=>Ta(Reflect.get(e,o,n)),set:(e,o,n,i)=>{const l=e[o];return nr(l)&&!nr(n)?(l.value=n,!0):Reflect.set(e,o,n,i)}};function KN(e){return Kf(e)?e:new Proxy(e,K3)}function mt(e){const o=mn(e)?new Array(e.length):{};for(const n in e)o[n]=YN(e,n);return o}class Y3{constructor(o,n,i){this._object=o,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const o=this._object[this._key];return o===void 0?this._defaultValue:o}set value(o){this._object[this._key]=o}get dep(){return b3(Kn(this._object),this._key)}}class Q3{constructor(o){this._getter=o,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Os(e,o,n){return nr(e)?e:wn(e)?new Q3(e):ko(e)&&arguments.length>1?YN(e,o,n):ve(e)}function YN(e,o,n){const i=e[o];return nr(i)?i:new Y3(e,o,n)}class q3{constructor(o,n,i,l){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new tI(o,()=>{this._dirty||(this._dirty=!0,jN(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!l,this.__v_isReadonly=i}get value(){const o=Kn(this);return WN(o),(o._dirty||!o._cacheable)&&(o._dirty=!1,o._value=o.effect.run()),o._value}set value(o){this._setter(o)}}function Z3(e,o,n=!1){let i,l;const u=wn(e);return u?(i=e,l=Ll):(i=e.get,l=e.set),new q3(i,l,u||!l,n)}function Jc(e,o,n,i){let l;try{l=i?e(...i):e()}catch(u){e1(u,o,n)}return l}function Ys(e,o,n,i){if(wn(e)){const u=Jc(e,o,n,i);return u&&kN(u)&&u.catch(a=>{e1(a,o,n)}),u}const l=[];for(let u=0;u<e.length;u++)l.push(Ys(e[u],o,n,i));return l}function e1(e,o,n,i=!0){const l=o?o.vnode:null;if(o){let u=o.parent;const a=o.proxy,h=n;for(;u;){const m=u.ec;if(m){for(let $=0;$<m.length;$++)if(m[$](e,a,h)===!1)return}u=u.parent}const p=o.appContext.config.errorHandler;if(p){Jc(p,null,10,[e,a,h]);return}}J3(e,n,l,i)}function J3(e,o,n,i=!0){console.error(e)}let X$=!1,cC=!1;const fi=[];let Ca=0;const Yf=[];let wu=null,Oh=0;const QN=Promise.resolve();let aI=null;function Un(e){const o=aI||QN;return e?o.then(this?e.bind(this):e):o}function eM(e){let o=Ca+1,n=fi.length;for(;o<n;){const i=o+n>>>1;K$(fi[i])<e?o=i+1:n=i}return o}function uI(e){(!fi.length||!fi.includes(e,X$&&e.allowRecurse?Ca+1:Ca))&&(e.id==null?fi.push(e):fi.splice(eM(e.id),0,e),qN())}function qN(){!X$&&!cC&&(cC=!0,aI=QN.then(JN))}function tM(e){const o=fi.indexOf(e);o>Ca&&fi.splice(o,1)}function nM(e){mn(e)?Yf.push(...e):(!wu||!wu.includes(e,e.allowRecurse?Oh+1:Oh))&&Yf.push(e),qN()}function zS(e,o=X$?Ca+1:0){for(;o<fi.length;o++){const n=fi[o];n&&n.pre&&(fi.splice(o,1),o--,n())}}function ZN(e){if(Yf.length){const o=[...new Set(Yf)];if(Yf.length=0,wu){wu.push(...o);return}for(wu=o,wu.sort((n,i)=>K$(n)-K$(i)),Oh=0;Oh<wu.length;Oh++)wu[Oh]();wu=null,Oh=0}}const K$=e=>e.id==null?1/0:e.id,oM=(e,o)=>{const n=K$(e)-K$(o);if(n===0){if(e.pre&&!o.pre)return-1;if(o.pre&&!e.pre)return 1}return n};function JN(e){cC=!1,X$=!0,fi.sort(oM);const o=Ll;try{for(Ca=0;Ca<fi.length;Ca++){const n=fi[Ca];n&&n.active!==!1&&Jc(n,null,14)}}finally{Ca=0,fi.length=0,ZN(),X$=!1,aI=null,(fi.length||Yf.length)&&JN()}}function rM(e,o,...n){if(e.isUnmounted)return;const i=e.vnode.props||Ro;let l=n;const u=o.startsWith("update:"),a=u&&o.slice(7);if(a&&a in i){const $=`${a==="modelValue"?"model":a}Modifiers`,{number:T,trim:w}=i[$]||Ro;w&&(l=n.map(A=>Xo(A)?A.trim():A)),T&&(l=n.map(l3))}let h,p=i[h=hT(o)]||i[h=hT(ka(o))];!p&&u&&(p=i[h=hT(Gh(o))]),p&&Ys(p,e,6,l);const m=i[h+"Once"];if(m){if(!e.emitted)e.emitted={};else if(e.emitted[h])return;e.emitted[h]=!0,Ys(m,e,6,l)}}function eA(e,o,n=!1){const i=o.emitsCache,l=i.get(e);if(l!==void 0)return l;const u=e.emits;let a={},h=!1;if(!wn(e)){const p=m=>{const $=eA(m,o,!0);$&&(h=!0,rr(a,$))};!n&&o.mixins.length&&o.mixins.forEach(p),e.extends&&p(e.extends),e.mixins&&e.mixins.forEach(p)}return!u&&!h?(ko(e)&&i.set(e,null),null):(mn(u)?u.forEach(p=>a[p]=null):rr(a,u),ko(e)&&i.set(e,a),a)}function t1(e,o){return!e||!Yb(o)?!1:(o=o.slice(2).replace(/Once$/,""),Qn(e,o[0].toLowerCase()+o.slice(1))||Qn(e,Gh(o))||Qn(e,o))}let Vr=null,n1=null;function Cb(e){const o=Vr;return Vr=e,n1=e&&e.type.__scopeId||null,o}function cI(e){n1=e}function dI(){n1=null}function Je(e,o=Vr,n){if(!o||e._n)return e;const i=(...l)=>{i._d&&o2(-1);const u=Cb(o);let a;try{a=e(...l)}finally{Cb(u),i._d&&o2(1)}return a};return i._n=!0,i._c=!0,i._d=!0,i}function fT(e){const{type:o,vnode:n,proxy:i,withProxy:l,props:u,propsOptions:[a],slots:h,attrs:p,emit:m,render:$,renderCache:T,data:w,setupState:A,ctx:R,inheritAttrs:L}=e;let M,B;const G=Cb(e);try{if(n.shapeFlag&4){const F=l||i;M=ya($.call(F,F,T,u,A,w,R)),B=p}else{const F=o;M=ya(F.length>1?F(u,{attrs:p,slots:h,emit:m}):F(u,null)),B=o.props?p:iM(p)}}catch(F){R$.length=0,e1(F,e,1),M=_(Is)}let j=M;if(B&&L!==!1){const F=Object.keys(B),{shapeFlag:x}=j;F.length&&x&7&&(a&&F.some(QC)&&(B=sM(B,a)),j=os(j,B))}return n.dirs&&(j=os(j),j.dirs=j.dirs?j.dirs.concat(n.dirs):n.dirs),n.transition&&(j.transition=n.transition),M=j,Cb(G),M}const iM=e=>{let o;for(const n in e)(n==="class"||n==="style"||Yb(n))&&((o||(o={}))[n]=e[n]);return o},sM=(e,o)=>{const n={};for(const i in e)(!QC(i)||!(i.slice(9)in o))&&(n[i]=e[i]);return n};function lM(e,o,n){const{props:i,children:l,component:u}=e,{props:a,children:h,patchFlag:p}=o,m=u.emitsOptions;if(o.dirs||o.transition)return!0;if(n&&p>=0){if(p&1024)return!0;if(p&16)return i?WS(i,a,m):!!a;if(p&8){const $=o.dynamicProps;for(let T=0;T<$.length;T++){const w=$[T];if(a[w]!==i[w]&&!t1(m,w))return!0}}}else return(l||h)&&(!h||!h.$stable)?!0:i===a?!1:i?a?WS(i,a,m):!0:!!a;return!1}function WS(e,o,n){const i=Object.keys(o);if(i.length!==Object.keys(e).length)return!0;for(let l=0;l<i.length;l++){const u=i[l];if(o[u]!==e[u]&&!t1(n,u))return!0}return!1}function aM({vnode:e,parent:o},n){for(;o&&o.subTree===e;)(e=o.vnode).el=n,o=o.parent}const uM=e=>e.__isSuspense;function cM(e,o){o&&o.pendingBranch?mn(e)?o.effects.push(...e):o.effects.push(e):nM(e)}function Cr(e,o){return hI(e,null,o)}const l0={};function At(e,o,n){return hI(e,o,n)}function hI(e,o,{immediate:n,deep:i,flush:l,onTrack:u,onTrigger:a}=Ro){var h;const p=$3()===((h=Er)==null?void 0:h.scope)?Er:null;let m,$=!1,T=!1;if(nr(e)?(m=()=>e.value,$=Eb(e)):Kf(e)?(m=()=>e,i=!0):mn(e)?(T=!0,$=e.some(F=>Kf(F)||Eb(F)),m=()=>e.map(F=>{if(nr(F))return F.value;if(Kf(F))return Nh(F);if(wn(F))return Jc(F,p,2)})):wn(e)?o?m=()=>Jc(e,p,2):m=()=>{if(!(p&&p.isUnmounted))return w&&w(),Ys(e,p,3,[A])}:m=Ll,o&&i){const F=m;m=()=>Nh(F())}let w,A=F=>{w=G.onStop=()=>{Jc(F,p,4)}},R;if(Z$)if(A=Ll,o?n&&Ys(o,p,3,[m(),T?[]:void 0,A]):m(),l==="sync"){const F=JM();R=F.__watcherHandles||(F.__watcherHandles=[])}else return Ll;let L=T?new Array(e.length).fill(l0):l0;const M=()=>{if(G.active)if(o){const F=G.run();(i||$||(T?F.some((x,D)=>W$(x,L[D])):W$(F,L)))&&(w&&w(),Ys(o,p,3,[F,L===l0?void 0:T&&L[0]===l0?[]:L,A]),L=F)}else G.run()};M.allowRecurse=!!o;let B;l==="sync"?B=M:l==="post"?B=()=>Ji(M,p&&p.suspense):(M.pre=!0,p&&(M.id=p.uid),B=()=>uI(M));const G=new tI(m,B);o?n?M():L=G.run():l==="post"?Ji(G.run.bind(G),p&&p.suspense):G.run();const j=()=>{G.stop(),p&&p.scope&&qC(p.scope.effects,G)};return R&&R.push(j),j}function dM(e,o,n){const i=this.proxy,l=Xo(e)?e.includes(".")?tA(i,e):()=>i[e]:e.bind(i,i);let u;wn(o)?u=o:(u=o.handler,n=o);const a=Er;og(this);const h=hI(l,u.bind(i),n);return a?og(a):Rh(),h}function tA(e,o){const n=o.split(".");return()=>{let i=e;for(let l=0;l<n.length&&i;l++)i=i[n[l]];return i}}function Nh(e,o){if(!ko(e)||e.__v_skip||(o=o||new Set,o.has(e)))return e;if(o.add(e),nr(e))Nh(e.value,o);else if(mn(e))for(let n=0;n<e.length;n++)Nh(e[n],o);else if(ON(e)||Xf(e))e.forEach(n=>{Nh(n,o)});else if(NN(e))for(const n in e)Nh(e[n],o);return e}function Qs(e,o){const n=Vr;if(n===null)return e;const i=a1(n)||n.proxy,l=e.dirs||(e.dirs=[]);for(let u=0;u<o.length;u++){let[a,h,p,m=Ro]=o[u];a&&(wn(a)&&(a={mounted:a,updated:a}),a.deep&&Nh(h),l.push({dir:a,instance:i,value:h,oldValue:void 0,arg:p,modifiers:m}))}return e}function Th(e,o,n,i){const l=e.dirs,u=o&&o.dirs;for(let a=0;a<l.length;a++){const h=l[a];u&&(h.oldValue=u[a].value);let p=h.dir[i];p&&(dg(),Ys(p,n,8,[e.el,h,e,o]),hg())}}function nA(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return fn(()=>{e.isMounted=!0}),wr(()=>{e.isUnmounting=!0}),e}const Ks=[Function,Array],oA={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Ks,onEnter:Ks,onAfterEnter:Ks,onEnterCancelled:Ks,onBeforeLeave:Ks,onLeave:Ks,onAfterLeave:Ks,onLeaveCancelled:Ks,onBeforeAppear:Ks,onAppear:Ks,onAfterAppear:Ks,onAppearCancelled:Ks},hM={name:"BaseTransition",props:oA,setup(e,{slots:o}){const n=vi(),i=nA();let l;return()=>{const u=o.default&&pI(o.default(),!0);if(!u||!u.length)return;let a=u[0];if(u.length>1){for(const L of u)if(L.type!==Is){a=L;break}}const h=Kn(e),{mode:p}=h;if(i.isLeaving)return gT(a);const m=jS(a);if(!m)return gT(a);const $=Y$(m,h,i,n);Q$(m,$);const T=n.subTree,w=T&&jS(T);let A=!1;const{getTransitionKey:R}=m.type;if(R){const L=R();l===void 0?l=L:L!==l&&(l=L,A=!0)}if(w&&w.type!==Is&&(!kh(m,w)||A)){const L=Y$(w,h,i,n);if(Q$(w,L),p==="out-in")return i.isLeaving=!0,L.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&n.update()},gT(a);p==="in-out"&&m.type!==Is&&(L.delayLeave=(M,B,G)=>{const j=rA(i,w);j[String(w.key)]=w,M._leaveCb=()=>{B(),M._leaveCb=void 0,delete $.delayedLeave},$.delayedLeave=G})}return a}}},pM=hM;function rA(e,o){const{leavingVNodes:n}=e;let i=n.get(o.type);return i||(i=Object.create(null),n.set(o.type,i)),i}function Y$(e,o,n,i){const{appear:l,mode:u,persisted:a=!1,onBeforeEnter:h,onEnter:p,onAfterEnter:m,onEnterCancelled:$,onBeforeLeave:T,onLeave:w,onAfterLeave:A,onLeaveCancelled:R,onBeforeAppear:L,onAppear:M,onAfterAppear:B,onAppearCancelled:G}=o,j=String(e.key),F=rA(n,e),x=(te,Y)=>{te&&Ys(te,i,9,Y)},D=(te,Y)=>{const J=Y[1];x(te,Y),mn(te)?te.every(ee=>ee.length<=1)&&J():te.length<=1&&J()},U={mode:u,persisted:a,beforeEnter(te){let Y=h;if(!n.isMounted)if(l)Y=L||h;else return;te._leaveCb&&te._leaveCb(!0);const J=F[j];J&&kh(e,J)&&J.el._leaveCb&&J.el._leaveCb(),x(Y,[te])},enter(te){let Y=p,J=m,ee=$;if(!n.isMounted)if(l)Y=M||p,J=B||m,ee=G||$;else return;let ue=!1;const oe=te._enterCb=X=>{ue||(ue=!0,X?x(ee,[te]):x(J,[te]),U.delayedLeave&&U.delayedLeave(),te._enterCb=void 0)};Y?D(Y,[te,oe]):oe()},leave(te,Y){const J=String(e.key);if(te._enterCb&&te._enterCb(!0),n.isUnmounting)return Y();x(T,[te]);let ee=!1;const ue=te._leaveCb=oe=>{ee||(ee=!0,Y(),oe?x(R,[te]):x(A,[te]),te._leaveCb=void 0,F[J]===e&&delete F[J])};F[J]=e,w?D(w,[te,ue]):ue()},clone(te){return Y$(te,o,n,i)}};return U}function gT(e){if(o1(e))return e=os(e),e.children=null,e}function jS(e){return o1(e)?e.children?e.children[0]:void 0:e}function Q$(e,o){e.shapeFlag&6&&e.component?Q$(e.component.subTree,o):e.shapeFlag&128?(e.ssContent.transition=o.clone(e.ssContent),e.ssFallback.transition=o.clone(e.ssFallback)):e.transition=o}function pI(e,o=!1,n){let i=[],l=0;for(let u=0;u<e.length;u++){let a=e[u];const h=n==null?a.key:String(n)+String(a.key!=null?a.key:u);a.type===Lt?(a.patchFlag&128&&l++,i=i.concat(pI(a.children,o,h))):(o||a.type!==Is)&&i.push(h!=null?os(a,{key:h}):a)}if(l>1)for(let u=0;u<i.length;u++)i[u].patchFlag=-2;return i}function Ae(e,o){return wn(e)?(()=>rr({name:e.name},o,{setup:e}))():e}const w$=e=>!!e.type.__asyncLoader,o1=e=>e.type.__isKeepAlive;function fM(e,o){sA(e,"a",o)}function iA(e,o){sA(e,"da",o)}function sA(e,o,n=Er){const i=e.__wdc||(e.__wdc=()=>{let l=n;for(;l;){if(l.isDeactivated)return;l=l.parent}return e()});if(r1(o,i,n),n){let l=n.parent;for(;l&&l.parent;)o1(l.parent.vnode)&&gM(i,o,n,l),l=l.parent}}function gM(e,o,n,i){const l=r1(o,e,i,!0);Ir(()=>{qC(i[o],l)},n)}function r1(e,o,n=Er,i=!1){if(n){const l=n[e]||(n[e]=[]),u=o.__weh||(o.__weh=(...a)=>{if(n.isUnmounted)return;dg(),og(n);const h=Ys(o,n,e,a);return Rh(),hg(),h});return i?l.unshift(u):l.push(u),u}}const Fu=e=>(o,n=Er)=>(!Z$||e==="sp")&&r1(e,(...i)=>o(...i),n),mM=Fu("bm"),fn=Fu("m"),$M=Fu("bu"),$i=Fu("u"),wr=Fu("bum"),Ir=Fu("um"),vM=Fu("sp"),_M=Fu("rtg"),bM=Fu("rtc");function TM(e,o=Er){r1("ec",e,o)}const fI="components";function Pe(e,o){return aA(fI,e,!0,o)||e}const lA=Symbol.for("v-ndc");function ts(e){return Xo(e)?aA(fI,e,!1)||e:e||lA}function aA(e,o,n=!0,i=!1){const l=Vr||Er;if(l){const u=l.type;if(e===fI){const h=QM(u,!1);if(h&&(h===o||h===ka(o)||h===Zb(ka(o))))return u}const a=XS(l[e]||u[e],o)||XS(l.appContext[e],o);return!a&&i?u:a}}function XS(e,o){return e&&(e[o]||e[ka(o)]||e[Zb(ka(o))])}function Ko(e,o,n,i){let l;const u=n&&n[i];if(mn(e)||Xo(e)){l=new Array(e.length);for(let a=0,h=e.length;a<h;a++)l[a]=o(e[a],a,void 0,u&&u[a])}else if(typeof e=="number"){l=new Array(e);for(let a=0;a<e;a++)l[a]=o(a+1,a,void 0,u&&u[a])}else if(ko(e))if(e[Symbol.iterator])l=Array.from(e,(a,h)=>o(a,h,void 0,u&&u[h]));else{const a=Object.keys(e);l=new Array(a.length);for(let h=0,p=a.length;h<p;h++){const m=a[h];l[h]=o(e[m],m,h,u&&u[h])}}else l=[];return n&&(n[i]=l),l}function Oo(e,o){for(let n=0;n<o.length;n++){const i=o[n];if(mn(i))for(let l=0;l<i.length;l++)e[i[l].name]=i[l].fn;else i&&(e[i.name]=i.key?(...l)=>{const u=i.fn(...l);return u&&(u.key=i.key),u}:i.fn)}return e}function Ue(e,o,n={},i,l){if(Vr.isCE||Vr.parent&&w$(Vr.parent)&&Vr.parent.isCE)return o!=="default"&&(n.name=o),_("slot",n,i&&i());let u=e[o];u&&u._c&&(u._d=!1),W();const a=u&&uA(u(n)),h=Ze(Lt,{key:n.key||a&&a.key||`_${o}`},a||(i?i():[]),a&&e._===1?64:-2);return!l&&h.scopeId&&(h.slotScopeIds=[h.scopeId+"-s"]),u&&u._c&&(u._d=!0),h}function uA(e){return e.some(o=>vo(o)?!(o.type===Is||o.type===Lt&&!uA(o.children)):!0)?e:null}const dC=e=>e?bA(e)?a1(e)||e.proxy:dC(e.parent):null,N$=rr(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>dC(e.parent),$root:e=>dC(e.root),$emit:e=>e.emit,$options:e=>gI(e),$forceUpdate:e=>e.f||(e.f=()=>uI(e.update)),$nextTick:e=>e.n||(e.n=Un.bind(e.proxy)),$watch:e=>dM.bind(e)}),mT=(e,o)=>e!==Ro&&!e.__isScriptSetup&&Qn(e,o),yM={get({_:e},o){const{ctx:n,setupState:i,data:l,props:u,accessCache:a,type:h,appContext:p}=e;let m;if(o[0]!=="$"){const A=a[o];if(A!==void 0)switch(A){case 1:return i[o];case 2:return l[o];case 4:return n[o];case 3:return u[o]}else{if(mT(i,o))return a[o]=1,i[o];if(l!==Ro&&Qn(l,o))return a[o]=2,l[o];if((m=e.propsOptions[0])&&Qn(m,o))return a[o]=3,u[o];if(n!==Ro&&Qn(n,o))return a[o]=4,n[o];hC&&(a[o]=0)}}const $=N$[o];let T,w;if($)return o==="$attrs"&&ns(e,"get",o),$(e);if((T=h.__cssModules)&&(T=T[o]))return T;if(n!==Ro&&Qn(n,o))return a[o]=4,n[o];if(w=p.config.globalProperties,Qn(w,o))return w[o]},set({_:e},o,n){const{data:i,setupState:l,ctx:u}=e;return mT(l,o)?(l[o]=n,!0):i!==Ro&&Qn(i,o)?(i[o]=n,!0):Qn(e.props,o)||o[0]==="$"&&o.slice(1)in e?!1:(u[o]=n,!0)},has({_:{data:e,setupState:o,accessCache:n,ctx:i,appContext:l,propsOptions:u}},a){let h;return!!n[a]||e!==Ro&&Qn(e,a)||mT(o,a)||(h=u[0])&&Qn(h,a)||Qn(i,a)||Qn(N$,a)||Qn(l.config.globalProperties,a)},defineProperty(e,o,n){return n.get!=null?e._.accessCache[o]=0:Qn(n,"value")&&this.set(e,o,n.value,null),Reflect.defineProperty(e,o,n)}};function KS(e){return mn(e)?e.reduce((o,n)=>(o[n]=null,o),{}):e}let hC=!0;function EM(e){const o=gI(e),n=e.proxy,i=e.ctx;hC=!1,o.beforeCreate&&YS(o.beforeCreate,e,"bc");const{data:l,computed:u,methods:a,watch:h,provide:p,inject:m,created:$,beforeMount:T,mounted:w,beforeUpdate:A,updated:R,activated:L,deactivated:M,beforeDestroy:B,beforeUnmount:G,destroyed:j,unmounted:F,render:x,renderTracked:D,renderTriggered:U,errorCaptured:te,serverPrefetch:Y,expose:J,inheritAttrs:ee,components:ue,directives:oe,filters:X}=o;if(m&&CM(m,i,null),a)for(const z in a){const ne=a[z];wn(ne)&&(i[z]=ne.bind(n))}if(l){const z=l.call(n,n);ko(z)&&(e.data=ft(z))}if(hC=!0,u)for(const z in u){const ne=u[z],ge=wn(ne)?ne.bind(n,n):wn(ne.get)?ne.get.bind(n,n):Ll,Q=!wn(ne)&&wn(ne.set)?ne.set.bind(n):Ll,Oe=O({get:ge,set:Q});Object.defineProperty(i,z,{enumerable:!0,configurable:!0,get:()=>Oe.value,set:Re=>Oe.value=Re})}if(h)for(const z in h)cA(h[z],i,n,z);if(p){const z=wn(p)?p.call(n):p;Reflect.ownKeys(z).forEach(ne=>{Ln(ne,z[ne])})}$&&YS($,e,"c");function q(z,ne){mn(ne)?ne.forEach(ge=>z(ge.bind(n))):ne&&z(ne.bind(n))}if(q(mM,T),q(fn,w),q($M,A),q($i,R),q(fM,L),q(iA,M),q(TM,te),q(bM,D),q(_M,U),q(wr,G),q(Ir,F),q(vM,Y),mn(J))if(J.length){const z=e.exposed||(e.exposed={});J.forEach(ne=>{Object.defineProperty(z,ne,{get:()=>n[ne],set:ge=>n[ne]=ge})})}else e.exposed||(e.exposed={});x&&e.render===Ll&&(e.render=x),ee!=null&&(e.inheritAttrs=ee),ue&&(e.components=ue),oe&&(e.directives=oe)}function CM(e,o,n=Ll){mn(e)&&(e=pC(e));for(const i in e){const l=e[i];let u;ko(l)?"default"in l?u=on(l.from||i,l.default,!0):u=on(l.from||i):u=on(l),nr(u)?Object.defineProperty(o,i,{enumerable:!0,configurable:!0,get:()=>u.value,set:a=>u.value=a}):o[i]=u}}function YS(e,o,n){Ys(mn(e)?e.map(i=>i.bind(o.proxy)):e.bind(o.proxy),o,n)}function cA(e,o,n,i){const l=i.includes(".")?tA(n,i):()=>n[i];if(Xo(e)){const u=o[e];wn(u)&&At(l,u)}else if(wn(e))At(l,e.bind(n));else if(ko(e))if(mn(e))e.forEach(u=>cA(u,o,n,i));else{const u=wn(e.handler)?e.handler.bind(n):o[e.handler];wn(u)&&At(l,u,e)}}function gI(e){const o=e.type,{mixins:n,extends:i}=o,{mixins:l,optionsCache:u,config:{optionMergeStrategies:a}}=e.appContext,h=u.get(o);let p;return h?p=h:!l.length&&!n&&!i?p=o:(p={},l.length&&l.forEach(m=>Ib(p,m,a,!0)),Ib(p,o,a)),ko(o)&&u.set(o,p),p}function Ib(e,o,n,i=!1){const{mixins:l,extends:u}=o;u&&Ib(e,u,n,!0),l&&l.forEach(a=>Ib(e,a,n,!0));for(const a in o)if(!(i&&a==="expose")){const h=IM[a]||n&&n[a];e[a]=h?h(e[a],o[a]):o[a]}return e}const IM={data:QS,props:qS,emits:qS,methods:C$,computed:C$,beforeCreate:Li,created:Li,beforeMount:Li,mounted:Li,beforeUpdate:Li,updated:Li,beforeDestroy:Li,beforeUnmount:Li,destroyed:Li,unmounted:Li,activated:Li,deactivated:Li,errorCaptured:Li,serverPrefetch:Li,components:C$,directives:C$,watch:OM,provide:QS,inject:SM};function QS(e,o){return o?e?function(){return rr(wn(e)?e.call(this,this):e,wn(o)?o.call(this,this):o)}:o:e}function SM(e,o){return C$(pC(e),pC(o))}function pC(e){if(mn(e)){const o={};for(let n=0;n<e.length;n++)o[e[n]]=e[n];return o}return e}function Li(e,o){return e?[...new Set([].concat(e,o))]:o}function C$(e,o){return e?rr(Object.create(null),e,o):o}function qS(e,o){return e?mn(e)&&mn(o)?[...new Set([...e,...o])]:rr(Object.create(null),KS(e),KS(o??{})):o}function OM(e,o){if(!e)return o;if(!o)return e;const n=rr(Object.create(null),e);for(const i in o)n[i]=Li(e[i],o[i]);return n}function dA(){return{app:null,config:{isNativeTag:t3,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let kM=0;function wM(e,o){return function(i,l=null){wn(i)||(i=rr({},i)),l!=null&&!ko(l)&&(l=null);const u=dA(),a=new Set;let h=!1;const p=u.app={_uid:kM++,_component:i,_props:l,_container:null,_context:u,_instance:null,version:e9,get config(){return u.config},set config(m){},use(m,...$){return a.has(m)||(m&&wn(m.install)?(a.add(m),m.install(p,...$)):wn(m)&&(a.add(m),m(p,...$))),p},mixin(m){return u.mixins.includes(m)||u.mixins.push(m),p},component(m,$){return $?(u.components[m]=$,p):u.components[m]},directive(m,$){return $?(u.directives[m]=$,p):u.directives[m]},mount(m,$,T){if(!h){const w=_(i,l);return w.appContext=u,$&&o?o(w,m):e(w,m,T),h=!0,p._container=m,m.__vue_app__=p,a1(w.component)||w.component.proxy}},unmount(){h&&(e(null,p._container),delete p._container.__vue_app__)},provide(m,$){return u.provides[m]=$,p},runWithContext(m){Sb=p;try{return m()}finally{Sb=null}}};return p}}let Sb=null;function Ln(e,o){if(Er){let n=Er.provides;const i=Er.parent&&Er.parent.provides;i===n&&(n=Er.provides=Object.create(i)),n[e]=o}}function on(e,o,n=!1){const i=Er||Vr;if(i||Sb){const l=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:Sb._context.provides;if(l&&e in l)return l[e];if(arguments.length>1)return n&&wn(o)?o.call(i&&i.proxy):o}}function NM(e,o,n,i=!1){const l={},u={};Tb(u,l1,1),e.propsDefaults=Object.create(null),hA(e,o,l,u);for(const a in e.propsOptions[0])a in l||(l[a]=void 0);n?e.props=i?l:W3(l):e.type.props?e.props=l:e.props=u,e.attrs=u}function AM(e,o,n,i){const{props:l,attrs:u,vnode:{patchFlag:a}}=e,h=Kn(l),[p]=e.propsOptions;let m=!1;if((i||a>0)&&!(a&16)){if(a&8){const $=e.vnode.dynamicProps;for(let T=0;T<$.length;T++){let w=$[T];if(t1(e.emitsOptions,w))continue;const A=o[w];if(p)if(Qn(u,w))A!==u[w]&&(u[w]=A,m=!0);else{const R=ka(w);l[R]=fC(p,h,R,A,e,!1)}else A!==u[w]&&(u[w]=A,m=!0)}}}else{hA(e,o,l,u)&&(m=!0);let $;for(const T in h)(!o||!Qn(o,T)&&(($=Gh(T))===T||!Qn(o,$)))&&(p?n&&(n[T]!==void 0||n[$]!==void 0)&&(l[T]=fC(p,h,T,void 0,e,!0)):delete l[T]);if(u!==h)for(const T in u)(!o||!Qn(o,T))&&(delete u[T],m=!0)}m&&Bu(e,"set","$attrs")}function hA(e,o,n,i){const[l,u]=e.propsOptions;let a=!1,h;if(o)for(let p in o){if(b0(p))continue;const m=o[p];let $;l&&Qn(l,$=ka(p))?!u||!u.includes($)?n[$]=m:(h||(h={}))[$]=m:t1(e.emitsOptions,p)||(!(p in i)||m!==i[p])&&(i[p]=m,a=!0)}if(u){const p=Kn(n),m=h||Ro;for(let $=0;$<u.length;$++){const T=u[$];n[T]=fC(l,p,T,m[T],e,!Qn(m,T))}}return a}function fC(e,o,n,i,l,u){const a=e[n];if(a!=null){const h=Qn(a,"default");if(h&&i===void 0){const p=a.default;if(a.type!==Function&&!a.skipFactory&&wn(p)){const{propsDefaults:m}=l;n in m?i=m[n]:(og(l),i=m[n]=p.call(null,o),Rh())}else i=p}a[0]&&(u&&!h?i=!1:a[1]&&(i===""||i===Gh(n))&&(i=!0))}return i}function pA(e,o,n=!1){const i=o.propsCache,l=i.get(e);if(l)return l;const u=e.props,a={},h=[];let p=!1;if(!wn(e)){const $=T=>{p=!0;const[w,A]=pA(T,o,!0);rr(a,w),A&&h.push(...A)};!n&&o.mixins.length&&o.mixins.forEach($),e.extends&&$(e.extends),e.mixins&&e.mixins.forEach($)}if(!u&&!p)return ko(e)&&i.set(e,jf),jf;if(mn(u))for(let $=0;$<u.length;$++){const T=ka(u[$]);ZS(T)&&(a[T]=Ro)}else if(u)for(const $ in u){const T=ka($);if(ZS(T)){const w=u[$],A=a[T]=mn(w)||wn(w)?{type:w}:rr({},w);if(A){const R=t2(Boolean,A.type),L=t2(String,A.type);A[0]=R>-1,A[1]=L<0||R<L,(R>-1||Qn(A,"default"))&&h.push(T)}}}const m=[a,h];return ko(e)&&i.set(e,m),m}function ZS(e){return e[0]!=="$"}function JS(e){const o=e&&e.toString().match(/^\s*(function|class) (\w+)/);return o?o[2]:e===null?"null":""}function e2(e,o){return JS(e)===JS(o)}function t2(e,o){return mn(o)?o.findIndex(n=>e2(n,e)):wn(o)&&e2(o,e)?0:-1}const fA=e=>e[0]==="_"||e==="$stable",mI=e=>mn(e)?e.map(ya):[ya(e)],RM=(e,o,n)=>{if(o._n)return o;const i=Je((...l)=>mI(o(...l)),n);return i._c=!1,i},gA=(e,o,n)=>{const i=e._ctx;for(const l in e){if(fA(l))continue;const u=e[l];if(wn(u))o[l]=RM(l,u,i);else if(u!=null){const a=mI(u);o[l]=()=>a}}},mA=(e,o)=>{const n=mI(o);e.slots.default=()=>n},LM=(e,o)=>{if(e.vnode.shapeFlag&32){const n=o._;n?(e.slots=Kn(o),Tb(o,"_",n)):gA(o,e.slots={})}else e.slots={},o&&mA(e,o);Tb(e.slots,l1,1)},MM=(e,o,n)=>{const{vnode:i,slots:l}=e;let u=!0,a=Ro;if(i.shapeFlag&32){const h=o._;h?n&&h===1?u=!1:(rr(l,o),!n&&h===1&&delete l._):(u=!o.$stable,gA(o,l)),a=o}else o&&(mA(e,o),a={default:1});if(u)for(const h in l)!fA(h)&&!(h in a)&&delete l[h]};function gC(e,o,n,i,l=!1){if(mn(e)){e.forEach((w,A)=>gC(w,o&&(mn(o)?o[A]:o),n,i,l));return}if(w$(i)&&!l)return;const u=i.shapeFlag&4?a1(i.component)||i.component.proxy:i.el,a=l?null:u,{i:h,r:p}=e,m=o&&o.r,$=h.refs===Ro?h.refs={}:h.refs,T=h.setupState;if(m!=null&&m!==p&&(Xo(m)?($[m]=null,Qn(T,m)&&(T[m]=null)):nr(m)&&(m.value=null)),wn(p))Jc(p,h,12,[a,$]);else{const w=Xo(p),A=nr(p);if(w||A){const R=()=>{if(e.f){const L=w?Qn(T,p)?T[p]:$[p]:p.value;l?mn(L)&&qC(L,u):mn(L)?L.includes(u)||L.push(u):w?($[p]=[u],Qn(T,p)&&(T[p]=$[p])):(p.value=[u],e.k&&($[e.k]=p.value))}else w?($[p]=a,Qn(T,p)&&(T[p]=a)):A&&(p.value=a,e.k&&($[e.k]=a))};a?(R.id=-1,Ji(R,n)):R()}}}const Ji=cM;function PM(e){return DM(e)}function DM(e,o){const n=sC();n.__VUE__=!0;const{insert:i,remove:l,patchProp:u,createElement:a,createText:h,createComment:p,setText:m,setElementText:$,parentNode:T,nextSibling:w,setScopeId:A=Ll,insertStaticContent:R}=e,L=(le,ce,re,Me=null,Ne=null,$e=null,Fe=!1,Le=null,qe=!!ce.dynamicChildren)=>{if(le===ce)return;le&&!kh(le,ce)&&(Me=et(le),Re(le,Ne,$e,!0),le=null),ce.patchFlag===-2&&(qe=!1,ce.dynamicChildren=null);const{type:Xe,ref:at,shapeFlag:Ee}=ce;switch(Xe){case s1:M(le,ce,re,Me);break;case Is:B(le,ce,re,Me);break;case T0:le==null&&G(ce,re,Me,Fe);break;case Lt:ue(le,ce,re,Me,Ne,$e,Fe,Le,qe);break;default:Ee&1?x(le,ce,re,Me,Ne,$e,Fe,Le,qe):Ee&6?oe(le,ce,re,Me,Ne,$e,Fe,Le,qe):(Ee&64||Ee&128)&&Xe.process(le,ce,re,Me,Ne,$e,Fe,Le,qe,dt)}at!=null&&Ne&&gC(at,le&&le.ref,$e,ce||le,!ce)},M=(le,ce,re,Me)=>{if(le==null)i(ce.el=h(ce.children),re,Me);else{const Ne=ce.el=le.el;ce.children!==le.children&&m(Ne,ce.children)}},B=(le,ce,re,Me)=>{le==null?i(ce.el=p(ce.children||""),re,Me):ce.el=le.el},G=(le,ce,re,Me)=>{[le.el,le.anchor]=R(le.children,ce,re,Me,le.el,le.anchor)},j=({el:le,anchor:ce},re,Me)=>{let Ne;for(;le&&le!==ce;)Ne=w(le),i(le,re,Me),le=Ne;i(ce,re,Me)},F=({el:le,anchor:ce})=>{let re;for(;le&&le!==ce;)re=w(le),l(le),le=re;l(ce)},x=(le,ce,re,Me,Ne,$e,Fe,Le,qe)=>{Fe=Fe||ce.type==="svg",le==null?D(ce,re,Me,Ne,$e,Fe,Le,qe):Y(le,ce,Ne,$e,Fe,Le,qe)},D=(le,ce,re,Me,Ne,$e,Fe,Le)=>{let qe,Xe;const{type:at,props:Ee,shapeFlag:Ie,transition:he,dirs:me}=le;if(qe=le.el=a(le.type,$e,Ee&&Ee.is,Ee),Ie&8?$(qe,le.children):Ie&16&&te(le.children,qe,null,Me,Ne,$e&&at!=="foreignObject",Fe,Le),me&&Th(le,null,Me,"created"),U(qe,le,le.scopeId,Fe,Me),Ee){for(const xe in Ee)xe!=="value"&&!b0(xe)&&u(qe,xe,null,Ee[xe],$e,le.children,Me,Ne,Be);"value"in Ee&&u(qe,"value",null,Ee.value),(Xe=Ee.onVnodeBeforeMount)&&ba(Xe,Me,le)}me&&Th(le,null,Me,"beforeMount");const Se=(!Ne||Ne&&!Ne.pendingBranch)&&he&&!he.persisted;Se&&he.beforeEnter(qe),i(qe,ce,re),((Xe=Ee&&Ee.onVnodeMounted)||Se||me)&&Ji(()=>{Xe&&ba(Xe,Me,le),Se&&he.enter(qe),me&&Th(le,null,Me,"mounted")},Ne)},U=(le,ce,re,Me,Ne)=>{if(re&&A(le,re),Me)for(let $e=0;$e<Me.length;$e++)A(le,Me[$e]);if(Ne){let $e=Ne.subTree;if(ce===$e){const Fe=Ne.vnode;U(le,Fe,Fe.scopeId,Fe.slotScopeIds,Ne.parent)}}},te=(le,ce,re,Me,Ne,$e,Fe,Le,qe=0)=>{for(let Xe=qe;Xe<le.length;Xe++){const at=le[Xe]=Le?Kc(le[Xe]):ya(le[Xe]);L(null,at,ce,re,Me,Ne,$e,Fe,Le)}},Y=(le,ce,re,Me,Ne,$e,Fe)=>{const Le=ce.el=le.el;let{patchFlag:qe,dynamicChildren:Xe,dirs:at}=ce;qe|=le.patchFlag&16;const Ee=le.props||Ro,Ie=ce.props||Ro;let he;re&&yh(re,!1),(he=Ie.onVnodeBeforeUpdate)&&ba(he,re,ce,le),at&&Th(ce,le,re,"beforeUpdate"),re&&yh(re,!0);const me=Ne&&ce.type!=="foreignObject";if(Xe?J(le.dynamicChildren,Xe,Le,re,Me,me,$e):Fe||ne(le,ce,Le,null,re,Me,me,$e,!1),qe>0){if(qe&16)ee(Le,ce,Ee,Ie,re,Me,Ne);else if(qe&2&&Ee.class!==Ie.class&&u(Le,"class",null,Ie.class,Ne),qe&4&&u(Le,"style",Ee.style,Ie.style,Ne),qe&8){const Se=ce.dynamicProps;for(let xe=0;xe<Se.length;xe++){const Ke=Se[xe],C=Ee[Ke],k=Ie[Ke];(k!==C||Ke==="value")&&u(Le,Ke,C,k,Ne,le.children,re,Me,Be)}}qe&1&&le.children!==ce.children&&$(Le,ce.children)}else!Fe&&Xe==null&&ee(Le,ce,Ee,Ie,re,Me,Ne);((he=Ie.onVnodeUpdated)||at)&&Ji(()=>{he&&ba(he,re,ce,le),at&&Th(ce,le,re,"updated")},Me)},J=(le,ce,re,Me,Ne,$e,Fe)=>{for(let Le=0;Le<ce.length;Le++){const qe=le[Le],Xe=ce[Le],at=qe.el&&(qe.type===Lt||!kh(qe,Xe)||qe.shapeFlag&70)?T(qe.el):re;L(qe,Xe,at,null,Me,Ne,$e,Fe,!0)}},ee=(le,ce,re,Me,Ne,$e,Fe)=>{if(re!==Me){if(re!==Ro)for(const Le in re)!b0(Le)&&!(Le in Me)&&u(le,Le,re[Le],null,Fe,ce.children,Ne,$e,Be);for(const Le in Me){if(b0(Le))continue;const qe=Me[Le],Xe=re[Le];qe!==Xe&&Le!=="value"&&u(le,Le,Xe,qe,Fe,ce.children,Ne,$e,Be)}"value"in Me&&u(le,"value",re.value,Me.value)}},ue=(le,ce,re,Me,Ne,$e,Fe,Le,qe)=>{const Xe=ce.el=le?le.el:h(""),at=ce.anchor=le?le.anchor:h("");let{patchFlag:Ee,dynamicChildren:Ie,slotScopeIds:he}=ce;he&&(Le=Le?Le.concat(he):he),le==null?(i(Xe,re,Me),i(at,re,Me),te(ce.children,re,at,Ne,$e,Fe,Le,qe)):Ee>0&&Ee&64&&Ie&&le.dynamicChildren?(J(le.dynamicChildren,Ie,re,Ne,$e,Fe,Le),(ce.key!=null||Ne&&ce===Ne.subTree)&&$I(le,ce,!0)):ne(le,ce,re,at,Ne,$e,Fe,Le,qe)},oe=(le,ce,re,Me,Ne,$e,Fe,Le,qe)=>{ce.slotScopeIds=Le,le==null?ce.shapeFlag&512?Ne.ctx.activate(ce,re,Me,Fe,qe):X(ce,re,Me,Ne,$e,Fe,qe):K(le,ce,qe)},X=(le,ce,re,Me,Ne,$e,Fe)=>{const Le=le.component=WM(le,Me,Ne);if(o1(le)&&(Le.ctx.renderer=dt),jM(Le),Le.asyncDep){if(Ne&&Ne.registerDep(Le,q),!le.el){const qe=Le.subTree=_(Is);B(null,qe,ce,re)}return}q(Le,le,ce,re,Ne,$e,Fe)},K=(le,ce,re)=>{const Me=ce.component=le.component;if(lM(le,ce,re))if(Me.asyncDep&&!Me.asyncResolved){z(Me,ce,re);return}else Me.next=ce,tM(Me.update),Me.update();else ce.el=le.el,Me.vnode=ce},q=(le,ce,re,Me,Ne,$e,Fe)=>{const Le=()=>{if(le.isMounted){let{next:at,bu:Ee,u:Ie,parent:he,vnode:me}=le,Se=at,xe;yh(le,!1),at?(at.el=me.el,z(le,at,Fe)):at=me,Ee&&pT(Ee),(xe=at.props&&at.props.onVnodeBeforeUpdate)&&ba(xe,he,at,me),yh(le,!0);const Ke=fT(le),C=le.subTree;le.subTree=Ke,L(C,Ke,T(C.el),et(C),le,Ne,$e),at.el=Ke.el,Se===null&&aM(le,Ke.el),Ie&&Ji(Ie,Ne),(xe=at.props&&at.props.onVnodeUpdated)&&Ji(()=>ba(xe,he,at,me),Ne)}else{let at;const{el:Ee,props:Ie}=ce,{bm:he,m:me,parent:Se}=le,xe=w$(ce);if(yh(le,!1),he&&pT(he),!xe&&(at=Ie&&Ie.onVnodeBeforeMount)&&ba(at,Se,ce),yh(le,!0),Ee&&we){const Ke=()=>{le.subTree=fT(le),we(Ee,le.subTree,le,Ne,null)};xe?ce.type.__asyncLoader().then(()=>!le.isUnmounted&&Ke()):Ke()}else{const Ke=le.subTree=fT(le);L(null,Ke,re,Me,le,Ne,$e),ce.el=Ke.el}if(me&&Ji(me,Ne),!xe&&(at=Ie&&Ie.onVnodeMounted)){const Ke=ce;Ji(()=>ba(at,Se,Ke),Ne)}(ce.shapeFlag&256||Se&&w$(Se.vnode)&&Se.vnode.shapeFlag&256)&&le.a&&Ji(le.a,Ne),le.isMounted=!0,ce=re=Me=null}},qe=le.effect=new tI(Le,()=>uI(Xe),le.scope),Xe=le.update=()=>qe.run();Xe.id=le.uid,yh(le,!0),Xe()},z=(le,ce,re)=>{ce.component=le;const Me=le.vnode.props;le.vnode=ce,le.next=null,AM(le,ce.props,Me,re),MM(le,ce.children,re),dg(),zS(),hg()},ne=(le,ce,re,Me,Ne,$e,Fe,Le,qe=!1)=>{const Xe=le&&le.children,at=le?le.shapeFlag:0,Ee=ce.children,{patchFlag:Ie,shapeFlag:he}=ce;if(Ie>0){if(Ie&128){Q(Xe,Ee,re,Me,Ne,$e,Fe,Le,qe);return}else if(Ie&256){ge(Xe,Ee,re,Me,Ne,$e,Fe,Le,qe);return}}he&8?(at&16&&Be(Xe,Ne,$e),Ee!==Xe&&$(re,Ee)):at&16?he&16?Q(Xe,Ee,re,Me,Ne,$e,Fe,Le,qe):Be(Xe,Ne,$e,!0):(at&8&&$(re,""),he&16&&te(Ee,re,Me,Ne,$e,Fe,Le,qe))},ge=(le,ce,re,Me,Ne,$e,Fe,Le,qe)=>{le=le||jf,ce=ce||jf;const Xe=le.length,at=ce.length,Ee=Math.min(Xe,at);let Ie;for(Ie=0;Ie<Ee;Ie++){const he=ce[Ie]=qe?Kc(ce[Ie]):ya(ce[Ie]);L(le[Ie],he,re,null,Ne,$e,Fe,Le,qe)}Xe>at?Be(le,Ne,$e,!0,!1,Ee):te(ce,re,Me,Ne,$e,Fe,Le,qe,Ee)},Q=(le,ce,re,Me,Ne,$e,Fe,Le,qe)=>{let Xe=0;const at=ce.length;let Ee=le.length-1,Ie=at-1;for(;Xe<=Ee&&Xe<=Ie;){const he=le[Xe],me=ce[Xe]=qe?Kc(ce[Xe]):ya(ce[Xe]);if(kh(he,me))L(he,me,re,null,Ne,$e,Fe,Le,qe);else break;Xe++}for(;Xe<=Ee&&Xe<=Ie;){const he=le[Ee],me=ce[Ie]=qe?Kc(ce[Ie]):ya(ce[Ie]);if(kh(he,me))L(he,me,re,null,Ne,$e,Fe,Le,qe);else break;Ee--,Ie--}if(Xe>Ee){if(Xe<=Ie){const he=Ie+1,me=he<at?ce[he].el:Me;for(;Xe<=Ie;)L(null,ce[Xe]=qe?Kc(ce[Xe]):ya(ce[Xe]),re,me,Ne,$e,Fe,Le,qe),Xe++}}else if(Xe>Ie)for(;Xe<=Ee;)Re(le[Xe],Ne,$e,!0),Xe++;else{const he=Xe,me=Xe,Se=new Map;for(Xe=me;Xe<=Ie;Xe++){const Ve=ce[Xe]=qe?Kc(ce[Xe]):ya(ce[Xe]);Ve.key!=null&&Se.set(Ve.key,Xe)}let xe,Ke=0;const C=Ie-me+1;let k=!1,de=0;const Ce=new Array(C);for(Xe=0;Xe<C;Xe++)Ce[Xe]=0;for(Xe=he;Xe<=Ee;Xe++){const Ve=le[Xe];if(Ke>=C){Re(Ve,Ne,$e,!0);continue}let tt;if(Ve.key!=null)tt=Se.get(Ve.key);else for(xe=me;xe<=Ie;xe++)if(Ce[xe-me]===0&&kh(Ve,ce[xe])){tt=xe;break}tt===void 0?Re(Ve,Ne,$e,!0):(Ce[tt-me]=Xe+1,tt>=de?de=tt:k=!0,L(Ve,ce[tt],re,null,Ne,$e,Fe,Le,qe),Ke++)}const Te=k?xM(Ce):jf;for(xe=Te.length-1,Xe=C-1;Xe>=0;Xe--){const Ve=me+Xe,tt=ce[Ve],Et=Ve+1<at?ce[Ve+1].el:Me;Ce[Xe]===0?L(null,tt,re,Et,Ne,$e,Fe,Le,qe):k&&(xe<0||Xe!==Te[xe]?Oe(tt,re,Et,2):xe--)}}},Oe=(le,ce,re,Me,Ne=null)=>{const{el:$e,type:Fe,transition:Le,children:qe,shapeFlag:Xe}=le;if(Xe&6){Oe(le.component.subTree,ce,re,Me);return}if(Xe&128){le.suspense.move(ce,re,Me);return}if(Xe&64){Fe.move(le,ce,re,dt);return}if(Fe===Lt){i($e,ce,re);for(let Ee=0;Ee<qe.length;Ee++)Oe(qe[Ee],ce,re,Me);i(le.anchor,ce,re);return}if(Fe===T0){j(le,ce,re);return}if(Me!==2&&Xe&1&&Le)if(Me===0)Le.beforeEnter($e),i($e,ce,re),Ji(()=>Le.enter($e),Ne);else{const{leave:Ee,delayLeave:Ie,afterLeave:he}=Le,me=()=>i($e,ce,re),Se=()=>{Ee($e,()=>{me(),he&&he()})};Ie?Ie($e,me,Se):Se()}else i($e,ce,re)},Re=(le,ce,re,Me=!1,Ne=!1)=>{const{type:$e,props:Fe,ref:Le,children:qe,dynamicChildren:Xe,shapeFlag:at,patchFlag:Ee,dirs:Ie}=le;if(Le!=null&&gC(Le,null,re,le,!0),at&256){ce.ctx.deactivate(le);return}const he=at&1&&Ie,me=!w$(le);let Se;if(me&&(Se=Fe&&Fe.onVnodeBeforeUnmount)&&ba(Se,ce,le),at&6)ke(le.component,re,Me);else{if(at&128){le.suspense.unmount(re,Me);return}he&&Th(le,null,ce,"beforeUnmount"),at&64?le.type.remove(le,ce,re,Ne,dt,Me):Xe&&($e!==Lt||Ee>0&&Ee&64)?Be(Xe,ce,re,!1,!0):($e===Lt&&Ee&384||!Ne&&at&16)&&Be(qe,ce,re),Me&&_e(le)}(me&&(Se=Fe&&Fe.onVnodeUnmounted)||he)&&Ji(()=>{Se&&ba(Se,ce,le),he&&Th(le,null,ce,"unmounted")},re)},_e=le=>{const{type:ce,el:re,anchor:Me,transition:Ne}=le;if(ce===Lt){se(re,Me);return}if(ce===T0){F(le);return}const $e=()=>{l(re),Ne&&!Ne.persisted&&Ne.afterLeave&&Ne.afterLeave()};if(le.shapeFlag&1&&Ne&&!Ne.persisted){const{leave:Fe,delayLeave:Le}=Ne,qe=()=>Fe(re,$e);Le?Le(le.el,$e,qe):qe()}else $e()},se=(le,ce)=>{let re;for(;le!==ce;)re=w(le),l(le),le=re;l(ce)},ke=(le,ce,re)=>{const{bum:Me,scope:Ne,update:$e,subTree:Fe,um:Le}=le;Me&&pT(Me),Ne.stop(),$e&&($e.active=!1,Re(Fe,le,ce,re)),Le&&Ji(Le,ce),Ji(()=>{le.isUnmounted=!0},ce),ce&&ce.pendingBranch&&!ce.isUnmounted&&le.asyncDep&&!le.asyncResolved&&le.suspenseId===ce.pendingId&&(ce.deps--,ce.deps===0&&ce.resolve())},Be=(le,ce,re,Me=!1,Ne=!1,$e=0)=>{for(let Fe=$e;Fe<le.length;Fe++)Re(le[Fe],ce,re,Me,Ne)},et=le=>le.shapeFlag&6?et(le.component.subTree):le.shapeFlag&128?le.suspense.next():w(le.anchor||le.el),ut=(le,ce,re)=>{le==null?ce._vnode&&Re(ce._vnode,null,null,!0):L(ce._vnode||null,le,ce,null,null,null,re),zS(),ZN(),ce._vnode=le},dt={p:L,um:Re,m:Oe,r:_e,mt:X,mc:te,pc:ne,pbc:J,n:et,o:e};let gt,we;return o&&([gt,we]=o(dt)),{render:ut,hydrate:gt,createApp:wM(ut,gt)}}function yh({effect:e,update:o},n){e.allowRecurse=o.allowRecurse=n}function $I(e,o,n=!1){const i=e.children,l=o.children;if(mn(i)&&mn(l))for(let u=0;u<i.length;u++){const a=i[u];let h=l[u];h.shapeFlag&1&&!h.dynamicChildren&&((h.patchFlag<=0||h.patchFlag===32)&&(h=l[u]=Kc(l[u]),h.el=a.el),n||$I(a,h)),h.type===s1&&(h.el=a.el)}}function xM(e){const o=e.slice(),n=[0];let i,l,u,a,h;const p=e.length;for(i=0;i<p;i++){const m=e[i];if(m!==0){if(l=n[n.length-1],e[l]<m){o[i]=l,n.push(i);continue}for(u=0,a=n.length-1;u<a;)h=u+a>>1,e[n[h]]<m?u=h+1:a=h;m<e[n[u]]&&(u>0&&(o[i]=n[u-1]),n[u]=i)}}for(u=n.length,a=n[u-1];u-- >0;)n[u]=a,a=o[a];return n}const BM=e=>e.__isTeleport,A$=e=>e&&(e.disabled||e.disabled===""),n2=e=>typeof SVGElement<"u"&&e instanceof SVGElement,mC=(e,o)=>{const n=e&&e.to;return Xo(n)?o?o(n):null:n},FM={__isTeleport:!0,process(e,o,n,i,l,u,a,h,p,m){const{mc:$,pc:T,pbc:w,o:{insert:A,querySelector:R,createText:L,createComment:M}}=m,B=A$(o.props);let{shapeFlag:G,children:j,dynamicChildren:F}=o;if(e==null){const x=o.el=L(""),D=o.anchor=L("");A(x,n,i),A(D,n,i);const U=o.target=mC(o.props,R),te=o.targetAnchor=L("");U&&(A(te,U),a=a||n2(U));const Y=(J,ee)=>{G&16&&$(j,J,ee,l,u,a,h,p)};B?Y(n,D):U&&Y(U,te)}else{o.el=e.el;const x=o.anchor=e.anchor,D=o.target=e.target,U=o.targetAnchor=e.targetAnchor,te=A$(e.props),Y=te?n:D,J=te?x:U;if(a=a||n2(D),F?(w(e.dynamicChildren,F,Y,l,u,a,h),$I(e,o,!0)):p||T(e,o,Y,J,l,u,a,h,!1),B)te||a0(o,n,x,m,1);else if((o.props&&o.props.to)!==(e.props&&e.props.to)){const ee=o.target=mC(o.props,R);ee&&a0(o,ee,null,m,0)}else te&&a0(o,D,U,m,1)}$A(o)},remove(e,o,n,i,{um:l,o:{remove:u}},a){const{shapeFlag:h,children:p,anchor:m,targetAnchor:$,target:T,props:w}=e;if(T&&u($),(a||!A$(w))&&(u(m),h&16))for(let A=0;A<p.length;A++){const R=p[A];l(R,o,n,!0,!!R.dynamicChildren)}},move:a0,hydrate:VM};function a0(e,o,n,{o:{insert:i},m:l},u=2){u===0&&i(e.targetAnchor,o,n);const{el:a,anchor:h,shapeFlag:p,children:m,props:$}=e,T=u===2;if(T&&i(a,o,n),(!T||A$($))&&p&16)for(let w=0;w<m.length;w++)l(m[w],o,n,2);T&&i(h,o,n)}function VM(e,o,n,i,l,u,{o:{nextSibling:a,parentNode:h,querySelector:p}},m){const $=o.target=mC(o.props,p);if($){const T=$._lpa||$.firstChild;if(o.shapeFlag&16)if(A$(o.props))o.anchor=m(a(e),o,h(e),n,i,l,u),o.targetAnchor=T;else{o.anchor=a(e);let w=T;for(;w;)if(w=a(w),w&&w.nodeType===8&&w.data==="teleport anchor"){o.targetAnchor=w,$._lpa=o.targetAnchor&&a(o.targetAnchor);break}m(T,o,$,n,i,l,u)}$A(o)}return o.anchor&&a(o.anchor)}const i1=FM;function $A(e){const o=e.ctx;if(o&&o.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",o.uid),n=n.nextSibling;o.ut()}}const Lt=Symbol.for("v-fgt"),s1=Symbol.for("v-txt"),Is=Symbol.for("v-cmt"),T0=Symbol.for("v-stc"),R$=[];let Al=null;function W(e=!1){R$.push(Al=e?null:[])}function UM(){R$.pop(),Al=R$[R$.length-1]||null}let q$=1;function o2(e){q$+=e}function vA(e){return e.dynamicChildren=q$>0?Al||jf:null,UM(),q$>0&&Al&&Al.push(e),e}function fe(e,o,n,i,l,u){return vA(De(e,o,n,i,l,u,!0))}function Ze(e,o,n,i,l){return vA(_(e,o,n,i,l,!0))}function vo(e){return e?e.__v_isVNode===!0:!1}function kh(e,o){return e.type===o.type&&e.key===o.key}const l1="__vInternal",_A=({key:e})=>e??null,y0=({ref:e,ref_key:o,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Xo(e)||nr(e)||wn(e)?{i:Vr,r:e,k:o,f:!!n}:e:null);function De(e,o=null,n=null,i=0,l=null,u=e===Lt?0:1,a=!1,h=!1){const p={__v_isVNode:!0,__v_skip:!0,type:e,props:o,key:o&&_A(o),ref:o&&y0(o),scopeId:n1,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:u,patchFlag:i,dynamicProps:l,dynamicChildren:null,appContext:null,ctx:Vr};return h?(vI(p,n),u&128&&e.normalize(p)):n&&(p.shapeFlag|=Xo(n)?8:16),q$>0&&!a&&Al&&(p.patchFlag>0||u&6)&&p.patchFlag!==32&&Al.push(p),p}const _=HM;function HM(e,o=null,n=null,i=0,l=null,u=!1){if((!e||e===lA)&&(e=Is),vo(e)){const h=os(e,o,!0);return n&&vI(h,n),q$>0&&!u&&Al&&(h.shapeFlag&6?Al[Al.indexOf(e)]=h:Al.push(h)),h.patchFlag|=-2,h}if(qM(e)&&(e=e.__vccOpts),o){o=Fr(o);let{class:h,style:p}=o;h&&!Xo(h)&&(o.class=Z(h)),ko(p)&&(GN(p)&&!mn(p)&&(p=rr({},p)),o.style=yt(p))}const a=Xo(e)?1:uM(e)?128:BM(e)?64:ko(e)?4:wn(e)?2:0;return De(e,o,n,i,l,a,u,!0)}function Fr(e){return e?GN(e)||l1 in e?rr({},e):e:null}function os(e,o,n=!1){const{props:i,ref:l,patchFlag:u,children:a}=e,h=o?lt(i||{},o):i;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:h,key:h&&_A(h),ref:o&&o.ref?n&&l?mn(l)?l.concat(y0(o)):[l,y0(o)]:y0(o):l,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:a,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:o&&e.type!==Lt?u===-1?16:u|16:u,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&os(e.ssContent),ssFallback:e.ssFallback&&os(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function Dt(e=" ",o=0){return _(s1,null,e,o)}function pg(e,o){const n=_(T0,null,e);return n.staticCount=o,n}function We(e="",o=!1){return o?(W(),Ze(Is,null,e)):_(Is,null,e)}function ya(e){return e==null||typeof e=="boolean"?_(Is):mn(e)?_(Lt,null,e.slice()):typeof e=="object"?Kc(e):_(s1,null,String(e))}function Kc(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:os(e)}function vI(e,o){let n=0;const{shapeFlag:i}=e;if(o==null)o=null;else if(mn(o))n=16;else if(typeof o=="object")if(i&65){const l=o.default;l&&(l._c&&(l._d=!1),vI(e,l()),l._c&&(l._d=!0));return}else{n=32;const l=o._;!l&&!(l1 in o)?o._ctx=Vr:l===3&&Vr&&(Vr.slots._===1?o._=1:(o._=2,e.patchFlag|=1024))}else wn(o)?(o={default:o,_ctx:Vr},n=32):(o=String(o),i&64?(n=16,o=[Dt(o)]):n=8);e.children=o,e.shapeFlag|=n}function lt(...e){const o={};for(let n=0;n<e.length;n++){const i=e[n];for(const l in i)if(l==="class")o.class!==i.class&&(o.class=Z([o.class,i.class]));else if(l==="style")o.style=yt([o.style,i.style]);else if(Yb(l)){const u=o[l],a=i[l];a&&u!==a&&!(mn(u)&&u.includes(a))&&(o[l]=u?[].concat(u,a):a)}else l!==""&&(o[l]=i[l])}return o}function ba(e,o,n,i=null){Ys(e,o,7,[n,i])}const GM=dA();let zM=0;function WM(e,o,n){const i=e.type,l=(o?o.appContext:e.appContext)||GM,u={uid:zM++,vnode:e,type:i,parent:o,appContext:l,root:null,next:null,subTree:null,effect:null,update:null,scope:new g3(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:o?o.provides:Object.create(l.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:pA(i,l),emitsOptions:eA(i,l),emit:null,emitted:null,propsDefaults:Ro,inheritAttrs:i.inheritAttrs,ctx:Ro,data:Ro,props:Ro,attrs:Ro,slots:Ro,refs:Ro,setupState:Ro,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return u.ctx={_:u},u.root=o?o.root:u,u.emit=rM.bind(null,u),e.ce&&e.ce(u),u}let Er=null;const vi=()=>Er||Vr;let _I,Uf,r2="__VUE_INSTANCE_SETTERS__";(Uf=sC()[r2])||(Uf=sC()[r2]=[]),Uf.push(e=>Er=e),_I=e=>{Uf.length>1?Uf.forEach(o=>o(e)):Uf[0](e)};const og=e=>{_I(e),e.scope.on()},Rh=()=>{Er&&Er.scope.off(),_I(null)};function bA(e){return e.vnode.shapeFlag&4}let Z$=!1;function jM(e,o=!1){Z$=o;const{props:n,children:i}=e.vnode,l=bA(e);NM(e,n,l,o),LM(e,i);const u=l?XM(e,o):void 0;return Z$=!1,u}function XM(e,o){const n=e.type;e.accessCache=Object.create(null),e.proxy=zN(new Proxy(e.ctx,yM));const{setup:i}=n;if(i){const l=e.setupContext=i.length>1?YM(e):null;og(e),dg();const u=Jc(i,e,0,[e.props,l]);if(hg(),Rh(),kN(u)){if(u.then(Rh,Rh),o)return u.then(a=>{i2(e,a,o)}).catch(a=>{e1(a,e,0)});e.asyncDep=u}else i2(e,u,o)}else TA(e,o)}function i2(e,o,n){wn(o)?e.type.__ssrInlineRender?e.ssrRender=o:e.render=o:ko(o)&&(e.setupState=KN(o)),TA(e,n)}let s2;function TA(e,o,n){const i=e.type;if(!e.render){if(!o&&s2&&!i.render){const l=i.template||gI(e).template;if(l){const{isCustomElement:u,compilerOptions:a}=e.appContext.config,{delimiters:h,compilerOptions:p}=i,m=rr(rr({isCustomElement:u,delimiters:h},a),p);i.render=s2(l,m)}}e.render=i.render||Ll}og(e),dg(),EM(e),hg(),Rh()}function KM(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(o,n){return ns(e,"get","$attrs"),o[n]}}))}function YM(e){const o=n=>{e.exposed=n||{}};return{get attrs(){return KM(e)},slots:e.slots,emit:e.emit,expose:o}}function a1(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(KN(zN(e.exposed)),{get(o,n){if(n in o)return o[n];if(n in N$)return N$[n](e)},has(o,n){return n in o||n in N$}}))}function QM(e,o=!0){return wn(e)?e.displayName||e.name:e.name||o&&e.__name}function qM(e){return wn(e)&&"__vccOpts"in e}const O=(e,o)=>Z3(e,o,Z$);function pi(e,o,n){const i=arguments.length;return i===2?ko(o)&&!mn(o)?vo(o)?_(e,null,[o]):_(e,o):_(e,null,o):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&vo(n)&&(n=[n]),_(e,o,n))}const ZM=Symbol.for("v-scx"),JM=()=>on(ZM),e9="3.3.4",t9="http://www.w3.org/2000/svg",wh=typeof document<"u"?document:null,l2=wh&&wh.createElement("template"),n9={insert:(e,o,n)=>{o.insertBefore(e,n||null)},remove:e=>{const o=e.parentNode;o&&o.removeChild(e)},createElement:(e,o,n,i)=>{const l=o?wh.createElementNS(t9,e):wh.createElement(e,n?{is:n}:void 0);return e==="select"&&i&&i.multiple!=null&&l.setAttribute("multiple",i.multiple),l},createText:e=>wh.createTextNode(e),createComment:e=>wh.createComment(e),setText:(e,o)=>{e.nodeValue=o},setElementText:(e,o)=>{e.textContent=o},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>wh.querySelector(e),setScopeId(e,o){e.setAttribute(o,"")},insertStaticContent(e,o,n,i,l,u){const a=n?n.previousSibling:o.lastChild;if(l&&(l===u||l.nextSibling))for(;o.insertBefore(l.cloneNode(!0),n),!(l===u||!(l=l.nextSibling)););else{l2.innerHTML=i?`<svg>${e}</svg>`:e;const h=l2.content;if(i){const p=h.firstChild;for(;p.firstChild;)h.appendChild(p.firstChild);h.removeChild(p)}o.insertBefore(h,n)}return[a?a.nextSibling:o.firstChild,n?n.previousSibling:o.lastChild]}};function o9(e,o,n){const i=e._vtc;i&&(o=(o?[o,...i]:[...i]).join(" ")),o==null?e.removeAttribute("class"):n?e.setAttribute("class",o):e.className=o}function r9(e,o,n){const i=e.style,l=Xo(n);if(n&&!l){if(o&&!Xo(o))for(const u in o)n[u]==null&&$C(i,u,"");for(const u in n)$C(i,u,n[u])}else{const u=i.display;l?o!==n&&(i.cssText=n):o&&e.removeAttribute("style"),"_vod"in e&&(i.display=u)}}const a2=/\s*!important$/;function $C(e,o,n){if(mn(n))n.forEach(i=>$C(e,o,i));else if(n==null&&(n=""),o.startsWith("--"))e.setProperty(o,n);else{const i=i9(e,o);a2.test(n)?e.setProperty(Gh(i),n.replace(a2,""),"important"):e[i]=n}}const u2=["Webkit","Moz","ms"],$T={};function i9(e,o){const n=$T[o];if(n)return n;let i=ka(o);if(i!=="filter"&&i in e)return $T[o]=i;i=Zb(i);for(let l=0;l<u2.length;l++){const u=u2[l]+i;if(u in e)return $T[o]=u}return o}const c2="http://www.w3.org/1999/xlink";function s9(e,o,n,i,l){if(i&&o.startsWith("xlink:"))n==null?e.removeAttributeNS(c2,o.slice(6,o.length)):e.setAttributeNS(c2,o,n);else{const u=f3(o);n==null||u&&!AN(n)?e.removeAttribute(o):e.setAttribute(o,u?"":n)}}function l9(e,o,n,i,l,u,a){if(o==="innerHTML"||o==="textContent"){i&&a(i,l,u),e[o]=n??"";return}const h=e.tagName;if(o==="value"&&h!=="PROGRESS"&&!h.includes("-")){e._value=n;const m=h==="OPTION"?e.getAttribute("value"):e.value,$=n??"";m!==$&&(e.value=$),n==null&&e.removeAttribute(o);return}let p=!1;if(n===""||n==null){const m=typeof e[o];m==="boolean"?n=AN(n):n==null&&m==="string"?(n="",p=!0):m==="number"&&(n=0,p=!0)}try{e[o]=n}catch{}p&&e.removeAttribute(o)}function a9(e,o,n,i){e.addEventListener(o,n,i)}function u9(e,o,n,i){e.removeEventListener(o,n,i)}function c9(e,o,n,i,l=null){const u=e._vei||(e._vei={}),a=u[o];if(i&&a)a.value=i;else{const[h,p]=d9(o);if(i){const m=u[o]=f9(i,l);a9(e,h,m,p)}else a&&(u9(e,h,a,p),u[o]=void 0)}}const d2=/(?:Once|Passive|Capture)$/;function d9(e){let o;if(d2.test(e)){o={};let i;for(;i=e.match(d2);)e=e.slice(0,e.length-i[0].length),o[i[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Gh(e.slice(2)),o]}let vT=0;const h9=Promise.resolve(),p9=()=>vT||(h9.then(()=>vT=0),vT=Date.now());function f9(e,o){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Ys(g9(i,n.value),o,5,[i])};return n.value=e,n.attached=p9(),n}function g9(e,o){if(mn(o)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},o.map(i=>l=>!l._stopped&&i&&i(l))}else return o}const h2=/^on[a-z]/,m9=(e,o,n,i,l=!1,u,a,h,p)=>{o==="class"?o9(e,i,l):o==="style"?r9(e,n,i):Yb(o)?QC(o)||c9(e,o,n,i,a):(o[0]==="."?(o=o.slice(1),!0):o[0]==="^"?(o=o.slice(1),!1):$9(e,o,i,l))?l9(e,o,i,u,a,h,p):(o==="true-value"?e._trueValue=i:o==="false-value"&&(e._falseValue=i),s9(e,o,i,l))};function $9(e,o,n,i){return i?!!(o==="innerHTML"||o==="textContent"||o in e&&h2.test(o)&&wn(n)):o==="spellcheck"||o==="draggable"||o==="translate"||o==="form"||o==="list"&&e.tagName==="INPUT"||o==="type"&&e.tagName==="TEXTAREA"||h2.test(o)&&Xo(n)?!1:o in e}const zc="transition",v$="animation",Hr=(e,{slots:o})=>pi(pM,EA(e),o);Hr.displayName="Transition";const yA={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},v9=Hr.props=rr({},oA,yA),Eh=(e,o=[])=>{mn(e)?e.forEach(n=>n(...o)):e&&e(...o)},p2=e=>e?mn(e)?e.some(o=>o.length>1):e.length>1:!1;function EA(e){const o={};for(const ue in e)ue in yA||(o[ue]=e[ue]);if(e.css===!1)return o;const{name:n="v",type:i,duration:l,enterFromClass:u=`${n}-enter-from`,enterActiveClass:a=`${n}-enter-active`,enterToClass:h=`${n}-enter-to`,appearFromClass:p=u,appearActiveClass:m=a,appearToClass:$=h,leaveFromClass:T=`${n}-leave-from`,leaveActiveClass:w=`${n}-leave-active`,leaveToClass:A=`${n}-leave-to`}=e,R=_9(l),L=R&&R[0],M=R&&R[1],{onBeforeEnter:B,onEnter:G,onEnterCancelled:j,onLeave:F,onLeaveCancelled:x,onBeforeAppear:D=B,onAppear:U=G,onAppearCancelled:te=j}=o,Y=(ue,oe,X)=>{jc(ue,oe?$:h),jc(ue,oe?m:a),X&&X()},J=(ue,oe)=>{ue._isLeaving=!1,jc(ue,T),jc(ue,A),jc(ue,w),oe&&oe()},ee=ue=>(oe,X)=>{const K=ue?U:G,q=()=>Y(oe,ue,X);Eh(K,[oe,q]),f2(()=>{jc(oe,ue?p:u),ku(oe,ue?$:h),p2(K)||g2(oe,i,L,q)})};return rr(o,{onBeforeEnter(ue){Eh(B,[ue]),ku(ue,u),ku(ue,a)},onBeforeAppear(ue){Eh(D,[ue]),ku(ue,p),ku(ue,m)},onEnter:ee(!1),onAppear:ee(!0),onLeave(ue,oe){ue._isLeaving=!0;const X=()=>J(ue,oe);ku(ue,T),IA(),ku(ue,w),f2(()=>{ue._isLeaving&&(jc(ue,T),ku(ue,A),p2(F)||g2(ue,i,M,X))}),Eh(F,[ue,X])},onEnterCancelled(ue){Y(ue,!1),Eh(j,[ue])},onAppearCancelled(ue){Y(ue,!0),Eh(te,[ue])},onLeaveCancelled(ue){J(ue),Eh(x,[ue])}})}function _9(e){if(e==null)return null;if(ko(e))return[_T(e.enter),_T(e.leave)];{const o=_T(e);return[o,o]}}function _T(e){return a3(e)}function ku(e,o){o.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(o)}function jc(e,o){o.split(/\s+/).forEach(i=>i&&e.classList.remove(i));const{_vtc:n}=e;n&&(n.delete(o),n.size||(e._vtc=void 0))}function f2(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let b9=0;function g2(e,o,n,i){const l=e._endId=++b9,u=()=>{l===e._endId&&i()};if(n)return setTimeout(u,n);const{type:a,timeout:h,propCount:p}=CA(e,o);if(!a)return i();const m=a+"end";let $=0;const T=()=>{e.removeEventListener(m,w),u()},w=A=>{A.target===e&&++$>=p&&T()};setTimeout(()=>{$<p&&T()},h+1),e.addEventListener(m,w)}function CA(e,o){const n=window.getComputedStyle(e),i=R=>(n[R]||"").split(", "),l=i(`${zc}Delay`),u=i(`${zc}Duration`),a=m2(l,u),h=i(`${v$}Delay`),p=i(`${v$}Duration`),m=m2(h,p);let $=null,T=0,w=0;o===zc?a>0&&($=zc,T=a,w=u.length):o===v$?m>0&&($=v$,T=m,w=p.length):(T=Math.max(a,m),$=T>0?a>m?zc:v$:null,w=$?$===zc?u.length:p.length:0);const A=$===zc&&/\b(transform|all)(,|$)/.test(i(`${zc}Property`).toString());return{type:$,timeout:T,propCount:w,hasTransform:A}}function m2(e,o){for(;e.length<o.length;)e=e.concat(e);return Math.max(...o.map((n,i)=>$2(n)+$2(e[i])))}function $2(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function IA(){return document.body.offsetHeight}const SA=new WeakMap,OA=new WeakMap,kA={name:"TransitionGroup",props:rr({},v9,{tag:String,moveClass:String}),setup(e,{slots:o}){const n=vi(),i=nA();let l,u;return $i(()=>{if(!l.length)return;const a=e.moveClass||`${e.name||"v"}-move`;if(!I9(l[0].el,n.vnode.el,a))return;l.forEach(y9),l.forEach(E9);const h=l.filter(C9);IA(),h.forEach(p=>{const m=p.el,$=m.style;ku(m,a),$.transform=$.webkitTransform=$.transitionDuration="";const T=m._moveCb=w=>{w&&w.target!==m||(!w||/transform$/.test(w.propertyName))&&(m.removeEventListener("transitionend",T),m._moveCb=null,jc(m,a))};m.addEventListener("transitionend",T)})}),()=>{const a=Kn(e),h=EA(a);let p=a.tag||Lt;l=u,u=o.default?pI(o.default()):[];for(let m=0;m<u.length;m++){const $=u[m];$.key!=null&&Q$($,Y$($,h,i,n))}if(l)for(let m=0;m<l.length;m++){const $=l[m];Q$($,Y$($,h,i,n)),SA.set($,$.el.getBoundingClientRect())}return _(p,null,u)}}},T9=e=>delete e.mode;kA.props;const rv=kA;function y9(e){const o=e.el;o._moveCb&&o._moveCb(),o._enterCb&&o._enterCb()}function E9(e){OA.set(e,e.el.getBoundingClientRect())}function C9(e){const o=SA.get(e),n=OA.get(e),i=o.left-n.left,l=o.top-n.top;if(i||l){const u=e.el.style;return u.transform=u.webkitTransform=`translate(${i}px,${l}px)`,u.transitionDuration="0s",e}}function I9(e,o,n){const i=e.cloneNode();e._vtc&&e._vtc.forEach(a=>{a.split(/\s+/).forEach(h=>h&&i.classList.remove(h))}),n.split(/\s+/).forEach(a=>a&&i.classList.add(a)),i.style.display="none";const l=o.nodeType===1?o:o.parentNode;l.appendChild(i);const{hasTransform:u}=CA(i);return l.removeChild(i),u}const S9=["ctrl","shift","alt","meta"],O9={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,o)=>S9.some(n=>e[`${n}Key`]&&!o.includes(n))},qs=(e,o)=>(n,...i)=>{for(let l=0;l<o.length;l++){const u=O9[o[l]];if(u&&u(n,o))return}return e(n,...i)},k9={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},zf=(e,o)=>n=>{if(!("key"in n))return;const i=Gh(n.key);if(o.some(l=>l===i||k9[l]===i))return e(n)},Zs={beforeMount(e,{value:o},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&o?n.beforeEnter(e):_$(e,o)},mounted(e,{value:o},{transition:n}){n&&o&&n.enter(e)},updated(e,{value:o,oldValue:n},{transition:i}){!o!=!n&&(i?o?(i.beforeEnter(e),_$(e,!0),i.enter(e)):i.leave(e,()=>{_$(e,!1)}):_$(e,o))},beforeUnmount(e,{value:o}){_$(e,o)}};function _$(e,o){e.style.display=o?e._vod:"none"}const w9=rr({patchProp:m9},n9);let v2;function wA(){return v2||(v2=PM(w9))}const td=(...e)=>{wA().render(...e)},bI=(...e)=>{const o=wA().createApp(...e),{mount:n}=o;return o.mount=i=>{const l=N9(i);if(!l)return;const u=o._component;!wn(u)&&!u.render&&!u.template&&(u.template=l.innerHTML),l.innerHTML="";const a=n(l,!1,l instanceof SVGElement);return l instanceof Element&&(l.removeAttribute("v-cloak"),l.setAttribute("data-v-app","")),a},o};function N9(e){return Xo(e)?document.querySelector(e):e}const zh=Object.prototype.toString;function nn(e){return zh.call(e)==="[object Array]"}function Di(e){return zh.call(e)==="[object Null]"}function ks(e){return zh.call(e)==="[object Boolean]"}function cn(e){return zh.call(e)==="[object Object]"}const Vh=e=>zh.call(e)==="[object Promise]";function ir(e){return zh.call(e)==="[object String]"}function _t(e){return zh.call(e)==="[object Number]"&&e===e}function Gt(e){return e===void 0}function Ut(e){return typeof e=="function"}function A9(e){return cn(e)&&Object.keys(e).length===0}function E0(e){return e===window}const NA=e=>(e==null?void 0:e.$)!==void 0,R9=e=>/\[Q]Q/.test(e);function Js(e){return cn(e)&&"$y"in e&&"$M"in e&&"$D"in e&&"$d"in e&&"$H"in e&&"$m"in e&&"$s"in e}const Gr=Symbol("ArcoConfigProvider"),u0={formatYear:"YYYY 年",formatMonth:"YYYY 年 MM 月",today:"今天",view:{month:"月",year:"年",week:"周",day:"日"},month:{long:{January:"一月",February:"二月",March:"三月",April:"四月",May:"五月",June:"六月",July:"七月",August:"八月",September:"九月",October:"十月",November:"十一月",December:"十二月"},short:{January:"一月",February:"二月",March:"三月",April:"四月",May:"五月",June:"六月",July:"七月",August:"八月",September:"九月",October:"十月",November:"十一月",December:"十二月"}},week:{long:{self:"周",monday:"周一",tuesday:"周二",wednesday:"周三",thursday:"周四",friday:"周五",saturday:"周六",sunday:"周日"},short:{self:"周",monday:"一",tuesday:"二",wednesday:"三",thursday:"四",friday:"五",saturday:"六",sunday:"日"}}},L9={locale:"zh-CN",empty:{description:"暂无数据"},drawer:{okText:"确定",cancelText:"取消"},popconfirm:{okText:"确定",cancelText:"取消"},modal:{okText:"确定",cancelText:"取消"},pagination:{goto:"前往",page:"页",countPerPage:"条/页",total:"共 {0} 条"},table:{okText:"确定",resetText:"重置"},upload:{start:"开始",cancel:"取消",delete:"删除",retry:"点击重试",buttonText:"点击上传",preview:"预览",drag:"点击或拖拽文件到此处上传",dragHover:"释放文件并开始上传",error:"上传失败"},calendar:u0,datePicker:{view:u0.view,month:u0.month,week:u0.week,placeholder:{date:"请选择日期",week:"请选择周",month:"请选择月份",year:"请选择年份",quarter:"请选择季度",time:"请选择时间"},rangePlaceholder:{date:["开始日期","结束日期"],week:["开始周","结束周"],month:["开始月份","结束月份"],year:["开始年份","结束年份"],quarter:["开始季度","结束季度"],time:["开始时间","结束时间"]},selectTime:"选择时间",today:"今天",now:"此刻",ok:"确定"},image:{loading:"加载中"},imagePreview:{fullScreen:"全屏",rotateRight:"向右旋转",rotateLeft:"向左旋转",zoomIn:"放大",zoomOut:"缩小",originalSize:"原始尺寸"},typography:{copied:"已复制",copy:"复制",expand:"展开",collapse:"折叠",edit:"编辑"},form:{validateMessages:{required:"#{field} 是必填项",type:{string:"#{field} 不是合法的文本类型",number:"#{field} 不是合法的数字类型",boolean:"#{field} 不是合法的布尔类型",array:"#{field} 不是合法的数组类型",object:"#{field} 不是合法的对象类型",url:"#{field} 不是合法的 url 地址",email:"#{field} 不是合法的邮箱地址",ip:"#{field} 不是合法的 IP 地址"},number:{min:"`#{value}` 小于最小值 `#{min}`",max:"`#{value}` 大于最大值 `#{max}`",equal:"`#{value}` 不等于 `#{equal}`",range:"`#{value}` 不在 `#{min} ~ #{max}` 范围内",positive:"`#{value}` 不是正数",negative:"`#{value}` 不是负数"},array:{length:"`#{field}` 个数不等于 #{length}",minLength:"`#{field}` 个数最少为 #{minLength}",maxLength:"`#{field}` 个数最多为 #{maxLength}",includes:"#{field} 不包含 #{includes}",deepEqual:"#{field} 不等于 #{deepEqual}",empty:"`#{field}` 不是空数组"},string:{minLength:"字符数最少为 #{minLength}",maxLength:"字符数最多为 #{maxLength}",length:"字符数必须是 #{length}",match:"`#{value}` 不符合模式 #{pattern}",uppercase:"`#{value}` 必须全大写",lowercase:"`#{value}` 必须全小写"},object:{deepEqual:"`#{field}` 不等于期望值",hasKeys:"`#{field}` 不包含必须字段",empty:"`#{field}` 不是对象"},boolean:{true:"期望是 `true`",false:"期望是 `false`"}}}},TI=ve("zh-CN"),Ob=ft({"zh-CN":L9}),M9=(e,o)=>{for(const n of Object.keys(e))(!Ob[n]||o!=null&&o.overwrite)&&(Ob[n]=e[n])},P9=e=>{if(!Ob[e]){console.warn(`use ${e} failed! Please add ${e} first`);return}TI.value=e},D9=()=>TI.value,Lo=()=>{const e=on(Gr,void 0),o=O(()=>{var l;return(l=e==null?void 0:e.locale)!=null?l:Ob[TI.value]}),n=O(()=>o.value.locale);return{i18nMessage:o,locale:n,t:(l,...u)=>{const a=l.split(".");let h=o.value;for(const p of a){if(!h[p])return l;h=h[p]}return ir(h)&&u.length>0?h.replace(/{(\d+)}/g,(p,m)=>{var $;return($=u[m])!=null?$:p}):h}}};var x9=Object.defineProperty,B9=Object.defineProperties,F9=Object.getOwnPropertyDescriptors,_2=Object.getOwnPropertySymbols,V9=Object.prototype.hasOwnProperty,U9=Object.prototype.propertyIsEnumerable,b2=(e,o,n)=>o in e?x9(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,H9=(e,o)=>{for(var n in o||(o={}))V9.call(o,n)&&b2(e,n,o[n]);if(_2)for(var n of _2(o))U9.call(o,n)&&b2(e,n,o[n]);return e},G9=(e,o)=>B9(e,F9(o));const z9="A",W9="arco",vC="$arco",Zt=e=>{var o;return(o=e==null?void 0:e.componentPrefix)!=null?o:z9},Jt=(e,o)=>{var n;o&&o.classPrefix&&(e.config.globalProperties[vC]=G9(H9({},(n=e.config.globalProperties[vC])!=null?n:{}),{classPrefix:o.classPrefix}))},Ge=e=>{var o,n,i;const l=vi(),u=on(Gr,void 0),a=(i=(n=u==null?void 0:u.prefixCls)!=null?n:(o=l==null?void 0:l.appContext.config.globalProperties[vC])==null?void 0:o.classPrefix)!=null?i:W9;return e?`${a}-${e}`:a};var AA=function(){if(typeof Map<"u")return Map;function e(o,n){var i=-1;return o.some(function(l,u){return l[0]===n?(i=u,!0):!1}),i}return function(){function o(){this.__entries__=[]}return Object.defineProperty(o.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),o.prototype.get=function(n){var i=e(this.__entries__,n),l=this.__entries__[i];return l&&l[1]},o.prototype.set=function(n,i){var l=e(this.__entries__,n);~l?this.__entries__[l][1]=i:this.__entries__.push([n,i])},o.prototype.delete=function(n){var i=this.__entries__,l=e(i,n);~l&&i.splice(l,1)},o.prototype.has=function(n){return!!~e(this.__entries__,n)},o.prototype.clear=function(){this.__entries__.splice(0)},o.prototype.forEach=function(n,i){i===void 0&&(i=null);for(var l=0,u=this.__entries__;l<u.length;l++){var a=u[l];n.call(i,a[1],a[0])}},o}()}(),_C=typeof window<"u"&&typeof document<"u"&&window.document===document,kb=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),j9=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(kb):function(e){return setTimeout(function(){return e(Date.now())},1e3/60)}}(),X9=2;function K9(e,o){var n=!1,i=!1,l=0;function u(){n&&(n=!1,e()),i&&h()}function a(){j9(u)}function h(){var p=Date.now();if(n){if(p-l<X9)return;i=!0}else n=!0,i=!1,setTimeout(a,o);l=p}return h}var Y9=20,Q9=["top","right","bottom","left","width","height","size","weight"],q9=typeof MutationObserver<"u",Z9=function(){function e(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=K9(this.refresh.bind(this),Y9)}return e.prototype.addObserver=function(o){~this.observers_.indexOf(o)||this.observers_.push(o),this.connected_||this.connect_()},e.prototype.removeObserver=function(o){var n=this.observers_,i=n.indexOf(o);~i&&n.splice(i,1),!n.length&&this.connected_&&this.disconnect_()},e.prototype.refresh=function(){var o=this.updateObservers_();o&&this.refresh()},e.prototype.updateObservers_=function(){var o=this.observers_.filter(function(n){return n.gatherActive(),n.hasActive()});return o.forEach(function(n){return n.broadcastActive()}),o.length>0},e.prototype.connect_=function(){!_C||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),q9?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},e.prototype.disconnect_=function(){!_C||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},e.prototype.onTransitionEnd_=function(o){var n=o.propertyName,i=n===void 0?"":n,l=Q9.some(function(u){return!!~i.indexOf(u)});l&&this.refresh()},e.getInstance=function(){return this.instance_||(this.instance_=new e),this.instance_},e.instance_=null,e}(),RA=function(e,o){for(var n=0,i=Object.keys(o);n<i.length;n++){var l=i[n];Object.defineProperty(e,l,{value:o[l],enumerable:!1,writable:!1,configurable:!0})}return e},rg=function(e){var o=e&&e.ownerDocument&&e.ownerDocument.defaultView;return o||kb},LA=u1(0,0,0,0);function wb(e){return parseFloat(e)||0}function T2(e){for(var o=[],n=1;n<arguments.length;n++)o[n-1]=arguments[n];return o.reduce(function(i,l){var u=e["border-"+l+"-width"];return i+wb(u)},0)}function J9(e){for(var o=["top","right","bottom","left"],n={},i=0,l=o;i<l.length;i++){var u=l[i],a=e["padding-"+u];n[u]=wb(a)}return n}function eP(e){var o=e.getBBox();return u1(0,0,o.width,o.height)}function tP(e){var o=e.clientWidth,n=e.clientHeight;if(!o&&!n)return LA;var i=rg(e).getComputedStyle(e),l=J9(i),u=l.left+l.right,a=l.top+l.bottom,h=wb(i.width),p=wb(i.height);if(i.boxSizing==="border-box"&&(Math.round(h+u)!==o&&(h-=T2(i,"left","right")+u),Math.round(p+a)!==n&&(p-=T2(i,"top","bottom")+a)),!oP(e)){var m=Math.round(h+u)-o,$=Math.round(p+a)-n;Math.abs(m)!==1&&(h-=m),Math.abs($)!==1&&(p-=$)}return u1(l.left,l.top,h,p)}var nP=function(){return typeof SVGGraphicsElement<"u"?function(e){return e instanceof rg(e).SVGGraphicsElement}:function(e){return e instanceof rg(e).SVGElement&&typeof e.getBBox=="function"}}();function oP(e){return e===rg(e).document.documentElement}function rP(e){return _C?nP(e)?eP(e):tP(e):LA}function iP(e){var o=e.x,n=e.y,i=e.width,l=e.height,u=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,a=Object.create(u.prototype);return RA(a,{x:o,y:n,width:i,height:l,top:n,right:o+i,bottom:l+n,left:o}),a}function u1(e,o,n,i){return{x:e,y:o,width:n,height:i}}var sP=function(){function e(o){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=u1(0,0,0,0),this.target=o}return e.prototype.isActive=function(){var o=rP(this.target);return this.contentRect_=o,o.width!==this.broadcastWidth||o.height!==this.broadcastHeight},e.prototype.broadcastRect=function(){var o=this.contentRect_;return this.broadcastWidth=o.width,this.broadcastHeight=o.height,o},e}(),lP=function(){function e(o,n){var i=iP(n);RA(this,{target:o,contentRect:i})}return e}(),aP=function(){function e(o,n,i){if(this.activeObservations_=[],this.observations_=new AA,typeof o!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=o,this.controller_=n,this.callbackCtx_=i}return e.prototype.observe=function(o){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(o instanceof rg(o).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(o)||(n.set(o,new sP(o)),this.controller_.addObserver(this),this.controller_.refresh())}},e.prototype.unobserve=function(o){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(o instanceof rg(o).Element))throw new TypeError('parameter 1 is not of type "Element".');var n=this.observations_;n.has(o)&&(n.delete(o),n.size||this.controller_.removeObserver(this))}},e.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},e.prototype.gatherActive=function(){var o=this;this.clearActive(),this.observations_.forEach(function(n){n.isActive()&&o.activeObservations_.push(n)})},e.prototype.broadcastActive=function(){if(this.hasActive()){var o=this.callbackCtx_,n=this.activeObservations_.map(function(i){return new lP(i.target,i.broadcastRect())});this.callback_.call(o,n,o),this.clearActive()}},e.prototype.clearActive=function(){this.activeObservations_.splice(0)},e.prototype.hasActive=function(){return this.activeObservations_.length>0},e}(),MA=typeof WeakMap<"u"?new WeakMap:new AA,PA=function(){function e(o){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=Z9.getInstance(),i=new aP(o,n,this);MA.set(this,i)}return e}();["observe","unobserve","disconnect"].forEach(function(e){PA.prototype[e]=function(){var o;return(o=MA.get(this))[e].apply(o,arguments)}});var c1=function(){return typeof kb.ResizeObserver<"u"?kb.ResizeObserver:PA}(),y2;(function(e){e[e.ELEMENT=1]="ELEMENT",e[e.FUNCTIONAL_COMPONENT=2]="FUNCTIONAL_COMPONENT",e[e.STATEFUL_COMPONENT=4]="STATEFUL_COMPONENT",e[e.COMPONENT=6]="COMPONENT",e[e.TEXT_CHILDREN=8]="TEXT_CHILDREN",e[e.ARRAY_CHILDREN=16]="ARRAY_CHILDREN",e[e.SLOTS_CHILDREN=32]="SLOTS_CHILDREN",e[e.TELEPORT=64]="TELEPORT",e[e.SUSPENSE=128]="SUSPENSE",e[e.COMPONENT_SHOULD_KEEP_ALIVE=256]="COMPONENT_SHOULD_KEEP_ALIVE",e[e.COMPONENT_KEPT_ALIVE=512]="COMPONENT_KEPT_ALIVE"})(y2||(y2={}));var E2;(function(e){e[e.TEXT=1]="TEXT",e[e.CLASS=2]="CLASS",e[e.STYLE=4]="STYLE",e[e.PROPS=8]="PROPS",e[e.FULL_PROPS=16]="FULL_PROPS",e[e.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",e[e.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",e[e.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",e[e.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",e[e.NEED_PATCH=512]="NEED_PATCH",e[e.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",e[e.DEV_ROOT_FRAGMENT=2048]="DEV_ROOT_FRAGMENT",e[e.HOISTED=-1]="HOISTED",e[e.BAIL=-2]="BAIL"})(E2||(E2={}));const d1=e=>!!(e&&e.shapeFlag&1),iv=(e,o)=>!!(e&&e.shapeFlag&6),uP=(e,o)=>!!(e&&e.shapeFlag&8),h1=(e,o)=>!!(e&&e.shapeFlag&16),p1=(e,o)=>!!(e&&e.shapeFlag&32),Qf=e=>{var o,n;if(e)for(const i of e){if(d1(i)||iv(i))return i;if(h1(i,i.children)){const l=Qf(i.children);if(l)return l}else if(p1(i,i.children)){const l=(n=(o=i.children).default)==null?void 0:n.call(o);if(l){const u=Qf(l);if(u)return u}}else if(nn(i)){const l=Qf(i);if(l)return l}}},cP=e=>{if(!e)return!0;for(const o of e)if(o.children)return!1;return!0},DA=(e,o)=>{if(e&&e.length>0)for(let n=0;n<e.length;n++){const i=e[n];if(d1(i)||iv(i)){const u=Ut(o)?o(i):o;return e[n]=os(i,u,!0),!0}const l=yI(i);if(l&&l.length>0&&DA(l,o))return!0}return!1},yI=e=>{if(h1(e,e.children))return e.children;if(nn(e))return e},xA=e=>{var o,n;if(d1(e))return e.el;if(iv(e)){if(((o=e.el)==null?void 0:o.nodeType)===1)return e.el;if((n=e.component)!=null&&n.subTree){const i=xA(e.component.subTree);if(i)return i}}else{const i=yI(e);return BA(i)}},BA=e=>{if(e&&e.length>0)for(const o of e){const n=xA(o);if(n)return n}},Oa=(e,o=!1)=>{var n,i;const l=[];for(const u of e??[])d1(u)||iv(u)||o&&uP(u,u.children)?l.push(u):h1(u,u.children)?l.push(...Oa(u.children,o)):p1(u,u.children)?l.push(...Oa((i=(n=u.children).default)==null?void 0:i.call(n),o)):nn(u)&&l.push(...Oa(u,o));return l};function dP(e){function o(n){const i=[];return n.forEach(l=>{var u,a;vo(l)&&l.type===Lt?p1(l,l.children)?i.push(...o(((a=(u=l.children).default)==null?void 0:a.call(u))||[])):h1(l,l.children)?i.push(...o(l.children)):ir(l.children)&&i.push(l.children):i.push(l)}),i}return o(e)}const Mi=e=>{if(e)return Ut(e)?e:()=>e},FA=(e,o)=>{var n;const i=[];if(iv(e,e.type))e.type.name===o?e.component&&i.push(e.component.uid):(n=e.component)!=null&&n.subTree&&i.push(...FA(e.component.subTree,o));else{const l=yI(e);l&&i.push(...VA(l,o))}return i},VA=(e,o)=>{const n=[];if(e&&e.length>0)for(const i of e)n.push(...FA(i,o));return n};var Pl=Ae({name:"ResizeObserver",emits:["resize"],setup(e,{emit:o,slots:n}){let i;const l=ve(),u=O(()=>NA(l.value)?l.value.$el:l.value),a=p=>{p&&(i=new c1(m=>{const $=m[0];o("resize",$)}),i.observe(p))},h=()=>{i&&(i.disconnect(),i=null)};return At(u,p=>{i&&h(),p&&a(p)}),fn(()=>{u.value&&a(u.value)}),Ir(()=>{h()}),()=>{var p,m;const $=Qf((m=(p=n.default)==null?void 0:p.call(n))!=null?m:[]);return $?os($,{ref:l},!0):null}}});const UA=typeof window>"u"?global:window,HA=UA.requestAnimationFrame,Nb=UA.cancelAnimationFrame;function ig(e){let o=0;const n=(...i)=>{o&&Nb(o),o=HA(()=>{e(...i),o=0})};return n.cancel=()=>{Nb(o),o=0},n}const qf=()=>{},sv=(()=>{try{return!(typeof window<"u"&&document!==void 0)}catch{return!0}})(),Jn=(()=>sv?qf:(e,o,n,i=!1)=>{e.addEventListener(o,n,i)})(),$o=(()=>sv?qf:(e,o,n,i=!1)=>{e.removeEventListener(o,n,i)})(),hP=(e,o)=>{if(!e||!o)return!1;let n=o;for(;n;){if(n===e)return!0;n=n.parentNode}return!1},f1=e=>{const o=document.createElement("div");return o.setAttribute("class",`arco-overlay arco-overlay-${e}`),o},GA=(e,o)=>{var n;return sv?qf():(n=(o??document).querySelector(e))!=null?n:void 0},Ia=(e,o)=>{if(ir(e)){const n=e[0]==="#"?`[id='${e.slice(1)}']`:e;return GA(n,o)}return e},pP=(e,o)=>{const n=e.getBoundingClientRect(),i=o.getBoundingClientRect();return{top:n.top-i.top,bottom:i.bottom-n.bottom,left:n.left-i.left,right:i.right-n.right,width:n.width,height:n.height}},fP=e=>e.tagName==="BODY"?document.documentElement.scrollHeight>window.innerHeight:e.scrollHeight>e.offsetHeight,gP=e=>e.tagName==="BODY"?window.innerWidth-(document.documentElement.offsetWidth||document.body.offsetWidth):e.offsetWidth-e.clientWidth;var ot=(e,o)=>{for(const[n,i]of o)e[n]=i;return e},mP=Object.defineProperty,C2=Object.getOwnPropertySymbols,$P=Object.prototype.hasOwnProperty,vP=Object.prototype.propertyIsEnumerable,I2=(e,o,n)=>o in e?mP(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,S2=(e,o)=>{for(var n in o||(o={}))$P.call(o,n)&&I2(e,n,o[n]);if(C2)for(var n of C2(o))vP.call(o,n)&&I2(e,n,o[n]);return e};function _P(e){return E0(e)?{top:0,bottom:window.innerHeight}:e.getBoundingClientRect()}const bP=Ae({name:"Affix",components:{ResizeObserver:Pl},props:{offsetTop:{type:Number,default:0},offsetBottom:{type:Number},target:{type:[String,Object,Function]},targetContainer:{type:[String,Object,Function]}},emits:{change:e=>!0},setup(e,{emit:o}){const n=Ge("affix"),{target:i,targetContainer:l}=mt(e),u=ve(),a=ve(),h=ve(!1),p=ve({}),m=ve({}),$=O(()=>({[n]:h.value})),T=ig(()=>{if(!u.value||!a.value)return;const{offsetTop:w,offsetBottom:A}=e,R=Gt(A)?"top":"bottom",L=u.value.getBoundingClientRect(),M=_P(a.value);let B=!1,G={};const j={width:`${u.value.offsetWidth}px`,height:`${u.value.offsetHeight}px`};R==="top"?(B=L.top-M.top<(w||0),G=B?{position:"fixed",top:`${M.top+(w||0)}px`}:{}):(B=M.bottom-L.bottom<(A||0),G=B?{position:"fixed",bottom:`${window.innerHeight-M.bottom+(A||0)}px`}:{}),B!==h.value&&(h.value=B,o("change",B)),p.value=j,m.value=S2(S2({},G),B?j:{})});return fn(()=>{Cr(w=>{const A=i&&i.value!==window&&Ia(i.value)||window;a.value=A,A&&(Jn(A,"scroll",T),Jn(A,"resize",T),w(()=>{$o(A,"scroll",T),$o(A,"resize",T)}))}),Cr(w=>{if(!a.value)return;const A=l&&l.value!==window&&Ia(l.value)||window;A&&(Jn(A,"scroll",T),Jn(A,"resize",T),w(()=>{$o(A,"scroll",T),$o(A,"resize",T)}))})}),{wrapperRef:u,isFixed:h,classNames:$,placeholderStyles:p,fixedStyles:m,updatePositionThrottle:T}},methods:{updatePosition(){this.updatePositionThrottle()}}}),TP={ref:"wrapperRef"};function yP(e,o,n,i,l,u){const a=Pe("ResizeObserver");return W(),Ze(a,{onResize:e.updatePositionThrottle},{default:Je(()=>[De("div",TP,[e.isFixed?(W(),fe("div",{key:0,style:yt(e.placeholderStyles)},null,4)):We("v-if",!0),De("div",{class:Z(e.classNames),style:yt(e.fixedStyles)},[_(a,{onResize:e.updatePositionThrottle},{default:Je(()=>[Ue(e.$slots,"default")]),_:3},8,["onResize"])],6)],512)]),_:3},8,["onResize"])}var bT=ot(bP,[["render",yP]]);const EP=Object.assign(bT,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+bT.name,bT)}}),CP=Ae({name:"IconHover",props:{prefix:{type:String},size:{type:String,default:"medium"},disabled:{type:Boolean,default:!1}},setup(){return{prefixCls:Ge("icon-hover")}}});function IP(e,o,n,i,l,u){return W(),fe("span",{class:Z([e.prefixCls,{[`${e.prefix}-icon-hover`]:e.prefix,[`${e.prefixCls}-size-${e.size}`]:e.size!=="medium",[`${e.prefixCls}-disabled`]:e.disabled}])},[Ue(e.$slots,"default")],2)}var yo=ot(CP,[["render",IP]]);const SP=Ae({name:"IconClose",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-close`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),OP=["stroke-width","stroke-linecap","stroke-linejoin"],kP=De("path",{d:"M9.857 9.858 24 24m0 0 14.142 14.142M24 24 38.142 9.858M24 24 9.857 38.142"},null,-1),wP=[kP];function NP(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},wP,14,OP)}var TT=ot(SP,[["render",NP]]);const zr=Object.assign(TT,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+TT.name,TT)}}),AP=Ae({name:"IconInfoCircleFill",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-info-circle-fill`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),RP=["stroke-width","stroke-linecap","stroke-linejoin"],LP=De("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Zm2-30a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2Zm0 17h1a1 1 0 0 1 1 1v2a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1h1v-8a1 1 0 0 1-1-1v-2a1 1 0 0 1 1-1h3a1 1 0 0 1 1 1v11Z",fill:"currentColor",stroke:"none"},null,-1),MP=[LP];function PP(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},MP,14,RP)}var yT=ot(AP,[["render",PP]]);const lv=Object.assign(yT,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+yT.name,yT)}}),DP=Ae({name:"IconCheckCircleFill",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-check-circle-fill`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),xP=["stroke-width","stroke-linecap","stroke-linejoin"],BP=De("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Zm10.207-24.379a1 1 0 0 0 0-1.414l-1.414-1.414a1 1 0 0 0-1.414 0L22 26.172l-4.878-4.88a1 1 0 0 0-1.415 0l-1.414 1.415a1 1 0 0 0 0 1.414l7 7a1 1 0 0 0 1.414 0l11.5-11.5Z",fill:"currentColor",stroke:"none"},null,-1),FP=[BP];function VP(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},FP,14,xP)}var ET=ot(DP,[["render",VP]]);const Wh=Object.assign(ET,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+ET.name,ET)}}),UP=Ae({name:"IconExclamationCircleFill",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-exclamation-circle-fill`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),HP=["stroke-width","stroke-linecap","stroke-linejoin"],GP=De("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Zm-2-11a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v2Zm4-18a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1V15Z",fill:"currentColor",stroke:"none"},null,-1),zP=[GP];function WP(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},zP,14,HP)}var CT=ot(UP,[["render",WP]]);const Vu=Object.assign(CT,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+CT.name,CT)}}),jP=Ae({name:"IconCloseCircleFill",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-close-circle-fill`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),XP=["stroke-width","stroke-linecap","stroke-linejoin"],KP=De("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Zm4.955-27.771-4.95 4.95-4.95-4.95a1 1 0 0 0-1.414 0l-1.414 1.414a1 1 0 0 0 0 1.414l4.95 4.95-4.95 4.95a1 1 0 0 0 0 1.414l1.414 1.414a1 1 0 0 0 1.414 0l4.95-4.95 4.95 4.95a1 1 0 0 0 1.414 0l1.414-1.414a1 1 0 0 0 0-1.414l-4.95-4.95 4.95-4.95a1 1 0 0 0 0-1.414l-1.414-1.414a1 1 0 0 0-1.414 0Z",fill:"currentColor",stroke:"none"},null,-1),YP=[KP];function QP(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},YP,14,XP)}var IT=ot(jP,[["render",QP]]);const fg=Object.assign(IT,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+IT.name,IT)}}),qP=Ae({name:"Alert",components:{IconHover:yo,IconClose:zr,IconInfoCircleFill:lv,IconCheckCircleFill:Wh,IconExclamationCircleFill:Vu,IconCloseCircleFill:fg},props:{type:{type:String,default:"info"},showIcon:{type:Boolean,default:!0},closable:{type:Boolean,default:!1},title:String,banner:{type:Boolean,default:!1},center:{type:Boolean,default:!1}},emits:{close:e=>!0,afterClose:()=>!0},setup(e,{slots:o,emit:n}){const i=Ge("alert"),l=ve(!0),u=p=>{l.value=!1,n("close",p)},a=()=>{n("afterClose")},h=O(()=>[i,`${i}-${e.type}`,{[`${i}-with-title`]:!!(e.title||o.title),[`${i}-banner`]:e.banner,[`${i}-center`]:e.center}]);return{prefixCls:i,cls:h,visible:l,handleClose:u,handleAfterLeave:a}}});function ZP(e,o,n,i,l,u){const a=Pe("icon-info-circle-fill"),h=Pe("icon-check-circle-fill"),p=Pe("icon-exclamation-circle-fill"),m=Pe("icon-close-circle-fill"),$=Pe("icon-close"),T=Pe("icon-hover");return W(),Ze(Hr,{name:"zoom-in-top",onAfterLeave:e.handleAfterLeave},{default:Je(()=>[e.visible?(W(),fe("div",{key:0,role:"alert",class:Z(e.cls)},[e.showIcon&&!(e.type==="normal"&&!e.$slots.icon)?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-icon`)},[Ue(e.$slots,"icon",{},()=>[e.type==="info"?(W(),Ze(a,{key:0})):e.type==="success"?(W(),Ze(h,{key:1})):e.type==="warning"?(W(),Ze(p,{key:2})):e.type==="error"?(W(),Ze(m,{key:3})):We("v-if",!0)])],2)):We("v-if",!0),De("div",{class:Z(`${e.prefixCls}-body`)},[e.title||e.$slots.title?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-title`)},[Ue(e.$slots,"title",{},()=>[Dt(Mt(e.title),1)])],2)):We("v-if",!0),De("div",{class:Z(`${e.prefixCls}-content`)},[Ue(e.$slots,"default")],2)],2),e.$slots.action?(W(),fe("div",{key:1,class:Z(`${e.prefixCls}-action`)},[Ue(e.$slots,"action")],2)):We("v-if",!0),e.closable?(W(),fe("div",{key:2,tabindex:"-1",role:"button","aria-label":"Close",class:Z(`${e.prefixCls}-close-btn`),onClick:o[0]||(o[0]=(...w)=>e.handleClose&&e.handleClose(...w))},[Ue(e.$slots,"close-element",{},()=>[_(T,null,{default:Je(()=>[_($)]),_:1})])],2)):We("v-if",!0)],2)):We("v-if",!0)]),_:3},8,["onAfterLeave"])}var ST=ot(qP,[["render",ZP]]);const O2=Object.assign(ST,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+ST.name,ST)}});function k2(e){return typeof e=="object"&&e!=null&&e.nodeType===1}function w2(e,o){return(!o||e!=="hidden")&&e!=="visible"&&e!=="clip"}function OT(e,o){if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){var n=getComputedStyle(e,null);return w2(n.overflowY,o)||w2(n.overflowX,o)||function(i){var l=function(u){if(!u.ownerDocument||!u.ownerDocument.defaultView)return null;try{return u.ownerDocument.defaultView.frameElement}catch{return null}}(i);return!!l&&(l.clientHeight<i.scrollHeight||l.clientWidth<i.scrollWidth)}(e)}return!1}function c0(e,o,n,i,l,u,a,h){return u<e&&a>o||u>e&&a<o?0:u<=e&&h<=n||a>=o&&h>=n?u-e-i:a>o&&h<n||u<e&&h>n?a-o+l:0}var bC=function(e,o){var n=window,i=o.scrollMode,l=o.block,u=o.inline,a=o.boundary,h=o.skipOverflowHiddenElements,p=typeof a=="function"?a:function(re){return re!==a};if(!k2(e))throw new TypeError("Invalid target");for(var m,$,T=document.scrollingElement||document.documentElement,w=[],A=e;k2(A)&&p(A);){if((A=($=(m=A).parentElement)==null?m.getRootNode().host||null:$)===T){w.push(A);break}A!=null&&A===document.body&&OT(A)&&!OT(document.documentElement)||A!=null&&OT(A,h)&&w.push(A)}for(var R=n.visualViewport?n.visualViewport.width:innerWidth,L=n.visualViewport?n.visualViewport.height:innerHeight,M=window.scrollX||pageXOffset,B=window.scrollY||pageYOffset,G=e.getBoundingClientRect(),j=G.height,F=G.width,x=G.top,D=G.right,U=G.bottom,te=G.left,Y=l==="start"||l==="nearest"?x:l==="end"?U:x+j/2,J=u==="center"?te+F/2:u==="end"?D:te,ee=[],ue=0;ue<w.length;ue++){var oe=w[ue],X=oe.getBoundingClientRect(),K=X.height,q=X.width,z=X.top,ne=X.right,ge=X.bottom,Q=X.left;if(i==="if-needed"&&x>=0&&te>=0&&U<=L&&D<=R&&x>=z&&U<=ge&&te>=Q&&D<=ne)return ee;var Oe=getComputedStyle(oe),Re=parseInt(Oe.borderLeftWidth,10),_e=parseInt(Oe.borderTopWidth,10),se=parseInt(Oe.borderRightWidth,10),ke=parseInt(Oe.borderBottomWidth,10),Be=0,et=0,ut="offsetWidth"in oe?oe.offsetWidth-oe.clientWidth-Re-se:0,dt="offsetHeight"in oe?oe.offsetHeight-oe.clientHeight-_e-ke:0,gt="offsetWidth"in oe?oe.offsetWidth===0?0:q/oe.offsetWidth:0,we="offsetHeight"in oe?oe.offsetHeight===0?0:K/oe.offsetHeight:0;if(T===oe)Be=l==="start"?Y:l==="end"?Y-L:l==="nearest"?c0(B,B+L,L,_e,ke,B+Y,B+Y+j,j):Y-L/2,et=u==="start"?J:u==="center"?J-R/2:u==="end"?J-R:c0(M,M+R,R,Re,se,M+J,M+J+F,F),Be=Math.max(0,Be+B),et=Math.max(0,et+M);else{Be=l==="start"?Y-z-_e:l==="end"?Y-ge+ke+dt:l==="nearest"?c0(z,ge,K,_e,ke+dt,Y,Y+j,j):Y-(z+K/2)+dt/2,et=u==="start"?J-Q-Re:u==="center"?J-(Q+q/2)+ut/2:u==="end"?J-ne+se+ut:c0(Q,ne,q,Re,se+ut,J,J+F,F);var le=oe.scrollLeft,ce=oe.scrollTop;Y+=ce-(Be=Math.max(0,Math.min(ce+Be/we,oe.scrollHeight-K/we+dt))),J+=le-(et=Math.max(0,Math.min(le+et/gt,oe.scrollWidth-q/gt+ut)))}ee.push({el:oe,top:Be,left:et})}return ee},av=function(e){return function(o){return Math.pow(o,e)}},uv=function(e){return function(o){return 1-Math.abs(Math.pow(o-1,e))}},g1=function(e){return function(o){return o<.5?av(e)(o*2)/2:uv(e)(o*2-1)/2+.5}},JP=function(e){return e},e6=av(2),t6=uv(2),n6=g1(2),o6=av(3),r6=uv(3),i6=g1(3),s6=av(4),l6=uv(4),a6=g1(4),u6=av(5),c6=uv(5),d6=g1(5),h6=function(e){return 1+Math.sin(Math.PI/2*e-Math.PI/2)},p6=function(e){return Math.sin(Math.PI/2*e)},f6=function(e){return(1+Math.sin(Math.PI*e-Math.PI/2))/2},EI=function(e){var o=7.5625,n=2.75;return e<1/n?o*e*e:e<2/n?(e-=1.5/n,o*e*e+.75):e<2.5/n?(e-=2.25/n,o*e*e+.9375):(e-=2.625/n,o*e*e+.984375)},zA=function(e){return 1-EI(1-e)},g6=function(e){return e<.5?zA(e*2)*.5:EI(e*2-1)*.5+.5},m6=Object.freeze({linear:JP,quadIn:e6,quadOut:t6,quadInOut:n6,cubicIn:o6,cubicOut:r6,cubicInOut:i6,quartIn:s6,quartOut:l6,quartInOut:a6,quintIn:u6,quintOut:c6,quintInOut:d6,sineIn:h6,sineOut:p6,sineInOut:f6,bounceOut:EI,bounceIn:zA,bounceInOut:g6}),jh=function(o){var n=o.from,i=o.to,l=o.duration,u=o.delay,a=o.easing,h=o.onStart,p=o.onUpdate,m=o.onFinish;for(var $ in n)i[$]===void 0&&(i[$]=n[$]);for(var T in i)n[T]===void 0&&(n[T]=i[T]);this.from=n,this.to=i,this.duration=l||500,this.delay=u||0,this.easing=a||"linear",this.onStart=h,this.onUpdate=p||function(){},this.onFinish=m,this.startTime=Date.now()+this.delay,this.started=!1,this.finished=!1,this.timer=null,this.keys={}};jh.prototype.update=function(){if(this.time=Date.now(),!(this.time<this.startTime)&&!this.finished){if(this.elapsed===this.duration){this.finished||(this.finished=!0,this.onFinish&&this.onFinish(this.keys));return}this.elapsed=this.time-this.startTime,this.elapsed=this.elapsed>this.duration?this.duration:this.elapsed;for(var o in this.to)this.keys[o]=this.from[o]+(this.to[o]-this.from[o])*m6[this.easing](this.elapsed/this.duration);this.started||(this.onStart&&this.onStart(this.keys),this.started=!0),this.onUpdate(this.keys)}};jh.prototype.start=function(){var o=this;this.startTime=Date.now()+this.delay;var n=function(){o.update(),o.timer=requestAnimationFrame(n),o.finished&&(cancelAnimationFrame(o.timer),o.timer=null)};n()};jh.prototype.stop=function(){cancelAnimationFrame(this.timer),this.timer=null};function $6(e,o,n){new jh({from:{scrollTop:e.scrollTop},to:{scrollTop:o},easing:"quartOut",duration:300,onUpdate:l=>{e.scrollTop=l.scrollTop},onFinish:()=>{Ut(n)&&n()}}).start()}const WA=Symbol("ArcoAnchor"),v6=["start","end","center","nearest"],_6=Ae({name:"Anchor",props:{boundary:{type:[Number,String],default:"start",validator:e=>_t(e)||v6.includes(e)},lineLess:{type:Boolean,default:!1},scrollContainer:{type:[String,Object]},changeHash:{type:Boolean,default:!0},smooth:{type:Boolean,default:!0}},emits:{select:(e,o)=>!0,change:e=>!0},setup(e,{emit:o}){const n=Ge("anchor"),i=ve(),l=ve(),u=ft({}),a=ve(""),h=ve(!1),p=ve(),m=ve(),$=(x,D)=>{x&&(u[x]=D)},T=x=>{delete u[x]},w=(x,D)=>{e.changeHash||x.preventDefault(),D&&(A(D),L(D)),o("select",D,a.value)},A=x=>{try{const D=Ia(x);if(!D)return;let U,te=0;_t(e.boundary)?(U="start",te=e.boundary):U=e.boundary;const Y=bC(D,{block:U});if(!Y.length)return;const{el:J,top:ee}=Y[0],ue=ee-te;$6(J,ue,()=>{h.value=!1}),h.value=!0}catch(D){console.error(D)}},R=ig(()=>{if(h.value)return;const x=M();if(x&&x.id){const D=`#${x.id}`;L(D)}}),L=x=>{if(!u[x]&&i.value){const D=Ia(`a[data-href='${x}']`,i.value);if(!D)return;u[x]=D}x!==a.value&&(a.value=x,Un(()=>{o("change",x)}))},M=()=>{if(!p.value||!m.value)return;const x=_t(e.boundary)?e.boundary:0,D=m.value.getBoundingClientRect();for(const U of Object.keys(u)){const te=Ia(U);if(te){const{top:Y}=te.getBoundingClientRect(),J=E0(p.value)?Y-x:Y-D.top-x;if(J>=0&&J<=D.height/2)return te}}};At(a,()=>{const x=u[a.value];!e.lineLess&&x&&l.value&&(l.value.style.top=`${x.offsetTop}px`)});const B=()=>{p.value&&Jn(p.value,"scroll",R)},G=()=>{p.value&&$o(p.value,"scroll",R)},j=()=>{e.scrollContainer?(p.value=E0(e.scrollContainer)?window:Ia(e.scrollContainer),m.value=E0(e.scrollContainer)?document.documentElement:Ia(e.scrollContainer)):(p.value=window,m.value=document.documentElement)};fn(()=>{j();const x=decodeURIComponent(window.location.hash);x?(A(x),L(x)):R(),B()}),wr(()=>{G()}),Ln(WA,ft({currentLink:a,addLink:$,removeLink:T,handleClick:w}));const F=O(()=>[n,{[`${n}-line-less`]:e.lineLess}]);return{prefixCls:n,cls:F,anchorRef:i,lineSliderRef:l}}});function b6(e,o,n,i,l,u){return W(),fe("div",{ref:"anchorRef",class:Z(e.cls)},[e.lineLess?We("v-if",!0):(W(),fe("div",{key:0,ref:"lineSliderRef",class:Z(`${e.prefixCls}-line-slider`)},null,2)),De("ul",{class:Z(`${e.prefixCls}-list`)},[Ue(e.$slots,"default")],2)],2)}var kT=ot(_6,[["render",b6]]);const T6=Ae({name:"AnchorLink",props:{title:String,href:String},setup(e){const o=Ge("anchor"),n=`${o}-link`,i=ve(),l=on(WA,void 0);fn(()=>{e.href&&i.value&&(l==null||l.addLink(e.href,i.value))});const u=O(()=>[`${n}-item`,{[`${n}-active`]:(l==null?void 0:l.currentLink)===e.href}]);return{prefixCls:o,linkCls:n,cls:u,linkRef:i,handleClick:h=>l==null?void 0:l.handleClick(h,e.href)}}}),y6=["href"];function E6(e,o,n,i,l,u){return W(),fe("li",{ref:"linkRef",class:Z(e.cls)},[De("a",{class:Z(e.linkCls),href:e.href,onClick:o[0]||(o[0]=(...a)=>e.handleClick&&e.handleClick(...a))},[Ue(e.$slots,"default",{},()=>[Dt(Mt(e.title),1)])],10,y6),e.$slots.sublist?(W(),fe("ul",{key:0,class:Z(`${e.prefixCls}-sublist`)},[Ue(e.$slots,"sublist")],2)):We("v-if",!0)],2)}var C0=ot(T6,[["render",E6]]);const C6=Object.assign(kT,{Link:C0,install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+kT.name,kT),e.component(n+C0.name,C0)}}),m1=["info","success","warning","error"],nd=["onFocus","onFocusin","onFocusout","onBlur","onChange","onBeforeinput","onInput","onReset","onSubmit","onInvalid","onKeydown","onKeypress","onKeyup","onCopy","onCut","onPaste","onCompositionstart","onCompositionupdate","onCompositionend","onSelect","autocomplete","autofocus","maxlength","minlength","name","pattern","readonly","required"],I6=Ae({name:"IconLoading",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-loading`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),S6=["stroke-width","stroke-linecap","stroke-linejoin"],O6=De("path",{d:"M42 24c0 9.941-8.059 18-18 18S6 33.941 6 24 14.059 6 24 6"},null,-1),k6=[O6];function w6(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},k6,14,S6)}var wT=ot(I6,[["render",w6]]);const gi=Object.assign(wT,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+wT.name,wT)}}),N6=Ae({name:"FeedbackIcon",components:{IconLoading:gi,IconCheckCircleFill:Wh,IconExclamationCircleFill:Vu,IconCloseCircleFill:fg},props:{type:{type:String}},setup(e){const o=Ge("feedback-icon");return{cls:O(()=>[o,`${o}-status-${e.type}`])}}});function A6(e,o,n,i,l,u){const a=Pe("icon-loading"),h=Pe("icon-check-circle-fill"),p=Pe("icon-exclamation-circle-fill"),m=Pe("icon-close-circle-fill");return W(),fe("span",{class:Z(e.cls)},[e.type==="validating"?(W(),Ze(a,{key:0})):e.type==="success"?(W(),Ze(h,{key:1})):e.type==="warning"?(W(),Ze(p,{key:2})):e.type==="error"?(W(),Ze(m,{key:3})):We("v-if",!0)],2)}var cv=ot(N6,[["render",A6]]);const CI={key:"Enter",code:"Enter"},R6={key:"Backspace",code:"Backspace"};var L6=Object.defineProperty,N2=Object.getOwnPropertySymbols,M6=Object.prototype.hasOwnProperty,P6=Object.prototype.propertyIsEnumerable,A2=(e,o,n)=>o in e?L6(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,D6=(e,o)=>{for(var n in o||(o={}))M6.call(o,n)&&A2(e,n,o[n]);if(N2)for(var n of N2(o))P6.call(o,n)&&A2(e,n,o[n]);return e};const Sr=(e,o)=>{const n=D6({},e);for(const i of o)i in n&&delete n[i];return n};function wa(e,o){const n={};return o.forEach(i=>{const l=i;i in e&&(n[l]=e[l])}),n}const TC=Symbol("ArcoFormItemContext"),II=Symbol("ArcoFormContext"),Eo=({size:e,disabled:o,error:n,uninject:i}={})=>{const l=i?{}:on(TC,{}),u=O(()=>{var $;return($=e==null?void 0:e.value)!=null?$:l.size}),a=O(()=>(o==null?void 0:o.value)||l.disabled),h=O(()=>(n==null?void 0:n.value)||l.error),p=Os(l,"feedback"),m=Os(l,"eventHandlers");return{formItemCtx:l,mergedSize:u,mergedDisabled:a,mergedError:h,feedback:p,eventHandlers:m}},Wr=(e,{defaultValue:o="medium"}={})=>{const n=on(Gr,void 0);return{mergedSize:O(()=>{var l,u;return(u=(l=e==null?void 0:e.value)!=null?l:n==null?void 0:n.size)!=null?u:o})}};function jA(e){const o=ve();function n(){if(!e.value)return;const{selectionStart:l,selectionEnd:u,value:a}=e.value;if(l==null||u==null)return;const h=a.slice(0,Math.max(0,l)),p=a.slice(Math.max(0,u));o.value={selectionStart:l,selectionEnd:u,value:a,beforeTxt:h,afterTxt:p}}function i(){if(!e.value||!o.value)return;const{value:l}=e.value,{beforeTxt:u,afterTxt:a,selectionStart:h}=o.value;if(!u||!a||!h)return;let p=l.length;if(l.endsWith(a))p=l.length-a.length;else if(l.startsWith(u))p=u.length;else{const m=u[h-1],$=l.indexOf(m,h-1);$!==-1&&(p=$+1)}e.value.setSelectionRange(p,p)}return[n,i]}var x6=Object.defineProperty,R2=Object.getOwnPropertySymbols,B6=Object.prototype.hasOwnProperty,F6=Object.prototype.propertyIsEnumerable,L2=(e,o,n)=>o in e?x6(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,M2=(e,o)=>{for(var n in o||(o={}))B6.call(o,n)&&L2(e,n,o[n]);if(R2)for(var n of R2(o))F6.call(o,n)&&L2(e,n,o[n]);return e},L$=Ae({name:"Input",inheritAttrs:!1,props:{modelValue:String,defaultValue:{type:String,default:""},size:{type:String},allowClear:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},error:{type:Boolean,default:!1},placeholder:String,maxLength:{type:[Number,Object],default:0},showWordLimit:{type:Boolean,default:!1},wordLength:{type:Function},wordSlice:{type:Function},inputAttrs:{type:Object},type:{type:String,default:"text"}},emits:{"update:modelValue":e=>!0,input:(e,o)=>!0,change:(e,o)=>!0,pressEnter:e=>!0,clear:e=>!0,focus:e=>!0,blur:e=>!0},setup(e,{emit:o,slots:n,attrs:i}){const{size:l,disabled:u,error:a,modelValue:h}=mt(e),p=Ge("input"),m=ve(),{mergedSize:$,mergedDisabled:T,mergedError:w,feedback:A,eventHandlers:R}=Eo({size:l,disabled:u,error:a}),{mergedSize:L}=Wr($),[M,B]=jA(m),G=ve(e.defaultValue),j=O(()=>{var ce;return(ce=e.modelValue)!=null?ce:G.value});At(h,ce=>{(Gt(ce)||Di(ce))&&(G.value="")});let F=j.value;const x=ve(!1),D=O(()=>e.allowClear&&!T.value&&!!j.value),U=ve(!1),te=ve(""),Y=ce=>{var re;return Ut(e.wordLength)?e.wordLength(ce):(re=ce.length)!=null?re:0},J=O(()=>Y(j.value)),ee=O(()=>w.value||!!(cn(e.maxLength)&&e.maxLength.errorOnly&&J.value>oe.value)),ue=O(()=>cn(e.maxLength)&&!!e.maxLength.errorOnly),oe=O(()=>cn(e.maxLength)?e.maxLength.length:e.maxLength),X=O(()=>{const ce=Y("a");return Math.floor(oe.value/ce)}),K=ce=>{var re,Me;oe.value&&!ue.value&&Y(ce)>oe.value&&(ce=(Me=(re=e.wordSlice)==null?void 0:re.call(e,ce,oe.value))!=null?Me:ce.slice(0,X.value)),G.value=ce,o("update:modelValue",ce)},q=ce=>{m.value&&ce.target!==m.value&&(ce.preventDefault(),m.value.focus())},z=(ce,re)=>{var Me,Ne;ce!==F&&(F=ce,o("change",ce,re),(Ne=(Me=R.value)==null?void 0:Me.onChange)==null||Ne.call(Me,re))},ne=ce=>{var re,Me;x.value=!0,F=j.value,o("focus",ce),(Me=(re=R.value)==null?void 0:re.onFocus)==null||Me.call(re,ce)},ge=ce=>{var re,Me;x.value=!1,z(j.value,ce),o("blur",ce),(Me=(re=R.value)==null?void 0:re.onBlur)==null||Me.call(re,ce)},Q=ce=>{var re,Me,Ne;const{value:$e,selectionStart:Fe,selectionEnd:Le}=ce.target;if(ce.type==="compositionend"){if(U.value=!1,te.value="",oe.value&&!ue.value&&J.value>=oe.value&&Y($e)>oe.value&&Fe===Le){Oe();return}K($e),o("input",$e,ce),(Me=(re=R.value)==null?void 0:re.onInput)==null||Me.call(re,ce),Oe()}else U.value=!0,te.value=j.value+((Ne=ce.data)!=null?Ne:"")},Oe=()=>{M(),Un(()=>{m.value&&j.value!==m.value.value&&(m.value.value=j.value,B())})},Re=ce=>{var re,Me;const{value:Ne}=ce.target;if(!U.value){if(oe.value&&!ue.value&&J.value>=oe.value&&Y(Ne)>oe.value&&ce.inputType==="insertText"){Oe();return}K(Ne),o("input",Ne,ce),(Me=(re=R.value)==null?void 0:re.onInput)==null||Me.call(re,ce),Oe()}},_e=ce=>{K(""),z("",ce),o("clear",ce)},se=ce=>{const re=ce.key||ce.code;!U.value&&re===CI.key&&(z(j.value,ce),o("pressEnter",ce))},ke=O(()=>[`${p}-outer`,`${p}-outer-size-${L.value}`,{[`${p}-outer-has-suffix`]:!!n.suffix,[`${p}-outer-disabled`]:T.value}]),Be=O(()=>[`${p}-wrapper`,{[`${p}-error`]:ee.value,[`${p}-disabled`]:T.value,[`${p}-focus`]:x.value}]),et=O(()=>[p,`${p}-size-${L.value}`]),ut=O(()=>Sr(i,nd)),dt=O(()=>wa(i,nd)),gt=O(()=>{const ce=M2(M2({},dt.value),e.inputAttrs);return ee.value&&(ce["aria-invalid"]=!0),ce}),we=ce=>{var re;return _("span",lt({class:Be.value,onMousedown:q},ce?void 0:ut.value),[n.prefix&&_("span",{class:`${p}-prefix`},[n.prefix()]),_("input",lt(gt.value,{ref:m,class:et.value,value:j.value,type:e.type,placeholder:e.placeholder,readonly:e.readonly,disabled:T.value,onInput:Re,onKeydown:se,onFocus:ne,onBlur:ge,onCompositionstart:Q,onCompositionupdate:Q,onCompositionend:Q}),null),D.value&&_(yo,{prefix:p,class:`${p}-clear-btn`,onClick:_e},{default:()=>[_(zr,null,null)]}),(n.suffix||!!e.maxLength&&e.showWordLimit||!!A.value)&&_("span",{class:[`${p}-suffix`,{[`${p}-suffix-has-feedback`]:A.value}]},[!!e.maxLength&&e.showWordLimit&&_("span",{class:`${p}-word-limit`},[J.value,Dt("/"),oe.value]),(re=n.suffix)==null?void 0:re.call(n),!!A.value&&_(cv,{type:A.value},null)])])};return{inputRef:m,render:()=>n.prepend||n.append?_("span",lt({class:ke.value},ut.value),[n.prepend&&_("span",{class:`${p}-prepend`},[n.prepend()]),we(!0),n.append&&_("span",{class:`${p}-append`},[n.append()])]):we()}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}});const V6=Ae({name:"IconSearch",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-search`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),U6=["stroke-width","stroke-linecap","stroke-linejoin"],H6=De("path",{d:"M33.072 33.071c6.248-6.248 6.248-16.379 0-22.627-6.249-6.249-16.38-6.249-22.628 0-6.248 6.248-6.248 16.379 0 22.627 6.248 6.248 16.38 6.248 22.628 0Zm0 0 8.485 8.485"},null,-1),G6=[H6];function z6(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},G6,14,U6)}var NT=ot(V6,[["render",z6]]);const yC=Object.assign(NT,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+NT.name,NT)}}),XA=Symbol("ArcoButtonGroup"),W6=Ae({name:"Button",components:{IconLoading:gi},props:{type:{type:String},shape:{type:String},status:{type:String},size:{type:String},long:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},disabled:{type:Boolean},htmlType:{type:String,default:"button"},href:String},emits:{click:e=>!0},setup(e,{emit:o}){const{size:n,disabled:i}=mt(e),l=Ge("btn"),u=on(XA,void 0),a=O(()=>{var A;return(A=n.value)!=null?A:u==null?void 0:u.size}),h=O(()=>!!(i.value||u!=null&&u.disabled)),{mergedSize:p,mergedDisabled:m}=Eo({size:a,disabled:h}),{mergedSize:$}=Wr(p),T=O(()=>{var A,R,L,M,B,G;return[l,`${l}-${(R=(A=e.type)!=null?A:u==null?void 0:u.type)!=null?R:"secondary"}`,`${l}-shape-${(M=(L=e.shape)!=null?L:u==null?void 0:u.shape)!=null?M:"square"}`,`${l}-size-${$.value}`,`${l}-status-${(G=(B=e.status)!=null?B:u==null?void 0:u.status)!=null?G:"normal"}`,{[`${l}-long`]:e.long,[`${l}-loading`]:e.loading,[`${l}-disabled`]:m.value,[`${l}-link`]:ir(e.href)}]});return{prefixCls:l,cls:T,mergedDisabled:m,handleClick:A=>{if(e.disabled||e.loading){A.preventDefault();return}o("click",A)}}}}),j6=["href"],X6=["type","disabled"];function K6(e,o,n,i,l,u){const a=Pe("icon-loading");return e.href?(W(),fe("a",{key:0,class:Z([e.cls,{[`${e.prefixCls}-only-icon`]:e.$slots.icon&&!e.$slots.default}]),href:e.mergedDisabled||e.loading?void 0:e.href,onClick:o[0]||(o[0]=(...h)=>e.handleClick&&e.handleClick(...h))},[e.loading||e.$slots.icon?(W(),fe("span",{key:0,class:Z(`${e.prefixCls}-icon`)},[e.loading?(W(),Ze(a,{key:0,spin:"true"})):Ue(e.$slots,"icon",{key:1})],2)):We("v-if",!0),Ue(e.$slots,"default")],10,j6)):(W(),fe("button",{key:1,class:Z([e.cls,{[`${e.prefixCls}-only-icon`]:e.$slots.icon&&!e.$slots.default}]),type:e.htmlType,disabled:e.mergedDisabled,onClick:o[1]||(o[1]=(...h)=>e.handleClick&&e.handleClick(...h))},[e.loading||e.$slots.icon?(W(),fe("span",{key:0,class:Z(`${e.prefixCls}-icon`)},[e.loading?(W(),Ze(a,{key:0,spin:!0})):Ue(e.$slots,"icon",{key:1})],2)):We("v-if",!0),Ue(e.$slots,"default")],10,X6))}var AT=ot(W6,[["render",K6]]);const Y6=Ae({name:"ButtonGroup",props:{type:{type:String},status:{type:String},shape:{type:String},size:{type:String},disabled:{type:Boolean}},setup(e){const{type:o,size:n,status:i,disabled:l,shape:u}=mt(e),a=Ge("btn-group");return Ln(XA,ft({type:o,size:n,shape:u,status:i,disabled:l})),{prefixCls:a}}});function Q6(e,o,n,i,l,u){return W(),fe("div",{class:Z(e.prefixCls)},[Ue(e.$slots,"default")],2)}var M$=ot(Y6,[["render",Q6]]);const mi=Object.assign(AT,{Group:M$,install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+AT.name,AT),e.component(n+M$.name,M$)}});var I0=Ae({name:"InputSearch",props:{searchButton:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},size:{type:String},buttonText:{type:String},buttonProps:{type:Object}},emits:{search:(e,o)=>!0},setup(e,{emit:o,slots:n}){const{size:i}=mt(e),l=Ge("input-search"),{mergedSize:u}=Wr(i),a=ve(),h=T=>{a.value.inputRef&&o("search",a.value.inputRef.value,T)},p=()=>{var T;return _(Lt,null,[e.loading?_(gi,null,null):_(yo,{onClick:h},{default:()=>[_(yC,null,null)]}),(T=n.suffix)==null?void 0:T.call(n)])},m=()=>{var T;let w={};return e.buttonText||n["button-default"]||n["button-icon"]?w={default:(T=n["button-default"])!=null?T:e.buttonText?()=>e.buttonText:void 0,icon:n["button-icon"]}:w={icon:()=>_(yC,null,null)},_(mi,lt({type:"primary",class:`${l}-btn`,disabled:e.disabled,size:u.value,loading:e.loading},e.buttonProps,{onClick:h}),w)};return{inputRef:a,render:()=>_(L$,{ref:a,class:l,size:u.value,disabled:e.disabled},{prepend:n.prepend,prefix:n.prefix,suffix:e.searchButton?n.suffix:p,append:e.searchButton?m:n.append})}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}});const q6=Ae({name:"IconEye",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-eye`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),Z6=["stroke-width","stroke-linecap","stroke-linejoin"],J6=De("path",{"clip-rule":"evenodd",d:"M24 37c6.627 0 12.627-4.333 18-13-5.373-8.667-11.373-13-18-13-6.627 0-12.627 4.333-18 13 5.373 8.667 11.373 13 18 13Z"},null,-1),eD=De("path",{d:"M29 24a5 5 0 1 1-10 0 5 5 0 0 1 10 0Z"},null,-1),tD=[J6,eD];function nD(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},tD,14,Z6)}var RT=ot(q6,[["render",nD]]);const KA=Object.assign(RT,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+RT.name,RT)}}),oD=Ae({name:"IconEyeInvisible",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-eye-invisible`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),rD=["stroke-width","stroke-linecap","stroke-linejoin"],iD=De("path",{d:"M14 14.5c-2.69 2-5.415 5.33-8 9.5 5.373 8.667 11.373 13 18 13 3.325 0 6.491-1.09 9.5-3.271M17.463 12.5C19 11 21.75 11 24 11c6.627 0 12.627 4.333 18 13-1.766 2.848-3.599 5.228-5.5 7.14"},null,-1),sD=De("path",{d:"M29 24a5 5 0 1 1-10 0 5 5 0 0 1 10 0ZM6.852 7.103l34.294 34.294"},null,-1),lD=[iD,sD];function aD(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},lD,14,rD)}var LT=ot(oD,[["render",aD]]);const uD=Object.assign(LT,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+LT.name,LT)}}),cD=Ae({name:"InputPassword",components:{IconEye:KA,IconEyeInvisible:uD,AIconHover:yo,AInput:L$},props:{invisibleButton:{type:Boolean,default:!0}},setup(){const e=ve(),o=ve(!0);return{inputRef:e,invisible:o,handleInvisible:()=>{o.value=!o.value}}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}}});function dD(e,o,n,i,l,u){const a=Pe("icon-eye"),h=Pe("icon-eye-invisible"),p=Pe("a-icon-hover"),m=Pe("a-input");return W(),Ze(m,{ref:"inputRef",type:e.invisible?"password":"text"},Oo({_:2},[e.$slots.prepend?{name:"prepend",fn:Je(()=>[Ue(e.$slots,"prepend")])}:void 0,e.$slots.prefix?{name:"prefix",fn:Je(()=>[Ue(e.$slots,"prefix")])}:void 0,e.invisibleButton||e.$slots.suffix?{name:"suffix",fn:Je(()=>[e.invisibleButton?(W(),Ze(p,{key:0,onClick:e.handleInvisible,onMousedown:o[0]||(o[0]=qs(()=>{},["prevent"])),onMouseup:o[1]||(o[1]=qs(()=>{},["prevent"]))},{default:Je(()=>[e.invisible?(W(),Ze(h,{key:1})):(W(),Ze(a,{key:0}))]),_:1},8,["onClick"])):We("v-if",!0),Ue(e.$slots,"suffix")])}:void 0,e.$slots.append?{name:"append",fn:Je(()=>[Ue(e.$slots,"append")])}:void 0]),1032,["type"])}var S0=ot(cD,[["render",dD]]);const hD=Ae({name:"InputGroup",setup(){return{prefixCls:Ge("input-group")}}});function pD(e,o,n,i,l,u){return W(),fe("div",{class:Z(e.prefixCls)},[Ue(e.$slots,"default")],2)}var O0=ot(hD,[["render",pD]]);const Xh=Object.assign(L$,{Search:I0,Password:S0,Group:O0,install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+L$.name,L$),e.component(n+O0.name,O0),e.component(n+I0.name,I0),e.component(n+S0.name,S0)}});var fD=Object.defineProperty,P2=Object.getOwnPropertySymbols,gD=Object.prototype.hasOwnProperty,mD=Object.prototype.propertyIsEnumerable,D2=(e,o,n)=>o in e?fD(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,I$=(e,o)=>{for(var n in o||(o={}))gD.call(o,n)&&D2(e,n,o[n]);if(P2)for(var n of P2(o))mD.call(o,n)&&D2(e,n,o[n]);return e};const $D=()=>{const{body:e}=document,o=document.documentElement;let n;try{n=(window.top||window.self||window).document.body}catch{}return{height:Math.max(e.scrollHeight,e.offsetHeight,o.clientHeight,o.scrollHeight,o.offsetHeight,(n==null?void 0:n.scrollHeight)||0,(n==null?void 0:n.clientHeight)||0),width:Math.max(e.scrollWidth,e.offsetWidth,o.clientWidth,o.scrollWidth,o.offsetWidth,(n==null?void 0:n.scrollWidth)||0,(n==null?void 0:n.clientWidth)||0)}},vD=()=>{const{height:e,width:o}=$D();return{width:Math.min(o,window.innerWidth),height:Math.min(e,window.innerHeight)}},x2=(e,o)=>{var n,i;const l=e.getBoundingClientRect();return{top:l.top,bottom:l.bottom,left:l.left,right:l.right,scrollTop:l.top-o.top,scrollBottom:l.bottom-o.top,scrollLeft:l.left-o.left,scrollRight:l.right-o.left,width:(n=e.offsetWidth)!=null?n:e.clientWidth,height:(i=e.offsetHeight)!=null?i:e.clientHeight}},_D=e=>{switch(e){case"top":case"tl":case"tr":return"top";case"bottom":case"bl":case"br":return"bottom";case"left":case"lt":case"lb":return"left";case"right":case"rt":case"rb":return"right";default:return"top"}},d0=(e,o)=>{switch(o){case"top":switch(e){case"bottom":return"top";case"bl":return"tl";case"br":return"tr";default:return e}case"bottom":switch(e){case"top":return"bottom";case"tl":return"bl";case"tr":return"br";default:return e}case"left":switch(e){case"right":return"left";case"rt":return"lt";case"rb":return"lb";default:return e}case"right":switch(e){case"left":return"right";case"lt":return"rt";case"lb":return"rb";default:return e}default:return e}},bD=(e,o,{containerRect:n,triggerRect:i,popupRect:l,offset:u,translate:a})=>{const h=_D(e),p=vD(),m={top:n.top+o.top,bottom:p.height-(n.top+o.top+l.height),left:n.left+o.left,right:p.width-(n.left+o.left+l.width)};let $=e;if(h==="top"&&m.top<0)if(i.top>l.height)o.top=-n.top;else{const T=S$("bottom",i,l,{offset:u,translate:a});p.height-(n.top+T.top+l.height)>0&&($=d0(e,"bottom"),o.top=T.top)}if(h==="bottom"&&m.bottom<0)if(p.height-i.bottom>l.height)o.top=-n.top+(p.height-l.height);else{const T=S$("top",i,l,{offset:u,translate:a});n.top+T.top>0&&($=d0(e,"top"),o.top=T.top)}if(h==="left"&&m.left<0)if(i.left>l.width)o.left=-n.left;else{const T=S$("right",i,l,{offset:u,translate:a});p.width-(n.left+T.left+l.width)>0&&($=d0(e,"right"),o.left=T.left)}if(h==="right"&&m.right<0)if(p.width-i.right>l.width)o.left=-n.left+(p.width-l.width);else{const T=S$("left",i,l,{offset:u,translate:a});n.left+T.left>0&&($=d0(e,"left"),o.left=T.left)}return(h==="top"||h==="bottom")&&(m.left<0?o.left=-n.left:m.right<0&&(o.left=-n.left+(p.width-l.width))),(h==="left"||h==="right")&&(m.top<0?o.top=-n.top:m.bottom<0&&(o.top=-n.top+(p.height-l.height))),{popupPosition:o,position:$}},S$=(e,o,n,{offset:i=0,translate:l=[0,0]}={})=>{var u;const a=(u=nn(l)?l:l[e])!=null?u:[0,0];switch(e){case"top":return{left:o.scrollLeft+Math.round(o.width/2)-Math.round(n.width/2)+a[0],top:o.scrollTop-n.height-i+a[1]};case"tl":return{left:o.scrollLeft+a[0],top:o.scrollTop-n.height-i+a[1]};case"tr":return{left:o.scrollRight-n.width+a[0],top:o.scrollTop-n.height-i+a[1]};case"bottom":return{left:o.scrollLeft+Math.round(o.width/2)-Math.round(n.width/2)+a[0],top:o.scrollBottom+i+a[1]};case"bl":return{left:o.scrollLeft+a[0],top:o.scrollBottom+i+a[1]};case"br":return{left:o.scrollRight-n.width+a[0],top:o.scrollBottom+i+a[1]};case"left":return{left:o.scrollLeft-n.width-i+a[0],top:o.scrollTop+Math.round(o.height/2)-Math.round(n.height/2)+a[1]};case"lt":return{left:o.scrollLeft-n.width-i+a[0],top:o.scrollTop+a[1]};case"lb":return{left:o.scrollLeft-n.width-i+a[0],top:o.scrollBottom-n.height+a[1]};case"right":return{left:o.scrollRight+i+a[0],top:o.scrollTop+Math.round(o.height/2)-Math.round(n.height/2)+a[1]};case"rt":return{left:o.scrollRight+i+a[0],top:o.scrollTop+a[1]};case"rb":return{left:o.scrollRight+i+a[0],top:o.scrollBottom-n.height+a[1]};default:return{left:0,top:0}}},TD=e=>{let o="0";["top","bottom"].includes(e)?o="50%":["left","lt","lb","tr","br"].includes(e)&&(o="100%");let n="0";return["left","right"].includes(e)?n="50%":["top","tl","tr","lt","rt"].includes(e)&&(n="100%"),`${o} ${n}`},yD=(e,o,n,i,{offset:l=0,translate:u=[0,0],customStyle:a={},autoFitPosition:h=!1}={})=>{let p=e,m=S$(e,n,i,{offset:l,translate:u});if(h){const T=bD(e,m,{containerRect:o,popupRect:i,triggerRect:n,offset:l,translate:u});m=T.popupPosition,p=T.position}return{style:I$({left:`${m.left}px`,top:`${m.top}px`},a),position:p}},ED=(e,o,n,{customStyle:i={}})=>{if(["top","tl","tr","bottom","bl","br"].includes(e)){let u=Math.abs(o.scrollLeft+o.width/2-n.scrollLeft);return u>n.width-8&&(o.width>n.width?u=n.width/2:u=n.width-8),["top","tl","tr"].includes(e)?I$({left:`${u}px`,bottom:"0",transform:"translate(-50%,50%) rotate(45deg)"},i):I$({left:`${u}px`,top:"0",transform:"translate(-50%,-50%) rotate(45deg)"},i)}let l=Math.abs(o.scrollTop+o.height/2-n.scrollTop);return l>n.height-8&&(o.height>n.height?l=n.height/2:l=n.height-8),["left","lt","lb"].includes(e)?I$({top:`${l}px`,right:"0",transform:"translate(50%,-50%) rotate(45deg)"},i):I$({top:`${l}px`,left:"0",transform:"translate(-50%,-50%) rotate(45deg)"},i)},CD=e=>e.scrollHeight>e.offsetHeight||e.scrollWidth>e.offsetWidth,B2=e=>{var o;const n=[];let i=e;for(;i&&i!==document.documentElement;)CD(i)&&n.push(i),i=(o=i.parentElement)!=null?o:void 0;return n},YA=()=>{const e={},o=ve(),n=()=>{const i=BA(e.value);i!==o.value&&(o.value=i)};return fn(()=>n()),$i(()=>n()),{children:e,firstElement:o}};var od=Ae({name:"ResizeObserver",props:{watchOnUpdated:Boolean},emits:["resize"],setup(e,{emit:o,slots:n}){const{children:i,firstElement:l}=YA();let u;const a=p=>{p&&(u=new c1(m=>{const $=m[0];o("resize",$)}),u.observe(p))},h=()=>{u&&(u.disconnect(),u=null)};return At(l,p=>{u&&h(),p&&a(p)}),wr(()=>{u&&h()}),()=>{var p;return i.value=(p=n.default)==null?void 0:p.call(n),i.value}}});function wl(e,o){const n=ve(e[o]);return $i(()=>{const i=e[o];n.value!==i&&(n.value=i)}),n}const F2=Symbol("ArcoTrigger"),ID=1e3,SD=5e3,OD=1;class kD{constructor(){this.popupStack={popup:new Set,dialog:new Set,message:new Set},this.getNextZIndex=o=>(o==="message"?Array.from(this.popupStack.message).pop()||SD:Array.from(this.popupStack.popup).pop()||ID)+OD,this.add=o=>{const n=this.getNextZIndex(o);return this.popupStack[o].add(n),o==="dialog"&&this.popupStack.popup.add(n),n},this.delete=(o,n)=>{this.popupStack[n].delete(o),n==="dialog"&&this.popupStack.popup.delete(o)},this.isLastDialog=o=>this.popupStack.dialog.size>1?o===Array.from(this.popupStack.dialog).pop():!0}}const MT=new kD;function gg(e,{visible:o,runOnMounted:n}={}){const i=ve(0),l=()=>{i.value=MT.add(e)},u=()=>{MT.delete(i.value,e)},a=()=>e==="dialog"?MT.isLastDialog(i.value):!1;return At(()=>o==null?void 0:o.value,h=>{h?l():u()},{immediate:!0}),n&&(fn(()=>{l()}),wr(()=>{u()})),{zIndex:iI(i),open:l,close:u,isLastDialog:a}}const wD=({elementRef:e,onResize:o})=>{let n;return{createResizeObserver:()=>{e.value&&(n=new c1(u=>{const a=u[0];Ut(o)&&o(a)}),n.observe(e.value))},destroyResizeObserver:()=>{n&&(n.disconnect(),n=null)}}};var SI=Ae({name:"ClientOnly",setup(e,{slots:o}){const n=ve(!1);return fn(()=>n.value=!0),()=>{var i;return n.value?(i=o.default)==null?void 0:i.call(o):null}}});const OI=({popupContainer:e,visible:o,defaultContainer:n="body",documentContainer:i})=>{const l=ve(e.value),u=ve(),a=()=>{const h=Ia(e.value),p=h?e.value:n,m=h??(i?document.documentElement:Ia(n));p!==l.value&&(l.value=p),m!==u.value&&(u.value=m)};return fn(()=>a()),At(o,h=>{l.value!==e.value&&h&&a()}),{teleportContainer:l,containerRef:u}};var ND=Object.defineProperty,AD=Object.defineProperties,RD=Object.getOwnPropertyDescriptors,V2=Object.getOwnPropertySymbols,LD=Object.prototype.hasOwnProperty,MD=Object.prototype.propertyIsEnumerable,U2=(e,o,n)=>o in e?ND(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,PD=(e,o)=>{for(var n in o||(o={}))LD.call(o,n)&&U2(e,n,o[n]);if(V2)for(var n of V2(o))MD.call(o,n)&&U2(e,n,o[n]);return e},DD=(e,o)=>AD(e,RD(o));const xD=["onClick","onMouseenter","onMouseleave","onFocusin","onFocusout","onContextmenu"];var PT=Ae({name:"Trigger",inheritAttrs:!1,props:{popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},trigger:{type:[String,Array],default:"hover"},position:{type:String,default:"bottom"},disabled:{type:Boolean,default:!1},popupOffset:{type:Number,default:0},popupTranslate:{type:[Array,Object]},showArrow:{type:Boolean,default:!1},alignPoint:{type:Boolean,default:!1},popupHoverStay:{type:Boolean,default:!0},blurToClose:{type:Boolean,default:!0},clickToClose:{type:Boolean,default:!0},clickOutsideToClose:{type:Boolean,default:!0},unmountOnClose:{type:Boolean,default:!0},contentClass:{type:[String,Array,Object]},contentStyle:{type:Object},arrowClass:{type:[String,Array,Object]},arrowStyle:{type:Object},popupStyle:{type:Object},animationName:{type:String,default:"fade-in"},duration:{type:[Number,Object]},mouseEnterDelay:{type:Number,default:100},mouseLeaveDelay:{type:Number,default:100},focusDelay:{type:Number,default:0},autoFitPopupWidth:{type:Boolean,default:!1},autoFitPopupMinWidth:{type:Boolean,default:!1},autoFixPosition:{type:Boolean,default:!0},popupContainer:{type:[String,Object]},updateAtScroll:{type:Boolean,default:!1},autoFitTransformOrigin:{type:Boolean,default:!1},hideEmpty:{type:Boolean,default:!1},openedClass:{type:[String,Array,Object]},autoFitPosition:{type:Boolean,default:!0},renderToBody:{type:Boolean,default:!0},preventFocus:{type:Boolean,default:!1},scrollToClose:{type:Boolean,default:!1}},emits:{"update:popupVisible":e=>!0,popupVisibleChange:e=>!0,show:()=>!0,hide:()=>!0,resize:()=>!0},setup(e,{emit:o,slots:n,attrs:i}){const{popupContainer:l}=mt(e),u=Ge("trigger"),a=O(()=>Sr(i,xD)),h=on(Gr,void 0),p=O(()=>[].concat(e.trigger)),m=new Set,$=on(F2,void 0),{children:T,firstElement:w}=YA(),A=ve(),R=ve(e.defaultPopupVisible),L=ve(e.position),M=ve({}),B=ve({}),G=ve({}),j=ve(),F=ve({top:0,left:0}),x=O(()=>{var he;return(he=e.popupVisible)!=null?he:R.value}),{teleportContainer:D,containerRef:U}=OI({popupContainer:l,visible:x,documentContainer:!0}),{zIndex:te}=gg("popup",{visible:x});let Y=0,J=!1,ee=!1;const ue=()=>{Y&&(window.clearTimeout(Y),Y=0)},oe=he=>{if(e.alignPoint){const{pageX:me,pageY:Se}=he;F.value={top:Se,left:me}}},X=()=>{if(!w.value||!A.value||!U.value)return;const he=U.value.getBoundingClientRect(),me=e.alignPoint?{top:F.value.top,bottom:F.value.top,left:F.value.left,right:F.value.left,scrollTop:F.value.top,scrollBottom:F.value.top,scrollLeft:F.value.left,scrollRight:F.value.left,width:0,height:0}:x2(w.value,he),Se=()=>x2(A.value,he),xe=Se(),{style:Ke,position:C}=yD(e.position,he,me,xe,{offset:e.popupOffset,translate:e.popupTranslate,customStyle:e.popupStyle,autoFitPosition:e.autoFitPosition});e.autoFitTransformOrigin&&(B.value={transformOrigin:TD(C)}),e.autoFitPopupMinWidth?Ke.minWidth=`${me.width}px`:e.autoFitPopupWidth&&(Ke.width=`${me.width}px`),L.value!==C&&(L.value=C),M.value=Ke,e.showArrow&&Un(()=>{G.value=ED(C,me,Se(),{customStyle:e.arrowStyle})})},K=(he,me)=>{if(he===x.value&&Y===0)return;const Se=()=>{R.value=he,o("update:popupVisible",he),o("popupVisibleChange",he),he&&Un(()=>{X()})};me?(ue(),he!==x.value&&(Y=window.setTimeout(Se,me))):Se()},q=he=>{var me;(me=i.onClick)==null||me.call(i,he),!(e.disabled||x.value&&!e.clickToClose)&&(p.value.includes("click")?(oe(he),K(!x.value)):p.value.includes("contextMenu")&&x.value&&K(!1))},z=he=>{var me;(me=i.onMouseenter)==null||me.call(i,he),!(e.disabled||!p.value.includes("hover"))&&(oe(he),K(!0,e.mouseEnterDelay))},ne=he=>{$==null||$.onMouseenter(he),z(he)},ge=he=>{var me;(me=i.onMouseleave)==null||me.call(i,he),!(e.disabled||!p.value.includes("hover"))&&K(!1,e.mouseLeaveDelay)},Q=he=>{$==null||$.onMouseleave(he),ge(he)},Oe=he=>{var me;(me=i.onFocusin)==null||me.call(i,he),!(e.disabled||!p.value.includes("focus"))&&K(!0,e.focusDelay)},Re=he=>{var me;(me=i.onFocusout)==null||me.call(i,he),!(e.disabled||!p.value.includes("focus"))&&e.blurToClose&&K(!1)},_e=he=>{var me;(me=i.onContextmenu)==null||me.call(i,he),!(e.disabled||!p.value.includes("contextMenu")||x.value&&!e.clickToClose)&&(oe(he),K(!x.value),he.preventDefault())};Ln(F2,ft({onMouseenter:ne,onMouseleave:Q,addChildRef:he=>{m.add(he),$==null||$.addChildRef(he)},removeChildRef:he=>{m.delete(he),$==null||$.removeChildRef(he)}}));const Be=()=>{$o(document.documentElement,"mousedown",dt),J=!1},et=wl(n,"content"),ut=O(()=>{var he;return e.hideEmpty&&cP((he=et.value)==null?void 0:he.call(et))}),dt=he=>{var me,Se,xe;if(!((me=w.value)!=null&&me.contains(he.target)||(Se=A.value)!=null&&Se.contains(he.target))){for(const Ke of m)if((xe=Ke.value)!=null&&xe.contains(he.target))return;Be(),K(!1)}},gt=ig(()=>{x.value&&(e.scrollToClose||h!=null&&h.scrollToClose?K(!1):X())}),we=()=>{$o(window,"scroll",le),ee=!1},le=ig(()=>{K(!1),we()}),ce=()=>{x.value&&X()},re=()=>{ce(),o("resize")},Me=he=>{e.preventFocus&&he.preventDefault()};$==null||$.addChildRef(A);const Ne=O(()=>x.value?e.openedClass:void 0);let $e;At(x,he=>{if(e.clickOutsideToClose&&(!he&&J?Be():he&&!J&&(Jn(document.documentElement,"mousedown",dt),J=!0)),(e.scrollToClose||h!=null&&h.scrollToClose)&&(Jn(window,"scroll",le),ee=!0),e.updateAtScroll||h!=null&&h.updateAtScroll){if(he){$e=B2(w.value);for(const me of $e)me.addEventListener("scroll",gt)}else if($e){for(const me of $e)me.removeEventListener("scroll",gt);$e=void 0}}he&&(qe.value=!0)}),At(()=>[e.autoFitPopupWidth,e.autoFitPopupMinWidth],()=>{x.value&&X()});const{createResizeObserver:Fe,destroyResizeObserver:Le}=wD({elementRef:U,onResize:ce});fn(()=>{if(Fe(),x.value&&(X(),e.clickOutsideToClose&&!J&&(Jn(document.documentElement,"mousedown",dt),J=!0),e.updateAtScroll||h!=null&&h.updateAtScroll)){$e=B2(w.value);for(const he of $e)he.addEventListener("scroll",gt)}}),$i(()=>{x.value&&X()}),iA(()=>{K(!1)}),wr(()=>{if($==null||$.removeChildRef(A),Le(),J&&Be(),ee&&we(),$e){for(const he of $e)he.removeEventListener("scroll",gt);$e=void 0}});const qe=ve(x.value),Xe=ve(!1),at=()=>{Xe.value=!0},Ee=()=>{Xe.value=!1,x.value&&o("show")},Ie=()=>{Xe.value=!1,x.value||(qe.value=!1,o("hide"))};return()=>{var he,me;return T.value=(me=(he=n.default)==null?void 0:he.call(n))!=null?me:[],DA(T.value,{class:Ne.value,onClick:q,onMouseenter:z,onMouseleave:ge,onFocusin:Oe,onFocusout:Re,onContextmenu:_e}),_(Lt,null,[e.autoFixPosition?_(od,{onResize:re},{default:()=>[T.value]}):T.value,_(SI,null,{default:()=>[_(i1,{to:D.value,disabled:!e.renderToBody},{default:()=>[(!e.unmountOnClose||x.value||qe.value)&&!ut.value&&_(od,{onResize:ce},{default:()=>[_("div",lt({ref:A,class:[`${u}-popup`,`${u}-position-${L.value}`],style:DD(PD({},M.value),{zIndex:te.value,pointerEvents:Xe.value?"none":"auto"}),"trigger-placement":L.value,onMouseenter:ne,onMouseleave:Q,onMousedown:Me},a.value),[_(Hr,{name:e.animationName,duration:e.duration,appear:!0,onBeforeEnter:at,onAfterEnter:Ee,onBeforeLeave:at,onAfterLeave:Ie},{default:()=>{var Se;return[Qs(_("div",{class:`${u}-popup-wrapper`,style:B.value},[_("div",{class:[`${u}-content`,e.contentClass],style:e.contentStyle},[(Se=n.content)==null?void 0:Se.call(n)]),e.showArrow&&_("div",{ref:j,class:[`${u}-arrow`,e.arrowClass],style:G.value},null)]),[[Zs,x.value]])]}})])]})]})]})])}}});const Or=Object.assign(PT,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+PT.name,PT)}}),BD=Ae({name:"IconEmpty",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-empty`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),FD=["stroke-width","stroke-linecap","stroke-linejoin"],VD=De("path",{d:"M24 5v6m7 1 4-4m-18 4-4-4m28.5 22H28s-1 3-4 3-4-3-4-3H6.5M40 41H8a2 2 0 0 1-2-2v-8.46a2 2 0 0 1 .272-1.007l6.15-10.54A2 2 0 0 1 14.148 18H33.85a2 2 0 0 1 1.728.992l6.149 10.541A2 2 0 0 1 42 30.541V39a2 2 0 0 1-2 2Z"},null,-1),UD=[VD];function HD(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},UD,14,FD)}var DT=ot(BD,[["render",HD]]);const GD=Object.assign(DT,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+DT.name,DT)}});var k0=Ae({name:"Empty",props:{description:String,imgSrc:String,inConfigProvider:{type:Boolean,default:!1}},setup(e,{slots:o}){const n=Ge("empty"),{t:i}=Lo(),l=on(Gr,void 0);return()=>{var u,a,h,p;return!e.inConfigProvider&&(l!=null&&l.slots.empty)&&!(o.image||e.imgSrc||e.description)?l.slots.empty({component:"empty"}):_("div",{class:n},[_("div",{class:`${n}-image`},[(a=(u=o.image)==null?void 0:u.call(o))!=null?a:e.imgSrc?_("img",{src:e.imgSrc,alt:e.description||"empty"},null):_(GD,null,null)]),_("div",{class:`${n}-description`},[(p=(h=o.default)==null?void 0:h.call(o))!=null?p:e.description||i("empty.description")])])}}});const Uu=Object.assign(k0,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+k0.name,k0)}}),zD=5;var WD=Ae({name:"DotLoading",props:{size:{type:Number}},setup(e){const o=Ge("dot-loading");return()=>{const n=e.size?{width:`${e.size}px`,height:`${e.size}px`}:{};return _("div",{class:o,style:{width:e.size?`${e.size*7}px`:void 0,height:e.size?`${e.size}px`:void 0}},[Array(zD).fill(1).map((i,l)=>_("div",{class:`${o}-item`,key:l,style:n},null))])}}}),xT=Ae({name:"Spin",props:{size:{type:Number},loading:Boolean,dot:Boolean,tip:String,hideIcon:{type:Boolean,default:!1}},setup(e,{slots:o}){const n=Ge("spin"),i=on(Gr,void 0),l=O(()=>[n,{[`${n}-loading`]:e.loading,[`${n}-with-tip`]:e.tip&&!o.default}]),u=()=>{if(o.icon){const h=Qf(o.icon());if(h)return os(h,{spin:!0})}return o.element?o.element():e.dot?_(WD,{size:e.size},null):i!=null&&i.slots.loading?i.slots.loading():_(gi,{spin:!0,size:e.size},null)},a=()=>{var h,p,m;const $=e.size?{fontSize:`${e.size}px`}:void 0,T=!!((h=o.tip)!=null?h:e.tip);return _(Lt,null,[!e.hideIcon&&_("div",{class:`${n}-icon`,style:$},[u()]),T&&_("div",{class:`${n}-tip`},[(m=(p=o.tip)==null?void 0:p.call(o))!=null?m:e.tip])])};return()=>_("div",{class:l.value},[o.default?_(Lt,null,[o.default(),e.loading&&_("div",{class:`${n}-mask`},[_("div",{class:`${n}-mask-icon`},[a()])])]):a()])}});const Dl=Object.assign(xT,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+xT.name,xT)}}),jD=Ae({name:"Thumb",props:{data:{type:Object},direction:{type:String,default:"horizontal"},alwaysShow:{type:Boolean,default:!1},both:{type:Boolean,default:!1}},emits:["scroll"],setup(e,{emit:o}){const n=Ge("scrollbar"),i=ve(!1),l=ve(),u=ve(),a=O(()=>e.direction==="horizontal"?{size:"width",direction:"left",offset:"offsetWidth",client:"clientX"}:{size:"height",direction:"top",offset:"offsetHeight",client:"clientY"}),h=ve(0),p=ve(!1),m=ve(0),$=O(()=>{var G,j;return{[a.value.size]:`${(j=(G=e.data)==null?void 0:G.thumbSize)!=null?j:0}px`,[a.value.direction]:`${h.value}px`}}),T=G=>{G.preventDefault(),u.value&&(m.value=G[a.value.client]-u.value.getBoundingClientRect()[a.value.direction],p.value=!0,Jn(window,"mousemove",R),Jn(window,"mouseup",L),Jn(window,"contextmenu",L))},w=G=>{var j,F,x,D;if(G.preventDefault(),u.value){const U=A(G[a.value.client]>u.value.getBoundingClientRect()[a.value.direction]?h.value+((F=(j=e.data)==null?void 0:j.thumbSize)!=null?F:0):h.value-((D=(x=e.data)==null?void 0:x.thumbSize)!=null?D:0));U!==h.value&&(h.value=U,o("scroll",U))}},A=G=>G<0?0:e.data&&G>e.data.max?e.data.max:G,R=G=>{if(l.value&&u.value){const j=A(G[a.value.client]-l.value.getBoundingClientRect()[a.value.direction]-m.value);j!==h.value&&(h.value=j,o("scroll",j))}},L=()=>{p.value=!1,$o(window,"mousemove",R),$o(window,"mouseup",L)},M=G=>{p.value||(G=A(G),G!==h.value&&(h.value=G))},B=O(()=>[`${n}-thumb`,`${n}-thumb-direction-${e.direction}`,{[`${n}-thumb-dragging`]:p.value}]);return{visible:i,trackRef:l,thumbRef:u,prefixCls:n,thumbCls:B,thumbStyle:$,handleThumbMouseDown:T,handleTrackClick:w,setOffset:M}}});function XD(e,o,n,i,l,u){return W(),Ze(Hr,null,{default:Je(()=>[De("div",{ref:"trackRef",class:Z([`${e.prefixCls}-track`,`${e.prefixCls}-track-direction-${e.direction}`]),onMousedown:o[1]||(o[1]=qs((...a)=>e.handleTrackClick&&e.handleTrackClick(...a),["self"]))},[De("div",{ref:"thumbRef",class:Z(e.thumbCls),style:yt(e.thumbStyle),onMousedown:o[0]||(o[0]=(...a)=>e.handleThumbMouseDown&&e.handleThumbMouseDown(...a))},[De("div",{class:Z(`${e.prefixCls}-thumb-bar`)},null,2)],38)],34)]),_:1})}var KD=ot(jD,[["render",XD]]);const H2=20,h0=15,YD=Ae({name:"Scrollbar",components:{ResizeObserver:od,Thumb:KD},inheritAttrs:!1,props:{type:{type:String,default:"embed"},outerClass:[String,Object,Array],outerStyle:{type:[String,Object,Array]},hide:{type:Boolean,default:!1},disableHorizontal:{type:Boolean,default:!1},disableVertical:{type:Boolean,default:!1}},emits:{scroll:e=>!0},setup(e,{emit:o}){const n=Ge("scrollbar"),i=ve(),l=ve(),u=ve(),a=ve(),h=ve(),p=ve(!1),m=ve(!1),$=O(()=>p.value&&!e.disableHorizontal),T=O(()=>m.value&&!e.disableVertical),w=ve(!1),A=()=>{var F,x,D,U,te,Y;if(i.value){const{clientWidth:J,clientHeight:ee,offsetWidth:ue,offsetHeight:oe,scrollWidth:X,scrollHeight:K,scrollTop:q,scrollLeft:z}=i.value;p.value=X>J,m.value=K>ee,w.value=$.value&&T.value;const ne=e.type==="embed"&&w.value?ue-h0:ue,ge=e.type==="embed"&&w.value?oe-h0:oe,Q=Math.round(ne/Math.min(X/J,ne/H2)),Oe=ne-Q,Re=(X-J)/Oe,_e=Math.round(ge/Math.min(K/ee,ge/H2)),se=ge-_e,ke=(K-ee)/se;if(l.value={ratio:Re,thumbSize:Q,max:Oe},u.value={ratio:ke,thumbSize:_e,max:se},q>0){const Be=Math.round(q/((x=(F=u.value)==null?void 0:F.ratio)!=null?x:1));(D=h.value)==null||D.setOffset(Be)}if(z>0){const Be=Math.round(z/((te=(U=u.value)==null?void 0:U.ratio)!=null?te:1));(Y=a.value)==null||Y.setOffset(Be)}}};fn(()=>{A()});const R=()=>{A()},L=F=>{var x,D,U,te,Y,J;if(i.value){if($.value&&!e.disableHorizontal){const ee=Math.round(i.value.scrollLeft/((D=(x=l.value)==null?void 0:x.ratio)!=null?D:1));(U=a.value)==null||U.setOffset(ee)}if(T.value&&!e.disableVertical){const ee=Math.round(i.value.scrollTop/((Y=(te=u.value)==null?void 0:te.ratio)!=null?Y:1));(J=h.value)==null||J.setOffset(ee)}}o("scroll",F)},M=F=>{var x,D;i.value&&i.value.scrollTo({left:F*((D=(x=l.value)==null?void 0:x.ratio)!=null?D:1)})},B=F=>{var x,D;i.value&&i.value.scrollTo({top:F*((D=(x=u.value)==null?void 0:x.ratio)!=null?D:1)})},G=O(()=>{const F={};return e.type==="track"&&($.value&&(F.paddingBottom=`${h0}px`),T.value&&(F.paddingRight=`${h0}px`)),[F,e.outerStyle]}),j=O(()=>[`${n}`,`${n}-type-${e.type}`,{[`${n}-both`]:w.value},e.outerClass]);return{prefixCls:n,cls:j,style:G,containerRef:i,horizontalThumbRef:a,verticalThumbRef:h,horizontalData:l,verticalData:u,isBoth:w,hasHorizontalScrollbar:$,hasVerticalScrollbar:T,handleResize:R,handleScroll:L,handleHorizontalScroll:M,handleVerticalScroll:B}},methods:{scrollTo(e,o){var n,i;cn(e)?(n=this.$refs.containerRef)==null||n.scrollTo(e):(e||o)&&((i=this.$refs.containerRef)==null||i.scrollTo(e,o))},scrollTop(e){var o;(o=this.$refs.containerRef)==null||o.scrollTo({top:e})},scrollLeft(e){var o;(o=this.$refs.containerRef)==null||o.scrollTo({left:e})}}});function QD(e,o,n,i,l,u){const a=Pe("ResizeObserver"),h=Pe("thumb");return W(),fe("div",{class:Z(e.cls),style:yt(e.style)},[_(a,{onResize:e.handleResize},{default:Je(()=>[De("div",lt({ref:"containerRef",class:`${e.prefixCls}-container`},e.$attrs,{onScroll:o[0]||(o[0]=(...p)=>e.handleScroll&&e.handleScroll(...p))}),[_(a,{onResize:e.handleResize},{default:Je(()=>[Ue(e.$slots,"default")]),_:3},8,["onResize"])],16)]),_:3},8,["onResize"]),!e.hide&&e.hasHorizontalScrollbar?(W(),Ze(h,{key:0,ref:"horizontalThumbRef",data:e.horizontalData,direction:"horizontal",both:e.isBoth,onScroll:e.handleHorizontalScroll},null,8,["data","both","onScroll"])):We("v-if",!0),!e.hide&&e.hasVerticalScrollbar?(W(),Ze(h,{key:1,ref:"verticalThumbRef",data:e.verticalData,direction:"vertical",both:e.isBoth,onScroll:e.handleVerticalScroll},null,8,["data","both","onScroll"])):We("v-if",!0)],6)}var BT=ot(YD,[["render",QD]]);const Na=Object.assign(BT,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+BT.name,BT)}}),Wf=e=>{const o=ve(),n=()=>NA(o.value)?o.value.$refs[e]:o.value,i=ve();return fn(()=>{i.value=n()}),At([o],()=>{i.value=n()}),{componentRef:o,elementRef:i}};var qD=Object.defineProperty,G2=Object.getOwnPropertySymbols,ZD=Object.prototype.hasOwnProperty,JD=Object.prototype.propertyIsEnumerable,z2=(e,o,n)=>o in e?qD(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,e5=(e,o)=>{for(var n in o||(o={}))ZD.call(o,n)&&z2(e,n,o[n]);if(G2)for(var n of G2(o))JD.call(o,n)&&z2(e,n,o[n]);return e};const $1=e=>{const o=O(()=>!!e.value),n=O(()=>{if(e.value)return e5({type:"embed"},ks(e.value)?void 0:e.value)});return{displayScrollbar:o,scrollbarProps:n}},t5=Ae({name:"SelectDropdown",components:{ScrollbarComponent:Na,Empty:Uu,Spin:Dl},props:{loading:Boolean,empty:Boolean,virtualList:Boolean,bottomOffset:{type:Number,default:0},scrollbar:{type:[Boolean,Object],default:!0},onScroll:{type:[Function,Array]},onReachBottom:{type:[Function,Array]},showHeaderOnEmpty:{type:Boolean,default:!1},showFooterOnEmpty:{type:Boolean,default:!1}},emits:["scroll","reachBottom"],setup(e,{emit:o,slots:n}){var i,l,u;const{scrollbar:a}=mt(e),h=Ge("select-dropdown"),p=on(Gr,void 0),m=(u=(l=p==null?void 0:(i=p.slots).empty)==null?void 0:l.call(i,{component:"select"}))==null?void 0:u[0],{componentRef:$,elementRef:T}=Wf("containerRef"),{displayScrollbar:w,scrollbarProps:A}=$1(a),R=M=>{const{scrollTop:B,scrollHeight:G,offsetHeight:j}=M.target;G-(B+j)<=e.bottomOffset&&o("reachBottom",M),o("scroll",M)},L=O(()=>[h,{[`${h}-has-header`]:!!n.header,[`${h}-has-footer`]:!!n.footer}]);return{prefixCls:h,SelectEmpty:m,cls:L,wrapperRef:T,wrapperComRef:$,handleScroll:R,displayScrollbar:w,scrollbarProps:A}}});function n5(e,o,n,i,l,u){const a=Pe("spin");return W(),fe("div",{class:Z(e.cls)},[e.$slots.header&&(!e.empty||e.showHeaderOnEmpty)?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-header`)},[Ue(e.$slots,"header")],2)):We("v-if",!0),e.loading?(W(),Ze(a,{key:1,class:Z(`${e.prefixCls}-loading`)},null,8,["class"])):e.empty?(W(),fe("div",{key:2,class:Z(`${e.prefixCls}-empty`)},[Ue(e.$slots,"empty",{},()=>[(W(),Ze(ts(e.SelectEmpty?e.SelectEmpty:"Empty")))])],2)):We("v-if",!0),e.virtualList&&!e.loading&&!e.empty?Ue(e.$slots,"virtual-list",{key:3}):We("v-if",!0),e.virtualList?We("v-if",!0):Qs((W(),Ze(ts(e.displayScrollbar?"ScrollbarComponent":"div"),lt({key:4,ref:"wrapperComRef",class:`${e.prefixCls}-list-wrapper`},e.scrollbarProps,{onScroll:e.handleScroll}),{default:Je(()=>[De("ul",{class:Z(`${e.prefixCls}-list`)},[Ue(e.$slots,"default")],2)]),_:3},16,["class","onScroll"])),[[Zs,!e.loading&&!e.empty]]),e.$slots.footer&&(!e.empty||e.showFooterOnEmpty)?(W(),fe("div",{key:5,class:Z(`${e.prefixCls}-footer`)},[Ue(e.$slots,"footer")],2)):We("v-if",!0)],2)}var kI=ot(t5,[["render",n5]]),W2=Ae({name:"IconCheck",render(){return _("svg",{"aria-hidden":"true",focusable:"false",viewBox:"0 0 1024 1024",width:"200",height:"200",fill:"currentColor"},[_("path",{d:"M877.44815445 206.10060629a64.72691371 64.72691371 0 0 0-95.14856334 4.01306852L380.73381888 685.46812814 235.22771741 533.48933518a64.72691371 64.72691371 0 0 0-92.43003222-1.03563036l-45.82665557 45.82665443a64.72691371 64.72691371 0 0 0-0.90617629 90.61767965l239.61903446 250.10479331a64.72691371 64.72691371 0 0 0 71.19960405 15.14609778 64.33855261 64.33855261 0 0 0 35.08198741-21.23042702l36.24707186-42.71976334 40.5190474-40.77795556-3.36579926-3.49525333 411.40426297-486.74638962a64.72691371 64.72691371 0 0 0-3.88361443-87.64024149l-45.3088404-45.43829334z","p-id":"840"},null)])}});const QA=Symbol("ArcoCheckboxGroup");var w0=Ae({name:"Checkbox",components:{IconCheck:W2,IconHover:yo},props:{modelValue:{type:[Boolean,Array],default:void 0},defaultChecked:{type:Boolean,default:!1},value:{type:[String,Number,Boolean]},disabled:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},uninjectGroupContext:{type:Boolean,default:!1}},emits:{"update:modelValue":e=>!0,change:(e,o)=>!0},setup(e,{emit:o,slots:n}){const{disabled:i,modelValue:l}=mt(e),u=Ge("checkbox"),a=ve(),h=e.uninjectGroupContext?void 0:on(QA,void 0),p=(h==null?void 0:h.name)==="ArcoCheckboxGroup",{mergedDisabled:m,eventHandlers:$}=Eo({disabled:i}),T=ve(e.defaultChecked),w=O(()=>{var F;return p?h==null?void 0:h.computedValue:(F=e.modelValue)!=null?F:T.value}),A=O(()=>{var F;return nn(w.value)?w.value.includes((F=e.value)!=null?F:!0):w.value}),R=O(()=>(h==null?void 0:h.disabled)||(m==null?void 0:m.value)||!A.value&&(h==null?void 0:h.isMaxed)),L=F=>{F.stopPropagation()},M=F=>{var x,D,U,te;const{checked:Y}=F.target;let J=Y;if(nn(w.value)){const ee=new Set(w.value);Y?ee.add((x=e.value)!=null?x:!0):ee.delete((D=e.value)!=null?D:!0),J=Array.from(ee)}T.value=Y,p&&nn(J)?h==null||h.handleChange(J,F):(o("update:modelValue",J),o("change",J,F),(te=(U=$.value)==null?void 0:U.onChange)==null||te.call(U,F)),Un(()=>{a.value&&a.value.checked!==A.value&&(a.value.checked=A.value)})},B=O(()=>[u,{[`${u}-checked`]:A.value,[`${u}-indeterminate`]:e.indeterminate,[`${u}-disabled`]:R.value}]),G=F=>{var x,D;(D=(x=$.value)==null?void 0:x.onFocus)==null||D.call(x,F)},j=F=>{var x,D;(D=(x=$.value)==null?void 0:x.onBlur)==null||D.call(x,F)};return At(l,F=>{(Gt(F)||Di(F))&&(T.value=!1)}),At(w,F=>{var x;let D;nn(F)?D=F.includes((x=e.value)!=null?x:!0):D=F,T.value!==D&&(T.value=D),a.value&&a.value.checked!==D&&(a.value.checked=D)}),()=>{var F,x,D,U;return _("label",{"aria-disabled":R.value,class:B.value},[_("input",{ref:a,type:"checkbox",checked:A.value,value:e.value,class:`${u}-target`,disabled:R.value,onClick:L,onChange:M,onFocus:G,onBlur:j},null),(U=(D=(x=n.checkbox)!=null?x:(F=h==null?void 0:h.slots)==null?void 0:F.checkbox)==null?void 0:D({checked:A.value,disabled:R.value}))!=null?U:_(yo,{class:`${u}-icon-hover`,disabled:R.value||A.value},{default:()=>[_("div",{class:`${u}-icon`},[A.value&&_(W2,{class:`${u}-icon-check`},null)])]}),n.default&&_("span",{class:`${u}-label`},[n.default()])])}}}),N0=Ae({name:"CheckboxGroup",props:{modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:()=>[]},max:{type:Number},options:{type:Array},direction:{type:String,default:"horizontal"},disabled:{type:Boolean,default:!1}},emits:{"update:modelValue":e=>!0,change:(e,o)=>!0},setup(e,{emit:o,slots:n}){const{disabled:i}=mt(e),l=Ge("checkbox-group"),{mergedDisabled:u,eventHandlers:a}=Eo({disabled:i}),h=ve(e.defaultValue),p=O(()=>nn(e.modelValue)?e.modelValue:h.value),m=O(()=>e.max===void 0?!1:p.value.length>=e.max),$=O(()=>{var R;return((R=e.options)!=null?R:[]).map(L=>ir(L)||_t(L)?{label:L,value:L}:L)});Ln(QA,ft({name:"ArcoCheckboxGroup",computedValue:p,disabled:u,isMaxed:m,slots:n,handleChange:(R,L)=>{var M,B;h.value=R,o("update:modelValue",R),o("change",R,L),(B=(M=a.value)==null?void 0:M.onChange)==null||B.call(M,L)}}));const w=O(()=>[l,`${l}-direction-${e.direction}`]);At(()=>e.modelValue,R=>{nn(R)?h.value=[...R]:h.value=[]});const A=()=>$.value.map(R=>{const L=p.value.includes(R.value);return _(w0,{key:R.value,value:R.value,disabled:R.disabled||!L&&m.value,indeterminate:R.indeterminate,modelValue:L},{default:()=>[n.label?n.label({data:R}):Ut(R.label)?R.label():R.label]})});return()=>{var R;return _("span",{class:w.value},[$.value.length>0?A():(R=n.default)==null?void 0:R.call(n)])}}});const Ml=Object.assign(w0,{Group:N0,install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+w0.name,w0),e.component(n+N0.name,N0)}}),qA=Symbol("ArcoSelectContext");var o5=Object.defineProperty,r5=Object.defineProperties,i5=Object.getOwnPropertyDescriptors,j2=Object.getOwnPropertySymbols,s5=Object.prototype.hasOwnProperty,l5=Object.prototype.propertyIsEnumerable,X2=(e,o,n)=>o in e?o5(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,wI=(e,o)=>{for(var n in o||(o={}))s5.call(o,n)&&X2(e,n,o[n]);if(j2)for(var n of j2(o))l5.call(o,n)&&X2(e,n,o[n]);return e},ZA=(e,o)=>r5(e,i5(o));const a5=e=>cn(e)&&"isGroup"in e,JA=e=>cn(e)&&"isGroup"in e,u5=(e,o="value")=>String(cn(e)?e[o]:e),Uh=(e,o="value")=>cn(e)?`__arco__option__object__${e[o]}`:e||_t(e)||ir(e)?`__arco__option__${typeof e}-${e}`:"",c5=e=>e.has("__arco__option__string-"),d5=(e,{valueKey:o,fieldNames:n,origin:i,index:l=-1})=>{var u;if(cn(e)){const h=e[n.value];return{raw:e,index:l,key:Uh(h,o),origin:i,value:h,label:(u=e[n.label])!=null?u:u5(h,o),render:e[n.render],disabled:!!e[n.disabled],tagProps:e[n.tagProps]}}const a={value:e,label:String(e),disabled:!1};return wI({raw:a,index:l,key:Uh(e,o),origin:i},a)},EC=(e,{valueKey:o,fieldNames:n,origin:i,optionInfoMap:l})=>{var u;const a=[];for(const h of e)if(a5(h)){const p=EC((u=h.options)!=null?u:[],{valueKey:o,fieldNames:n,origin:i,optionInfoMap:l});p.length>0&&a.push(ZA(wI({},h),{key:`__arco__group__${h.label}`,options:p}))}else{const p=d5(h,{valueKey:o,fieldNames:n,origin:i});a.push(p),l.get(p.key)||l.set(p.key,p)}return a},K2=(e,{inputValue:o,filterOption:n})=>{const i=l=>{var u;const a=[];for(const h of l)if(JA(h)){const p=i((u=h.options)!=null?u:[]);p.length>0&&a.push(ZA(wI({},h),{options:p}))}else v1(h,{inputValue:o,filterOption:n})&&a.push(h);return a};return i(e)},v1=(e,{inputValue:o,filterOption:n})=>Ut(n)?!o||n(o,e.raw):n?e.label.toLowerCase().includes((o??"").toLowerCase()):!0,h5=(e,o)=>{if(!e||!o||e.length!==o.length)return!1;for(const n of Object.keys(e))if(!mg(e[n],o[n]))return!1;return!0},p5=(e,o)=>{if(!e||!o)return!1;const{length:n}=e;if(n!==o.length)return!1;for(let i=0;i<n;i++)if(!mg(e[i],o[i]))return!1;return!0},mg=(e,o)=>{const n=Object.prototype.toString.call(e);return n!==Object.prototype.toString.call(o)?!1:n==="[object Object]"?h5(e,o):n==="[object Array]"?p5(e,o):n==="[object Function]"?e===o?!0:e.toString()===o.toString():e===o},f5=Ae({name:"Option",components:{Checkbox:Ml},props:{value:[String,Number,Object],label:String,disabled:Boolean,tagProps:{type:Object},extra:{type:Object},index:{type:Number},internal:Boolean},setup(e){const{disabled:o,tagProps:n,index:i}=mt(e),l=Ge("select-option"),u=on(qA,void 0),a=vi(),h=ve(),p=ve(n.value);At(n,(D,U)=>{mg(D,U)||(p.value=D)});const m=ve(""),$=O(()=>{var D,U;return(U=(D=e.value)!=null?D:e.label)!=null?U:m.value}),T=O(()=>{var D;return(D=e.label)!=null?D:m.value}),w=O(()=>Uh($.value,u==null?void 0:u.valueKey)),A=O(()=>{var D;return(D=u==null?void 0:u.component)!=null?D:"li"}),R=()=>{var D;if(!e.label&&h.value){const U=(D=h.value.textContent)!=null?D:"";m.value!==U&&(m.value=U)}};fn(()=>R()),$i(()=>R());const L=O(()=>{var D;return(D=u==null?void 0:u.valueKeys.includes(w.value))!=null?D:!1}),M=O(()=>(u==null?void 0:u.activeKey)===w.value);let B=ve(!0);if(!e.internal){const D=ft({raw:{value:$,label:T,disabled:o,tagProps:p},ref:h,index:i,key:w,origin:"slot",value:$,label:T,disabled:o,tagProps:p});B=O(()=>v1(D,{inputValue:u==null?void 0:u.inputValue,filterOption:u==null?void 0:u.filterOption})),a&&(u==null||u.addSlotOptionInfo(a.uid,D)),wr(()=>{a&&(u==null||u.removeSlotOptionInfo(a.uid))})}const G=D=>{e.disabled||u==null||u.onSelect(w.value,D)},j=()=>{e.disabled||u==null||u.setActiveKey(w.value)},F=()=>{e.disabled||u==null||u.setActiveKey()},x=O(()=>[l,{[`${l}-disabled`]:e.disabled,[`${l}-active`]:M.value,[`${l}-multiple`]:u==null?void 0:u.multiple}]);return{prefixCls:l,cls:x,selectCtx:u,itemRef:h,component:A,isSelected:L,isValid:B,handleClick:G,handleMouseEnter:j,handleMouseLeave:F}}});function g5(e,o,n,i,l,u){const a=Pe("checkbox");return Qs((W(),Ze(ts(e.component),{ref:"itemRef",class:Z([e.cls,{[`${e.prefixCls}-has-suffix`]:!!e.$slots.suffix}]),onClick:e.handleClick,onMouseenter:e.handleMouseEnter,onMouseleave:e.handleMouseLeave},{default:Je(()=>[e.$slots.icon?(W(),fe("span",{key:0,class:Z(`${e.prefixCls}-icon`)},[Ue(e.$slots,"icon")],2)):We("v-if",!0),e.selectCtx&&e.selectCtx.multiple?(W(),Ze(a,{key:1,class:Z(`${e.prefixCls}-checkbox`),"model-value":e.isSelected,disabled:e.disabled,"uninject-group-context":""},{default:Je(()=>[Ue(e.$slots,"default",{},()=>[Dt(Mt(e.label),1)])]),_:3},8,["class","model-value","disabled"])):(W(),fe("span",{key:2,class:Z(`${e.prefixCls}-content`)},[Ue(e.$slots,"default",{},()=>[Dt(Mt(e.label),1)])],2)),e.$slots.suffix?(W(),fe("span",{key:3,class:Z(`${e.prefixCls}-suffix`)},[Ue(e.$slots,"suffix")],2)):We("v-if",!0)]),_:3},8,["class","onClick","onMouseenter","onMouseleave"])),[[Zs,e.isValid]])}var Lh=ot(f5,[["render",g5]]),m5=Object.defineProperty,$5=Object.defineProperties,v5=Object.getOwnPropertyDescriptors,Y2=Object.getOwnPropertySymbols,_5=Object.prototype.hasOwnProperty,b5=Object.prototype.propertyIsEnumerable,Q2=(e,o,n)=>o in e?m5(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,FT=(e,o)=>{for(var n in o||(o={}))_5.call(o,n)&&Q2(e,n,o[n]);if(Y2)for(var n of Y2(o))b5.call(o,n)&&Q2(e,n,o[n]);return e},T5=(e,o)=>$5(e,v5(o));const y5={value:"value",label:"label",disabled:"disabled",tagProps:"tagProps",render:"render"},E5=({options:e,extraOptions:o,inputValue:n,filterOption:i,showExtraOptions:l,valueKey:u,fieldNames:a})=>{const h=O(()=>FT(FT({},y5),a==null?void 0:a.value)),p=ft(new Map),m=O(()=>Array.from(p.values()).sort((j,F)=>_t(j.index)&&_t(F.index)?j.index-F.index:0)),$=O(()=>{var j,F;const x=new Map;return{optionInfos:EC((j=e==null?void 0:e.value)!=null?j:[],{valueKey:(F=u==null?void 0:u.value)!=null?F:"value",fieldNames:h.value,origin:"options",optionInfoMap:x}),optionInfoMap:x}}),T=O(()=>{var j,F;const x=new Map;return{optionInfos:EC((j=o==null?void 0:o.value)!=null?j:[],{valueKey:(F=u==null?void 0:u.value)!=null?F:"value",fieldNames:h.value,origin:"extraOptions",optionInfoMap:x}),optionInfoMap:x}}),w=ft(new Map);At([m,e??ve([]),o??ve([]),u??ve("value")],()=>{w.clear(),m.value.forEach((j,F)=>{w.set(j.key,T5(FT({},j),{index:F}))}),$.value.optionInfoMap.forEach(j=>{w.has(j.key)||(j.index=w.size,w.set(j.key,j))}),T.value.optionInfoMap.forEach(j=>{w.has(j.key)||(j.index=w.size,w.set(j.key,j))})},{immediate:!0,deep:!0});const A=O(()=>{var j;const F=K2($.value.optionInfos,{inputValue:n==null?void 0:n.value,filterOption:i==null?void 0:i.value});return((j=l==null?void 0:l.value)==null||j)&&F.push(...K2(T.value.optionInfos,{inputValue:n==null?void 0:n.value,filterOption:i==null?void 0:i.value})),F}),R=O(()=>Array.from(w.values()).filter(j=>j.origin==="extraOptions"&&(l==null?void 0:l.value)===!1?!1:v1(j,{inputValue:n==null?void 0:n.value,filterOption:i==null?void 0:i.value}))),L=O(()=>R.value.filter(j=>!j.disabled).map(j=>j.key));return{validOptions:A,optionInfoMap:w,validOptionInfos:R,enabledOptionKeys:L,getNextSlotOptionIndex:()=>p.size,addSlotOptionInfo:(j,F)=>{p.set(j,F)},removeSlotOptionInfo:j=>{p.delete(j)}}},_r={ENTER:"Enter",ESC:"Escape",BACKSPACE:"Backspace",TAB:"Tab",SPACE:" ",ARROW_UP:"ArrowUp",ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight"},q2=e=>JSON.stringify({key:e.key,ctrl:!!e.ctrl,shift:!!e.shift,alt:!!e.alt,meta:!!e.meta}),_1=e=>{const o={};return e.forEach((n,i)=>{const l=ir(i)?{key:i}:i;o[q2(l)]=n}),n=>{const i=q2({key:n.key,ctrl:n.ctrlKey,shift:n.shiftKey,alt:n.altKey,meta:n.metaKey}),l=o[i];l&&(n.stopPropagation(),l(n))}},NI=({multiple:e,options:o,extraOptions:n,inputValue:i,filterOption:l,showExtraOptions:u,component:a,valueKey:h,fieldNames:p,loading:m,popupVisible:$,valueKeys:T,dropdownRef:w,optionRefs:A,virtualListRef:R,onSelect:L,onPopupVisibleChange:M,enterToOpen:B=!0,defaultActiveFirstOption:G})=>{const{validOptions:j,optionInfoMap:F,validOptionInfos:x,enabledOptionKeys:D,getNextSlotOptionIndex:U,addSlotOptionInfo:te,removeSlotOptionInfo:Y}=E5({options:o,extraOptions:n,inputValue:i,filterOption:l,showExtraOptions:u,valueKey:h,fieldNames:p}),J=ve();At(D,K=>{(!J.value||!K.includes(J.value))&&(J.value=K[0])});const ee=K=>{J.value=K},ue=K=>{const q=D.value.length;if(q===0)return;if(!J.value)return K==="down"?D.value[0]:D.value[q-1];const z=D.value.indexOf(J.value),ne=(q+z+(K==="up"?-1:1))%q;return D.value[ne]},oe=K=>{var q,z;R!=null&&R.value&&R.value.scrollTo({key:K});const ne=F.get(K),ge=(q=w==null?void 0:w.value)==null?void 0:q.wrapperRef,Q=(z=A==null?void 0:A.value[K])!=null?z:ne==null?void 0:ne.ref;if(!ge||!Q||ge.scrollHeight===ge.offsetHeight)return;const Oe=pP(Q,ge),Re=ge.scrollTop;Oe.top<0?ge.scrollTo(0,Re+Oe.top):Oe.bottom<0&&ge.scrollTo(0,Re-Oe.bottom)};At($,K=>{var q;if(K){const z=T.value[T.value.length-1];let ne=(q=G==null?void 0:G.value)==null||q?D.value[0]:void 0;D.value.includes(z)&&(ne=z),ne!==J.value&&(J.value=ne),Un(()=>{J.value&&oe(J.value)})}});const X=_1(new Map([[_r.ENTER,K=>{!(m!=null&&m.value)&&!K.isComposing&&($.value?J.value&&(L(J.value,K),K.preventDefault()):B&&(M(!0),K.preventDefault()))}],[_r.ESC,K=>{$.value&&(M(!1),K.preventDefault())}],[_r.ARROW_DOWN,K=>{if($.value){const q=ue("down");q&&(J.value=q,oe(q)),K.preventDefault()}}],[_r.ARROW_UP,K=>{if($.value){const q=ue("up");q&&(J.value=q,oe(q)),K.preventDefault()}}]]));return Ln(qA,ft({multiple:e,valueKey:h,inputValue:i,filterOption:l,component:a,valueKeys:T,activeKey:J,setActiveKey:ee,onSelect:L,getNextSlotOptionIndex:U,addSlotOptionInfo:te,removeSlotOptionInfo:Y})),{validOptions:j,optionInfoMap:F,validOptionInfos:x,enabledOptionKeys:D,activeKey:J,setActiveKey:ee,addSlotOptionInfo:te,removeSlotOptionInfo:Y,getNextActiveKey:ue,scrollIntoView:oe,handleKeyDown:X}};var VT=Ae({name:"AutoComplete",inheritAttrs:!1,props:{modelValue:{type:String,default:void 0},defaultValue:{type:String,default:""},disabled:{type:Boolean,default:!1},data:{type:Array,default:()=>[]},popupContainer:{type:[String,Object]},strict:{type:Boolean,default:!1},filterOption:{type:[Boolean,Function],default:!0},triggerProps:{type:Object},allowClear:{type:Boolean,default:!1}},emits:{"update:modelValue":e=>!0,change:e=>!0,search:e=>!0,select:e=>!0,clear:e=>!0},setup(e,{emit:o,attrs:n,slots:i}){const{modelValue:l}=mt(e),u=Ge("auto-complete"),{mergedDisabled:a,eventHandlers:h}=Eo({disabled:Os(e,"disabled")}),p=ve(e.defaultValue),m=ve(),$=O(()=>{var q;return(q=e.modelValue)!=null?q:p.value});At(l,q=>{(Gt(q)||Di(q))&&(p.value="")});const T=O(()=>$.value?[Uh($.value)]:[]),{data:w}=mt(e),A=ve(),R=ve({}),L=ve(!1),M=O(()=>L.value&&J.value.length>0),B=q=>{L.value=q},G=(q,z)=>{var ne;return!!((ne=z.label)!=null&&ne.includes(q))},j=O(()=>Ut(e.filterOption)?e.filterOption:e.filterOption&&e.strict?G:e.filterOption),F=q=>{var z,ne;p.value=q,o("update:modelValue",q),o("change",q),(ne=(z=h.value)==null?void 0:z.onChange)==null||ne.call(z)},x=q=>{var z,ne;p.value="",o("update:modelValue",""),o("change",""),(ne=(z=h.value)==null?void 0:z.onChange)==null||ne.call(z),o("clear",q)},D=(q,z)=>{var ne,ge;const Q=(ne=Y.get(q))==null?void 0:ne.value;o("select",Q),F(Q),(ge=m.value)==null||ge.blur()},U=q=>{o("search",q),F(q)},{validOptions:te,optionInfoMap:Y,validOptionInfos:J,handleKeyDown:ee}=NI({options:w,inputValue:$,filterOption:j,popupVisible:M,valueKeys:T,dropdownRef:A,optionRefs:R,onSelect:D,onPopupVisibleChange:B}),ue=q=>{if(Ut(i.option)&&q.value){const z=Y.get(q.key),ne=i.option;return()=>ne({data:z})}return()=>q.label},oe=q=>_(Lh,{ref:z=>{z!=null&&z.$el&&(R.value[q.key]=z.$el)},key:q.key,value:q.value,disabled:q.disabled,internal:!0},{default:ue(q)}),X=()=>_(kI,{ref:A,class:`${u}-dropdown`},{default:()=>[te.value.map(q=>oe(q))],footer:i.footer});return{inputRef:m,render:()=>_(Or,lt({trigger:"focus",position:"bl",animationName:"slide-dynamic-origin",autoFitTransformOrigin:!0,popupVisible:M.value,clickToClose:!1,preventFocus:!0,popupOffset:4,disabled:a.value,autoFitPopupWidth:!0},e.triggerProps,{onPopupVisibleChange:B}),{default:()=>[_(Xh,lt({ref:m},n,{allowClear:e.allowClear,modelValue:$.value,disabled:a.value,onInput:U,onClear:x,onKeydown:ee}),i)],content:X})}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}});const C5=Object.assign(VT,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+VT.name,VT)}}),b1=({itemRef:e,selector:o,index:n,parentClassName:i})=>{const l=ve(-1),u=O(()=>{var m;return(m=n==null?void 0:n.value)!=null?m:l.value}),a=ve(),h=()=>{var m,$,T;let w=($=(m=e.value)==null?void 0:m.parentElement)!=null?$:void 0;if(i)for(;w&&!w.className.includes(i);)w=(T=w.parentElement)!=null?T:void 0;return w},p=()=>{if(Gt(n==null?void 0:n.value)&&a.value&&e.value){const m=Array.from(a.value.querySelectorAll(o)).indexOf(e.value);m!==l.value&&(l.value=m)}};return At(e,()=>{e.value&&!a.value&&(a.value=h())}),fn(()=>{e.value&&(a.value=h()),p()}),$i(()=>p()),{computedIndex:u}},eR=Symbol("ArcoAvatarGroup"),I5=Ae({name:"IconImageClose",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-image-close`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),S5=["stroke-width","stroke-linecap","stroke-linejoin"],O5=pg('<path d="M41 26V9a2 2 0 0 0-2-2H9a2 2 0 0 0-2 2v30a2 2 0 0 0 2 2h17"></path><path d="m24 33 9-8.5V27s-2 1-3.5 2.5C27.841 31.159 27 33 27 33h-3Zm0 0-3.5-4.5L17 33h7Z"></path><path d="M20.5 28.5 17 33h7l-3.5-4.5ZM33 24.5 24 33h3s.841-1.841 2.5-3.5C31 28 33 27 33 27v-2.5Z" fill="currentColor" stroke="none"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M46 38a8 8 0 1 1-16 0 8 8 0 0 1 16 0Zm-4.95-4.782 1.74 1.74-3.045 3.046 3.046 3.046-1.74 1.74-3.047-3.045-3.046 3.046-1.74-1.74 3.046-3.047-3.046-3.046 1.74-1.74 3.046 3.046 3.046-3.046Z" fill="currentColor" stroke="none"></path><path d="M17 15h-2v2h2v-2Z"></path>',5),k5=[O5];function w5(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},k5,14,S5)}var UT=ot(I5,[["render",w5]]);const AI=Object.assign(UT,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+UT.name,UT)}});var N5=Object.defineProperty,Z2=Object.getOwnPropertySymbols,A5=Object.prototype.hasOwnProperty,R5=Object.prototype.propertyIsEnumerable,J2=(e,o,n)=>o in e?N5(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,eO=(e,o)=>{for(var n in o||(o={}))A5.call(o,n)&&J2(e,n,o[n]);if(Z2)for(var n of Z2(o))R5.call(o,n)&&J2(e,n,o[n]);return e};const L5=Ae({name:"Avatar",components:{ResizeObserver:od,IconImageClose:AI,IconLoading:gi},props:{shape:{type:String,default:"circle"},imageUrl:String,size:Number,autoFixFontSize:{type:Boolean,default:!0},triggerType:{type:String,default:"button"},triggerIconStyle:{type:Object}},emits:{click:e=>!0,error:()=>!0,load:()=>!0},setup(e,{slots:o,emit:n,attrs:i}){const{shape:l,size:u,autoFixFontSize:a,triggerType:h,triggerIconStyle:p}=mt(e),m=Ge("avatar"),$=on(eR,void 0),T=ve(),w=ve(),A=O(()=>{var X;return(X=$==null?void 0:$.shape)!=null?X:l.value}),R=O(()=>{var X;return(X=$==null?void 0:$.size)!=null?X:u.value}),L=O(()=>{var X;return(X=$==null?void 0:$.autoFixFontSize)!=null?X:a.value}),M=ve(!1),B=ve(!1),G=ve(!0),j=ve(!1),F=$?b1({itemRef:T,selector:`.${m}`}).computedIndex:ve(-1),x=O(()=>{var X;const K=_t(R.value)?{width:`${R.value}px`,height:`${R.value}px`,fontSize:`${R.value/2}px`}:{};return $&&(K.zIndex=$.zIndexAscend?F.value+1:$.total-F.value,K.marginLeft=F.value!==0?`-${((X=R.value)!=null?X:40)/4}px`:"0"),K}),D=M5({triggerIconStyle:p==null?void 0:p.value,inlineStyle:i.style,triggerType:h.value}),U=()=>{!M.value&&!e.imageUrl&&Un(()=>{var X;if(!w.value||!T.value)return;const K=w.value.clientWidth,q=(X=R.value)!=null?X:T.value.offsetWidth,z=q/(K+8);q&&z<1&&(w.value.style.transform=`scale(${z}) translateX(-50%)`),G.value=!0})};fn(()=>{var X;(X=w.value)!=null&&X.firstElementChild&&["IMG","PICTURE"].includes(w.value.firstElementChild.tagName)&&(M.value=!0),L.value&&U()}),At(u,()=>{L.value&&U()});const te=O(()=>[m,`${m}-${A.value}`]),Y=O(()=>M.value||e.imageUrl?`${m}-image`:`${m}-text`);return{prefixCls:m,itemRef:T,cls:te,outerStyle:x,wrapperRef:w,wrapperCls:Y,computedTriggerIconStyle:D,isImage:M,shouldLoad:G,isLoaded:j,hasError:B,onClick:X=>{n("click",X)},handleResize:()=>{L.value&&U()},handleImgLoad:()=>{j.value=!0,n("load")},handleImgError:()=>{B.value=!0,n("error")}}}}),M5=({triggerType:e,inlineStyle:o={},triggerIconStyle:n={}})=>{let i={};return e==="button"&&(!n||n&&!n.color)&&o&&o.backgroundColor&&(i={color:o.backgroundColor}),eO(eO({},n),i)},P5=["src"];function D5(e,o,n,i,l,u){const a=Pe("IconImageClose"),h=Pe("IconLoading"),p=Pe("resize-observer");return W(),fe("div",{ref:"itemRef",style:yt(e.outerStyle),class:Z([e.cls,{[`${e.prefixCls}-with-trigger-icon`]:!!e.$slots["trigger-icon"]}]),onClick:o[2]||(o[2]=(...m)=>e.onClick&&e.onClick(...m))},[_(p,{onResize:e.handleResize},{default:Je(()=>[De("span",{ref:"wrapperRef",class:Z(e.wrapperCls)},[e.imageUrl?(W(),fe(Lt,{key:0},[e.hasError?Ue(e.$slots,"error",{key:0},()=>[De("div",{class:Z(`${e.prefixCls}-image-icon`)},[_(a)],2)]):We("v-if",!0),!(e.hasError||!e.shouldLoad)&&!e.isLoaded?Ue(e.$slots,"default",{key:1},()=>[De("div",{class:Z(`${e.prefixCls}-image-icon`)},[_(h)],2)]):We("v-if",!0),e.hasError||!e.shouldLoad?We("v-if",!0):(W(),fe("img",{key:2,src:e.imageUrl,style:yt({width:e.size+"px",height:e.size+"px"}),alt:"avatar",onLoad:o[0]||(o[0]=(...m)=>e.handleImgLoad&&e.handleImgLoad(...m)),onError:o[1]||(o[1]=(...m)=>e.handleImgError&&e.handleImgError(...m))},null,44,P5))],64)):Ue(e.$slots,"default",{key:1})],2)]),_:3},8,["onResize"]),e.$slots["trigger-icon"]?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-trigger-icon-${e.triggerType}`),style:yt(e.computedTriggerIconStyle)},[Ue(e.$slots,"trigger-icon")],6)):We("v-if",!0)],6)}var A0=ot(L5,[["render",D5]]);const x5=Ae({name:"Popover",components:{Trigger:Or},props:{popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},title:String,content:String,trigger:{type:[String,Array],default:"hover"},position:{type:String,default:"top"},contentClass:{type:[String,Array,Object]},contentStyle:{type:Object},arrowClass:{type:[String,Array,Object]},arrowStyle:{type:Object},popupContainer:{type:[String,Object]}},emits:{"update:popupVisible":e=>!0,popupVisibleChange:e=>!0},setup(e,{emit:o}){const n=Ge("popover"),i=ve(e.defaultPopupVisible),l=O(()=>{var p;return(p=e.popupVisible)!=null?p:i.value}),u=p=>{i.value=p,o("update:popupVisible",p),o("popupVisibleChange",p)},a=O(()=>[`${n}-popup-content`,e.contentClass]),h=O(()=>[`${n}-popup-arrow`,e.arrowClass]);return{prefixCls:n,computedPopupVisible:l,contentCls:a,arrowCls:h,handlePopupVisibleChange:u}}});function B5(e,o,n,i,l,u){const a=Pe("trigger");return W(),Ze(a,{class:Z(e.prefixCls),trigger:e.trigger,position:e.position,"popup-visible":e.computedPopupVisible,"popup-offset":10,"content-class":e.contentCls,"content-style":e.contentStyle,"arrow-class":e.arrowCls,"arrow-style":e.arrowStyle,"show-arrow":"","popup-container":e.popupContainer,"animation-name":"zoom-in-fade-out","auto-fit-transform-origin":"",onPopupVisibleChange:e.handlePopupVisibleChange},{content:Je(()=>[De("div",{class:Z(`${e.prefixCls}-title`)},[Ue(e.$slots,"title",{},()=>[Dt(Mt(e.title),1)])],2),De("div",{class:Z(`${e.prefixCls}-content`)},[Ue(e.$slots,"content",{},()=>[Dt(Mt(e.content),1)])],2)]),default:Je(()=>[Ue(e.$slots,"default")]),_:3},8,["class","trigger","position","popup-visible","content-class","content-style","arrow-class","arrow-style","popup-container","onPopupVisibleChange"])}var HT=ot(x5,[["render",B5]]);const RI=Object.assign(HT,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+HT.name,HT)}}),R0=Ae({name:"AvatarGroup",props:{shape:{type:String,default:"circle"},size:Number,autoFixFontSize:{type:Boolean,default:!0},maxCount:{type:Number,default:0},zIndexAscend:{type:Boolean,default:!1},maxStyle:{type:Object},maxPopoverTriggerProps:{type:Object}},setup(e,{slots:o}){const{shape:n,size:i,autoFixFontSize:l,zIndexAscend:u}=mt(e),a=Ge("avatar-group"),h=ve(0);return Ln(eR,ft({shape:n,size:i,autoFixFontSize:l,zIndexAscend:u,total:h})),()=>{var p,m;const $=Oa((m=(p=o.default)==null?void 0:p.call(o))!=null?m:[]),T=e.maxCount>0?$.slice(0,e.maxCount):$,w=e.maxCount>0?$.slice(e.maxCount):[];return h.value!==T.length&&(h.value=T.length),_("div",{class:a},[T,w.length>0&&_(RI,e.maxPopoverTriggerProps,{default:()=>[_(A0,{class:`${a}-max-count-avatar`,style:e.maxStyle},{default:()=>[Dt("+"),w.length]})],content:()=>_("div",null,[w])})])}}}),F5=Object.assign(A0,{Group:R0,install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+A0.name,A0),e.component(n+R0.name,R0)}}),V5=Ae({name:"IconToTop",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-to-top`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),U5=["stroke-width","stroke-linecap","stroke-linejoin"],H5=De("path",{d:"M43 7H5M24 20v23M24 13.96 30.453 21H17.546L24 13.96Zm.736-.804Z"},null,-1),G5=De("path",{d:"m24 14-6 7h12l-6-7Z",fill:"currentColor",stroke:"none"},null,-1),z5=[H5,G5];function W5(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},z5,14,U5)}var GT=ot(V5,[["render",W5]]);const j5=Object.assign(GT,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+GT.name,GT)}}),X5=Ae({name:"BackTop",components:{IconToTop:j5},props:{visibleHeight:{type:Number,default:200},targetContainer:{type:[String,Object]},easing:{type:String,default:"quartOut"},duration:{type:Number,default:200}},setup(e){const o=Ge("back-top"),n=ve(!1),i=ve(),l=!e.targetContainer,u=ig(()=>{if(i.value){const{visibleHeight:p}=e,{scrollTop:m}=i.value;n.value=m>=p}}),a=p=>ir(p)?document.querySelector(p):p;return fn(()=>{i.value=l?document==null?void 0:document.documentElement:a(e.targetContainer),i.value&&(Jn(l?window:i.value,"scroll",u),u())}),Ir(()=>{u.cancel(),i.value&&$o(l?window:i.value,"scroll",u)}),{prefixCls:o,visible:n,scrollToTop:()=>{if(i.value){const{scrollTop:p}=i.value;new jh({from:{scrollTop:p},to:{scrollTop:0},easing:e.easing,duration:e.duration,onUpdate:$=>{i.value&&(i.value.scrollTop=$.scrollTop)}}).start()}}}}});function K5(e,o,n,i,l,u){const a=Pe("icon-to-top");return W(),Ze(Hr,{name:"fade-in"},{default:Je(()=>[e.visible?(W(),fe("div",{key:0,class:Z(e.prefixCls),onClick:o[0]||(o[0]=(...h)=>e.scrollToTop&&e.scrollToTop(...h))},[Ue(e.$slots,"default",{},()=>[De("button",{class:Z(`${e.prefixCls}-btn`)},[_(a)],2)])],2)):We("v-if",!0)]),_:3})}var zT=ot(X5,[["render",K5]]);const Y5=Object.assign(zT,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+zT.name,zT)}});var Q5=Object.defineProperty,tO=Object.getOwnPropertySymbols,q5=Object.prototype.hasOwnProperty,Z5=Object.prototype.propertyIsEnumerable,nO=(e,o,n)=>o in e?Q5(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,WT=(e,o)=>{for(var n in o||(o={}))q5.call(o,n)&&nO(e,n,o[n]);if(tO)for(var n of tO(o))Z5.call(o,n)&&nO(e,n,o[n]);return e};const J5=["red","orangered","orange","gold","lime","green","cyan","arcoblue","purple","pinkpurple","magenta","gray"],ex=["normal","processing","success","warning","danger"];var jT=Ae({name:"Badge",props:{text:{type:String},dot:{type:Boolean},dotStyle:{type:Object},maxCount:{type:Number,default:99},offset:{type:Array,default:()=>[]},color:{type:String},status:{type:String,validator:e=>ex.includes(e)},count:{type:Number}},setup(e,{slots:o}){const{status:n,color:i,dotStyle:l,offset:u,text:a,dot:h,maxCount:p,count:m}=mt(e),$=Ge("badge"),T=tx($,n==null?void 0:n.value,o==null?void 0:o.default),w=O(()=>{const R=WT({},(l==null?void 0:l.value)||{}),[L,M]=(u==null?void 0:u.value)||[];L&&(R.marginRight=`${-L}px`),M&&(R.marginTop=`${M}px`);const B=!(i!=null&&i.value)||J5.includes(i==null?void 0:i.value)?{}:{backgroundColor:i.value};return{mergedStyle:WT(WT({},B),R),computedDotStyle:R,computedColorStyle:B}}),A=()=>{const R=a==null?void 0:a.value,L=i==null?void 0:i.value,M=n==null?void 0:n.value,B=h==null?void 0:h.value,G=Number(m==null?void 0:m.value),j=(m==null?void 0:m.value)!=null,{computedDotStyle:F,mergedStyle:x}=w.value;return o.content?_("span",{class:`${$}-custom-dot`,style:F},[o.content()]):R&&!L&&!M?_("span",{class:`${$}-text`,style:F},[R]):M||L&&!j?_("span",{class:`${$}-status-wrapper`},[_("span",{class:[`${$}-status-dot`,{[`${$}-status-${M}`]:M,[`${$}-color-${L}`]:L}],style:x},null),R&&_("span",{class:`${$}-status-text`},[R])]):(B||L)&&G>0?_("span",{class:[`${$}-dot`,{[`${$}-color-${L}`]:L}],style:x},null):G===0?null:_("span",{class:`${$}-number`,style:x},[_("span",null,[p.value&&G>p.value?`${p.value}+`:G])])};return()=>_("span",{class:T.value},[o.default&&o.default(),A()])}});const tx=(e,o,n)=>O(()=>[e,{[`${e}-status`]:o,[`${e}-no-children`]:!n}]),nx=Object.assign(jT,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+jT.name,jT)}}),tR=Symbol("ArcoBreadcrumb"),ox=Ae({name:"IconMore",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-more`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),rx=["stroke-width","stroke-linecap","stroke-linejoin"],ix=De("path",{d:"M38 25v-2h2v2h-2ZM23 25v-2h2v2h-2ZM8 25v-2h2v2H8Z",fill:"currentColor",stroke:"none"},null,-1),sx=De("path",{d:"M38 25v-2h2v2h-2ZM23 25v-2h2v2h-2ZM8 25v-2h2v2H8Z"},null,-1),lx=[ix,sx];function ax(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},lx,14,rx)}var XT=ot(ox,[["render",ax]]);const LI=Object.assign(XT,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+XT.name,XT)}}),ux=Ae({name:"IconDown",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-down`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),cx=["stroke-width","stroke-linecap","stroke-linejoin"],dx=De("path",{d:"M39.6 17.443 24.043 33 8.487 17.443"},null,-1),hx=[dx];function px(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},hx,14,cx)}var KT=ot(ux,[["render",px]]);const $g=Object.assign(KT,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+KT.name,KT)}}),fx=Ae({name:"IconObliqueLine",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-oblique-line`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),gx=["stroke-width","stroke-linecap","stroke-linejoin"],mx=De("path",{d:"M29.506 6.502 18.493 41.498"},null,-1),$x=[mx];function vx(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},$x,14,gx)}var YT=ot(fx,[["render",vx]]);const _x=Object.assign(YT,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+YT.name,YT)}}),MI=Symbol("ArcoDropdown"),bx=Ae({name:"DropdownPanel",components:{Scrollbar:Na,Empty:Uu},props:{loading:{type:Boolean,default:!1},isEmpty:{type:Boolean,default:!1},bottomOffset:{type:Number,default:0},onScroll:{type:[Function,Array]},onReachBottom:{type:[Function,Array]}},emits:["scroll","reachBottom"],setup(e,{emit:o,slots:n}){const i=Ge("dropdown"),l=on(MI,{}),u=ve(),a=m=>{const{scrollTop:$,scrollHeight:T,offsetHeight:w}=m.target;T-($+w)<=e.bottomOffset&&o("reachBottom",m),o("scroll",m)},h=O(()=>{if(_t(l.popupMaxHeight))return{maxHeight:`${l.popupMaxHeight}px`};if(!l.popupMaxHeight)return{maxHeight:"none",overflowY:"hidden"}}),p=O(()=>[i,{[`${i}-has-footer`]:!!n.footer}]);return{prefixCls:i,cls:p,style:h,wrapperRef:u,handleScroll:a}}});function Tx(e,o,n,i,l,u){const a=Pe("empty"),h=Pe("Scrollbar");return W(),fe("div",{class:Z(e.cls)},[e.isEmpty?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-empty`)},[Ue(e.$slots,"empty",{},()=>[_(a)])],2)):We("v-if",!0),_(h,{ref:"wrapperRef",class:Z(`${e.prefixCls}-list-wrapper`),style:yt(e.style),onScroll:e.handleScroll},{default:Je(()=>[De("ul",{class:Z(`${e.prefixCls}-list`)},[Ue(e.$slots,"default")],2)]),_:3},8,["class","style","onScroll"]),e.$slots.footer&&!e.isEmpty?(W(),fe("div",{key:1,class:Z(`${e.prefixCls}-footer`)},[Ue(e.$slots,"footer")],2)):We("v-if",!0)],2)}var nR=ot(bx,[["render",Tx]]);const T1=({popupVisible:e,defaultPopupVisible:o,emit:n})=>{var i;const l=ve((i=o==null?void 0:o.value)!=null?i:!1),u=O(()=>{var h;return(h=e==null?void 0:e.value)!=null?h:l.value}),a=h=>{h!==u.value&&(l.value=h,n("update:popupVisible",h),n("popupVisibleChange",h))};return At(u,h=>{l.value!==h&&(l.value=h)}),{computedPopupVisible:u,handlePopupVisibleChange:a}},yx=Ae({name:"Dropdown",components:{Trigger:Or,DropdownPanel:nR},props:{popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},trigger:{type:[String,Array],default:"click"},position:{type:String,default:"bottom"},popupContainer:{type:[String,Object]},popupMaxHeight:{type:[Boolean,Number],default:!0},hideOnSelect:{type:Boolean,default:!0}},emits:{"update:popupVisible":e=>!0,popupVisibleChange:e=>!0,select:(e,o)=>!0},setup(e,{emit:o}){const{defaultPopupVisible:n,popupVisible:i,popupMaxHeight:l}=mt(e),u=Ge("dropdown"),{computedPopupVisible:a,handlePopupVisibleChange:h}=T1({defaultPopupVisible:n,popupVisible:i,emit:o});return Ln(MI,ft({popupMaxHeight:l,onOptionClick:(m,$)=>{o("select",m,$),e.hideOnSelect&&h(!1)}})),{prefixCls:u,computedPopupVisible:a,handlePopupVisibleChange:h}}});function Ex(e,o,n,i,l,u){const a=Pe("DropdownPanel"),h=Pe("Trigger");return W(),Ze(h,{"popup-visible":e.computedPopupVisible,"animation-name":"slide-dynamic-origin","auto-fit-transform-origin":"",trigger:e.trigger,position:e.position,"popup-offset":4,"popup-container":e.popupContainer,"opened-class":`${e.prefixCls}-open`,onPopupVisibleChange:e.handlePopupVisibleChange},{content:Je(()=>[_(a,null,Oo({default:Je(()=>[Ue(e.$slots,"content")]),_:2},[e.$slots.footer?{name:"footer",fn:Je(()=>[Ue(e.$slots,"footer")])}:void 0]),1024)]),default:Je(()=>[Ue(e.$slots,"default")]),_:3},8,["popup-visible","trigger","position","popup-container","opened-class","onPopupVisibleChange"])}var L0=ot(yx,[["render",Ex]]);const Cx=Ae({name:"Doption",props:{value:{type:[String,Number,Object]},disabled:{type:Boolean,default:!1},active:Boolean,uninjectContext:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("dropdown-option"),i=ve(),l=O(()=>{var p,m,$;return($=(m=e.value)!=null?m:(p=i.value)==null?void 0:p.textContent)!=null?$:void 0}),u=e.uninjectContext?void 0:on(MI,void 0),a=p=>{e.disabled||(o("click",p),u==null||u.onOptionClick(l.value,p))},h=O(()=>[n,{[`${n}-disabled`]:e.disabled,[`${n}-active`]:e.active}]);return{prefixCls:n,cls:h,liRef:i,handleClick:a}}});function Ix(e,o,n,i,l,u){return W(),fe("li",{ref:"liRef",class:Z([e.cls,{[`${e.prefixCls}-has-suffix`]:!!e.$slots.suffix}]),onClick:o[0]||(o[0]=(...a)=>e.handleClick&&e.handleClick(...a))},[e.$slots.icon?(W(),fe("span",{key:0,class:Z(`${e.prefixCls}-icon`)},[Ue(e.$slots,"icon")],2)):We("v-if",!0),De("span",{class:Z(`${e.prefixCls}-content`)},[Ue(e.$slots,"default")],2),e.$slots.suffix?(W(),fe("span",{key:1,class:Z(`${e.prefixCls}-suffix`)},[Ue(e.$slots,"suffix")],2)):We("v-if",!0)],2)}var Zf=ot(Cx,[["render",Ix]]);const Sx=Ae({name:"Dgroup",props:{title:String},setup(){return{prefixCls:Ge("dropdown-group")}}});function Ox(e,o,n,i,l,u){return W(),fe(Lt,null,[De("li",{class:Z(`${e.prefixCls}-title`)},[Ue(e.$slots,"title",{},()=>[Dt(Mt(e.title),1)])],2),Ue(e.$slots,"default")],64)}var M0=ot(Sx,[["render",Ox]]);const kx=Ae({name:"IconRight",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-right`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),wx=["stroke-width","stroke-linecap","stroke-linejoin"],Nx=De("path",{d:"m16 39.513 15.556-15.557L16 8.4"},null,-1),Ax=[Nx];function Rx(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},Ax,14,wx)}var QT=ot(kx,[["render",Rx]]);const Bl=Object.assign(QT,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+QT.name,QT)}}),Lx=Ae({name:"Dsubmenu",components:{Trigger:Or,DropdownPanel:nR,DropdownOption:Zf,IconRight:Bl},props:{value:{type:[String,Number]},disabled:{type:Boolean,default:!1},trigger:{type:[String,Array],default:"click"},position:{type:String,default:"rt"},popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},optionProps:{type:Object}},emits:{"update:popupVisible":e=>!0,popupVisibleChange:e=>!0},setup(e,{emit:o}){const{defaultPopupVisible:n,popupVisible:i}=mt(e),l=Ge("dropdown"),{computedPopupVisible:u,handlePopupVisibleChange:a}=T1({defaultPopupVisible:n,popupVisible:i,emit:o});return{prefixCls:l,computedPopupVisible:u,handlePopupVisibleChange:a}}});function Mx(e,o,n,i,l,u){const a=Pe("IconRight"),h=Pe("dropdown-option"),p=Pe("dropdown-panel"),m=Pe("Trigger");return W(),Ze(m,{"popup-visible":e.computedPopupVisible,trigger:e.trigger,position:e.position,disabled:e.disabled,"popup-offset":4,onPopupVisibleChange:e.handlePopupVisibleChange},{content:Je(()=>[_(p,{class:Z(`${e.prefixCls}-submenu`)},Oo({default:Je(()=>[Ue(e.$slots,"content")]),_:2},[e.$slots.footer?{name:"footer",fn:Je(()=>[Ue(e.$slots,"footer")])}:void 0]),1032,["class"])]),default:Je(()=>[_(h,lt(e.optionProps,{active:e.computedPopupVisible,"uninject-context":""}),Oo({suffix:Je(()=>[Ue(e.$slots,"suffix",{},()=>[_(a)])]),default:Je(()=>[Ue(e.$slots,"default")]),_:2},[e.$slots.icon?{name:"icon",fn:Je(()=>[Ue(e.$slots,"icon")])}:void 0]),1040,["active"])]),_:3},8,["popup-visible","trigger","position","disabled","onPopupVisibleChange"])}var P0=ot(Lx,[["render",Mx]]);const Px=Ae({name:"DropdownButton",components:{IconMore:LI,Button:mi,ButtonGroup:M$,Dropdown:L0},props:{popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},trigger:{type:[String,Array],default:"click"},position:{type:String,default:"br"},popupContainer:{type:[String,Object]},disabled:{type:Boolean,default:!1},type:{type:String},size:{type:String},buttonProps:{type:Object},hideOnSelect:{type:Boolean,default:!0}},emits:{"update:popupVisible":e=>!0,popupVisibleChange:e=>!0,click:e=>!0,select:(e,o)=>!0},setup(e,{emit:o}){const{defaultPopupVisible:n,popupVisible:i}=mt(e),l=Ge("dropdown"),{computedPopupVisible:u,handlePopupVisibleChange:a}=T1({defaultPopupVisible:n,popupVisible:i,emit:o});return{prefixCls:l,computedPopupVisible:u,handleClick:m=>{o("click",m)},handleSelect:(m,$)=>{o("select",m,$)},handlePopupVisibleChange:a}}});function Dx(e,o,n,i,l,u){const a=Pe("Button"),h=Pe("IconMore"),p=Pe("Dropdown"),m=Pe("ButtonGroup");return W(),Ze(m,null,{default:Je(()=>[_(a,lt({size:e.size,type:e.type,disabled:e.disabled},e.buttonProps,{onClick:e.handleClick}),{default:Je(()=>[Ue(e.$slots,"default")]),_:3},16,["size","type","disabled","onClick"]),_(p,{"popup-visible":e.computedPopupVisible,trigger:e.trigger,position:e.position,"popup-container":e.popupContainer,"hide-on-select":e.hideOnSelect,onSelect:e.handleSelect,onPopupVisibleChange:e.handlePopupVisibleChange},{content:Je(()=>[Ue(e.$slots,"content")]),default:Je(()=>[_(a,{size:e.size,type:e.type,disabled:e.disabled},{icon:Je(()=>[Ue(e.$slots,"icon",{popupVisible:e.computedPopupVisible},()=>[_(h)])]),_:3},8,["size","type","disabled"])]),_:3},8,["popup-visible","trigger","position","popup-container","hide-on-select","onSelect","onPopupVisibleChange"])]),_:3})}var D0=ot(Px,[["render",Dx]]);const oR=Object.assign(L0,{Option:Zf,Group:M0,Submenu:P0,Button:D0,install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+L0.name,L0),e.component(n+Zf.name,Zf),e.component(n+M0.name,M0),e.component(n+P0.name,P0),e.component(n+D0.name,D0)}});var P$=Ae({name:"BreadcrumbItem",inheritAttrs:!1,props:{separator:{type:[String,Number]},droplist:{type:Array},dropdownProps:{type:Object},index:{type:Number,default:0}},setup(e,{slots:o,attrs:n}){const i=Ge("breadcrumb-item"),l=on(tR,void 0),u=ve(!1),a=O(()=>!(l&&l.needHide&&e.index>1&&e.index<=l.total-l.maxCount)),h=O(()=>l&&l.needHide?e.index===1:!1),p=O(()=>l?e.index<l.total-1:!0),m=R=>{u.value=R},$=()=>{var R,L,M,B,G,j,F;if(!p.value)return null;const x=(F=(j=(G=(L=(R=o.separator)==null?void 0:R.call(o))!=null?L:e.separator)!=null?G:(B=l==null?void 0:(M=l.slots).separator)==null?void 0:B.call(M))!=null?j:l==null?void 0:l.separator)!=null?F:_(_x,null,null);return _("div",{"aria-hidden":"true",class:`${i}-separator`},[x])},T=()=>{var R,L,M,B;return _("div",lt({role:"listitem",class:[i,{[`${i}-with-dropdown`]:e.droplist||o.droplist}]},h.value?{"aria-label":"ellipses of breadcrumb items"}:void 0,n),[h.value?(M=(L=l==null?void 0:(R=l.slots)["more-icon"])==null?void 0:L.call(R))!=null?M:_(LI,null,null):(B=o.default)==null?void 0:B.call(o),(e.droplist||o.droplist)&&_("span",{"aria-hidden":!0,class:[`${i}-dropdown-icon`,{[`${i}-dropdown-icon-active`]:u.value}]},[_($g,null,null)])])},w=()=>{var R,L,M;return(M=(R=o.droplist)==null?void 0:R.call(o))!=null?M:(L=e.droplist)==null?void 0:L.map(B=>_(Zf,{value:B.path},{default:()=>[B.label]}))},A=()=>_(oR,lt({popupVisible:u.value,onPopupVisibleChange:m},e.dropdownProps),{default:()=>[T()],content:w});return()=>a.value?_(Lt,null,[o.droplist||e.droplist?A():T(),$()]):null}}),qT=Ae({name:"Breadcrumb",props:{maxCount:{type:Number,default:0},routes:{type:Array},separator:{type:[String,Number]},customUrl:{type:Function}},setup(e,{slots:o}){const{maxCount:n,separator:i,routes:l}=mt(e),u=Ge("breadcrumb"),a=ve(0),h=O(()=>n.value>0&&a.value>n.value+1);Ln(tR,ft({total:a,maxCount:n,separator:i,needHide:h,slots:o}));const p=(T,w,A)=>{var R,L;if(w.indexOf(T)===w.length-1)return _("span",null,[T.label]);const M=(L=(R=e.customUrl)==null?void 0:R.call(e,A))!=null?L:`#/${A.join("/").replace(/^\//,"")}`;return _("a",{href:M},[T.label])},m=()=>{var T;if(!((T=l.value)!=null&&T.length))return null;a.value!==l.value.length&&(a.value=l.value.length);const w=[];return l.value.map((A,R,L)=>{w.push((A.path||"").replace(/^\//,""));const M=[...w];return _(P$,{key:A.path||A.label,index:R,droplist:A.children},{default:()=>{var B,G;return[(G=(B=o["item-render"])==null?void 0:B.call(o,{route:A,routes:L,paths:M}))!=null?G:p(A,L,M)]}})})},$=()=>{var T,w;const A=Oa((w=(T=o.default)==null?void 0:T.call(o))!=null?w:[]);return a.value!==A.length&&(a.value=A.length),A.map((R,L)=>{var M;return R.props=lt((M=R.props)!=null?M:{},{index:L}),R})};return()=>_("div",{role:"list",class:u},[o.default?$():m()])}});const xx=Object.assign(qT,{Item:P$,install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+qT.name,qT),e.component(n+P$.name,P$)}});var rR={exports:{}};(function(e,o){(function(n,i){e.exports=i()})(Wn,function(){var n=1e3,i=6e4,l=36e5,u="millisecond",a="second",h="minute",p="hour",m="day",$="week",T="month",w="quarter",A="year",R="date",L="Invalid Date",M=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,B=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,G={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(oe){var X=["th","st","nd","rd"],K=oe%100;return"["+oe+(X[(K-20)%10]||X[K]||X[0])+"]"}},j=function(oe,X,K){var q=String(oe);return!q||q.length>=X?oe:""+Array(X+1-q.length).join(K)+oe},F={s:j,z:function(oe){var X=-oe.utcOffset(),K=Math.abs(X),q=Math.floor(K/60),z=K%60;return(X<=0?"+":"-")+j(q,2,"0")+":"+j(z,2,"0")},m:function oe(X,K){if(X.date()<K.date())return-oe(K,X);var q=12*(K.year()-X.year())+(K.month()-X.month()),z=X.clone().add(q,T),ne=K-z<0,ge=X.clone().add(q+(ne?-1:1),T);return+(-(q+(K-z)/(ne?z-ge:ge-z))||0)},a:function(oe){return oe<0?Math.ceil(oe)||0:Math.floor(oe)},p:function(oe){return{M:T,y:A,w:$,d:m,D:R,h:p,m:h,s:a,ms:u,Q:w}[oe]||String(oe||"").toLowerCase().replace(/s$/,"")},u:function(oe){return oe===void 0}},x="en",D={};D[x]=G;var U=function(oe){return oe instanceof ee},te=function oe(X,K,q){var z;if(!X)return x;if(typeof X=="string"){var ne=X.toLowerCase();D[ne]&&(z=ne),K&&(D[ne]=K,z=ne);var ge=X.split("-");if(!z&&ge.length>1)return oe(ge[0])}else{var Q=X.name;D[Q]=X,z=Q}return!q&&z&&(x=z),z||!q&&x},Y=function(oe,X){if(U(oe))return oe.clone();var K=typeof X=="object"?X:{};return K.date=oe,K.args=arguments,new ee(K)},J=F;J.l=te,J.i=U,J.w=function(oe,X){return Y(oe,{locale:X.$L,utc:X.$u,x:X.$x,$offset:X.$offset})};var ee=function(){function oe(K){this.$L=te(K.locale,null,!0),this.parse(K)}var X=oe.prototype;return X.parse=function(K){this.$d=function(q){var z=q.date,ne=q.utc;if(z===null)return new Date(NaN);if(J.u(z))return new Date;if(z instanceof Date)return new Date(z);if(typeof z=="string"&&!/Z$/i.test(z)){var ge=z.match(M);if(ge){var Q=ge[2]-1||0,Oe=(ge[7]||"0").substring(0,3);return ne?new Date(Date.UTC(ge[1],Q,ge[3]||1,ge[4]||0,ge[5]||0,ge[6]||0,Oe)):new Date(ge[1],Q,ge[3]||1,ge[4]||0,ge[5]||0,ge[6]||0,Oe)}}return new Date(z)}(K),this.$x=K.x||{},this.init()},X.init=function(){var K=this.$d;this.$y=K.getFullYear(),this.$M=K.getMonth(),this.$D=K.getDate(),this.$W=K.getDay(),this.$H=K.getHours(),this.$m=K.getMinutes(),this.$s=K.getSeconds(),this.$ms=K.getMilliseconds()},X.$utils=function(){return J},X.isValid=function(){return this.$d.toString()!==L},X.isSame=function(K,q){var z=Y(K);return this.startOf(q)<=z&&z<=this.endOf(q)},X.isAfter=function(K,q){return Y(K)<this.startOf(q)},X.isBefore=function(K,q){return this.endOf(q)<Y(K)},X.$g=function(K,q,z){return J.u(K)?this[q]:this.set(z,K)},X.unix=function(){return Math.floor(this.valueOf()/1e3)},X.valueOf=function(){return this.$d.getTime()},X.startOf=function(K,q){var z=this,ne=!!J.u(q)||q,ge=J.p(K),Q=function(ut,dt){var gt=J.w(z.$u?Date.UTC(z.$y,dt,ut):new Date(z.$y,dt,ut),z);return ne?gt:gt.endOf(m)},Oe=function(ut,dt){return J.w(z.toDate()[ut].apply(z.toDate("s"),(ne?[0,0,0,0]:[23,59,59,999]).slice(dt)),z)},Re=this.$W,_e=this.$M,se=this.$D,ke="set"+(this.$u?"UTC":"");switch(ge){case A:return ne?Q(1,0):Q(31,11);case T:return ne?Q(1,_e):Q(0,_e+1);case $:var Be=this.$locale().weekStart||0,et=(Re<Be?Re+7:Re)-Be;return Q(ne?se-et:se+(6-et),_e);case m:case R:return Oe(ke+"Hours",0);case p:return Oe(ke+"Minutes",1);case h:return Oe(ke+"Seconds",2);case a:return Oe(ke+"Milliseconds",3);default:return this.clone()}},X.endOf=function(K){return this.startOf(K,!1)},X.$set=function(K,q){var z,ne=J.p(K),ge="set"+(this.$u?"UTC":""),Q=(z={},z[m]=ge+"Date",z[R]=ge+"Date",z[T]=ge+"Month",z[A]=ge+"FullYear",z[p]=ge+"Hours",z[h]=ge+"Minutes",z[a]=ge+"Seconds",z[u]=ge+"Milliseconds",z)[ne],Oe=ne===m?this.$D+(q-this.$W):q;if(ne===T||ne===A){var Re=this.clone().set(R,1);Re.$d[Q](Oe),Re.init(),this.$d=Re.set(R,Math.min(this.$D,Re.daysInMonth())).$d}else Q&&this.$d[Q](Oe);return this.init(),this},X.set=function(K,q){return this.clone().$set(K,q)},X.get=function(K){return this[J.p(K)]()},X.add=function(K,q){var z,ne=this;K=Number(K);var ge=J.p(q),Q=function(_e){var se=Y(ne);return J.w(se.date(se.date()+Math.round(_e*K)),ne)};if(ge===T)return this.set(T,this.$M+K);if(ge===A)return this.set(A,this.$y+K);if(ge===m)return Q(1);if(ge===$)return Q(7);var Oe=(z={},z[h]=i,z[p]=l,z[a]=n,z)[ge]||1,Re=this.$d.getTime()+K*Oe;return J.w(Re,this)},X.subtract=function(K,q){return this.add(-1*K,q)},X.format=function(K){var q=this,z=this.$locale();if(!this.isValid())return z.invalidDate||L;var ne=K||"YYYY-MM-DDTHH:mm:ssZ",ge=J.z(this),Q=this.$H,Oe=this.$m,Re=this.$M,_e=z.weekdays,se=z.months,ke=z.meridiem,Be=function(dt,gt,we,le){return dt&&(dt[gt]||dt(q,ne))||we[gt].slice(0,le)},et=function(dt){return J.s(Q%12||12,dt,"0")},ut=ke||function(dt,gt,we){var le=dt<12?"AM":"PM";return we?le.toLowerCase():le};return ne.replace(B,function(dt,gt){return gt||function(we){switch(we){case"YY":return String(q.$y).slice(-2);case"YYYY":return J.s(q.$y,4,"0");case"M":return Re+1;case"MM":return J.s(Re+1,2,"0");case"MMM":return Be(z.monthsShort,Re,se,3);case"MMMM":return Be(se,Re);case"D":return q.$D;case"DD":return J.s(q.$D,2,"0");case"d":return String(q.$W);case"dd":return Be(z.weekdaysMin,q.$W,_e,2);case"ddd":return Be(z.weekdaysShort,q.$W,_e,3);case"dddd":return _e[q.$W];case"H":return String(Q);case"HH":return J.s(Q,2,"0");case"h":return et(1);case"hh":return et(2);case"a":return ut(Q,Oe,!0);case"A":return ut(Q,Oe,!1);case"m":return String(Oe);case"mm":return J.s(Oe,2,"0");case"s":return String(q.$s);case"ss":return J.s(q.$s,2,"0");case"SSS":return J.s(q.$ms,3,"0");case"Z":return ge}return null}(dt)||ge.replace(":","")})},X.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},X.diff=function(K,q,z){var ne,ge=this,Q=J.p(q),Oe=Y(K),Re=(Oe.utcOffset()-this.utcOffset())*i,_e=this-Oe,se=function(){return J.m(ge,Oe)};switch(Q){case A:ne=se()/12;break;case T:ne=se();break;case w:ne=se()/3;break;case $:ne=(_e-Re)/6048e5;break;case m:ne=(_e-Re)/864e5;break;case p:ne=_e/l;break;case h:ne=_e/i;break;case a:ne=_e/n;break;default:ne=_e}return z?ne:J.a(ne)},X.daysInMonth=function(){return this.endOf(T).$D},X.$locale=function(){return D[this.$L]},X.locale=function(K,q){if(!K)return this.$L;var z=this.clone(),ne=te(K,q,!0);return ne&&(z.$L=ne),z},X.clone=function(){return J.w(this.$d,this)},X.toDate=function(){return new Date(this.valueOf())},X.toJSON=function(){return this.isValid()?this.toISOString():null},X.toISOString=function(){return this.$d.toISOString()},X.toString=function(){return this.$d.toUTCString()},oe}(),ue=ee.prototype;return Y.prototype=ue,[["$ms",u],["$s",a],["$m",h],["$H",p],["$W",m],["$M",T],["$y",A],["$D",R]].forEach(function(oe){ue[oe[1]]=function(X){return this.$g(X,oe[0],oe[1])}}),Y.extend=function(oe,X){return oe.$i||(oe(X,ee,Y),oe.$i=!0),Y},Y.locale=te,Y.isDayjs=U,Y.unix=function(oe){return Y(1e3*oe)},Y.en=D[x],Y.Ls=D,Y.p={},Y})})(rR);var iR=rR.exports;const hi=xl(iR);var sR={exports:{}};(function(e,o){(function(n,i){e.exports=i()})(Wn,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,l=/\d\d/,u=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,h={},p=function(L){return(L=+L)+(L>68?1900:2e3)},m=function(L){return function(M){this[L]=+M}},$=[/[+-]\d\d:?(\d\d)?|Z/,function(L){(this.zone||(this.zone={})).offset=function(M){if(!M||M==="Z")return 0;var B=M.match(/([+-]|\d\d)/g),G=60*B[1]+(+B[2]||0);return G===0?0:B[0]==="+"?-G:G}(L)}],T=function(L){var M=h[L];return M&&(M.indexOf?M:M.s.concat(M.f))},w=function(L,M){var B,G=h.meridiem;if(G){for(var j=1;j<=24;j+=1)if(L.indexOf(G(j,0,M))>-1){B=j>12;break}}else B=L===(M?"pm":"PM");return B},A={A:[a,function(L){this.afternoon=w(L,!1)}],a:[a,function(L){this.afternoon=w(L,!0)}],S:[/\d/,function(L){this.milliseconds=100*+L}],SS:[l,function(L){this.milliseconds=10*+L}],SSS:[/\d{3}/,function(L){this.milliseconds=+L}],s:[u,m("seconds")],ss:[u,m("seconds")],m:[u,m("minutes")],mm:[u,m("minutes")],H:[u,m("hours")],h:[u,m("hours")],HH:[u,m("hours")],hh:[u,m("hours")],D:[u,m("day")],DD:[l,m("day")],Do:[a,function(L){var M=h.ordinal,B=L.match(/\d+/);if(this.day=B[0],M)for(var G=1;G<=31;G+=1)M(G).replace(/\[|\]/g,"")===L&&(this.day=G)}],M:[u,m("month")],MM:[l,m("month")],MMM:[a,function(L){var M=T("months"),B=(T("monthsShort")||M.map(function(G){return G.slice(0,3)})).indexOf(L)+1;if(B<1)throw new Error;this.month=B%12||B}],MMMM:[a,function(L){var M=T("months").indexOf(L)+1;if(M<1)throw new Error;this.month=M%12||M}],Y:[/[+-]?\d+/,m("year")],YY:[l,function(L){this.year=p(L)}],YYYY:[/\d{4}/,m("year")],Z:$,ZZ:$};function R(L){var M,B;M=L,B=h&&h.formats;for(var G=(L=M.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(Y,J,ee){var ue=ee&&ee.toUpperCase();return J||B[ee]||n[ee]||B[ue].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(oe,X,K){return X||K.slice(1)})})).match(i),j=G.length,F=0;F<j;F+=1){var x=G[F],D=A[x],U=D&&D[0],te=D&&D[1];G[F]=te?{regex:U,parser:te}:x.replace(/^\[|\]$/g,"")}return function(Y){for(var J={},ee=0,ue=0;ee<j;ee+=1){var oe=G[ee];if(typeof oe=="string")ue+=oe.length;else{var X=oe.regex,K=oe.parser,q=Y.slice(ue),z=X.exec(q)[0];K.call(J,z),Y=Y.replace(z,"")}}return function(ne){var ge=ne.afternoon;if(ge!==void 0){var Q=ne.hours;ge?Q<12&&(ne.hours+=12):Q===12&&(ne.hours=0),delete ne.afternoon}}(J),J}}return function(L,M,B){B.p.customParseFormat=!0,L&&L.parseTwoDigitYear&&(p=L.parseTwoDigitYear);var G=M.prototype,j=G.parse;G.parse=function(F){var x=F.date,D=F.utc,U=F.args;this.$u=D;var te=U[1];if(typeof te=="string"){var Y=U[2]===!0,J=U[3]===!0,ee=Y||J,ue=U[2];J&&(ue=U[2]),h=this.$locale(),!Y&&ue&&(h=B.Ls[ue]),this.$d=function(q,z,ne){try{if(["x","X"].indexOf(z)>-1)return new Date((z==="X"?1e3:1)*q);var ge=R(z)(q),Q=ge.year,Oe=ge.month,Re=ge.day,_e=ge.hours,se=ge.minutes,ke=ge.seconds,Be=ge.milliseconds,et=ge.zone,ut=new Date,dt=Re||(Q||Oe?1:ut.getDate()),gt=Q||ut.getFullYear(),we=0;Q&&!Oe||(we=Oe>0?Oe-1:ut.getMonth());var le=_e||0,ce=se||0,re=ke||0,Me=Be||0;return et?new Date(Date.UTC(gt,we,dt,le,ce,re,Me+60*et.offset*1e3)):ne?new Date(Date.UTC(gt,we,dt,le,ce,re,Me)):new Date(gt,we,dt,le,ce,re,Me)}catch{return new Date("")}}(x,te,D),this.init(),ue&&ue!==!0&&(this.$L=this.locale(ue).$L),ee&&x!=this.format(te)&&(this.$d=new Date("")),h={}}else if(te instanceof Array)for(var oe=te.length,X=1;X<=oe;X+=1){U[1]=te[X-1];var K=B.apply(this,U);if(K.isValid()){this.$d=K.$d,this.$L=K.$L,this.init();break}X===oe&&(this.$d=new Date(""))}else j.call(this,F)}}})})(sR);var Bx=sR.exports;const Fx=xl(Bx);var lR={exports:{}};(function(e,o){(function(n,i){e.exports=i()})(Wn,function(){return function(n,i,l){i.prototype.isBetween=function(u,a,h,p){var m=l(u),$=l(a),T=(p=p||"()")[0]==="(",w=p[1]===")";return(T?this.isAfter(m,h):!this.isBefore(m,h))&&(w?this.isBefore($,h):!this.isAfter($,h))||(T?this.isBefore(m,h):!this.isAfter(m,h))&&(w?this.isAfter($,h):!this.isBefore($,h))}}})})(lR);var Vx=lR.exports;const Ux=xl(Vx);var aR={exports:{}};(function(e,o){(function(n,i){e.exports=i()})(Wn,function(){var n="week",i="year";return function(l,u,a){var h=u.prototype;h.week=function(p){if(p===void 0&&(p=null),p!==null)return this.add(7*(p-this.week()),"day");var m=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var $=a(this).startOf(i).add(1,i).date(m),T=a(this).endOf(n);if($.isBefore(T))return 1}var w=a(this).startOf(i).date(m).startOf(n).subtract(1,"millisecond"),A=this.diff(w,n,!0);return A<0?a(this).startOf("week").week():Math.ceil(A)},h.weeks=function(p){return p===void 0&&(p=null),this.week(p)}}})})(aR);var Hx=aR.exports;const Gx=xl(Hx);var uR={exports:{}};(function(e,o){(function(n,i){e.exports=i()})(Wn,function(){return function(n,i){var l=i.prototype,u=l.format;l.format=function(a){var h=this,p=this.$locale();if(!this.isValid())return u.bind(this)(a);var m=this.$utils(),$=(a||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(T){switch(T){case"Q":return Math.ceil((h.$M+1)/3);case"Do":return p.ordinal(h.$D);case"gggg":return h.weekYear();case"GGGG":return h.isoWeekYear();case"wo":return p.ordinal(h.week(),"W");case"w":case"ww":return m.s(h.week(),T==="w"?1:2,"0");case"W":case"WW":return m.s(h.isoWeek(),T==="W"?1:2,"0");case"k":case"kk":return m.s(String(h.$H===0?24:h.$H),T==="k"?1:2,"0");case"X":return Math.floor(h.$d.getTime()/1e3);case"x":return h.$d.getTime();case"z":return"["+h.offsetName()+"]";case"zzz":return"["+h.offsetName("long")+"]";default:return T}});return u.bind(this)($)}}})})(uR);var zx=uR.exports;const Wx=xl(zx);var cR={exports:{}};(function(e,o){(function(n,i){e.exports=i()})(Wn,function(){return function(n,i){i.prototype.weekYear=function(){var l=this.month(),u=this.week(),a=this.year();return u===1&&l===11?a+1:l===0&&u>=52?a-1:a}}})})(cR);var jx=cR.exports;const Xx=xl(jx);var dR={exports:{}};(function(e,o){(function(n,i){e.exports=i()})(Wn,function(){var n="month",i="quarter";return function(l,u){var a=u.prototype;a.quarter=function(m){return this.$utils().u(m)?Math.ceil((this.month()+1)/3):this.month(this.month()%3+3*(m-1))};var h=a.add;a.add=function(m,$){return m=Number(m),this.$utils().p($)===i?this.add(3*m,n):h.bind(this)(m,$)};var p=a.startOf;a.startOf=function(m,$){var T=this.$utils(),w=!!T.u($)||$;if(T.p(m)===i){var A=this.quarter()-1;return w?this.month(3*A).startOf(n).startOf("day"):this.month(3*A+2).endOf(n).endOf("day")}return p.bind(this)(m,$)}}})})(dR);var Kx=dR.exports;const Yx=xl(Kx);var Qx={exports:{}};(function(e,o){(function(n,i){e.exports=i(iR)})(Wn,function(n){function i(a){return a&&typeof a=="object"&&"default"in a?a:{default:a}}var l=i(n),u={name:"zh-cn",weekdays:"星期日_星期一_星期二_星期三_星期四_星期五_星期六".split("_"),weekdaysShort:"周日_周一_周二_周三_周四_周五_周六".split("_"),weekdaysMin:"日_一_二_三_四_五_六".split("_"),months:"一月_二月_三月_四月_五月_六月_七月_八月_九月_十月_十一月_十二月".split("_"),monthsShort:"1月_2月_3月_4月_5月_6月_7月_8月_9月_10月_11月_12月".split("_"),ordinal:function(a,h){return h==="W"?a+"周":a+"日"},weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYY年M月D日",LLL:"YYYY年M月D日Ah点mm分",LLLL:"YYYY年M月D日ddddAh点mm分",l:"YYYY/M/D",ll:"YYYY年M月D日",lll:"YYYY年M月D日 HH:mm",llll:"YYYY年M月D日dddd HH:mm"},relativeTime:{future:"%s内",past:"%s前",s:"几秒",m:"1 分钟",mm:"%d 分钟",h:"1 小时",hh:"%d 小时",d:"1 天",dd:"%d 天",M:"1 个月",MM:"%d 个月",y:"1 年",yy:"%d 年"},meridiem:function(a,h){var p=100*a+h;return p<600?"凌晨":p<900?"早上":p<1100?"上午":p<1300?"中午":p<1800?"下午":"晚上"}};return l.default.locale(u,null,!0),u})})(Qx);var qx=Object.defineProperty,Zx=Object.defineProperties,Jx=Object.getOwnPropertyDescriptors,oO=Object.getOwnPropertySymbols,e8=Object.prototype.hasOwnProperty,t8=Object.prototype.propertyIsEnumerable,rO=(e,o,n)=>o in e?qx(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,hR=(e,o)=>{for(var n in o||(o={}))e8.call(o,n)&&rO(e,n,o[n]);if(oO)for(var n of oO(o))t8.call(o,n)&&rO(e,n,o[n]);return e},pR=(e,o)=>Zx(e,Jx(o));const n8=(e,o,n)=>{n=function(u,a){if(Js(u))return u.clone();const h=typeof a=="object"?a:{};return h.date=u,h.args=arguments,new o(h)};const i=o.prototype,l=i.$utils;i.$utils=()=>{const u=l();return u.i=Js,u},n.isDayjs=Js};hi.extend(n8);hi.extend(Fx);hi.extend(Ux);hi.extend(Gx);hi.extend(Wx);hi.extend(Xx);hi.extend(Yx);const or=hi,dr={add(e,o,n){return e.add(o,n)},subtract(e,o,n){return e.subtract(o,n)},startOf(e,o){return e.startOf(o)},endOf(e,o){return e.endOf(o)},set(e,o,n){return e.set(o,n)},isSameWeek(e,o,n,i){return e.locale(pR(hR({},or.Ls[i.toLocaleLowerCase()]),{weekStart:n})).isSame(o,"week")}};function Ur(){return or()}function J$(e){return[...e].sort((o,n)=>o.valueOf()-n.valueOf())}function PI(e,o){const n=(i,l)=>i===void 0&&l===void 0?!1:i&&!l||!i&&l?!0:(i==null?void 0:i.valueOf())!==(l==null?void 0:l.valueOf());return o===void 0&&e===void 0?!1:nn(o)&&nn(e)?n(o[0],e[0])||n(o[1],e[1]):!nn(o)&&!nn(e)?n(o,e):!0}function ws(e,o){const n=l=>{const u=/(Q1)|(Q2)|(Q3)|(Q4)/,a={Q1:"01",Q2:"04",Q3:"07",Q4:"10"},[h]=u.exec(l);return l.replace(u,a[h])},i=l=>{if(l)return typeof l=="string"?R9(o)?or(n(l),o.replace(/\[Q]Q/,"MM")):or(l,o):or(l)};return nn(e)?e.map(i):i(e)}function es(e){const o=n=>n?n.toDate():void 0;return nn(e)?e.map(o):o(e)}function fR(e,o){or.locale(pR(hR({},or.Ls[e.toLocaleLowerCase()]),{weekStart:o}))}function o8(e){const o={};return e&&Object.keys(e).forEach(n=>{const i=String(n);i.indexOf("data-")===0&&(o[i]=e[i]),i.indexOf("aria-")===0&&(o[i]=e[i])}),o}function Mh(e,o,n=" "){const i=String(e);if(!o)return i;const l=i.length<o?`${n}${i}`:i;return l.length<o?Mh(l,o,n):l}var r8=Ae({name:"Week",props:{mode:{type:String},dayStartOfWeek:{type:Number},isWeek:{type:Boolean},panel:{type:Boolean},value:{type:Object,required:!0},selectHandler:{type:Function},pageShowData:{type:Object,required:!0},pageData:{type:Array}},setup(e){const{dayStartOfWeek:o,isWeek:n,panel:i,mode:l}=mt(e),u=Ge("calendar-week-list"),{t:a}=Lo(),h=["monday","tuesday","wednesday","thursday","friday","saturday"];return o.value===0?h.unshift("sunday"):h.push("sunday"),n.value&&h.unshift("self"),()=>_("div",{class:u},[h.map(p=>_("div",{class:`${u}-item`,key:p},[a(`calendar.week.${i.value||l.value==="year"?"short":"long"}.${p}`)]))])}});function p0(e,o){if(e&&nn(e))return e[o]}function gR({prefixCls:e,mergedValue:o,rangeValues:n,hoverRangeValues:i,panel:l,isSameTime:u,innerMode:a}){function h(p,m,$){return!m||!$?!1:u(p,m)||u(p,$)||p.isBetween(m,$,null,"[]")}return function(m,$){const T=p0(n,0),w=p0(n,1),A=p0(i,0),R=p0(i,1),L=!m.isPrev&&!m.isNext,M=L&&l,B=M&&T&&u(m.time,T),G=M&&w&&u(m.time,w),j=A&&T&&A.isBefore(T),F=w&&R&&R.isAfter(w),x=j&&B||F&&G;let D=u(m.time,Ur());return!l&&a==="year"&&(D=Ur().isSame(m.time,"date")),[`${e}-cell`,{[`${e}-cell-in-view`]:L,[`${e}-cell-today`]:D,[`${e}-cell-selected`]:o&&u(m.time,o),[`${e}-cell-range-start`]:B,[`${e}-cell-range-end`]:G,[`${e}-cell-in-range`]:M&&h(m.time,T,w),[`${e}-cell-in-range-near-hover`]:x,[`${e}-cell-hover-range-start`]:M&&A&&u(m.time,A),[`${e}-cell-hover-range-end`]:M&&R&&u(m.time,R),[`${e}-cell-hover-in-range`]:M&&h(m.time,A,R),[`${e}-cell-disabled`]:$}]}}var i8=Object.defineProperty,s8=Object.defineProperties,l8=Object.getOwnPropertyDescriptors,iO=Object.getOwnPropertySymbols,a8=Object.prototype.hasOwnProperty,u8=Object.prototype.propertyIsEnumerable,sO=(e,o,n)=>o in e?i8(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,ZT=(e,o)=>{for(var n in o||(o={}))a8.call(o,n)&&sO(e,n,o[n]);if(iO)for(var n of iO(o))u8.call(o,n)&&sO(e,n,o[n]);return e},JT=(e,o)=>s8(e,l8(o));const lO=6*7,Ab=e=>({year:e.year(),month:e.month()+1,date:e.date(),day:e.day(),time:e}),c8=e=>({start:Ab(dr.startOf(e,"month")),end:Ab(dr.endOf(e,"month")),days:e.daysInMonth()});function mR(e,{dayStartOfWeek:o=0,isWeek:n}){const i=c8(e),l=Array(lO).fill(null).map(()=>({})),u=o===0?i.start.day:(i.start.day||7)-1;l[u]=JT(ZT({},i.start),{isCurrent:!0});for(let h=0;h<u;h++)l[u-h-1]=JT(ZT({},Ab(dr.subtract(i.start.time,h+1,"day"))),{isPrev:!0});for(let h=0;h<lO-u-1;h++)l[u+h+1]=JT(ZT({},Ab(dr.add(i.start.time,h+1,"day"))),{isCurrent:h<i.days,isNext:h>=i.days-1});const a=Array(6).fill(null).map(()=>[]);for(let h=0;h<6;h++)if(a[h]=l.slice(h*7,7*(h+1)),n){const p=a[h][0].time,m=[...a[h]];a[h].unshift({weekRows:m,weekOfYear:p.week()})}return a}var $R=Ae({name:"Month",props:{cell:{type:Boolean},pageData:{type:Array},current:{type:Number},value:{type:Object,required:!0},selectHandler:{type:Function,required:!0},mode:{type:String},pageShowDate:{type:Object,required:!0},panel:{type:Boolean},dayStartOfWeek:{type:Number,required:!0},isWeek:{type:Boolean,required:!0}},setup(e){const{pageData:o}=mt(e),n=Ge("calendar"),i=e.pageShowDate.year(),l=O(()=>gR({prefixCls:n,mergedValue:e.value,panel:!1,innerMode:e.mode,rangeValues:[],hoverRangeValues:[],isSameTime:(h,p)=>h.isSame(p,"day")}));function u(h){return h.map((p,m)=>{if(p.time){const $=()=>e.selectHandler(p.time,!1),T=e.isWeek?{onClick:$}:{},w=e.isWeek?{}:{onClick:$};return _("div",lt({key:m,class:l.value(p,!1)},T),[_("div",lt({class:`${n}-date`},w),[_("div",{class:`${n}-date-value`},[e.panel?p.date:_("div",{class:`${n}-date-circle`},[p.date])])])])}if("weekOfYear"in p){const $=e.value.year(),T=e.value.month()+1,w=e.value.week(),A=e.value&&p.weekRows.find(R=>R.year===$&&R.month===T)&&w===p.weekOfYear;return _("div",{key:m,class:[`${n}-cell`,`${n}-cell-week`,{[`${n}-cell-selected-week`]:A,[`${n}-cell-in-range`]:A}]},[_("div",{class:`${n}-date`},[_("div",{class:`${n}-date-value`},[p.weekOfYear])])])}return null})}let a=o.value;return typeof e.current=="number"&&(a=mR(or(`${i}-${Mh(e.current+1,2,"0")}-01`),{dayStartOfWeek:e.dayStartOfWeek,isWeek:e.isWeek})),()=>_("div",{class:e.cell?`${n}-month-cell`:`${n}-month`},[_(r8,{value:e.value,selectHandler:e.selectHandler,dayStartOfWeek:e.dayStartOfWeek,isWeek:e.isWeek,panel:e.panel,mode:e.mode,pageShowData:e.pageShowDate,pageData:e.pageData},null),_("div",{class:`${n}-month-cell-body`},[a==null?void 0:a.map((h,p)=>_("div",{key:p,class:[`${n}-month-row`,{[`${n}-row-week`]:e.isWeek}]},[u(h)]))])])}}),d8=Object.defineProperty,h8=Object.defineProperties,p8=Object.getOwnPropertyDescriptors,aO=Object.getOwnPropertySymbols,f8=Object.prototype.hasOwnProperty,g8=Object.prototype.propertyIsEnumerable,uO=(e,o,n)=>o in e?d8(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,m8=(e,o)=>{for(var n in o||(o={}))f8.call(o,n)&&uO(e,n,o[n]);if(aO)for(var n of aO(o))g8.call(o,n)&&uO(e,n,o[n]);return e},$8=(e,o)=>h8(e,p8(o));const vR=["January","February","March","April","May","June","July","August","September","October","November","December"].map((e,o)=>({name:e,value:o})),_R=Array(3);for(let e=0;e<3;e++)_R[e]=vR.slice(e*4,4*(e+1));const bR=Array(4);for(let e=0;e<4;e++)bR[e]=vR.slice(e*3,3*(e+1));var v8=Ae({name:"Year",props:{mode:{type:String,required:!0},dayStartOfWeek:{type:Number,required:!0},value:{type:Object,required:!0},isWeek:{type:Boolean},panel:{type:Boolean,default:!1},pageShowData:{type:Object,required:!0},pageData:{type:Array},selectHandler:{type:Function,required:!0}},setup(e){const o=Ge("calendar"),n=O(()=>gR({prefixCls:o,mergedValue:e.value,panel:!1,innerMode:e.mode,rangeValues:[],hoverRangeValues:[],isSameTime:(a,h)=>a.isSame(h,"month")})),{t:i}=Lo(),l=O(()=>e.pageShowData.year()),u=e.panel?bR:_R;return()=>_("div",{class:`${o}-year`},[u.map((a,h)=>_("div",{class:`${o}-year-row`,key:h},[a.map(p=>{const m=or(`${l.value}-${Mh(p.value+1,2,"0")}-01`),$=e.panel?{onClick:()=>e.selectHandler(m,!1)}:{};return _("div",{key:p.value,class:n.value($8(m8({},p),{time:m}),!1)},[e.panel?_("div",lt({class:`${o}-date`},$),[_("div",{class:`${o}-date-value`},[i(`calendar.month.short.${p.name}`)])]):_("div",{class:`${o}-month-with-days`},[_("div",{class:`${o}-month-title`},[i(`calendar.month.long.${p.name}`)]),_($R,{pageShowDate:e.pageShowData,pageData:e.pageData,dayStartOfWeek:e.dayStartOfWeek,selectHandler:e.selectHandler,isWeek:e.isWeek,cell:!0,current:p.value,value:e.value,mode:e.mode},null)])])})]))])}});const _8=({defaultValue:e,modelValue:o,emit:n,eventName:i="input",updateEventName:l="update:modelValue",eventHandlers:u})=>{var a;const h=ve(),p=ve((a=e==null?void 0:e.value)!=null?a:""),m=ve(!1),$=ve(!1),T=ve("");let w;const A=O(()=>{var D;return(D=o==null?void 0:o.value)!=null?D:p.value}),R=(D,U)=>{p.value=D,n(l,D),n(i,D,U)},L=D=>{const{value:U}=D.target;$.value||(R(U,D),Un(()=>{h.value&&A.value!==h.value.value&&(h.value.value=A.value)}))},M=D=>{i==="input"&&A.value!==w&&(w=A.value,n("change",A.value,D))},B=D=>{var U;const{value:te}=D.target;D.type==="compositionend"?($.value=!1,T.value="",R(te,D),Un(()=>{h.value&&A.value!==h.value.value&&(h.value.value=A.value)})):($.value=!0,T.value=A.value+((U=D.data)!=null?U:""))},G=D=>{var U,te;m.value=!0,w=A.value,n("focus",D),(te=(U=u==null?void 0:u.value)==null?void 0:U.onFocus)==null||te.call(U,D)},j=D=>{var U,te;m.value=!1,n("blur",D),(te=(U=u==null?void 0:u.value)==null?void 0:U.onBlur)==null||te.call(U,D),M(D)},F=D=>{const U=D.key||D.code;!$.value&&U===CI.key&&(n("pressEnter",D),M(D))},x=D=>{h.value&&D.target!==h.value&&(D.preventDefault(),h.value.focus())};return At(A,D=>{h.value&&D!==h.value.value&&(h.value.value=D)}),{inputRef:h,_value:p,_focused:m,isComposition:$,compositionValue:T,computedValue:A,handleInput:L,handleComposition:B,handleFocus:G,handleBlur:j,handleKeyDown:F,handleMousedown:x}};var b8=Ae({name:"InputLabel",inheritAttrs:!1,props:{modelValue:Object,inputValue:{type:String,default:""},enabledInput:Boolean,formatLabel:Function,placeholder:String,retainInputValue:Boolean,disabled:Boolean,baseCls:String,size:String,error:Boolean,focused:Boolean,uninjectFormItemContext:Boolean},emits:["update:inputValue","inputValueChange","focus","blur"],setup(e,{attrs:o,emit:n,slots:i}){var l;const{size:u,disabled:a,error:h,inputValue:p,uninjectFormItemContext:m}=mt(e),$=(l=e.baseCls)!=null?l:Ge("input-label"),{mergedSize:T,mergedDisabled:w,mergedError:A,eventHandlers:R}=Eo({size:u,disabled:a,error:h,uninject:m==null?void 0:m.value}),{mergedSize:L}=Wr(T),{inputRef:M,_focused:B,computedValue:G,handleInput:j,handleComposition:F,handleFocus:x,handleBlur:D,handleMousedown:U}=_8({modelValue:p,emit:n,eventName:"inputValueChange",updateEventName:"update:inputValue",eventHandlers:R}),te=O(()=>{var z;return(z=e.focused)!=null?z:B.value}),Y=O(()=>e.enabledInput&&B.value||!e.modelValue),J=()=>{var z,ne;return e.modelValue?(ne=(z=e.formatLabel)==null?void 0:z.call(e,e.modelValue))!=null?ne:e.modelValue.label:""},ee=O(()=>e.enabledInput&&e.modelValue?J():e.placeholder),ue=()=>{var z,ne;return e.modelValue?(ne=(z=i.default)==null?void 0:z.call(i,{data:e.modelValue}))!=null?ne:J():null},oe=O(()=>[$,`${$}-size-${L.value}`,{[`${$}-search`]:e.enabledInput,[`${$}-focus`]:te.value,[`${$}-disabled`]:w.value,[`${$}-error`]:A.value}]),X=O(()=>Sr(o,nd)),K=O(()=>wa(o,nd));return{inputRef:M,render:()=>_("span",lt(X.value,{class:oe.value,title:J(),onMousedown:U}),[i.prefix&&_("span",{class:`${$}-prefix`},[i.prefix()]),_("input",lt(K.value,{ref:M,class:[`${$}-input`,{[`${$}-input-hidden`]:!Y.value}],value:G.value,readonly:!e.enabledInput,placeholder:ee.value,disabled:w.value,onInput:j,onFocus:x,onBlur:D,onCompositionstart:F,onCompositionupdate:F,onCompositionend:F}),null),_("span",{class:[`${$}-value`,{[`${$}-value-hidden`]:Y.value}]},[ue()]),i.suffix&&_("span",{class:`${$}-suffix`},[i.suffix()])])}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}}),T8=Object.defineProperty,cO=Object.getOwnPropertySymbols,y8=Object.prototype.hasOwnProperty,E8=Object.prototype.propertyIsEnumerable,dO=(e,o,n)=>o in e?T8(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,C8=(e,o)=>{for(var n in o||(o={}))y8.call(o,n)&&dO(e,n,o[n]);if(cO)for(var n of cO(o))E8.call(o,n)&&dO(e,n,o[n]);return e};const I8=(e,o)=>{const n=[];for(const i of e)if(cn(i))n.push({raw:i,value:i[o.value],label:i[o.label],closable:i[o.closable],tagProps:i[o.tagProps]});else if(e||_t(e)){const l={value:i,label:String(i),closable:!0};n.push(C8({raw:l},l))}return n},hO=["red","orangered","orange","gold","lime","green","cyan","blue","arcoblue","purple","pinkpurple","magenta","gray"],S8=Ae({name:"Tag",components:{IconHover:yo,IconClose:zr,IconLoading:gi},props:{color:{type:String},size:{type:String},bordered:{type:Boolean,default:!1},visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},closable:{type:Boolean,default:!1},checkable:{type:Boolean,default:!1},checked:{type:Boolean,default:void 0},defaultChecked:{type:Boolean,default:!0}},emits:{"update:visible":e=>!0,"update:checked":e=>!0,close:e=>!0,check:(e,o)=>!0},setup(e,{emit:o}){const{size:n}=mt(e),i=Ge("tag"),l=O(()=>e.color&&hO.includes(e.color)),u=O(()=>e.color&&!hO.includes(e.color)),a=ve(e.defaultVisible),h=ve(e.defaultChecked),p=O(()=>{var M;return(M=e.visible)!=null?M:a.value}),m=O(()=>{var M;return e.checkable?(M=e.checked)!=null?M:h.value:!0}),{mergedSize:$}=Wr(n),T=O(()=>$.value==="mini"?"small":$.value),w=M=>{a.value=!1,o("update:visible",!1),o("close",M)},A=M=>{if(e.checkable){const B=!m.value;h.value=B,o("update:checked",B),o("check",B,M)}},R=O(()=>[i,`${i}-size-${T.value}`,{[`${i}-loading`]:e.loading,[`${i}-hide`]:!p.value,[`${i}-${e.color}`]:l.value,[`${i}-bordered`]:e.bordered,[`${i}-checkable`]:e.checkable,[`${i}-checked`]:m.value,[`${i}-custom-color`]:u.value}]),L=O(()=>{if(u.value)return{backgroundColor:e.color}});return{prefixCls:i,cls:R,style:L,computedVisible:p,computedChecked:m,handleClick:A,handleClose:w}}});function O8(e,o,n,i,l,u){const a=Pe("icon-close"),h=Pe("icon-hover"),p=Pe("icon-loading");return e.computedVisible?(W(),fe("span",{key:0,class:Z(e.cls),style:yt(e.style),onClick:o[0]||(o[0]=(...m)=>e.handleClick&&e.handleClick(...m))},[e.$slots.icon?(W(),fe("span",{key:0,class:Z(`${e.prefixCls}-icon`)},[Ue(e.$slots,"icon")],2)):We("v-if",!0),Ue(e.$slots,"default"),e.closable?(W(),Ze(h,{key:1,role:"button","aria-label":"Close",prefix:e.prefixCls,class:Z(`${e.prefixCls}-close-btn`),onClick:qs(e.handleClose,["stop"])},{default:Je(()=>[Ue(e.$slots,"close-icon",{},()=>[_(a)])]),_:3},8,["prefix","class","onClick"])):We("v-if",!0),e.loading?(W(),fe("span",{key:2,class:Z(`${e.prefixCls}-loading-icon`)},[_(p)],2)):We("v-if",!0)],6)):We("v-if",!0)}var ey=ot(S8,[["render",O8]]);const DI=Object.assign(ey,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+ey.name,ey)}});var k8=Object.defineProperty,pO=Object.getOwnPropertySymbols,w8=Object.prototype.hasOwnProperty,N8=Object.prototype.propertyIsEnumerable,fO=(e,o,n)=>o in e?k8(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,f0=(e,o)=>{for(var n in o||(o={}))w8.call(o,n)&&fO(e,n,o[n]);if(pO)for(var n of pO(o))N8.call(o,n)&&fO(e,n,o[n]);return e};const A8={value:"value",label:"label",closable:"closable",tagProps:"tagProps"};var ty=Ae({name:"InputTag",inheritAttrs:!1,props:{modelValue:{type:Array},defaultValue:{type:Array,default:()=>[]},inputValue:String,defaultInputValue:{type:String,default:""},placeholder:String,disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},size:{type:String},maxTagCount:{type:Number,default:0},retainInputValue:{type:[Boolean,Object],default:!1},formatTag:{type:Function},uniqueValue:{type:Boolean,default:!1},fieldNames:{type:Object},baseCls:String,focused:Boolean,disabledInput:Boolean,uninjectFormItemContext:Boolean},emits:{"update:modelValue":e=>!0,"update:inputValue":e=>!0,change:(e,o)=>!0,inputValueChange:(e,o)=>!0,pressEnter:(e,o)=>!0,remove:(e,o)=>!0,clear:e=>!0,focus:e=>!0,blur:e=>!0},setup(e,{emit:o,slots:n,attrs:i}){const{size:l,disabled:u,error:a,uninjectFormItemContext:h,modelValue:p}=mt(e),m=e.baseCls||Ge("input-tag"),$=ve(),T=ve(),{mergedSize:w,mergedDisabled:A,mergedError:R,feedback:L,eventHandlers:M}=Eo({size:l,disabled:u,error:a,uninject:h==null?void 0:h.value}),{mergedSize:B}=Wr(w),G=O(()=>f0(f0({},A8),e.fieldNames)),j=ve(!1),F=ve(e.defaultValue),x=ve(e.defaultInputValue),D=ve(!1),U=ve(""),te=O(()=>cn(e.retainInputValue)?f0({create:!1,blur:!1},e.retainInputValue):{create:e.retainInputValue,blur:e.retainInputValue}),Y=ft({width:"12px"}),J=O(()=>e.focused||j.value),ee=(re,Me)=>{x.value=re,o("update:inputValue",re),o("inputValueChange",re,Me)},ue=re=>{var Me;const{value:Ne}=re.target;re.type==="compositionend"?(D.value=!1,U.value="",ee(Ne,re),Un(()=>{$.value&&X.value!==$.value.value&&($.value.value=X.value)})):(D.value=!0,U.value=X.value+((Me=re.data)!=null?Me:""))},oe=O(()=>{var re;return(re=e.modelValue)!=null?re:F.value}),X=O(()=>{var re;return(re=e.inputValue)!=null?re:x.value});At(p,re=>{(Gt(re)||Di(re))&&(F.value=[])});const K=re=>{$.value&&re.target!==$.value&&(re.preventDefault(),$.value.focus())},q=re=>{const{value:Me}=re.target;D.value||(ee(Me,re),Un(()=>{$.value&&X.value!==$.value.value&&($.value.value=X.value)}))},z=O(()=>I8(oe.value,G.value)),ne=O(()=>{if(e.maxTagCount>0){const re=z.value.length-e.maxTagCount;if(re>0){const Me=z.value.slice(0,e.maxTagCount),Ne={value:"__arco__more",label:`+${re}...`,closable:!1};return Me.push(f0({raw:Ne},Ne)),Me}}return z.value}),ge=(re,Me)=>{var Ne,$e;F.value=re,o("update:modelValue",re),o("change",re,Me),($e=(Ne=M.value)==null?void 0:Ne.onChange)==null||$e.call(Ne,Me)},Q=(re,Me,Ne)=>{var $e;const Fe=($e=oe.value)==null?void 0:$e.filter((Le,qe)=>qe!==Me);ge(Fe,Ne),o("remove",re,Ne)},Oe=re=>{ge([],re),o("clear",re)},Re=O(()=>!A.value&&!e.readonly&&e.allowClear&&!!oe.value.length),_e=re=>{var Me;if(X.value){if(re.preventDefault(),e.uniqueValue&&((Me=oe.value)!=null&&Me.includes(X.value))){o("pressEnter",X.value,re);return}const Ne=oe.value.concat(X.value);ge(Ne,re),o("pressEnter",X.value,re),te.value.create||ee("",re)}},se=re=>{var Me,Ne;j.value=!0,o("focus",re),(Ne=(Me=M.value)==null?void 0:Me.onFocus)==null||Ne.call(Me,re)},ke=re=>{var Me,Ne;j.value=!1,!te.value.blur&&X.value&&ee("",re),o("blur",re),(Ne=(Me=M.value)==null?void 0:Me.onBlur)==null||Ne.call(Me,re)},Be=()=>{for(let re=z.value.length-1;re>=0;re--)if(z.value[re].closable)return re;return-1},et=re=>{const Me=re.key||re.code;if(!D.value&&X.value&&Me===CI.key&&_e(re),!D.value&&ne.value.length>0&&!X.value&&Me===R6.key){const Ne=Be();Ne>=0&&Q(z.value[Ne].value,Ne,re)}},ut=re=>{re>12?Y.width=`${re}px`:Y.width="12px"};fn(()=>{T.value&&ut(T.value.offsetWidth)});const dt=()=>{T.value&&ut(T.value.offsetWidth)};At(X,re=>{$.value&&!D.value&&re!==$.value.value&&($.value.value=re)});const gt=O(()=>[m,`${m}-size-${B.value}`,{[`${m}-disabled`]:A.value,[`${m}-disabled-input`]:e.disabledInput,[`${m}-error`]:R.value,[`${m}-focus`]:J.value,[`${m}-readonly`]:e.readonly,[`${m}-has-tag`]:ne.value.length>0,[`${m}-has-prefix`]:!!n.prefix,[`${m}-has-suffix`]:!!n.suffix||Re.value||L.value,[`${m}-has-placeholder`]:!oe.value.length}]),we=O(()=>Sr(i,nd)),le=O(()=>wa(i,nd));return{inputRef:$,render:()=>{var re;return _("span",lt({class:gt.value,onMousedown:K},we.value),[_(Pl,{onResize:dt},{default:()=>[_("span",{ref:T,class:`${m}-mirror`},[ne.value.length>0?U.value||X.value:U.value||X.value||e.placeholder])]}),n.prefix&&_("span",{class:`${m}-prefix`},[n.prefix()]),_(rv,{tag:"span",name:"input-tag-zoom",class:`${m}-inner`},{default:()=>[ne.value.map((Me,Ne)=>_(DI,lt({key:`tag-${Me.value}`,class:`${m}-tag`,closable:!A.value&&!e.readonly&&Me.closable,visible:!0},Me.tagProps,{onClose:$e=>Q(Me.value,Ne,$e)}),{default:()=>{var $e,Fe,Le,qe;return[(qe=(Le=($e=n.tag)==null?void 0:$e.call(n,{data:Me.raw}))!=null?Le:(Fe=e.formatTag)==null?void 0:Fe.call(e,Me.raw))!=null?qe:Me.label]}})),_("input",lt(le.value,{ref:$,key:"input-tag-input",class:`${m}-input`,style:Y,placeholder:ne.value.length===0?e.placeholder:void 0,disabled:A.value,readonly:e.readonly||e.disabledInput,onInput:q,onKeydown:et,onFocus:se,onBlur:ke,onCompositionstart:ue,onCompositionupdate:ue,onCompositionend:ue}),null)]}),Re.value&&_(yo,{class:`${m}-clear-btn`,onClick:Oe,onMousedown:Me=>Me.stopPropagation()},{default:()=>[_(zr,null,null)]}),(n.suffix||!!L.value)&&_("span",{class:`${m}-suffix`},[(re=n.suffix)==null?void 0:re.call(n),!!L.value&&_(cv,{type:L.value},null)])])}}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}});const TR=Object.assign(ty,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+ty.name,ty)}});var Rb=Ae({name:"SelectView",props:{modelValue:{type:Array,required:!0},inputValue:String,placeholder:String,disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},opened:{type:Boolean,default:!1},size:{type:String},bordered:{type:Boolean,default:!0},multiple:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},allowCreate:{type:Boolean,default:!1},allowSearch:{type:Boolean,default:e=>nn(e.modelValue)},maxTagCount:{type:Number,default:0},retainInputValue:{type:Boolean,default:!1}},emits:["remove","clear","focus","blur"],setup(e,{emit:o,slots:n}){const{size:i,disabled:l,error:u}=mt(e),a=Ge("select-view"),{feedback:h,eventHandlers:p,mergedDisabled:m,mergedSize:$,mergedError:T}=Eo({size:i,disabled:l,error:u}),{mergedSize:w}=Wr($),{opened:A}=mt(e),R=ve(),L=O(()=>{var ee;return(ee=R.value)==null?void 0:ee.inputRef}),M=O(()=>e.modelValue.length===0),B=O(()=>e.allowSearch||e.allowCreate),G=O(()=>e.allowClear&&!e.disabled&&!M.value),j=ee=>{var ue,oe;o("focus",ee),(oe=(ue=p.value)==null?void 0:ue.onFocus)==null||oe.call(ue,ee)},F=ee=>{var ue,oe;o("blur",ee),(oe=(ue=p.value)==null?void 0:ue.onBlur)==null||oe.call(ue,ee)},x=ee=>{o("remove",ee)},D=ee=>{o("clear",ee)},U=()=>{var ee,ue,oe,X;return e.loading?(ue=(ee=n["loading-icon"])==null?void 0:ee.call(n))!=null?ue:_(gi,null,null):e.allowSearch&&e.opened?(X=(oe=n["search-icon"])==null?void 0:oe.call(n))!=null?X:_(yC,null,null):n["arrow-icon"]?n["arrow-icon"]():_($g,{class:`${a}-arrow-icon`},null)},te=()=>_(Lt,null,[G.value&&_(yo,{class:`${a}-clear-btn`,onClick:D,onMousedown:ee=>ee.stopPropagation()},{default:()=>[_(zr,null,null)]}),_("span",{class:`${a}-icon`},[U()]),!!h.value&&_(cv,{type:h.value},null)]);At(A,ee=>{!ee&&L.value&&L.value.isSameNode(document.activeElement)&&L.value.blur()});const Y=O(()=>[`${a}-${e.multiple?"multiple":"single"}`,{[`${a}-opened`]:e.opened,[`${a}-borderless`]:!e.bordered}]);return{inputRef:L,handleFocus:j,handleBlur:F,render:()=>e.multiple?_(TR,{ref:R,baseCls:a,class:Y.value,modelValue:e.modelValue,inputValue:e.inputValue,focused:e.opened,placeholder:e.placeholder,disabled:m.value,size:w.value,error:T.value,maxTagCount:e.maxTagCount,disabledInput:!e.allowSearch&&!e.allowCreate,retainInputValue:!0,uninjectFormItemContext:!0,onRemove:x,onFocus:j,onBlur:F},{prefix:n.prefix,suffix:te,tag:n.label}):_(b8,{ref:R,baseCls:a,class:Y.value,modelValue:e.modelValue[0],inputValue:e.inputValue,focused:e.opened,placeholder:e.placeholder,disabled:m.value,size:w.value,error:T.value,enabledInput:B.value,uninjectFormItemContext:!0,onFocus:j,onBlur:F},{default:n.label,prefix:n.prefix,suffix:te})}},methods:{focus(){this.inputRef&&this.inputRef.focus()},blur(){this.inputRef&&this.inputRef.blur()}},render(){return this.render()}});const R8=Ae({name:"Optgroup",props:{label:{type:String}},setup(){return{prefixCls:Ge("select-group")}}});function L8(e,o,n,i,l,u){return W(),fe(Lt,null,[De("li",{class:Z(`${e.prefixCls}-title`)},[Ue(e.$slots,"label",{},()=>[Dt(Mt(e.label),1)])],2),Ue(e.$slots,"default")],64)}var D$=ot(R8,[["render",L8]]);const M8=({dataKeys:e,contentRef:o,fixedSize:n,estimatedSize:i,buffer:l})=>{const u=ve(0),a=new Map,h=O(()=>e.value.length),p=ve(0),m=O(()=>{const U=p.value+l.value*3;return U>h.value?h.value:U}),$=O(()=>{const U=h.value-l.value*3;return U<0?0:U}),T=U=>{U<0?p.value=0:U>$.value?p.value=$.value:p.value=U},w=ve(n.value),A=O(()=>i.value!==30?i.value:u.value||i.value),R=(U,te)=>{a.set(U,te)},L=U=>{var te;if(w.value)return A.value;const Y=e.value[U];return(te=a.get(Y))!=null?te:A.value},M=U=>a.has(U);fn(()=>{const U=Array.from(a.values()).reduce((te,Y)=>te+Y,0);U>0&&(u.value=U/a.size)});const B=U=>w.value?A.value*U:G(0,U),G=(U,te)=>{let Y=0;for(let J=U;J<te;J++)Y+=L(J);return Y},j=O(()=>w.value?A.value*p.value:G(0,p.value)),F=U=>{const te=U>=j.value;let Y=Math.abs(U-j.value);const J=te?p.value:p.value-1;let ee=0;for(;Y>0;)Y-=L(J+ee),te?ee++:ee--;return ee},x=U=>{const te=F(U),Y=p.value+te-l.value;return Y<0?0:Y>$.value?$.value:Y},D=O(()=>w.value?A.value*(h.value-m.value):G(m.value,h.value));return{frontPadding:j,behindPadding:D,start:p,end:m,getStartByScroll:x,setItemSize:R,hasItemSize:M,setStart:T,getScrollOffset:B}};var P8=Ae({name:"VirtualListItem",props:{hasItemSize:{type:Function,required:!0},setItemSize:{type:Function,required:!0}},setup(e,{slots:o}){var n;const i=(n=vi())==null?void 0:n.vnode.key,l=ve(),u=()=>{var a,h,p,m;const $=(h=(a=l.value)==null?void 0:a.$el)!=null?h:l.value,T=(m=(p=$==null?void 0:$.getBoundingClientRect)==null?void 0:p.call($).height)!=null?m:$==null?void 0:$.offsetHeight;T&&e.setItemSize(i,T)};return fn(()=>u()),wr(()=>u()),()=>{var a;const h=Qf((a=o.default)==null?void 0:a.call(o));return h?os(h,{ref:l},!0):null}}}),D8=Object.defineProperty,gO=Object.getOwnPropertySymbols,x8=Object.prototype.hasOwnProperty,B8=Object.prototype.propertyIsEnumerable,mO=(e,o,n)=>o in e?D8(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,F8=(e,o)=>{for(var n in o||(o={}))x8.call(o,n)&&mO(e,n,o[n]);if(gO)for(var n of gO(o))B8.call(o,n)&&mO(e,n,o[n]);return e};const V8=Ae({name:"VirtualList",components:{VirtualListItem:P8},props:{height:{type:[Number,String],default:200},data:{type:Array,default:()=>[]},threshold:{type:Number,default:0},itemKey:{type:String,default:"key"},fixedSize:{type:Boolean,default:!1},estimatedSize:{type:Number,default:30},buffer:{type:Number,default:10},component:{type:[String,Object],default:"div"},listAttrs:{type:Object},contentAttrs:{type:Object},paddingPosition:{type:String,default:"content"}},emits:{scroll:e=>!0,reachBottom:e=>!0},setup(e,{emit:o}){const{data:n,itemKey:i,fixedSize:l,estimatedSize:u,buffer:a,height:h}=mt(e),p=Ge("virtual-list"),m=O(()=>cn(e.component)?F8({container:"div",list:"div",content:"div"},e.component):{container:e.component,list:"div",content:"div"}),$=ve(),T=ve(),w=O(()=>({height:_t(h.value)?`${h.value}px`:h.value,overflow:"auto"})),A=O(()=>n.value.map((ue,oe)=>{var X;return(X=ue[i.value])!=null?X:oe})),{frontPadding:R,behindPadding:L,start:M,end:B,getStartByScroll:G,setItemSize:j,hasItemSize:F,setStart:x,getScrollOffset:D}=M8({dataKeys:A,contentRef:T,fixedSize:l,estimatedSize:u,buffer:a}),U=ve(!0),te=ft({scrollTop:0,scrollHeight:0});At(A,()=>{U.value=!1});const Y=O(()=>e.threshold&&n.value.length<=e.threshold?n.value:n.value.slice(M.value,B.value)),J=ue=>{const{scrollTop:oe,scrollHeight:X,offsetHeight:K}=ue.target;if(U.value){te.scrollTop=oe,te.scrollHeight=X;const q=G(oe);q!==M.value&&x(q),o("scroll",ue),Math.floor(X-(oe+K))<=0&&o("reachBottom",ue)}else X!==te.scrollHeight&&(U.value=!0,setTimeout(()=>{ee(te.scrollTop)},10)),ee(te.scrollTop)},ee=ue=>{var oe,X;if($.value)if(_t(ue))$.value.scrollTop=ue;else{const K=(X=ue.index)!=null?X:A.value.indexOf((oe=ue.key)!=null?oe:"");x(K-a.value),$.value.scrollTop=D(K),Un(()=>{if($.value){const q=D(K);q!==$.value.scrollTop&&($.value.scrollTop=q)}})}};return{prefixCls:p,containerRef:$,contentRef:T,frontPadding:R,currentList:Y,behindPadding:L,onScroll:J,setItemSize:j,hasItemSize:F,start:M,scrollTo:ee,style:w,mergedComponent:m}}});function U8(e,o,n,i,l,u){const a=Pe("VirtualListItem");return W(),Ze(ts(e.mergedComponent.container),{ref:"containerRef",class:Z(e.prefixCls),style:yt(e.style),onScroll:e.onScroll},{default:Je(()=>[(W(),Ze(ts(e.mergedComponent.list),lt(e.listAttrs,{style:e.paddingPosition==="list"?{paddingTop:`${e.frontPadding}px`,paddingBottom:`${e.behindPadding}px`}:{}}),{default:Je(()=>[(W(),Ze(ts(e.mergedComponent.content),lt({ref:"contentRef"},e.contentAttrs,{style:e.paddingPosition==="content"?{paddingTop:`${e.frontPadding}px`,paddingBottom:`${e.behindPadding}px`}:{}}),{default:Je(()=>[(W(!0),fe(Lt,null,Ko(e.currentList,(h,p)=>{var m;return W(),Ze(a,{key:(m=h[e.itemKey])!=null?m:e.start+p,"has-item-size":e.hasItemSize,"set-item-size":e.setItemSize},{default:Je(()=>[Ue(e.$slots,"item",{item:h,index:e.start+p})]),_:2},1032,["has-item-size","set-item-size"])}),128))]),_:3},16,["style"]))]),_:3},16,["style"]))]),_:3},8,["class","style","onScroll"])}var dv=ot(V8,[["render",U8]]);const $O=typeof window>"u"?global:window;function ev(e,o){let n=0;return(...i)=>{n&&$O.clearTimeout(n),n=$O.setTimeout(()=>{n=0,e(...i)},o)}}var H8=Object.defineProperty,G8=Object.defineProperties,z8=Object.getOwnPropertyDescriptors,vO=Object.getOwnPropertySymbols,W8=Object.prototype.hasOwnProperty,j8=Object.prototype.propertyIsEnumerable,_O=(e,o,n)=>o in e?H8(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,b$=(e,o)=>{for(var n in o||(o={}))W8.call(o,n)&&_O(e,n,o[n]);if(vO)for(var n of vO(o))j8.call(o,n)&&_O(e,n,o[n]);return e},X8=(e,o)=>G8(e,z8(o));function K8(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!vo(e)}const Y8={value:"value",label:"label",disabled:"disabled",tagProps:"tagProps",render:"render"};var ny=Ae({name:"Select",components:{Trigger:Or,SelectView:Rb},inheritAttrs:!1,props:{multiple:{type:Boolean,default:!1},modelValue:{type:[String,Number,Object,Array]},defaultValue:{type:[String,Number,Object,Array],default:e=>Gt(e.multiple)?"":[]},inputValue:{type:String},defaultInputValue:{type:String,default:""},size:{type:String},placeholder:String,loading:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},allowSearch:{type:[Boolean,Object],default:e=>!!e.multiple},allowCreate:{type:Boolean,default:!1},maxTagCount:{type:Number,default:0},popupContainer:{type:[String,Object]},bordered:{type:Boolean,default:!0},defaultActiveFirstOption:{type:Boolean,default:!0},popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},unmountOnClose:{type:Boolean,default:!1},filterOption:{type:[Boolean,Function],default:!0},options:{type:Array,default:()=>[]},virtualListProps:{type:Object},triggerProps:{type:Object},formatLabel:{type:Function},fallbackOption:{type:[Boolean,Function],default:!0},showExtraOptions:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},searchDelay:{type:Number,default:500},limit:{type:Number,default:0},fieldNames:{type:Object},scrollbar:{type:[Boolean,Object],default:!0},showHeaderOnEmpty:{type:Boolean,default:!1},showFooterOnEmpty:{type:Boolean,default:!1}},emits:{"update:modelValue":e=>!0,"update:inputValue":e=>!0,"update:popupVisible":e=>!0,change:e=>!0,inputValueChange:e=>!0,popupVisibleChange:e=>!0,clear:e=>!0,remove:e=>!0,search:e=>!0,dropdownScroll:e=>!0,dropdownReachBottom:e=>!0,exceedLimit:(e,o)=>!0},setup(e,{slots:o,emit:n,attrs:i}){const{size:l,disabled:u,error:a,options:h,filterOption:p,valueKey:m,multiple:$,popupVisible:T,showExtraOptions:w,modelValue:A,fieldNames:R,loading:L,defaultActiveFirstOption:M}=mt(e),B=Ge("select"),{mergedSize:G,mergedDisabled:j,mergedError:F,eventHandlers:x}=Eo({size:l,disabled:u,error:a}),D=O(()=>e.virtualListProps?"div":"li"),U=O(()=>cn(e.allowSearch)&&!!e.allowSearch.retainInputValue);O(()=>{if(Ut(e.formatLabel))return me=>{const Se=$e.get(me.value);return e.formatLabel(Se)}});const te=ve(),Y=ve({}),J=ve(),{computedPopupVisible:ee,handlePopupVisibleChange:ue}=T1({popupVisible:T,emit:n}),oe=ve(e.defaultValue),X=O(()=>{var me;const Se=(me=e.modelValue)!=null?me:oe.value;return(nn(Se)?Se:Se||_t(Se)||ir(Se)?[Se]:[]).map(Ke=>({value:Ke,key:Uh(Ke,e.valueKey)}))});At(A,me=>{(Gt(me)||Di(me))&&(oe.value=$.value?[]:me)});const K=O(()=>X.value.map(me=>me.key)),q=O(()=>b$(b$({},Y8),R==null?void 0:R.value)),z=ve(),ne=me=>{const Se={};return me.forEach(xe=>{Se[xe]=$e.get(xe)}),Se},ge=me=>{z.value=ne(me)},Q=me=>Ut(e.fallbackOption)?e.fallbackOption(me):{[q.value.value]:me,[q.value.label]:String(cn(me)?me[m==null?void 0:m.value]:me)},Oe=()=>{const me=[],Se=[];if(e.allowCreate||e.fallbackOption){for(const xe of X.value)if(!Se.includes(xe.key)&&xe.value!==""){const Ke=$e.get(xe.key);(!Ke||Ke.origin==="extraOptions")&&(me.push(xe),Se.push(xe.key))}}if(e.allowCreate&&ke.value){const xe=Uh(ke.value);if(!Se.includes(xe)){const Ke=$e.get(xe);(!Ke||Ke.origin==="extraOptions")&&me.push({value:ke.value,key:xe})}}return me},Re=ve([]),_e=O(()=>Re.value.map(me=>{var Se;let xe=Q(me.value);const Ke=(Se=z.value)==null?void 0:Se[me.key];return!Gt(Ke)&&!A9(Ke)&&(xe=b$(b$({},xe),Ke)),xe}));Un(()=>{Cr(()=>{var me;const Se=Oe();if(Se.length!==Re.value.length)Re.value=Se;else if(Se.length>0){for(let xe=0;xe<Se.length;xe++)if(Se[xe].key!==((me=Re.value[xe])==null?void 0:me.key)){Re.value=Se;break}}})});const se=ve(""),ke=O(()=>{var me;return(me=e.inputValue)!=null?me:se.value});At(ee,me=>{!me&&!U.value&&ke.value&&ut("")});const Be=me=>{var Se,xe;return e.multiple?me.map(Ke=>{var C,k;return(k=(C=$e.get(Ke))==null?void 0:C.value)!=null?k:""}):(xe=(Se=$e.get(me[0]))==null?void 0:Se.value)!=null?xe:c5($e)?void 0:""},et=me=>{var Se,xe;const Ke=Be(me);oe.value=Ke,n("update:modelValue",Ke),n("change",Ke),(xe=(Se=x.value)==null?void 0:Se.onChange)==null||xe.call(Se),ge(me)},ut=me=>{se.value=me,n("update:inputValue",me),n("inputValueChange",me)},dt=(me,Se)=>{if(e.multiple){if(K.value.includes(me)){const xe=K.value.filter(Ke=>Ke!==me);et(xe)}else if(Le.value.includes(me))if(e.limit>0&&K.value.length>=e.limit){const xe=$e.get(me);n("exceedLimit",xe==null?void 0:xe.value,Se)}else{const xe=K.value.concat(me);et(xe)}U.value||ut("")}else{if(me!==K.value[0]&&et([me]),U.value){const xe=$e.get(me);xe&&ut(xe.label)}ue(!1)}},gt=ev(me=>{n("search",me)},e.searchDelay),we=me=>{me!==ke.value&&(ee.value||ue(!0),ut(me),e.allowSearch&&gt(me))},le=me=>{const Se=$e.get(me),xe=K.value.filter(Ke=>Ke!==me);et(xe),n("remove",Se==null?void 0:Se.value)},ce=me=>{me==null||me.stopPropagation();const Se=K.value.filter(xe=>{var Ke;return(Ke=$e.get(xe))==null?void 0:Ke.disabled});et(Se),ut(""),n("clear",me)},re=me=>{n("dropdownScroll",me)},Me=me=>{n("dropdownReachBottom",me)},{validOptions:Ne,optionInfoMap:$e,validOptionInfos:Fe,enabledOptionKeys:Le,handleKeyDown:qe}=NI({multiple:$,options:h,extraOptions:_e,inputValue:ke,filterOption:p,showExtraOptions:w,component:D,valueKey:m,fieldNames:R,loading:L,popupVisible:ee,valueKeys:K,dropdownRef:te,optionRefs:Y,virtualListRef:J,defaultActiveFirstOption:M,onSelect:dt,onPopupVisibleChange:ue}),Xe=O(()=>{var me;const Se=[];for(const xe of X.value){const Ke=$e.get(xe.key);Ke&&Se.push(X8(b$({},Ke),{value:xe.key,label:(me=Ke==null?void 0:Ke.label)!=null?me:String(cn(xe.value)?xe.value[m==null?void 0:m.value]:xe.value),closable:!(Ke!=null&&Ke.disabled),tagProps:Ke==null?void 0:Ke.tagProps}))}return Se}),at=me=>{if(Ut(o.option)){const Se=o.option;return()=>Se({data:me.raw})}return Ut(me.render)?me.render:()=>me.label},Ee=me=>{if(JA(me)){let Se;return _(D$,{key:me.key,label:me.label},K8(Se=me.options.map(xe=>Ee(xe)))?Se:{default:()=>[Se]})}return v1(me,{inputValue:ke.value,filterOption:p==null?void 0:p.value})?_(Lh,{ref:Se=>{Se!=null&&Se.$el&&(Y.value[me.key]=Se.$el)},key:me.key,value:me.value,label:me.label,disabled:me.disabled,internal:!0},{default:at(me)}):null},Ie=()=>_(kI,{ref:te,loading:e.loading,empty:Fe.value.length===0,virtualList:!!e.virtualListProps,scrollbar:e.scrollbar,showHeaderOnEmpty:e.showHeaderOnEmpty,showFooterOnEmpty:e.showFooterOnEmpty,onScroll:re,onReachBottom:Me},{default:()=>{var me,Se;return[...(Se=(me=o.default)==null?void 0:me.call(o))!=null?Se:[],...Ne.value.map(Ee)]},"virtual-list":()=>_(dv,lt(e.virtualListProps,{ref:J,data:Ne.value}),{item:({item:me})=>Ee(me)}),empty:o.empty,header:o.header,footer:o.footer}),he=({data:me})=>{var Se,xe,Ke,C;if((o.label||Ut(e.formatLabel))&&me){const k=$e.get(me.value);if(k!=null&&k.raw)return(Ke=(Se=o.label)==null?void 0:Se.call(o,{data:k.raw}))!=null?Ke:(xe=e.formatLabel)==null?void 0:xe.call(e,k.raw)}return(C=me==null?void 0:me.label)!=null?C:""};return()=>_(Or,lt({trigger:"click",position:"bl",popupOffset:4,animationName:"slide-dynamic-origin",hideEmpty:!0,preventFocus:!0,autoFitPopupWidth:!0,autoFitTransformOrigin:!0,disabled:j.value,popupVisible:ee.value,unmountOnClose:e.unmountOnClose,clickToClose:!(e.allowSearch||e.allowCreate),popupContainer:e.popupContainer,onPopupVisibleChange:ue},e.triggerProps),{default:()=>{var me,Se;return[(Se=(me=o.trigger)==null?void 0:me.call(o))!=null?Se:_(Rb,lt({class:B,modelValue:Xe.value,inputValue:ke.value,multiple:e.multiple,disabled:j.value,error:F.value,loading:e.loading,allowClear:e.allowClear,allowCreate:e.allowCreate,allowSearch:!!e.allowSearch,opened:ee.value,maxTagCount:e.maxTagCount,placeholder:e.placeholder,bordered:e.bordered,size:G.value,onInputValueChange:we,onRemove:le,onClear:ce,onKeydown:qe},i),{label:he,prefix:o.prefix,"arrow-icon":o["arrow-icon"],"loading-icon":o["loading-icon"],"search-icon":o["search-icon"]})]},content:Ie})}});const Lb=Object.assign(ny,{Option:Lh,OptGroup:D$,install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+ny.name,ny),e.component(n+Lh.name,Lh),e.component(n+D$.name,D$)}}),yR=Symbol("RadioGroup");var x0=Ae({name:"Radio",components:{IconHover:yo},props:{modelValue:{type:[String,Number,Boolean],default:void 0},defaultChecked:{type:Boolean,default:!1},value:{type:[String,Number,Boolean],default:!0},type:{type:String,default:"radio"},disabled:{type:Boolean,default:!1},uninjectGroupContext:{type:Boolean,default:!1}},emits:{"update:modelValue":e=>!0,change:(e,o)=>!0},setup(e,{emit:o,slots:n}){const i=Ge("radio"),{modelValue:l}=mt(e),u=e.uninjectGroupContext?void 0:on(yR,void 0),{mergedDisabled:a,eventHandlers:h}=Eo({disabled:Os(e,"disabled")}),p=ve(null),m=ve(e.defaultChecked),$=O(()=>(u==null?void 0:u.name)==="ArcoRadioGroup"),T=O(()=>{var F;return(F=u==null?void 0:u.type)!=null?F:e.type}),w=O(()=>(u==null?void 0:u.disabled)||a.value),A=O(()=>{var F,x;return $.value?(u==null?void 0:u.value)===((F=e.value)!=null?F:!0):Gt(e.modelValue)?m.value:e.modelValue===((x=e.value)!=null?x:!0)});At(l,F=>{(Gt(F)||Di(F))&&(m.value=!1)}),At(A,(F,x)=>{F!==x&&(m.value=F,p.value&&(p.value.checked=F))});const R=F=>{var x,D;(D=(x=h.value)==null?void 0:x.onFocus)==null||D.call(x,F)},L=F=>{var x,D;(D=(x=h.value)==null?void 0:x.onBlur)==null||D.call(x,F)},M=F=>{F.stopPropagation()},B=F=>{var x,D,U,te,Y;m.value=!0,$.value?u==null||u.handleChange((x=e.value)!=null?x:!0,F):(o("update:modelValue",(D=e.value)!=null?D:!0),o("change",(U=e.value)!=null?U:!0,F),(Y=(te=h.value)==null?void 0:te.onChange)==null||Y.call(te,F)),Un(()=>{p.value&&p.value.checked!==A.value&&(p.value.checked=A.value)})},G=O(()=>[`${T.value==="button"?`${i}-button`:i}`,{[`${i}-checked`]:A.value,[`${i}-disabled`]:w.value}]),j=()=>_(Lt,null,[_(Pe("icon-hover"),{class:`${i}-icon-hover`,disabled:w.value||A.value},{default:()=>[_("span",{class:`${i}-icon`},null)]}),n.default&&_("span",{class:`${i}-label`},[n.default()])]);return()=>{var F,x,D,U;return _("label",{class:G.value},[_("input",{ref:p,type:"radio",checked:A.value,value:e.value,class:`${i}-target`,disabled:w.value,onClick:M,onChange:B,onFocus:R,onBlur:L},null),T.value==="radio"?(U=(D=(x=n.radio)!=null?x:(F=u==null?void 0:u.slots)==null?void 0:F.radio)==null?void 0:D({checked:A.value,disabled:w.value}))!=null?U:j():_("span",{class:`${i}-button-content`},[n.default&&n.default()])])}}}),B0=Ae({name:"RadioGroup",props:{modelValue:{type:[String,Number,Boolean],default:void 0},defaultValue:{type:[String,Number,Boolean],default:""},type:{type:String,default:"radio"},size:{type:String},options:{type:Array},direction:{type:String,default:"horizontal"},disabled:{type:Boolean,default:!1}},emits:{"update:modelValue":e=>!0,change:(e,o)=>!0},setup(e,{emit:o,slots:n}){const i=Ge("radio-group"),{size:l,type:u,disabled:a,modelValue:h}=mt(e),{mergedDisabled:p,mergedSize:m,eventHandlers:$}=Eo({size:l,disabled:a}),T=ve(e.defaultValue),w=O(()=>{var B;return(B=e.modelValue)!=null?B:T.value}),A=O(()=>{var B;return((B=e.options)!=null?B:[]).map(G=>ir(G)||_t(G)?{label:G,value:G}:G)});Ln(yR,ft({name:"ArcoRadioGroup",value:w,size:m,type:u,disabled:p,slots:n,handleChange:(B,G)=>{var j,F;T.value=B,o("update:modelValue",B),o("change",B,G),(F=(j=$.value)==null?void 0:j.onChange)==null||F.call(j,G)}})),At(w,B=>{T.value!==B&&(T.value=B)}),At(h,B=>{(Gt(B)||Di(B))&&(T.value="")});const L=O(()=>[`${i}${e.type==="button"?"-button":""}`,`${i}-size-${m.value}`,`${i}-direction-${e.direction}`,{[`${i}-disabled`]:p.value}]),M=()=>A.value.map(B=>_(x0,{key:B.value,value:B.value,disabled:B.disabled,modelValue:w.value===B.value},{default:()=>[n.label?n.label({data:B}):Ut(B.label)?B.label():B.label]}));return()=>{var B;return _("span",{class:L.value},[A.value.length>0?M():(B=n.default)==null?void 0:B.call(n)])}}});const sg=Object.assign(x0,{Group:B0,install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+x0.name,x0),e.component(n+B0.name,B0)}}),Q8=Ae({name:"IconLeft",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-left`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),q8=["stroke-width","stroke-linecap","stroke-linejoin"],Z8=De("path",{d:"M32 8.4 16.444 23.956 32 39.513"},null,-1),J8=[Z8];function e7(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},J8,14,q8)}var oy=ot(Q8,[["render",e7]]);const Hu=Object.assign(oy,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+oy.name,oy)}});function t7(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!vo(e)}function bO(e){return e.parentElement}var n7=Ae({name:"Header",props:{mode:{type:String},dayStartOfWeek:{type:Number},isWeek:{type:Boolean},panel:{type:Boolean},modes:{type:Array},headerType:{type:String},pageShowData:{type:Object,required:!0},move:{type:Function,required:!0},onYearChange:{type:Function,required:!0},onMonthChange:{type:Function,required:!0},changePageShowDate:{type:Function,required:!0},onModeChange:{type:Function,required:!0},headerValueFormat:{type:String,required:!0}},emits:["yearChange","monthChange"],setup(e){const o=Ge("calendar"),{t:n}=Lo(),i=nn(e.modes)?e.modes.map(m=>({label:n(`datePicker.view.${m}`),value:m})):[],l=e.headerType==="select",u=e.pageShowData.year(),a=e.pageShowData.month()+1,h=O(()=>{const m=[u];for(let $=1;$<=10;$++)m.unshift(u-$);for(let $=1;$<10;$++)m.push(u+$);return m}),p=[1,2,3,4,5,6,7,8,9,10,11,12];return()=>{let m;return _("div",{class:`${o}-header`},[_("div",{class:`${o}-header-left`},[l?_(Lt,null,[_(Lb,{size:"small",class:`${o}-header-value-year`,value:u,options:h.value,onChange:e.onYearChange,getPopupContainer:bO},null),e.mode==="month"&&_(Lb,{size:"small",class:`${o}-header-value-month`,value:a,options:p,onChange:e.onMonthChange,getPopupContainer:bO},null)]):_(Lt,null,[_("div",{class:`${o}-header-icon`,role:"button",tabIndex:0,onClick:()=>e.changePageShowDate("prev",e.mode)},[_(Hu,null,null)]),_("div",{class:`${o}-header-value`},[e.pageShowData.format(e.headerValueFormat)]),_("div",{role:"button",tabIndex:0,class:`${o}-header-icon`,onClick:()=>e.changePageShowDate("next",e.mode)},[_(Bl,null,null)])]),_(mi,{size:"small",onClick:()=>e.move(Ur())},t7(m=n("datePicker.today"))?m:{default:()=>[m]})]),_("div",{class:`${o}-header-right`},[_(sg.Group,{size:"small",type:"button",options:i,onChange:e.onModeChange,modelValue:e.mode},null)])])}}});function o7(e,o){return e==="month"||e==="year"&&!o?"YYYY-MM-DD":"YYYY-MM"}var ry=Ae({name:"Calendar",props:{modelValue:{type:Date,default:void 0},defaultValue:{type:Date},mode:{type:String},defaultMode:{type:String,default:"month"},modes:{type:Array,default:()=>["month","year"]},allowSelect:{type:Boolean,default:!0},panel:{type:Boolean,default:!1},panelWidth:{type:Number},panelTodayBtn:{type:Boolean,default:!1},dayStartOfWeek:{type:Number,default:0},isWeek:{type:Boolean,default:!1}},emits:{"update:modelValue":e=>!0,change:e=>!0,panelChange:e=>!0},setup(e,{emit:o}){const{dayStartOfWeek:n,isWeek:i}=mt(e),l=Ge("calendar"),u=ve(e.defaultMode),{t:a}=Lo(),h=O(()=>e.mode?e.mode:u.value),p=o7(h.value,e.panel),m=ve(ws(e.defaultValue||Date.now(),p)),$=O(()=>e.modelValue?ws(e.modelValue,p):m.value),T=ve($.value||Ur()),w=O(()=>mR(T.value,{dayStartOfWeek:n.value,isWeek:i.value}));function A(U){T.value=U,o("panelChange",U.toDate())}function R(U){m.value=U,o("change",U.toDate()),o("update:modelValue",U.toDate()),A(U)}function L(U,te=!1){te||R(U)}let M="";h.value==="month"?M=a("calendar.formatMonth"):h.value==="year"&&(M=a("calendar.formatYear"));function B(U,te){U==="prev"&&(T.value=dr.subtract(T.value,1,te)),U==="next"&&(T.value=dr.add(T.value,1,te)),o("panelChange",T.value.toDate())}function G(U){const te=dr.set(T.value,"year",U);T.value=te,o("panelChange",te.toDate())}function j(U){const te=dr.set(T.value,"month",U-1);T.value=te,o("panelChange",te.toDate())}function F(U){u.value=U}const x=O(()=>[l,h.value==="month"?`${l}-mode-month`:`${l}-mode-year`,{[`${l}-panel`]:e.panel&&(h.value==="month"||h.value==="year")}]),D=e.panel?{width:e.panelWidth}:{};return()=>_("div",lt({class:x.value,style:D},o8(e)),[_(n7,{move:R,headerValueFormat:M,modes:["month","year"],mode:h.value,pageShowData:T.value,dayStartOfWeek:e.dayStartOfWeek,isWeek:e.isWeek,onModeChange:F,onYearChange:G,onMonthChange:j,changePageShowDate:B},null),h.value==="month"&&_("div",{class:`${l}-body`},[_($R,{key:T.value.month(),pageData:w.value,value:$.value,mode:h.value,selectHandler:L,isWeek:e.isWeek,dayStartOfWeek:e.dayStartOfWeek,pageShowDate:T.value},null)]),h.value==="year"&&_("div",{class:`${l}-body`},[_(v8,{key:T.value.year(),pageData:w.value,pageShowData:T.value,mode:h.value,isWeek:e.isWeek,value:$.value,dayStartOfWeek:e.dayStartOfWeek,selectHandler:L},null)]),e.panel&&e.panelTodayBtn&&_("div",{class:`${l}-footer-btn-wrapper`},[a("today")])])}});const ER=Object.assign(ry,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+ry.name,ry)}}),xI=Symbol("ArcoCard");var iy=Ae({name:"Card",components:{Spin:Dl},props:{bordered:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},hoverable:{type:Boolean,default:!1},size:{type:String},headerStyle:{type:Object,default:()=>({})},bodyStyle:{type:Object,default:()=>({})},title:{type:String},extra:{type:String}},setup(e,{slots:o}){const n=Ge("card"),{size:i}=mt(e),{mergedSize:l}=Wr(i),u=O(()=>l.value==="small"||l.value==="mini"?"small":"medium"),a=m=>{const $=Oa(m);return _("div",{class:`${n}-actions`},[_("div",{class:`${n}-actions-right`},[$.map((T,w)=>_("span",{key:`action-${w}`,class:`${n}-actions-item`},[T]))])])},h=ft({hasMeta:!1,hasGrid:!1,slots:o,renderActions:a});Ln(xI,h);const p=O(()=>[n,`${n}-size-${u.value}`,{[`${n}-loading`]:e.loading,[`${n}-bordered`]:e.bordered,[`${n}-hoverable`]:e.hoverable,[`${n}-contain-grid`]:h.hasGrid}]);return()=>{var m,$,T,w,A,R,L;const M=!!((m=o.title)!=null?m:e.title),B=!!(($=o.extra)!=null?$:e.extra);return _("div",{class:p.value},[(M||B)&&_("div",{class:[`${n}-header`,{[`${n}-header-no-title`]:!M}],style:e.headerStyle},[M&&_("div",{class:`${n}-header-title`},[(w=(T=o.title)==null?void 0:T.call(o))!=null?w:e.title]),B&&_("div",{class:`${n}-header-extra`},[(R=(A=o.extra)==null?void 0:A.call(o))!=null?R:e.extra])]),o.cover&&_("div",{class:`${n}-cover`},[o.cover()]),_("div",{class:`${n}-body`,style:e.bodyStyle},[e.loading?_(Dl,null,null):(L=o.default)==null?void 0:L.call(o),o.actions&&!h.hasMeta&&a(o.actions())])])}}}),F0=Ae({name:"CardMeta",props:{title:{type:String},description:{type:String}},setup(e,{slots:o}){const n=Ge("card-meta"),i=on(xI);return fn(()=>{i&&(i.hasMeta=!0)}),()=>{var l,u,a,h,p,m;const $=!!((l=o.title)!=null?l:e.title),T=!!((u=o.description)!=null?u:e.description);return _("div",{class:n},[($||T)&&_("div",{class:`${n}-content`},[$&&_("div",{class:`${n}-title`},[(h=(a=o.title)==null?void 0:a.call(o))!=null?h:e.title]),T&&_("div",{class:`${n}-description`},[(m=(p=o.description)==null?void 0:p.call(o))!=null?m:e.description])]),(o.avatar||(i==null?void 0:i.slots.actions))&&_("div",{class:[`${n}-footer `,{[`${n}-footer-only-actions`]:!o.avatar}]},[o.avatar&&_("div",{class:`${n}-avatar`},[o.avatar()]),i&&i.slots.actions&&i.renderActions(i.slots.actions())])])}}});const r7=Ae({name:"CardGrid",props:{hoverable:{type:Boolean,default:!1}},setup(e){const o=Ge("card-grid"),n=on(xI);return fn(()=>{n&&(n.hasGrid=!0)}),{cls:O(()=>[o,{[`${o}-hoverable`]:e.hoverable}])}}});function i7(e,o,n,i,l,u){return W(),fe("div",{class:Z(e.cls)},[Ue(e.$slots,"default")],2)}var V0=ot(r7,[["render",i7]]);const s7=Object.assign(iy,{Meta:F0,Grid:V0,install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+iy.name,iy),e.component(n+F0.name,F0),e.component(n+V0.name,V0)}}),l7=Ae({name:"Indicator",props:{count:{type:Number,default:2},activeIndex:{type:Number,default:0},type:{type:String,default:"line"},position:{type:String,default:"bottom"},trigger:{type:String,default:"click"}},emits:["select"],setup(e,{emit:o}){const n=Ge("carousel-indicator"),i=h=>{var p;if(h.preventDefault(),e.type==="slider"){const m=h.offsetX,$=h.currentTarget.clientWidth;if(h.target===h.currentTarget){const T=Math.floor(m/$*e.count);T!==e.activeIndex&&o("select",T)}}else{const m=Number.parseInt((p=h.target.getAttribute("data-index"))!=null?p:"",10);!Number.isNaN(m)&&m!==e.activeIndex&&o("select",m)}},l=O(()=>e.trigger==="click"?{onClick:i}:{onMouseover:i}),u=O(()=>[`${n}`,`${n}-${e.type}`,`${n}-${e.position}`]),a=O(()=>{const h=100/e.count;return{width:`${h}%`,left:`${e.activeIndex*h}%`}});return{prefixCls:n,eventHandlers:l,cls:u,sliderStyle:a}}}),a7=["data-index"];function u7(e,o,n,i,l,u){return W(),fe("div",lt({class:e.cls},e.eventHandlers),[e.type==="slider"?(W(),fe("span",{key:0,style:yt(e.sliderStyle),class:Z([`${e.prefixCls}-item`,`${e.prefixCls}-item-active`])},null,6)):(W(!0),fe(Lt,{key:1},Ko(Array(e.count),(a,h)=>(W(),fe("span",{key:h,"data-index":h,class:Z([`${e.prefixCls}-item`,{[`${e.prefixCls}-item-active`]:h===e.activeIndex}])},null,10,a7))),128))],16)}var c7=ot(l7,[["render",u7]]);const d7=Ae({name:"IconUp",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-up`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),h7=["stroke-width","stroke-linecap","stroke-linejoin"],p7=De("path",{d:"M39.6 30.557 24.043 15 8.487 30.557"},null,-1),f7=[p7];function g7(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},f7,14,h7)}var sy=ot(d7,[["render",g7]]);const BI=Object.assign(sy,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+sy.name,sy)}}),m7=Ae({name:"Arrow",components:{IconUp:BI,IconDown:$g,IconLeft:Hu,IconRight:Bl},props:{direction:{type:String,default:"horizontal"},showArrow:{type:String,default:"always"}},emits:["previousClick","nextClick"],setup(e,{emit:o}){const n=Ge("carousel"),i=a=>{o("previousClick",a)},l=a=>{o("nextClick",a)},u=O(()=>[`${n}-arrow`,{[`${n}-arrow-hover`]:e.showArrow==="hover"}]);return{prefixCls:n,cls:u,onPreviousClick:i,onNextClick:l}}});function $7(e,o,n,i,l,u){const a=Pe("IconLeft"),h=Pe("IconUp"),p=Pe("IconRight"),m=Pe("IconDown");return W(),fe("div",{class:Z(e.cls)},[De("div",{class:Z(`${e.prefixCls}-arrow-${e.direction==="vertical"?"top":"left"}`),onClick:o[0]||(o[0]=(...$)=>e.onPreviousClick&&e.onPreviousClick(...$))},[e.direction==="horizontal"?(W(),Ze(a,{key:0})):(W(),Ze(h,{key:1}))],2),De("div",{class:Z(`${e.prefixCls}-arrow-${e.direction==="vertical"?"bottom":"right"}`),onClick:o[1]||(o[1]=(...$)=>e.onNextClick&&e.onNextClick(...$))},[e.direction==="horizontal"?(W(),Ze(p,{key:0})):(W(),Ze(m,{key:1}))],2)],2)}var v7=ot(m7,[["render",$7]]);const CR=Symbol("ArcoCarousel"),hv=e=>{const o={},n=ve([]),i=()=>{if(o.value){const l=VA(o.value,e);(l.length!==n.value.length||l.toString()!==n.value.toString())&&(n.value=l)}};return fn(()=>i()),$i(()=>i()),{children:o,components:n}};var _7=Object.defineProperty,TO=Object.getOwnPropertySymbols,b7=Object.prototype.hasOwnProperty,T7=Object.prototype.propertyIsEnumerable,yO=(e,o,n)=>o in e?_7(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,EO=(e,o)=>{for(var n in o||(o={}))b7.call(o,n)&&yO(e,n,o[n]);if(TO)for(var n of TO(o))T7.call(o,n)&&yO(e,n,o[n]);return e};const CO={interval:3e3,hoverToPause:!0};function ly(e,o){const n=+e;return typeof n=="number"&&!Number.isNaN(n)?(n+o)%o:e}var ay=Ae({name:"Carousel",props:{current:{type:Number},defaultCurrent:{type:Number,default:1},autoPlay:{type:[Boolean,Object],default:!1},moveSpeed:{type:Number,default:500},animationName:{type:String,default:"slide"},trigger:{type:String,default:"click"},direction:{type:String,default:"horizontal"},showArrow:{type:String,default:"always"},arrowClass:{type:String,default:""},indicatorType:{type:String,default:"dot"},indicatorPosition:{type:String,default:"bottom"},indicatorClass:{type:String,default:""},transitionTimingFunction:{type:String,default:"cubic-bezier(0.34, 0.69, 0.1, 1)"}},emits:{"update:current":e=>!0,change:(e,o,n)=>!0},setup(e,{emit:o,slots:n}){const{current:i,animationName:l,moveSpeed:u,transitionTimingFunction:a}=mt(e),h=Ge("carousel"),p=ve(!1),m=ve(),$=ve(),T=O(()=>cn(e.autoPlay)?EO(EO({},CO),e.autoPlay):e.autoPlay?CO:{});let w=0,A=0;const{children:R,components:L}=hv("CarouselItem"),M=ve(e.defaultCurrent-1),B=O(()=>{const X=L.value.length,K=_t(i.value)?ly(i.value-1,X):M.value,q=ly(K-1,X),z=ly(K+1,X);return{mergedIndex:K,mergedPrevIndex:q,mergedNextIndex:z}}),G=ft({items:L,slideTo:F,mergedIndexes:B,previousIndex:m,animationName:l,slideDirection:$,transitionTimingFunction:a,moveSpeed:u});Ln(CR,G);const j=()=>{w&&window.clearInterval(w)};Cr(()=>{var X;const{interval:K}=T.value||{},{mergedNextIndex:q}=B.value,z=((X=L.value)==null?void 0:X.length)>1&&!p.value&&!!K;j(),z&&(w=window.setInterval(()=>{F({targetIndex:q})},K))}),wr(()=>{j()});function F({targetIndex:X,isNegative:K=!1,isManual:q=!1}){!A&&X!==B.value.mergedIndex&&(m.value=M.value,M.value=X,$.value=K?"negative":"positive",A=window.setTimeout(()=>{A=0},u.value),o("update:current",M.value+1),o("change",M.value+1,m.value+1,q))}const x=()=>F({targetIndex:B.value.mergedPrevIndex,isNegative:!0,isManual:!0}),D=()=>F({targetIndex:B.value.mergedNextIndex,isManual:!0}),U=X=>F({targetIndex:X,isNegative:X<B.value.mergedIndex,isManual:!0}),te=O(()=>T.value.hoverToPause?{onMouseenter:()=>{p.value=!0},onMouseleave:()=>{p.value=!1}}:{}),Y=O(()=>e.indicatorType!=="never"&&L.value.length>1),J=O(()=>e.showArrow!=="never"&&L.value.length>1),ee=O(()=>[h,`${h}-indicator-position-${e.indicatorPosition}`]),ue=O(()=>[`${h}-${e.animationName}`,`${h}-${e.direction}`,{[`${h}-negative`]:$.value==="negative"}]),oe=O(()=>[`${h}-indicator-wrapper`,`${h}-indicator-wrapper-${e.indicatorPosition}`]);return()=>{var X;return R.value=(X=n.default)==null?void 0:X.call(n),_("div",lt({class:ee.value},te.value),[_("div",{class:ue.value},[R.value]),Y.value&&_("div",{class:oe.value},[_(c7,{class:e.indicatorClass,type:e.indicatorType,count:L.value.length,activeIndex:B.value.mergedIndex,position:e.indicatorPosition,trigger:e.trigger,onSelect:U},null)]),J.value&&_(v7,{class:e.arrowClass,direction:e.direction,showArrow:e.showArrow,onPreviousClick:x,onNextClick:D},null)])}}});const y7=Ae({name:"CarouselItem",setup(){const e=Ge("carousel-item"),o=vi(),n=on(CR,{}),i=O(()=>{var h,p,m;return(m=(p=n.items)==null?void 0:p.indexOf((h=o==null?void 0:o.uid)!=null?h:-1))!=null?m:-1}),l=O(()=>{var h;return((h=n.mergedIndexes)==null?void 0:h.mergedIndex)===i.value}),u=O(()=>{const{previousIndex:h,animationName:p,slideDirection:m,mergedIndexes:$}=n;return{[`${e}-prev`]:i.value===($==null?void 0:$.mergedPrevIndex),[`${e}-next`]:i.value===($==null?void 0:$.mergedNextIndex),[`${e}-current`]:l.value,[`${e}-slide-in`]:p==="slide"&&m&&l.value,[`${e}-slide-out`]:p==="slide"&&m&&i.value===h}}),a=O(()=>{const{transitionTimingFunction:h,moveSpeed:p}=n;return{transitionTimingFunction:h,transitionDuration:`${p}ms`,animationTimingFunction:h,animationDuration:`${p}ms`}});return{cls:u,animationStyle:a,isCurrent:l}}}),E7=["aria-hidden"];function C7(e,o,n,i,l,u){return W(),fe("div",{"aria-hidden":!e.isCurrent,class:Z(e.cls),style:yt(e.animationStyle)},[Ue(e.$slots,"default")],14,E7)}var U0=ot(y7,[["render",C7]]);const I7=Object.assign(ay,{Item:U0,install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+ay.name,ay),e.component(n+U0.name,U0)}}),IR=(e,{optionMap:o,leafOptionMap:n,leafOptionSet:i,leafOptionValueMap:l,totalLevel:u,checkStrictly:a,enabledLazyLoad:h,lazyLoadOptions:p,valueKey:m,fieldNames:$})=>{let T=0;const w=(R,L,M)=>{var B;const G=(B=L==null?void 0:L.path)!=null?B:[];return T=Math.max(T,M??1),R.map((j,F)=>{var x;const D=j[$.value],U={raw:j,value:D,label:(x=j[$.label])!=null?x:String(D),disabled:!!j[$.disabled],selectionDisabled:!1,render:j[$.render],tagProps:j[$.tagProps],isLeaf:j[$.isLeaf],level:G.length,index:F,key:"",valueKey:String(cn(D)?D[m.value]:D),parent:L,path:[],pathValue:[]},te=G.concat(U),Y=[],J=te.map(ee=>(Y.push(ee.value),ee.valueKey)).join("-");return U.path=te,U.pathValue=Y,U.key=J,j[$.children]?(U.isLeaf=!1,U.children=w(j[$.children],U,(M??1)+1)):h&&!U.isLeaf?(U.isLeaf=!1,p[J]&&(U.children=w(p[J],U,(M??1)+1))):U.isLeaf=!0,U.children&&!U.disabled&&(U.totalLeafOptions=U.children.reduce((ee,ue)=>_t(ue.totalLeafOptions)?ee+ue.totalLeafOptions:ue.disabled||ue.selectionDisabled?ee:ee+(ue.isLeaf?1:0),0),U.totalLeafOptions===0&&!a.value&&(U.selectionDisabled=!0)),o.set(U.key,U),(U.isLeaf||a.value)&&(i.add(U),n.set(U.key,U),l.has(U.valueKey)||l.set(U.valueKey,U.key)),U})},A=w(e);return u.value=T,A},FI=(e,o)=>{var n,i;let l=!1,u=!1;if(e.isLeaf)o!=null&&o.has(e.key)&&(l=!0);else{const a=new RegExp(`^${e.key}(-|$)`),h=Array.from((n=o==null?void 0:o.keys())!=null?n:[]).reduce((p,m)=>a.test(m)?p+1:p,0);h>0&&h>=((i=e.totalLeafOptions)!=null?i:1)?l=!0:h>0&&(u=!0)}return{checked:l,indeterminate:u}},VI=e=>{const o=[];if(e.isLeaf)o.push(e.key);else if(e.children)for(const n of e.children)o.push(...VI(n));return o},UI=e=>{const o=[];if(e.disabled||e.selectionDisabled)return o;if(e.isLeaf)o.push(e);else if(e.children)for(const n of e.children)o.push(...UI(n));return o},SR=(e,{valueKey:o,leafOptionValueMap:n})=>{var i;if(nn(e))return e.map(u=>cn(u)?u[o]:u).join("-");const l=cn(e)?e[o]:e;return(i=n.get(String(l)))!=null?i:String(l)},OR=(e,{multiple:o,pathMode:n})=>nn(e)?n&&!o&&e.length>0&&!nn(e[0])?[e]:e:Gt(e)||Di(e)||e===""?[]:[e],kR=e=>e.path.map(o=>o.label).join(" / "),HI=Symbol("ArcoCascader");var CC=Ae({name:"CascaderOption",props:{option:{type:Object,required:!0},active:Boolean,multiple:Boolean,checkStrictly:Boolean,searchOption:Boolean,pathLabel:Boolean},setup(e){const o=Ge("cascader-option"),n=on(HI,{}),i=ve(!1),l={},u=$=>{var T;if(Ut(n.loadMore)&&!e.option.isLeaf){const{isLeaf:w,children:A,key:R}=e.option;!w&&!A&&(i.value=!0,new Promise(L=>{var M;(M=n.loadMore)==null||M.call(n,e.option.raw,L)}).then(L=>{var M;i.value=!1,L&&((M=n.addLazyLoadOptions)==null||M.call(n,L,R))}))}(T=n.setSelectedPath)==null||T.call(n,e.option.key)};e.option.disabled||(l.onMouseenter=[()=>{var $;return($=n.setActiveKey)==null?void 0:$.call(n,e.option.key)}],l.onMouseleave=()=>{var $;return($=n.setActiveKey)==null?void 0:$.call(n)},l.onClick=[],n.expandTrigger==="hover"?l.onMouseenter.push($=>u()):l.onClick.push($=>u()),e.option.isLeaf&&!e.multiple&&l.onClick.push($=>{var T;u(),(T=n.onClickOption)==null||T.call(n,e.option)}));const a=O(()=>[o,{[`${o}-active`]:e.active,[`${o}-disabled`]:e.option.disabled}]),h=O(()=>{var $;return e.checkStrictly?{checked:($=n.valueMap)==null?void 0:$.has(e.option.key),indeterminate:!1}:FI(e.option,n.valueMap)}),p=()=>{var $,T,w;return e.pathLabel?(T=($=n==null?void 0:n.formatLabel)==null?void 0:$.call(n,e.option.path.map(A=>A.raw)))!=null?T:kR(e.option):(w=n.slots)!=null&&w.option?n.slots.option({data:e.option}):Ut(e.option.render)?e.option.render():e.option.label},m=()=>i.value?_(gi,null,null):!e.searchOption&&!e.option.isLeaf?_(Bl,null,null):null;return()=>{var $;return _("li",lt({tabindex:"0",role:"menuitem","aria-disabled":e.option.disabled,"aria-haspopup":!e.option.isLeaf,"aria-expanded":!e.option.isLeaf&&e.active,title:e.option.label,class:a.value},l),[e.multiple&&_(Ml,{modelValue:h.value.checked,indeterminate:h.value.indeterminate,disabled:e.option.disabled||e.option.selectionDisabled,uninjectGroupContext:!0,onChange:(T,w)=>{var A;w.stopPropagation(),u(),(A=n.onClickOption)==null||A.call(n,e.option,!h.value.checked)},onClick:T=>T.stopPropagation()},null),e.checkStrictly&&!e.multiple&&_(sg,{modelValue:($=n.valueMap)==null?void 0:$.has(e.option.key),disabled:e.option.disabled,uninjectGroupContext:!0,onChange:(T,w)=>{var A;w.stopPropagation(),u(),(A=n.onClickOption)==null||A.call(n,e.option,!0)},onClick:T=>T.stopPropagation()},null),_("div",{class:`${o}-label`},[p(),m()])])}}}),S7=Ae({name:"CascaderColumn",props:{column:{type:Array,required:!0},level:{type:Number,default:0},selectedPath:{type:Array,required:!0},activeKey:String,totalLevel:{type:Number,required:!0},multiple:Boolean,checkStrictly:Boolean,virtualListProps:{type:Object}},setup(e,{slots:o}){const n=Ge("cascader"),i=on(Gr,void 0),l=ve(),u=ve(!!e.virtualListProps),a=()=>{var h,p,m,$,T;return(T=($=(h=o.empty)==null?void 0:h.call(o))!=null?$:(m=i==null?void 0:(p=i.slots).empty)==null?void 0:m.call(p,{component:"cascader"}))!=null?T:_(Uu,null,null)};return()=>{var h;return _("div",{class:`${n}-panel-column`,style:{zIndex:e.totalLevel-e.level}},[u.value?_(dv,lt({key:(h=e.column)==null?void 0:h.length},e.virtualListProps,{ref:l,data:e.column}),{item:({item:p})=>_(CC,{key:p.key,option:p,active:e.selectedPath.includes(p.key)||p.key===e.activeKey,multiple:e.multiple,checkStrictly:e.checkStrictly},null)}):_(Na,{class:`${n}-column-content`},{default:()=>[e.column.length===0?_("div",{class:`${n}-list-empty`},[a()]):_("ul",{role:"menu",class:[`${n}-list`,{[`${n}-list-multiple`]:!!(e!=null&&e.multiple),[`${n}-list-strictly`]:!!(e!=null&&e.checkStrictly)}]},[e.column.map(p=>_(CC,{key:p.key,option:p,active:e.selectedPath.includes(p.key)||p.key===e.activeKey,multiple:e.multiple,checkStrictly:e.checkStrictly},null))])]})])}}});function O7(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!vo(e)}var wR=Ae({name:"BaseCascaderPanel",props:{displayColumns:{type:Array,required:!0},selectedPath:{type:Array,required:!0},activeKey:String,totalLevel:{type:Number,required:!0},multiple:Boolean,checkStrictly:Boolean,loading:Boolean,dropdown:Boolean,virtualListProps:{type:Object}},setup(e,{slots:o}){const n=Ge("cascader"),i=on(Gr,void 0),l=()=>{var a,h,p,m,$;return($=(m=(a=o.empty)==null?void 0:a.call(o))!=null?m:(p=i==null?void 0:(h=i.slots).empty)==null?void 0:p.call(h,{component:"cascader"}))!=null?$:_(Uu,null,null)},u=()=>e.loading?_("div",{key:"panel-column-loading",class:[`${n}-panel-column`,`${n}-panel-column-loading`]},[_(Dl,null,null)]):e.displayColumns.length===0?_("div",{key:"panel-column-empty",class:`${n}-panel-column`},[_("div",{class:`${n}-list-empty`},[l()])]):e.displayColumns.map((a,h)=>_(S7,{key:`column-${h}`,column:a,level:h,selectedPath:e.selectedPath,activeKey:e.activeKey,totalLevel:e.totalLevel,multiple:e.multiple,checkStrictly:e.checkStrictly,virtualListProps:e.virtualListProps},null));return()=>{let a;return _(rv,{tag:"div",name:"cascader-slide",class:[`${n}-panel`,{[`${n}-dropdown-panel`]:e.dropdown}]},O7(a=u())?a:{default:()=>[a]})}}});function k7(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!vo(e)}var w7=Ae({name:"CascaderSearchPanel",props:{options:{type:Array,required:!0},loading:Boolean,activeKey:String,multiple:Boolean,checkStrictly:Boolean,pathLabel:Boolean},setup(e,{slots:o}){const n=Ge("cascader"),i=on(Gr,void 0),l=()=>{var u,a,h,p,m;return e.loading?_(Dl,null,null):e.options.length===0?_("div",{class:`${n}-list-empty`},[(m=(p=(u=o.empty)==null?void 0:u.call(o))!=null?p:(h=i==null?void 0:(a=i.slots).empty)==null?void 0:h.call(a,{component:"cascader"}))!=null?m:_(Uu,null,null)]):_("ul",{role:"menu",class:[`${n}-list`,`${n}-search-list`,{[`${n}-list-multiple`]:e.multiple}]},[e.options.map($=>_(CC,{key:$.key,class:`${n}-search-option`,option:$,active:$.key===e.activeKey,multiple:e.multiple,checkStrictly:e.checkStrictly,pathLabel:e.pathLabel,searchOption:!0},null))])};return()=>{let u;return _(Na,{class:[`${n}-panel`,`${n}-search-panel`]},k7(u=l())?u:{default:()=>[u]})}}});const NR=(e,{optionMap:o,filteredLeafOptions:n,showSearchPanel:i,expandChild:l})=>{const u=ve(),a=O(()=>{if(u.value)return o.get(u.value)}),h=ve([]),p=O(()=>{const R=[e.value];for(const L of h.value){const M=o.get(L);M!=null&&M.children&&R.push(M.children)}return R}),m=R=>{var L;const M=w(R);h.value=(L=M==null?void 0:M.path.map(B=>B.key))!=null?L:[]},$=R=>{u.value=R},T=O(()=>{var R;return i!=null&&i.value?n.value.filter(L=>!L.disabled):a.value&&a.value.parent?(R=a.value.parent.children)==null?void 0:R.filter(L=>!L.disabled):e.value.filter(L=>!L.disabled)}),w=R=>{let L=R?o.get(R):void 0;if(l.value)for(;L&&L.children&&L.children.length>0;)L=L.children[0];return L};return{activeKey:u,activeOption:a,selectedPath:h,displayColumns:p,setActiveKey:$,setSelectedPath:m,getNextActiveNode:R=>{var L,M,B,G,j,F,x;const D=(M=(L=T.value)==null?void 0:L.length)!=null?M:0;if(u.value){const U=(G=(B=T.value)==null?void 0:B.findIndex(te=>te.key===u.value))!=null?G:0;return R==="next"?(j=T.value)==null?void 0:j[(D+U+1)%D]:(F=T.value)==null?void 0:F[(D+U-1)%D]}return(x=T.value)==null?void 0:x[0]}}};var N7=Object.defineProperty,IO=Object.getOwnPropertySymbols,A7=Object.prototype.hasOwnProperty,R7=Object.prototype.propertyIsEnumerable,SO=(e,o,n)=>o in e?N7(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,OO=(e,o)=>{for(var n in o||(o={}))A7.call(o,n)&&SO(e,n,o[n]);if(IO)for(var n of IO(o))R7.call(o,n)&&SO(e,n,o[n]);return e};const L7=Ae({name:"Cascader",components:{Trigger:Or,SelectView:Rb,BaseCascaderPanel:wR,CascaderSearchPanel:w7},inheritAttrs:!1,props:{pathMode:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},modelValue:{type:[String,Number,Object,Array]},defaultValue:{type:[String,Number,Object,Array],default:e=>e.multiple?[]:e.pathMode?void 0:""},options:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},size:{type:String},allowSearch:{type:Boolean,default:e=>!!e.multiple},allowClear:{type:Boolean,default:!1},inputValue:{type:String,default:void 0},defaultInputValue:{type:String,default:""},popupVisible:{type:Boolean,default:void 0},expandTrigger:{type:String,default:"click"},defaultPopupVisible:{type:Boolean,default:!1},placeholder:String,filterOption:{type:Function},popupContainer:{type:[String,Object]},maxTagCount:{type:Number,default:0},formatLabel:{type:Function},triggerProps:{type:Object},checkStrictly:{type:Boolean,default:!1},loadMore:{type:Function},loading:{type:Boolean,default:!1},searchOptionOnlyLabel:{type:Boolean,default:!1},searchDelay:{type:Number,default:500},fieldNames:{type:Object},valueKey:{type:String,default:"value"},fallback:{type:[Boolean,Function],default:!0},expandChild:{type:Boolean,default:!1},virtualListProps:{type:Object}},emits:{"update:modelValue":e=>!0,"update:popupVisible":e=>!0,change:e=>!0,inputValueChange:e=>!0,clear:()=>!0,search:e=>!0,popupVisibleChange:e=>!0,focus:e=>!0,blur:e=>!0},setup(e,{emit:o,slots:n}){const{options:i,checkStrictly:l,loadMore:u,formatLabel:a,modelValue:h,disabled:p,valueKey:m,expandTrigger:$,expandChild:T}=mt(e),w=ve(e.defaultValue),A=ve(e.defaultInputValue),R=ve(e.defaultPopupVisible),{mergedDisabled:L,eventHandlers:M}=Eo({disabled:p});At(h,$e=>{(Gt($e)||Di($e))&&(w.value=e.multiple?[]:void 0)});const B=ve([]),G=ve(1),j=ft(new Map),F=ft(new Map),x=ft(new Map),D=ft(new Set),U=ft({}),te=($e,Fe)=>{U[Fe]=$e},Y={value:"value",label:"label",disabled:"disabled",children:"children",tagProps:"tagProps",render:"render",isLeaf:"isLeaf"},J=O(()=>OO(OO({},Y),e.fieldNames));At([i,U,J],([$e,Fe,Le])=>{j.clear(),F.clear(),x.clear(),D.clear(),B.value=IR($e??[],{enabledLazyLoad:!!e.loadMore,lazyLoadOptions:U,optionMap:j,leafOptionSet:D,leafOptionMap:F,leafOptionValueMap:x,totalLevel:G,checkStrictly:l,valueKey:m,fieldNames:Le})},{immediate:!0,deep:!0});const ee=O(()=>{var $e;const Fe=OR(($e=e.modelValue)!=null?$e:w.value,{multiple:e.multiple,pathMode:e.pathMode});return new Map(Fe.map(Le=>[SR(Le,{valueKey:e.valueKey,leafOptionValueMap:x}),Le]))}),ue=O(()=>{var $e;return($e=e.inputValue)!=null?$e:A.value}),oe=O(()=>{var $e;return($e=e.popupVisible)!=null?$e:R.value}),X=$e=>{var Fe;return $e==null?void 0:$e.toLocaleLowerCase().includes((Fe=ue.value)==null?void 0:Fe.toLocaleLowerCase())},K=O(()=>(e.checkStrictly?Array.from(j.values()):Array.from(D)).filter(Fe=>{var Le;return Ut(e.filterOption)?e.filterOption(ue.value,Fe.raw):e.checkStrictly?X(Fe.label):(Le=Fe.path)==null?void 0:Le.find(qe=>X(qe.label))})),q=$e=>{var Fe,Le,qe;const Xe=e.multiple?$e:(Fe=$e[0])!=null?Fe:"";$e.length===0&&(ce(),le()),w.value=Xe,o("update:modelValue",Xe),o("change",Xe),(qe=(Le=M.value)==null?void 0:Le.onChange)==null||qe.call(Le)},z=$e=>{oe.value!==$e&&(R.value=$e,o("popupVisibleChange",$e))},ne=$e=>{if(e.multiple){const Fe=F.get($e);if(Fe)Q(Fe,!1);else{const Le=[];ee.value.forEach((qe,Xe)=>{Xe!==$e&&Le.push(qe)}),q(Le)}}},ge=$e=>{q([e.pathMode?$e.pathValue:$e.value]),z(!1)},Q=($e,Fe)=>{if(Fe){const Le=e.checkStrictly?[$e]:UI($e);q([...ee.value.values(),...Le.filter(qe=>!ee.value.has(qe.key)).map(qe=>e.pathMode?qe.pathValue:qe.value)])}else{const Le=e.checkStrictly?[$e.key]:VI($e),qe=[];ee.value.forEach((Xe,at)=>{Le.includes(at)||qe.push(Xe)}),q(qe)}_e("","optionChecked")},Oe=($e,Fe)=>{e.multiple?Q($e,Fe??!0):ge($e)},Re=ev($e=>{o("search",$e)},e.searchDelay),_e=($e,Fe)=>{$e!==ue.value&&(Fe==="manual"&&!oe.value&&(R.value=!0,o("popupVisibleChange",!0)),A.value=$e,o("inputValueChange",$e),e.allowSearch&&Re($e))};At(oe,$e=>{if($e){if(ee.value.size>0){const Fe=Array.from(ee.value.keys()),Le=Fe[Fe.length-1],qe=F.get(Le);qe&&qe.key!==ut.value&&(ce(qe.key),le(qe.key))}}else ee.value.size===0&&(ce(),le()),_e("","optionListHide")});const se=$e=>{if($e.stopPropagation(),e.multiple){const Fe=[];ee.value.forEach((Le,qe)=>{const Xe=F.get(qe);Xe!=null&&Xe.disabled&&Fe.push(e.pathMode?Xe.pathValue:Xe.value)}),q(Fe)}else q([]);_e("","manual"),o("clear")},ke=O(()=>e.allowSearch&&ue.value.length>0),Be=$e=>{o("focus",$e)},et=$e=>{o("blur",$e)},{activeKey:ut,activeOption:dt,selectedPath:gt,displayColumns:we,setActiveKey:le,setSelectedPath:ce,getNextActiveNode:re}=NR(B,{optionMap:j,filteredLeafOptions:K,showSearchPanel:ke,expandChild:T});Ln(HI,ft({onClickOption:Oe,setActiveKey:le,setSelectedPath:ce,loadMore:u,expandTrigger:$,addLazyLoadOptions:te,formatLabel:a,slots:n,valueMap:ee}));const Me=_1(new Map([[_r.ENTER,$e=>{if(oe.value){if(dt.value){let Fe;e.checkStrictly||dt.value.isLeaf?Fe=!ee.value.has(dt.value.key):Fe=!FI(dt.value,ee.value).checked,ce(dt.value.key),Oe(dt.value,Fe)}}else z(!0)}],[_r.ESC,$e=>{z(!1)}],[_r.ARROW_DOWN,$e=>{$e.preventDefault();const Fe=re("next");le(Fe==null?void 0:Fe.key)}],[_r.ARROW_UP,$e=>{$e.preventDefault();const Fe=re("preview");le(Fe==null?void 0:Fe.key)}],[_r.ARROW_RIGHT,$e=>{var Fe,Le;ke.value||($e.preventDefault(),(Fe=dt.value)!=null&&Fe.children&&(ce(dt.value.key),le((Le=dt.value.children[0])==null?void 0:Le.key)))}],[_r.ARROW_LEFT,$e=>{var Fe;ke.value||($e.preventDefault(),(Fe=dt.value)!=null&&Fe.parent&&(ce(dt.value.parent.key),le(dt.value.parent.key)))}]])),Ne=O(()=>{const $e=[];return ee.value.forEach((Fe,Le)=>{var qe,Xe;const at=F.get(Le);if(at)$e.push({value:Le,label:(Xe=(qe=e.formatLabel)==null?void 0:qe.call(e,at.path.map(Ee=>Ee.raw)))!=null?Xe:kR(at),closable:!at.disabled,tagProps:at.tagProps});else if(e.fallback){const Ee=Ut(e.fallback)?e.fallback(Fe):nn(Fe)?Fe.join(" / "):String(Fe);$e.push({value:Le,label:Ee,closable:!0})}}),$e});return{optionInfos:B,filteredLeafOptions:K,selectedPath:gt,activeKey:ut,displayColumns:we,computedInputValue:ue,computedPopupVisible:oe,handleClear:se,selectViewValue:Ne,handleInputValueChange:_e,showSearchPanel:ke,handlePopupVisibleChange:z,handleFocus:Be,handleBlur:et,handleRemove:ne,mergedDisabled:L,handleKeyDown:Me,totalLevel:G}}});function M7(e,o,n,i,l,u){const a=Pe("select-view"),h=Pe("cascader-search-panel"),p=Pe("base-cascader-panel"),m=Pe("trigger");return W(),Ze(m,lt(e.triggerProps,{trigger:"click","animation-name":"slide-dynamic-origin","auto-fit-transform-origin":"","popup-visible":e.computedPopupVisible,position:"bl",disabled:e.mergedDisabled,"popup-offset":4,"auto-fit-popup-width":e.showSearchPanel,"popup-container":e.popupContainer,"prevent-focus":!0,"click-to-close":!e.allowSearch,onPopupVisibleChange:e.handlePopupVisibleChange}),{content:Je(()=>[e.showSearchPanel?(W(),Ze(h,{key:0,options:e.filteredLeafOptions,"active-key":e.activeKey,multiple:e.multiple,"check-strictly":e.checkStrictly,loading:e.loading,"path-label":!e.searchOptionOnlyLabel},Oo({_:2},[e.$slots.empty?{name:"empty",fn:Je(()=>[Ue(e.$slots,"empty")])}:void 0]),1032,["options","active-key","multiple","check-strictly","loading","path-label"])):(W(),Ze(p,{key:1,"display-columns":e.displayColumns,"selected-path":e.selectedPath,"active-key":e.activeKey,multiple:e.multiple,"total-level":e.totalLevel,"check-strictly":e.checkStrictly,loading:e.loading,"virtual-list-props":e.virtualListProps,dropdown:""},Oo({_:2},[e.$slots.empty?{name:"empty",fn:Je(()=>[Ue(e.$slots,"empty")])}:void 0]),1032,["display-columns","selected-path","active-key","multiple","total-level","check-strictly","loading","virtual-list-props"]))]),default:Je(()=>[_(a,lt({"model-value":e.selectViewValue,"input-value":e.computedInputValue,disabled:e.mergedDisabled,error:e.error,multiple:e.multiple,"allow-clear":e.allowClear,"allow-search":e.allowSearch,size:e.size,opened:e.computedPopupVisible,placeholder:e.placeholder,loading:e.loading,"max-tag-count":e.maxTagCount},e.$attrs,{onInputValueChange:e.handleInputValueChange,onClear:e.handleClear,onFocus:e.handleFocus,onBlur:e.handleBlur,onRemove:e.handleRemove,onKeydown:e.handleKeyDown}),Oo({_:2},[e.$slots.label?{name:"label",fn:Je($=>[Ue(e.$slots,"label",ao(Fr($)))])}:void 0,e.$slots.prefix?{name:"prefix",fn:Je(()=>[Ue(e.$slots,"prefix")])}:void 0,e.$slots["arrow-icon"]?{name:"arrow-icon",fn:Je(()=>[Ue(e.$slots,"arrow-icon")])}:void 0,e.$slots["loading-icon"]?{name:"loading-icon",fn:Je(()=>[Ue(e.$slots,"loading-icon")])}:void 0,e.$slots["search-icon"]?{name:"search-icon",fn:Je(()=>[Ue(e.$slots,"search-icon")])}:void 0]),1040,["model-value","input-value","disabled","error","multiple","allow-clear","allow-search","size","opened","placeholder","loading","max-tag-count","onInputValueChange","onClear","onFocus","onBlur","onRemove","onKeydown"])]),_:3},16,["popup-visible","disabled","auto-fit-popup-width","popup-container","click-to-close","onPopupVisibleChange"])}var uy=ot(L7,[["render",M7]]),P7=Object.defineProperty,kO=Object.getOwnPropertySymbols,D7=Object.prototype.hasOwnProperty,x7=Object.prototype.propertyIsEnumerable,wO=(e,o,n)=>o in e?P7(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,NO=(e,o)=>{for(var n in o||(o={}))D7.call(o,n)&&wO(e,n,o[n]);if(kO)for(var n of kO(o))x7.call(o,n)&&wO(e,n,o[n]);return e};const B7=Ae({name:"CascaderPanel",components:{BaseCascaderPanel:wR},props:{pathMode:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},modelValue:{type:[String,Number,Array]},defaultValue:{type:[String,Number,Array],default:e=>e.multiple?[]:e.pathMode?void 0:""},options:{type:Array,default:()=>[]},expandTrigger:{type:String,default:"click"},checkStrictly:{type:Boolean,default:!1},loadMore:{type:Function},fieldNames:{type:Object},valueKey:{type:String,default:"value"},expandChild:{type:Boolean,default:!1}},emits:{"update:modelValue":e=>!0,change:e=>!0},setup(e,{emit:o,slots:n}){const{options:i,checkStrictly:l,loadMore:u,modelValue:a,valueKey:h,expandChild:p,expandTrigger:m}=mt(e),$=ve(e.defaultValue);At(a,ge=>{(Gt(ge)||Di(ge))&&($.value=e.multiple?[]:void 0)});const T=ve([]),w=ve(1),A=ft(new Map),R=ft(new Map),L=ft(new Map),M=ft(new Set),B=ft({}),G=(ge,Q)=>{B[Q]=ge},j={value:"value",label:"label",disabled:"disabled",children:"children",tagProps:"tagProps",render:"render",isLeaf:"isLeaf"},F=O(()=>NO(NO({},j),e.fieldNames));At([i,B,F],([ge,Q,Oe])=>{A.clear(),R.clear(),L.clear(),M.clear(),T.value=IR(ge??[],{enabledLazyLoad:!!e.loadMore,lazyLoadOptions:Q,optionMap:A,leafOptionSet:M,leafOptionMap:R,leafOptionValueMap:L,totalLevel:w,checkStrictly:l,fieldNames:Oe,valueKey:h})},{immediate:!0});const x=O(()=>{var ge;const Q=OR((ge=e.modelValue)!=null?ge:$.value,{multiple:e.multiple,pathMode:e.pathMode});return new Map(Q.map(Oe=>[SR(Oe,{valueKey:e.valueKey,leafOptionValueMap:L}),Oe]))}),D=O(()=>e.checkStrictly?Array.from(A.values()):Array.from(M)),U=ge=>{var Q;const Oe=e.multiple?ge:(Q=ge[0])!=null?Q:"";ge.length===0&&(q(),K()),$.value=Oe,o("update:modelValue",Oe),o("change",Oe)},te=ge=>{U([e.pathMode?ge.pathValue:ge.value])},Y=(ge,Q)=>{if(Q){const Oe=e.checkStrictly?[ge]:UI(ge);U([...x.value.values(),...Oe.filter(Re=>!x.value.has(Re.key)).map(Re=>e.pathMode?Re.pathValue:Re.value)])}else{const Oe=e.checkStrictly?[ge.key]:VI(ge),Re=[];x.value.forEach((_e,se)=>{Oe.includes(se)||Re.push(_e)}),U(Re)}},J=(ge,Q)=>{e.multiple?Y(ge,Q??!0):te(ge)},{activeKey:ee,activeOption:ue,selectedPath:oe,displayColumns:X,setActiveKey:K,setSelectedPath:q,getNextActiveNode:z}=NR(T,{optionMap:A,filteredLeafOptions:D,expandChild:p});Ln(HI,ft({onClickOption:J,setActiveKey:K,setSelectedPath:q,loadMore:u,addLazyLoadOptions:G,slots:n,valueMap:x,expandTrigger:m}));const ne=_1(new Map([[_r.ENTER,ge=>{if(ue.value){let Q;e.checkStrictly||ue.value.isLeaf?Q=!x.value.has(ue.value.key):Q=!FI(ue.value,x.value).checked,q(ue.value.key),J(ue.value,Q)}}],[_r.ARROW_DOWN,ge=>{ge.preventDefault();const Q=z("next");K(Q==null?void 0:Q.key)}],[_r.ARROW_UP,ge=>{ge.preventDefault();const Q=z("preview");K(Q==null?void 0:Q.key)}],[_r.ARROW_RIGHT,ge=>{var Q,Oe;ge.preventDefault(),(Q=ue.value)!=null&&Q.children&&(q(ue.value.key),K((Oe=ue.value.children[0])==null?void 0:Oe.key))}],[_r.ARROW_LEFT,ge=>{var Q;ge.preventDefault(),(Q=ue.value)!=null&&Q.parent&&(q(ue.value.parent.key),K(ue.value.parent.key))}]]));return{optionInfos:T,filteredLeafOptions:D,selectedPath:oe,activeKey:ee,displayColumns:X,handleKeyDown:ne,totalLevel:w}}});function F7(e,o,n,i,l,u){const a=Pe("base-cascader-panel");return W(),Ze(a,{"display-columns":e.displayColumns,"selected-path":e.selectedPath,"active-key":e.activeKey,multiple:e.multiple,"total-level":e.totalLevel,"check-strictly":e.checkStrictly,onKeydown:e.handleKeyDown},Oo({_:2},[e.$slots.empty?{name:"empty",fn:Je(()=>[Ue(e.$slots,"empty")])}:void 0]),1032,["display-columns","selected-path","active-key","multiple","total-level","check-strictly","onKeydown"])}var H0=ot(B7,[["render",F7]]);const V7=Object.assign(uy,{CascaderPanel:H0,install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+uy.name,uy),e.component(n+H0.name,H0)}}),AR=Symbol("collapseCtx"),U7=Ae({name:"Collapse",props:{activeKey:{type:Array,default:void 0},defaultActiveKey:{type:Array,default:()=>[]},accordion:{type:Boolean,default:!1},showExpandIcon:{type:Boolean,default:void 0},expandIconPosition:{type:String,default:"left"},bordered:{type:Boolean,default:!0},destroyOnHide:{type:Boolean,default:!1}},emits:{"update:activeKey":e=>!0,change:(e,o)=>!0},setup(e,{emit:o,slots:n}){const{expandIconPosition:i,destroyOnHide:l,showExpandIcon:u}=mt(e),a=Ge("collapse"),h=ve(e.defaultActiveKey),p=O(()=>{var T;const w=(T=e.activeKey)!=null?T:h.value;return nn(w)?w:[w]});Ln(AR,ft({activeKeys:p,slots:n,showExpandIcon:u,expandIconPosition:i,destroyOnHide:l,handleClick:(T,w)=>{let A=[];if(e.accordion)p.value.includes(T)||(A=[T]),h.value=A;else{A=[...p.value];const R=A.indexOf(T);R>-1?A.splice(R,1):e.accordion?A=[T]:A.push(T),h.value=A}o("update:activeKey",A),o("change",A,w)}}));const $=O(()=>[a,{[`${a}-borderless`]:!e.bordered}]);return{prefixCls:a,cls:$}}});function H7(e,o,n,i,l,u){return W(),fe("div",{class:Z(e.cls)},[Ue(e.$slots,"default")],2)}var cy=ot(U7,[["render",H7]]);const G7=Ae({name:"IconCaretRight",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-caret-right`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),z7=["stroke-width","stroke-linecap","stroke-linejoin"],W7=De("path",{d:"M34.829 23.063c.6.48.6 1.394 0 1.874L17.949 38.44c-.785.629-1.949.07-1.949-.937V10.497c0-1.007 1.164-1.566 1.95-.937l16.879 13.503Z",fill:"currentColor",stroke:"none"},null,-1),j7=[W7];function X7(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},j7,14,z7)}var dy=ot(G7,[["render",X7]]);const K7=Object.assign(dy,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+dy.name,dy)}}),Y7=Ae({name:"IconCaretLeft",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-caret-left`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),Q7=["stroke-width","stroke-linecap","stroke-linejoin"],q7=De("path",{d:"M13.171 24.937a1.2 1.2 0 0 1 0-1.874L30.051 9.56c.785-.629 1.949-.07 1.949.937v27.006c0 1.006-1.164 1.566-1.95.937L13.171 24.937Z",fill:"currentColor",stroke:"none"},null,-1),Z7=[q7];function J7(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},Z7,14,Q7)}var hy=ot(Y7,[["render",J7]]);const eB=Object.assign(hy,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+hy.name,hy)}});var G0=Ae({name:"CollapseItem",components:{IconHover:yo,IconCaretRight:K7,IconCaretLeft:eB},props:{key:[String,Number],header:String,disabled:{type:Boolean,default:!1},showExpandIcon:{type:Boolean,default:!0},destroyOnHide:{type:Boolean,default:!1}},setup(e,{slots:o}){var n;const i=vi(),l=Ge("collapse-item"),u=on(AR,{}),a=i&&_t(i==null?void 0:i.vnode.key)?i.vnode.key:String((n=i==null?void 0:i.vnode.key)!=null?n:""),h=O(()=>{var F;return(F=u.activeKeys)==null?void 0:F.includes(a)}),p=O(()=>u.destroyOnHide||e.destroyOnHide),m=O(()=>{var F;return(F=u==null?void 0:u.showExpandIcon)!=null?F:e.showExpandIcon}),$=ve(p.value?h.value:!0),T=O(()=>{var F;return(F=u==null?void 0:u.expandIconPosition)!=null?F:"left"}),w=F=>{var x;e.disabled||(x=u.handleClick)==null||x.call(u,a,F)};At(h,F=>{F&&!$.value&&($.value=!0)});const A={onEnter:F=>{F.style.height=`${F.scrollHeight}px`},onAfterEnter:F=>{F.style.height="auto"},onBeforeLeave:F=>{F.style.height=`${F.scrollHeight}px`},onLeave:F=>{F.style.height="0"},onAfterLeave:()=>{p.value&&($.value=!1)}},R=O(()=>[l,{[`${l}-active`]:h.value}]),L=O(()=>[`${l}-header`,`${l}-header-${u==null?void 0:u.expandIconPosition}`,{[`${l}-header-disabled`]:e.disabled}]),M=O(()=>[{[`${l}-icon-right`]:(u==null?void 0:u.expandIconPosition)==="right"}]),B=O(()=>[`${l}-content`,{[`${l}-content-expend`]:h.value}]),G=()=>T.value==="right"?_(Pe("icon-caret-left"),{class:`${l}-expand-icon`},null):_(Pe("icon-caret-right"),{class:`${l}-expand-icon`},null),j=()=>m.value&&_(Pe("icon-hover"),{prefix:l,class:M.value,disabled:e.disabled},{default:()=>{var F,x,D,U;return[(U=(D=(x=o["expand-icon"])!=null?x:(F=u==null?void 0:u.slots)==null?void 0:F["expand-icon"])==null?void 0:D({active:h.value,disabled:e.disabled,position:T.value}))!=null?U:G()]}});return()=>{var F,x,D;return _("div",{class:R.value},[_("div",{role:"button","aria-disabled":e.disabled,"aria-expanded":h.value,tabindex:"0",class:L.value,onClick:w},[j(),_("div",{class:`${l}-header-title`},[(x=(F=o.header)==null?void 0:F.call(o))!=null?x:e.header]),o.extra&&_("div",{class:`${l}-header-extra`},[(D=o.extra)==null?void 0:D.call(o)])]),_(Hr,lt({name:"collapse-slider"},A),{default:()=>{var U;return[Qs(_("div",{role:"region",class:B.value},[$.value&&_("div",{ref:"contentBoxRef",class:`${l}-content-box`},[(U=o.default)==null?void 0:U.call(o)])]),[[Zs,h.value]])]}})])}}});const tB=Object.assign(cy,{Item:G0,install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+cy.name,cy),e.component(n+G0.name,G0)}});function RR(e,o,n){return O(()=>!!(e[n]||o[n]))}var nB=Object.defineProperty,AO=Object.getOwnPropertySymbols,oB=Object.prototype.hasOwnProperty,rB=Object.prototype.propertyIsEnumerable,RO=(e,o,n)=>o in e?nB(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,iB=(e,o)=>{for(var n in o||(o={}))oB.call(o,n)&&RO(e,n,o[n]);if(AO)for(var n of AO(o))rB.call(o,n)&&RO(e,n,o[n]);return e};const sB=Ae({name:"Comment",props:{author:{type:String},avatar:{type:String},content:{type:String},datetime:{type:String},align:{type:[String,Object],default:"left"}},setup(e,{slots:o}){const n=Ge("comment"),[i,l,u,a]=["author","avatar","content","datetime"].map(p=>RR(e,o,p)),h=O(()=>{const{align:p}=e;return iB({},ir(p)?{datetime:p,actions:p}:p)});return{prefixCls:n,hasAuthor:i,hasAvatar:l,hasContent:u,hasDatetime:a,computedAlign:h}}}),lB=["src"],aB={key:0},uB={key:0},cB={key:0};function dB(e,o,n,i,l,u){return W(),fe("div",{class:Z(e.prefixCls)},[e.hasAvatar?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-avatar`)},[e.avatar?(W(),fe("img",{key:0,src:e.avatar,alt:"comment-avatar"},null,8,lB)):Ue(e.$slots,"avatar",{key:1})],2)):We("v-if",!0),De("div",{class:Z(`${e.prefixCls}-inner`)},[De("div",{class:Z(`${e.prefixCls}-inner-content`)},[e.hasAuthor||e.hasDatetime?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-title ${e.prefixCls}-title-align-${e.computedAlign.datetime}`)},[e.hasAuthor?(W(),fe("span",{key:0,class:Z(`${e.prefixCls}-author`)},[e.author?(W(),fe("span",aB,Mt(e.author),1)):Ue(e.$slots,"author",{key:1})],2)):We("v-if",!0),e.hasDatetime?(W(),fe("span",{key:1,class:Z(`${e.prefixCls}-datetime`)},[e.datetime?(W(),fe("span",uB,Mt(e.datetime),1)):Ue(e.$slots,"datetime",{key:1})],2)):We("v-if",!0)],2)):We("v-if",!0),e.hasContent?(W(),fe("div",{key:1,class:Z(`${e.prefixCls}-content`)},[e.content?(W(),fe("span",cB,Mt(e.content),1)):Ue(e.$slots,"content",{key:1})],2)):We("v-if",!0),e.$slots.actions?(W(),fe("div",{key:2,class:Z(`${e.prefixCls}-actions ${e.prefixCls}-actions-align-${e.computedAlign.actions}`)},[Ue(e.$slots,"actions")],2)):We("v-if",!0)],2),e.$slots.default?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-inner-comment`)},[Ue(e.$slots,"default")],2)):We("v-if",!0)],2)],2)}var py=ot(sB,[["render",dB]]);const hB=Object.assign(py,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+py.name,py)}}),pB=Ae({name:"ConfigProvider",props:{prefixCls:{type:String,default:"arco"},locale:{type:Object},size:{type:String},global:{type:Boolean,default:!1},updateAtScroll:{type:Boolean,default:!1},scrollToClose:{type:Boolean,default:!1},exchangeTime:{type:Boolean,default:!0}},setup(e,{slots:o}){const{prefixCls:n,locale:i,size:l,updateAtScroll:u,scrollToClose:a,exchangeTime:h}=mt(e),p=ft({slots:o,prefixCls:n,locale:i,size:l,updateAtScroll:u,scrollToClose:a,exchangeTime:h});if(e.global){const m=vi();m&&m.appContext.app.provide(Gr,p)}else Ln(Gr,p)}});function fB(e,o,n,i,l,u){return Ue(e.$slots,"default")}var fy=ot(pB,[["render",fB]]);const gB=Object.assign(fy,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+fy.name,fy)}});function Ss(e){const o=ve(e);return[o,i=>{o.value=i}]}function mB(e){const{modelValue:o,defaultValue:n,format:i}=mt(e),l=O(()=>ws(o.value,i.value)),u=O(()=>ws(n.value,i.value)),[a,h]=Ss(Gt(l.value)?Gt(u.value)?void 0:u.value:l.value);return At(l,()=>{Gt(l.value)&&h(void 0)}),{value:O(()=>l.value||a.value),setValue:h}}const $B=Ae({name:"DateInput",components:{IconHover:yo,IconClose:zr,FeedbackIcon:cv},props:{size:{type:String},focused:{type:Boolean},disabled:{type:Boolean},readonly:{type:Boolean},error:{type:Boolean},allowClear:{type:Boolean},placeholder:{type:String},inputValue:{type:String},value:{type:Object},format:{type:[String,Function],required:!0}},emits:["clear","press-enter","change","blur"],setup(e,{emit:o,slots:n}){const{error:i,focused:l,disabled:u,size:a,value:h,format:p,inputValue:m}=mt(e),{mergedSize:$,mergedDisabled:T,mergedError:w,feedback:A}=Eo({size:a,disabled:u,error:i}),{mergedSize:R}=Wr($),L=Ge("picker"),M=O(()=>[L,`${L}-size-${R.value}`,{[`${L}-focused`]:l.value,[`${L}-disabled`]:T.value,[`${L}-error`]:w.value,[`${L}-has-prefix`]:n.prefix}]),B=O(()=>{if(m!=null&&m.value)return m==null?void 0:m.value;if(h!=null&&h.value&&Js(h.value))return Ut(p.value)?p.value(h.value):h.value.format(p.value)}),G=ve();return{feedback:A,prefixCls:L,classNames:M,displayValue:B,mergedDisabled:T,refInput:G,onPressEnter(){o("press-enter")},onChange(j){o("change",j)},onClear(j){o("clear",j)},onBlur(j){o("blur",j)}}},methods:{focus(){this.refInput&&this.refInput.focus&&this.refInput.focus()},blur(){this.refInput&&this.refInput.blur&&this.refInput.blur()}}}),vB=["disabled","placeholder","value"];function _B(e,o,n,i,l,u){const a=Pe("IconClose"),h=Pe("IconHover"),p=Pe("FeedbackIcon");return W(),fe("div",{class:Z(e.classNames)},[e.$slots.prefix?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-prefix`)},[Ue(e.$slots,"prefix")],2)):We("v-if",!0),De("div",{class:Z(`${e.prefixCls}-input`)},[De("input",lt({ref:"refInput",disabled:e.mergedDisabled,placeholder:e.placeholder,class:`${e.prefixCls}-start-time`,value:e.displayValue},e.readonly?{readonly:!0}:{},{onKeydown:o[0]||(o[0]=zf((...m)=>e.onPressEnter&&e.onPressEnter(...m),["enter"])),onInput:o[1]||(o[1]=(...m)=>e.onChange&&e.onChange(...m)),onBlur:o[2]||(o[2]=(...m)=>e.onBlur&&e.onBlur(...m))}),null,16,vB)],2),De("div",{class:Z(`${e.prefixCls}-suffix`)},[e.allowClear&&!e.mergedDisabled&&e.displayValue?(W(),Ze(h,{key:0,prefix:e.prefixCls,class:Z(`${e.prefixCls}-clear-icon`),onClick:e.onClear},{default:Je(()=>[_(a)]),_:1},8,["prefix","class","onClick"])):We("v-if",!0),De("span",{class:Z(`${e.prefixCls}-suffix-icon`)},[Ue(e.$slots,"suffix-icon")],2),e.feedback?(W(),Ze(p,{key:1,type:e.feedback},null,8,["type"])):We("v-if",!0)],2)],2)}var LR=ot($B,[["render",_B]]);function IC(e){const o=["H","h","m","s","a","A"],n=[];let i=!1;return o.forEach(l=>{e.indexOf(l)!==-1&&(n.push(l),(l==="a"||l==="A")&&(i=!0))}),{list:n,use12Hours:i}}const LO=new Map;function bB(e,o,n){const i=LO.get(e);Gt(i)||cancelAnimationFrame(i),n<=0&&(e.scrollTop=o),LO.set(e,requestAnimationFrame(()=>{new jh({from:{scrollTop:e.scrollTop},to:{scrollTop:o},duration:n,onUpdate:u=>{e.scrollTop=u.scrollTop}}).start()}))}function Sa(e,o){const n=i=>{if(nn(i))return i.map(l=>n(l));if(!Gt(i))return i.format(o)};return n(e)}function O$(e){return Gt(e)?!0:nn(e)?e.length===0||e.length===2&&Js(e[0])&&Js(e[1]):!1}function Mb(e,o){return e?typeof e=="string"&&or(e,o).format(o)===e:!1}function TB(e,{disabledHours:o,disabledMinutes:n,disabledSeconds:i}){if(!e)return!1;const l=e.hour(),u=e.minute(),a=e.second(),h=(o==null?void 0:o())||[],p=(n==null?void 0:n(l))||[],m=(i==null?void 0:i(l,u))||[],$=(T,w)=>!Gt(T)&&w.includes(T);return $(l,h)||$(u,p)||$(a,m)}var Gu=Ae({name:"RenderFunction",props:{renderFunc:{type:Function,required:!0}},render(){return this.renderFunc(this.$attrs)}});const MR=Symbol("PickerInjectionKey");function pv(){const{datePickerT:e}=on(MR)||{};return e||((o,...n)=>o)}const yB=Ae({name:"PanelShortcuts",components:{Button:mi,RenderFunction:Gu},props:{prefixCls:{type:String,required:!0},shortcuts:{type:Array,default:()=>[]},showNowBtn:{type:Boolean}},emits:["item-click","item-mouse-enter","item-mouse-leave","now-click"],setup(e,{emit:o}){return{datePickerT:pv(),onItemClick:i=>{o("item-click",i)},onItemMouseEnter:i=>{o("item-mouse-enter",i)},onItemMouseLeave:i=>{o("item-mouse-leave",i)},onNowClick:()=>{o("now-click")},isFunction:Ut}}});function EB(e,o,n,i,l,u){const a=Pe("Button"),h=Pe("RenderFunction");return W(),fe("div",{class:Z(`${e.prefixCls}-shortcuts`)},[e.showNowBtn?(W(),Ze(a,{key:0,size:"mini",onClick:o[0]||(o[0]=()=>e.onNowClick())},{default:Je(()=>[Dt(Mt(e.datePickerT("datePicker.now")),1)]),_:1})):We("v-if",!0),(W(!0),fe(Lt,null,Ko(e.shortcuts,(p,m)=>(W(),Ze(a,{key:m,size:"mini",onClick:()=>e.onItemClick(p),onMouseenter:()=>e.onItemMouseEnter(p),onMouseleave:()=>e.onItemMouseLeave(p)},{default:Je(()=>[e.isFunction(p.label)?(W(),Ze(h,{key:0,"render-func":p.label},null,8,["render-func"])):(W(),fe(Lt,{key:1},[Dt(Mt(p.label),1)],2112))]),_:2},1032,["onClick","onMouseenter","onMouseleave"]))),128))],2)}var PR=ot(yB,[["render",EB]]);function lg(e){return[...Array(e)]}function SC(e){if(!Gt(e))return nn(e)?e:[e,void 0]}function Xc(e){return!!e&&Js(e[0])&&Js(e[1])}function CB(e){return Gt(e)||e.length===0||Xc(e)}function DR(e,o,n){const i=o||e;return(n||e).set("year",i.year()).set("month",i.month()).set("date",i.date())}const IB=Ae({name:"IconDoubleLeft",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-double-left`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),SB=["stroke-width","stroke-linecap","stroke-linejoin"],OB=De("path",{d:"M36.857 9.9 22.715 24.042l14.142 14.142M25.544 9.9 11.402 24.042l14.142 14.142"},null,-1),kB=[OB];function wB(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},kB,14,SB)}var gy=ot(IB,[["render",wB]]);const NB=Object.assign(gy,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+gy.name,gy)}}),AB=Ae({name:"IconDoubleRight",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-double-right`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),RB=["stroke-width","stroke-linecap","stroke-linejoin"],LB=De("path",{d:"m11.143 38.1 14.142-14.142L11.143 9.816M22.456 38.1l14.142-14.142L22.456 9.816"},null,-1),MB=[LB];function PB(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},MB,14,RB)}var my=ot(AB,[["render",PB]]);const DB=Object.assign(my,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+my.name,my)}}),xB=Ae({name:"PanelHeader",components:{IconLeft:Hu,IconRight:Bl,IconDoubleLeft:NB,IconDoubleRight:DB,RenderFunction:Gu},props:{prefixCls:{type:String,required:!0},title:{type:String,required:!0},mode:{type:String,default:"date"},value:{type:Object},icons:{type:Object},onPrev:{type:Function},onSuperPrev:{type:Function},onNext:{type:Function},onSuperNext:{type:Function},onLabelClick:{type:Function}},emits:["label-click"],setup(e){return{showPrev:O(()=>Ut(e.onPrev)),showSuperPrev:O(()=>Ut(e.onSuperPrev)),showNext:O(()=>Ut(e.onNext)),showSuperNext:O(()=>Ut(e.onSuperNext)),year:O(()=>["date","quarter","month","week"].includes(e.mode)&&e.value?e.value.format("YYYY"):""),month:O(()=>["date","week"].includes(e.mode)&&e.value?e.value.format("MM"):""),getIconClassName:o=>[`${e.prefixCls}-header-icon`,{[`${e.prefixCls}-header-icon-hidden`]:!o}]}}}),BB={key:1};function FB(e,o,n,i,l,u){const a=Pe("RenderFunction"),h=Pe("IconDoubleLeft"),p=Pe("IconLeft"),m=Pe("IconRight"),$=Pe("IconDoubleRight");return W(),fe("div",{class:Z(`${e.prefixCls}-header`)},[De("div",{class:Z(e.getIconClassName(e.showSuperPrev)),onClick:o[0]||(o[0]=(...T)=>e.onSuperPrev&&e.onSuperPrev(...T))},[e.showSuperPrev?(W(),fe(Lt,{key:0},[e.icons&&e.icons.prevDouble?(W(),Ze(a,{key:0,"render-func":e.icons&&e.icons.prevDouble},null,8,["render-func"])):(W(),Ze(h,{key:1}))],2112)):We("v-if",!0)],2),De("div",{class:Z(e.getIconClassName(e.showPrev)),onClick:o[1]||(o[1]=(...T)=>e.onPrev&&e.onPrev(...T))},[e.showPrev?(W(),fe(Lt,{key:0},[e.icons&&e.icons.prev?(W(),Ze(a,{key:0,"render-func":e.icons&&e.icons.prev},null,8,["render-func"])):(W(),Ze(p,{key:1}))],2112)):We("v-if",!0)],2),De("div",{class:Z(`${e.prefixCls}-header-title`)},[e.onLabelClick&&(e.year||e.month)?(W(),fe(Lt,{key:0},[e.year?(W(),fe("span",{key:0,class:Z(`${e.prefixCls}-header-label`),onClick:o[2]||(o[2]=()=>e.onLabelClick&&e.onLabelClick("year"))},Mt(e.year),3)):We("v-if",!0),e.year&&e.month?(W(),fe("span",BB,"-")):We("v-if",!0),e.month?(W(),fe("span",{key:2,class:Z(`${e.prefixCls}-header-label`),onClick:o[3]||(o[3]=()=>e.onLabelClick&&e.onLabelClick("month"))},Mt(e.month),3)):We("v-if",!0)],64)):(W(),fe(Lt,{key:1},[Dt(Mt(e.title),1)],2112))],2),De("div",{class:Z(e.getIconClassName(e.showNext)),onClick:o[4]||(o[4]=(...T)=>e.onNext&&e.onNext(...T))},[e.showNext?(W(),fe(Lt,{key:0},[e.icons&&e.icons.next?(W(),Ze(a,{key:0,"render-func":e.icons&&e.icons.next},null,8,["render-func"])):(W(),Ze(m,{key:1}))],2112)):We("v-if",!0)],2),De("div",{class:Z(e.getIconClassName(e.showSuperNext)),onClick:o[5]||(o[5]=(...T)=>e.onSuperNext&&e.onSuperNext(...T))},[e.showSuperNext?(W(),fe(Lt,{key:0},[e.icons&&e.icons.nextDouble?(W(),Ze(a,{key:0,"render-func":e.icons&&e.icons.nextDouble},null,8,["render-func"])):(W(),Ze($,{key:1}))],2112)):We("v-if",!0)],2)],2)}var y1=ot(xB,[["render",FB]]);function VB(e){const{rangeValues:o}=mt(e),n=O(()=>o!=null&&o.value&&o.value.every(Js)?J$(o.value):o==null?void 0:o.value),i=O(()=>{var u;return(u=n.value)==null?void 0:u[0]}),l=O(()=>{var u;return(u=n.value)==null?void 0:u[1]});return{getCellClassName:(u,a)=>{const{value:h,isSameTime:p,mode:m,prefixCls:$}=e,T=!u.isPrev&&!u.isNext,w=h&&p(u.value,h);let A=p(u.value,Ur());m==="week"&&(A=Ur().isSame(u.value,"date"));const R=T&&i.value&&p(u.value,i.value),L=T&&l.value&&p(u.value,l.value),M=T&&i.value&&l.value&&(R||L||u.value.isBetween(i.value,l.value,null,"[]"));return[`${$}-cell`,{[`${$}-cell-in-view`]:T,[`${$}-cell-today`]:A,[`${$}-cell-selected`]:w,[`${$}-cell-range-start`]:R,[`${$}-cell-range-end`]:L,[`${$}-cell-in-range`]:M,[`${$}-cell-disabled`]:a},u.classNames]}}}const UB=Ae({name:"PanelBody",components:{RenderFunction:Gu},props:{prefixCls:{type:String,required:!0},rows:{type:Array,default:()=>[]},value:{type:Object},disabledDate:{type:Function},isSameTime:{type:Function,required:!0},mode:{type:String},rangeValues:{type:Array},dateRender:{type:Function}},emits:["cell-click","cell-mouse-enter"],setup(e,{emit:o}){const{prefixCls:n,value:i,disabledDate:l,isSameTime:u,mode:a,rangeValues:h}=mt(e),{getCellClassName:p}=VB(ft({prefixCls:n,value:i,isSameTime:u,mode:a,rangeValues:h})),m=$=>!!(Ut(l==null?void 0:l.value)&&(l!=null&&l.value(es($.value))));return{isWeek:O(()=>(a==null?void 0:a.value)==="week"),getCellClassName:$=>{const T=m($);return p($,T)},onCellClick:$=>{m($)||o("cell-click",$)},onCellMouseEnter:$=>{m($)||o("cell-mouse-enter",$)},onCellMouseLeave:$=>{m($)||o("cell-mouse-enter",$)},getDateValue:es}}}),HB=["onMouseenter","onMouseleave","onClick"];function GB(e,o,n,i,l,u){const a=Pe("RenderFunction");return W(),fe("div",{class:Z(`${e.prefixCls}-body`)},[(W(!0),fe(Lt,null,Ko(e.rows,(h,p)=>(W(),fe("div",{key:p,class:Z([`${e.prefixCls}-row`,{[`${e.prefixCls}-row-week`]:e.isWeek}])},[(W(!0),fe(Lt,null,Ko(h,(m,$)=>(W(),fe(Lt,null,[We(" 一年中的第几周，只在 week 模式下显示 "),e.isWeek&&$===0?(W(),fe("div",{key:$,class:Z([`${e.prefixCls}-cell`,`${e.prefixCls}-cell-week`])},[De("div",{class:Z(`${e.prefixCls}-date`)},[De("div",{class:Z(`${e.prefixCls}-date-value`)},Mt(m.label),3)],2)],2)):(W(),fe("div",{key:$,class:Z(e.getCellClassName(m)),onMouseenter:()=>{e.onCellMouseEnter(m)},onMouseleave:()=>{e.onCellMouseLeave(m)},onClick:()=>{e.onCellClick(m)}},[e.dateRender?(W(),Ze(a,{key:0,"render-func":e.dateRender,date:e.getDateValue(m.value)},null,8,["render-func","date"])):(W(),fe("div",{key:1,class:Z(`${e.prefixCls}-date`)},[De("div",{class:Z(`${e.prefixCls}-date-value`)},Mt(m.label),3)],2))],42,HB))],64))),256))],2))),128))],2)}var E1=ot(UB,[["render",GB]]);const zB=Ae({name:"PanelWeekList",props:{prefixCls:{type:String,required:!0},weekList:{type:Array,required:!0}},setup(){const e=pv();return{labelList:O(()=>["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].map(n=>e(`datePicker.week.short.${n}`)))}}});function WB(e,o,n,i,l,u){return W(),fe("div",{class:Z(`${e.prefixCls}-week-list`)},[(W(!0),fe(Lt,null,Ko(e.weekList,a=>(W(),fe("div",{key:a,class:Z(`${e.prefixCls}-week-list-item`)},Mt(e.labelList[a]||""),3))),128))],2)}var jB=ot(zB,[["render",WB]]);const XB=Ae({name:"TimePickerColumn",props:{prefixCls:{type:String,required:!0},list:{type:Array,required:!0},value:{type:[Number,String]},visible:{type:Boolean}},emits:["select"],setup(e,{emit:o}){const{visible:n,value:i}=mt(e),l=ve(new Map),u=ve();function a(h=!1){if(!u.value||Gt(i==null?void 0:i.value)||!(n!=null&&n.value))return;const p=l.value.get(i.value);p&&bB(u.value,p.offsetTop,h?100:0)}return At([i,n],(h,[,p])=>{n.value!==p?Un(()=>{a()}):a(!0)}),fn(()=>{a()}),{refWrapper:u,refMap:l,onItemRef(h,p){l.value.set(p.value,h)},onItemClick(h){h.disabled||o("select",h.value)}}}}),KB=["onClick"];function YB(e,o,n,i,l,u){return W(),fe("div",{ref:"refWrapper",class:Z(`${e.prefixCls}-column`)},[De("ul",null,[(W(!0),fe(Lt,null,Ko(e.list,a=>(W(),fe("li",{key:a.value,ref:h=>{e.onItemRef(h,a)},class:Z([`${e.prefixCls}-cell`,{[`${e.prefixCls}-cell-disabled`]:a.disabled,[`${e.prefixCls}-cell-selected`]:a.selected}]),onClick:()=>{e.onItemClick(a)}},[De("div",{class:Z(`${e.prefixCls}-cell-inner`)},Mt(a.label),3)],10,KB))),128))])],2)}var QB=ot(XB,[["render",YB]]);function qB(e){const{format:o,step:n,use12Hours:i,hideDisabledOptions:l,disabledHours:u,disabledMinutes:a,disabledSeconds:h,selectedHour:p,selectedMinute:m,selectedSecond:$,selectedAmpm:T,disabled:w}=mt(e),A=O(()=>{var G;const{hour:j=1}=(n==null?void 0:n.value)||{},F=((G=u==null?void 0:u.value)==null?void 0:G.call(u))||[];let x=[];for(let D=0;D<(i.value?12:24);D+=j)x.push(D);return i.value&&(x[0]=12),l.value&&F.length&&(x=x.filter(D=>F.indexOf(D)<0)),x.map(D=>({label:Mh(D,2,"0"),value:D,selected:p.value===D,disabled:(w==null?void 0:w.value)||F.includes(D)}))}),R=O(()=>{var G;const{minute:j=1}=(n==null?void 0:n.value)||{},F=((G=a==null?void 0:a.value)==null?void 0:G.call(a,p.value))||[];let x=[];for(let D=0;D<60;D+=j)x.push(D);return l.value&&F.length&&(x=x.filter(D=>F.indexOf(D)<0)),x.map(D=>({label:Mh(D,2,"0"),value:D,selected:m.value===D,disabled:(w==null?void 0:w.value)||F.includes(D)}))}),L=O(()=>{var G;const{second:j=1}=(n==null?void 0:n.value)||{},F=((G=h==null?void 0:h.value)==null?void 0:G.call(h,p.value,m.value))||[];let x=[];for(let D=0;D<60;D+=j)x.push(D);return l.value&&F.length&&(x=x.filter(D=>F.indexOf(D)<0)),x.map(D=>({label:Mh(D,2,"0"),value:D,selected:$.value===D,disabled:(w==null?void 0:w.value)||F.includes(D)}))}),M=["am","pm"],B=O(()=>{const G=IC(o.value).list.includes("A");return M.map(j=>({label:G?j.toUpperCase():j,value:j,selected:T.value===j,disabled:w==null?void 0:w.value}))});return{hours:A,minutes:R,seconds:L,ampmList:B}}function GI(e){const{format:o,use12Hours:n,defaultFormat:i}=mt(e),l=O(()=>{let m=(o==null?void 0:o.value)||(i==null?void 0:i.value);return(!m||!IC(m).list.length)&&(m=n!=null&&n.value?"hh:mm:ss a":"HH:mm:ss"),m}),u=O(()=>IC(l.value)),a=O(()=>u.value.list),h=O(()=>u.value.use12Hours),p=O(()=>!!(n!=null&&n.value||h.value));return{columns:a,use12Hours:p,format:l}}function xR(e){const o=n=>TB(n,{disabledHours:e.disabledHours,disabledMinutes:e.disabledMinutes,disabledSeconds:e.disabledSeconds});return n=>nn(n)?n.some(i=>o(i)):o(n)}const ZB=Ae({name:"TimePickerPanel",components:{TimeColumn:QB,Button:mi},props:{value:{type:Object},visible:{type:Boolean},format:{type:String,default:"HH:mm:ss"},use12Hours:{type:Boolean},step:{type:Object},disabledHours:{type:Function},disabledMinutes:{type:Function},disabledSeconds:{type:Function},hideDisabledOptions:{type:Boolean},hideFooter:{type:Boolean},isRange:{type:Boolean},disabled:{type:Boolean}},emits:{select:e=>Js(e),confirm:e=>Js(e)},setup(e,{emit:o}){const{value:n,visible:i,format:l,step:u,use12Hours:a,hideDisabledOptions:h,disabledHours:p,disabledMinutes:m,disabledSeconds:$,disabled:T}=mt(e),w=Ge("timepicker"),{t:A}=Lo(),{columns:R,use12Hours:L,format:M}=GI(ft({format:l,use12Hours:a})),B=ve(n==null?void 0:n.value),G=q=>{B.value=q};At([i,n],()=>{i.value&&G(n==null?void 0:n.value)});const j=O(()=>{var q;const z=(q=B.value)==null?void 0:q.hour();return Gt(z)||!L.value?z:z>12?z-12:z===0?12:z}),F=O(()=>{var q;return(q=B.value)==null?void 0:q.minute()}),x=O(()=>{var q;return(q=B.value)==null?void 0:q.second()}),D=O(()=>{var q;const z=(q=B.value)==null?void 0:q.hour();return!Gt(z)&&z>=12?"pm":"am"}),{hours:U,minutes:te,seconds:Y,ampmList:J}=qB(ft({format:M,step:u,use12Hours:L,hideDisabledOptions:h,disabledHours:p,disabledMinutes:m,disabledSeconds:$,selectedHour:j,selectedMinute:F,selectedSecond:x,selectedAmpm:D,disabled:T})),ee=xR(ft({disabledHours:p,disabledMinutes:m,disabledSeconds:$})),ue=O(()=>ee(B.value));function oe(q){Gt(q)||o("confirm",q)}function X(q){G(q),o("select",q)}function K(q,z="hour"){let ne;const ge=j.value||"00",Q=F.value||"00",Oe=x.value||"00",Re=D.value||"am";switch(z){case"hour":ne=`${q}:${Q}:${Oe}`;break;case"minute":ne=`${ge}:${q}:${Oe}`;break;case"second":ne=`${ge}:${Q}:${q}`;break;case"ampm":ne=`${ge}:${Q}:${Oe} ${q}`;break;default:ne="00:00:00"}let _e="HH:mm:ss";L.value&&(_e="HH:mm:ss a",z!=="ampm"&&(ne=`${ne} ${Re}`)),ne=or(ne,_e),X(ne)}return{prefixCls:w,t:A,hours:U,minutes:te,seconds:Y,ampmList:J,selectedValue:B,selectedHour:j,selectedMinute:F,selectedSecond:x,selectedAmpm:D,computedUse12Hours:L,confirmBtnDisabled:ue,columns:R,onSelect:K,onSelectNow(){const q=or(new Date);X(q)},onConfirm(){oe(B.value)}}}});function JB(e,o,n,i,l,u){const a=Pe("TimeColumn"),h=Pe("Button");return W(),fe(Lt,null,[De("div",{class:Z(e.prefixCls)},[e.columns.includes("H")||e.columns.includes("h")?(W(),Ze(a,{key:0,value:e.selectedHour,list:e.hours,"prefix-cls":e.prefixCls,visible:e.visible,onSelect:o[0]||(o[0]=p=>{e.onSelect(p,"hour")})},null,8,["value","list","prefix-cls","visible"])):We("v-if",!0),e.columns.includes("m")?(W(),Ze(a,{key:1,value:e.selectedMinute,list:e.minutes,"prefix-cls":e.prefixCls,visible:e.visible,onSelect:o[1]||(o[1]=p=>{e.onSelect(p,"minute")})},null,8,["value","list","prefix-cls","visible"])):We("v-if",!0),e.columns.includes("s")?(W(),Ze(a,{key:2,value:e.selectedSecond,list:e.seconds,"prefix-cls":e.prefixCls,visible:e.visible,onSelect:o[2]||(o[2]=p=>{e.onSelect(p,"second")})},null,8,["value","list","prefix-cls","visible"])):We("v-if",!0),e.computedUse12Hours?(W(),Ze(a,{key:3,value:e.selectedAmpm,list:e.ampmList,"prefix-cls":e.prefixCls,visible:e.visible,onSelect:o[3]||(o[3]=p=>{e.onSelect(p,"ampm")})},null,8,["value","list","prefix-cls","visible"])):We("v-if",!0)],2),e.$slots["extra-footer"]?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-footer-extra-wrapper`)},[Ue(e.$slots,"extra-footer")],2)):We("v-if",!0),e.hideFooter?We("v-if",!0):(W(),fe("div",{key:1,class:Z(`${e.prefixCls}-footer-btn-wrapper`)},[e.isRange?We("v-if",!0):(W(),Ze(h,{key:0,size:"mini",onClick:e.onSelectNow},{default:Je(()=>[Dt(Mt(e.t("datePicker.now")),1)]),_:1},8,["onClick"])),_(h,{type:"primary",size:"mini",disabled:e.confirmBtnDisabled||!e.selectedValue,onClick:e.onConfirm},{default:Je(()=>[Dt(Mt(e.t("datePicker.ok")),1)]),_:1},8,["disabled","onClick"])],2))],64)}var Pb=ot(ZB,[["render",JB]]);const eF=Ae({name:"IconCalendar",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-calendar`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),tF=["stroke-width","stroke-linecap","stroke-linejoin"],nF=De("path",{d:"M7 22h34M14 5v8m20-8v8M8 41h32a1 1 0 0 0 1-1V10a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v30a1 1 0 0 0 1 1Z"},null,-1),oF=[nF];function rF(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},oF,14,tF)}var $y=ot(eF,[["render",rF]]);const zI=Object.assign($y,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+$y.name,$y)}}),iF=Ae({name:"IconClockCircle",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-clock-circle`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),sF=["stroke-width","stroke-linecap","stroke-linejoin"],lF=De("path",{d:"M24 14v10h9.5m8.5 0c0 9.941-8.059 18-18 18S6 33.941 6 24 14.059 6 24 6s18 8.059 18 18Z"},null,-1),aF=[lF];function uF(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},aF,14,sF)}var vy=ot(iF,[["render",uF]]);const BR=Object.assign(vy,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+vy.name,vy)}});function kr(e,o){const{value:n}=mt(o),[i,l]=Ss(Gt(n.value)?e:n.value);return At(n,a=>{Gt(a)&&l(void 0)}),[O(()=>Gt(n.value)?i.value:n.value),l,i]}var cF=Object.defineProperty,dF=Object.defineProperties,hF=Object.getOwnPropertyDescriptors,MO=Object.getOwnPropertySymbols,pF=Object.prototype.hasOwnProperty,fF=Object.prototype.propertyIsEnumerable,PO=(e,o,n)=>o in e?cF(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,z0=(e,o)=>{for(var n in o||(o={}))pF.call(o,n)&&PO(e,n,o[n]);if(MO)for(var n of MO(o))fF.call(o,n)&&PO(e,n,o[n]);return e},FR=(e,o)=>dF(e,hF(o));const VR=6,OC=7,gF=VR*OC;function mF(e){return{label:e.date(),value:e}}const $F=Ae({name:"DatePanel",components:{PanelHeader:y1,PanelBody:E1,PanelWeekList:jB,TimePanel:Pb,IconCalendar:zI,IconClockCircle:BR},props:{isRange:{type:Boolean},value:{type:Object},rangeValues:{type:Array},headerValue:{type:Object,required:!0},footerValue:{type:Object},timePickerValue:{type:Object},headerOperations:{type:Object,default:()=>({})},headerIcons:{type:Object,default:()=>({})},dayStartOfWeek:{type:Number,default:0},disabledDate:{type:Function},disabledTime:{type:Function},isSameTime:{type:Function},mode:{type:String,default:"date"},showTime:{type:Boolean},timePickerProps:{type:Object},currentView:{type:String},dateRender:{type:Function},disabled:{type:Boolean},onHeaderLabelClick:{type:Function}},emits:["select","time-picker-select","cell-mouse-enter","current-view-change","update:currentView"],setup(e,{emit:o}){const{isRange:n,headerValue:i,footerValue:l,dayStartOfWeek:u,isSameTime:a,mode:h,showTime:p,currentView:m,disabledTime:$}=mt(e),T=pv(),w=O(()=>(h==null?void 0:h.value)==="week"),A=O(()=>Ge(w.value?"panel-week":"panel-date")),R=Ge("picker"),[L,M]=kr("date",ft({value:m})),B=O(()=>p.value&&n.value),G=O(()=>!p.value||!B.value||L.value==="date"),j=O(()=>p.value&&(!B.value||L.value==="time")),F=O(()=>[A.value,{[`${A.value}-with-view-tabs`]:B.value}]),x=O(()=>i.value.format("YYYY-MM")),D=O(()=>{var oe;return p.value&&((oe=$==null?void 0:$.value)==null?void 0:oe.call($,es((l==null?void 0:l.value)||Ur())))||{}}),U=O(()=>{const oe=[0,1,2,3,4,5,6],X=Math.max(u.value%7,0);return[...oe.slice(X),...oe.slice(0,X)]}),te=O(()=>{const oe=dr.startOf(i.value,"month"),X=oe.day(),K=oe.daysInMonth(),q=U.value.indexOf(X),z=lg(gF);for(let ge=0;ge<z.length;ge++)z[ge]=FR(z0({},mF(dr.add(oe,ge-q,"day"))),{isPrev:ge<q,isNext:ge>q+K-1});return lg(VR).map((ge,Q)=>{const Oe=z.slice(Q*OC,(Q+1)*OC);if(w.value){const Re=Oe[0].value;Oe.unshift({label:Re.week(),value:Re})}return Oe})}),Y=O(()=>(a==null?void 0:a.value)||((oe,X)=>oe.isSame(X,"day")));function J(oe){o("select",oe.value)}function ee(oe){o("time-picker-select",oe)}function ue(oe){o("cell-mouse-enter",oe.value)}return{prefixCls:A,classNames:F,pickerPrefixCls:R,headerTitle:x,rows:te,weekList:O(()=>w.value?[-1,...U.value]:U.value),mergedIsSameTime:Y,disabledTimeProps:D,onCellClick:J,onCellMouseEnter:ue,onTimePanelSelect:ee,showViewTabs:B,showDateView:G,showTimeView:j,changeViewTo:oe=>{o("current-view-change",oe),o("update:currentView",oe),M(oe)},datePickerT:T}}});function vF(e,o,n,i,l,u){const a=Pe("PanelHeader"),h=Pe("PanelWeekList"),p=Pe("PanelBody"),m=Pe("TimePanel"),$=Pe("IconCalendar"),T=Pe("IconClockCircle");return W(),fe("div",{class:Z(e.classNames)},[e.showDateView?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-inner`)},[_(a,lt(FR(z0({},e.headerOperations),{icons:e.headerIcons}),{"prefix-cls":e.pickerPrefixCls,title:e.headerTitle,mode:e.mode,value:e.headerValue,"on-label-click":e.onHeaderLabelClick}),null,16,["prefix-cls","title","mode","value","on-label-click"]),_(h,{"prefix-cls":e.pickerPrefixCls,"week-list":e.weekList},null,8,["prefix-cls","week-list"]),_(p,{mode:e.mode,"prefix-cls":e.pickerPrefixCls,rows:e.rows,value:e.isRange?void 0:e.value,"range-values":e.rangeValues,"disabled-date":e.disabledDate,"is-same-time":e.mergedIsSameTime,"date-render":e.dateRender,onCellClick:e.onCellClick,onCellMouseEnter:e.onCellMouseEnter},null,8,["mode","prefix-cls","rows","value","range-values","disabled-date","is-same-time","date-render","onCellClick","onCellMouseEnter"])],2)):We("v-if",!0),e.showTimeView?(W(),fe("div",{key:1,class:Z(`${e.prefixCls}-timepicker`)},[De("header",{class:Z(`${e.prefixCls}-timepicker-title`)},Mt(e.datePickerT("datePicker.selectTime")),3),_(m,lt(z0(z0({},e.timePickerProps),e.disabledTimeProps),{"hide-footer":"",value:e.value||e.isRange?e.timePickerValue:void 0,disabled:e.disabled,onSelect:e.onTimePanelSelect}),null,16,["value","disabled","onSelect"])],2)):We("v-if",!0),e.showViewTabs?(W(),fe("div",{key:2,class:Z(`${e.prefixCls}-footer`)},[De("div",{class:Z(`${e.prefixCls}-view-tabs`)},[De("div",{class:Z([`${e.prefixCls}-view-tab-pane`,{[`${e.prefixCls}-view-tab-pane-active`]:e.showDateView}]),onClick:o[0]||(o[0]=()=>e.changeViewTo("date"))},[_($),De("span",{class:Z(`${e.prefixCls}-view-tab-pane-text`)},Mt(e.footerValue&&e.footerValue.format("YYYY-MM-DD")),3)],2),De("div",{class:Z([`${e.prefixCls}-view-tab-pane`,{[`${e.prefixCls}-view-tab-pane-active`]:e.showTimeView}]),onClick:o[1]||(o[1]=()=>e.changeViewTo("time"))},[_(T),De("span",{class:Z(`${e.prefixCls}-view-tab-pane-text`)},Mt(e.timePickerValue&&e.timePickerValue.format("HH:mm:ss")),3)],2)],2)],2)):We("v-if",!0)],2)}var WI=ot($F,[["render",vF]]);const _F=Ae({name:"WeekPanel",components:{DatePanel:WI},props:{dayStartOfWeek:{type:Number,default:0}},emits:["select","cell-mouse-enter"],setup(e,{emit:o}){const{locale:n}=Lo();return{isSameTime:(l,u)=>dr.isSameWeek(l,u,e.dayStartOfWeek,n.value),onSelect:l=>{const u=dr.startOf(l,"week");o("select",u)},onCellMouseEnter:l=>{const u=dr.startOf(l,"week");o("cell-mouse-enter",u)}}}});function bF(e,o,n,i,l,u){const a=Pe("DatePanel");return W(),Ze(a,lt(e.$attrs,{mode:"week","is-week":"","day-start-of-week":e.dayStartOfWeek,"is-same-time":e.isSameTime,onSelect:e.onSelect,onCellMouseEnter:e.onCellMouseEnter}),null,16,["day-start-of-week","is-same-time","onSelect","onCellMouseEnter"])}var UR=ot(_F,[["render",bF]]),TF=Object.defineProperty,yF=Object.defineProperties,EF=Object.getOwnPropertyDescriptors,DO=Object.getOwnPropertySymbols,CF=Object.prototype.hasOwnProperty,IF=Object.prototype.propertyIsEnumerable,xO=(e,o,n)=>o in e?TF(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,SF=(e,o)=>{for(var n in o||(o={}))CF.call(o,n)&&xO(e,n,o[n]);if(DO)for(var n of DO(o))IF.call(o,n)&&xO(e,n,o[n]);return e},OF=(e,o)=>yF(e,EF(o));const kF=["January","February","March","April","May","June","July","August","September","October","November","December"],wF=12,NF=4,BO=3,AF=Ae({name:"MonthPanel",components:{PanelHeader:y1,PanelBody:E1},props:{headerValue:{type:Object,required:!0},headerOperations:{type:Object,default:()=>({})},headerIcons:{type:Object,default:()=>({})},value:{type:Object},disabledDate:{type:Function},rangeValues:{type:Array},dateRender:{type:Function},onHeaderLabelClick:{type:Function},abbreviation:{type:Boolean,default:!0}},emits:["select","cell-mouse-enter"],setup(e,{emit:o}){const n=pv(),{headerValue:i}=mt(e),l=O(()=>Ge("panel-month")),u=Ge("picker"),a=O(()=>i.value.format("YYYY")),h=O(()=>{const T=i.value.year(),w=e.abbreviation?"short":"long",A=lg(wF).map((L,M)=>({label:n(`datePicker.month.${w}.${kF[M]}`),value:or(`${T}-${M+1}`,"YYYY-M")}));return lg(NF).map((L,M)=>A.slice(M*BO,(M+1)*BO))}),p=(T,w)=>T.isSame(w,"month");function m(T){o("select",T.value)}function $(T){o("cell-mouse-enter",T.value)}return{prefixCls:l,pickerPrefixCls:u,headerTitle:a,rows:h,isSameTime:p,onCellClick:m,onCellMouseEnter:$}}});function RF(e,o,n,i,l,u){const a=Pe("PanelHeader"),h=Pe("PanelBody");return W(),fe("div",{class:Z(e.prefixCls)},[De("div",{class:Z(`${e.prefixCls}-inner`)},[_(a,lt(OF(SF({},e.headerOperations),{icons:e.headerIcons}),{"prefix-cls":e.pickerPrefixCls,title:e.headerTitle,mode:"month",value:e.headerValue,"on-label-click":e.onHeaderLabelClick}),null,16,["prefix-cls","title","value","on-label-click"]),_(h,{mode:"month","prefix-cls":e.pickerPrefixCls,rows:e.rows,value:e.value,"range-values":e.rangeValues,"disabled-date":e.disabledDate,"is-same-time":e.isSameTime,"date-render":e.dateRender,onCellClick:e.onCellClick,onCellMouseEnter:e.onCellMouseEnter},null,8,["prefix-cls","rows","value","range-values","disabled-date","is-same-time","date-render","onCellClick","onCellMouseEnter"])],2)],2)}var HR=ot(AF,[["render",RF]]),LF=Object.defineProperty,MF=Object.defineProperties,PF=Object.getOwnPropertyDescriptors,FO=Object.getOwnPropertySymbols,DF=Object.prototype.hasOwnProperty,xF=Object.prototype.propertyIsEnumerable,VO=(e,o,n)=>o in e?LF(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,BF=(e,o)=>{for(var n in o||(o={}))DF.call(o,n)&&VO(e,n,o[n]);if(FO)for(var n of FO(o))xF.call(o,n)&&VO(e,n,o[n]);return e},FF=(e,o)=>MF(e,PF(o));const kC=4,W0=3,VF=kC*W0,_y=10,UF=Ae({name:"YearPanel",components:{PanelHeader:y1,PanelBody:E1},props:{headerValue:{type:Object,required:!0},headerOperations:{type:Object,default:()=>({})},headerIcons:{type:Object,default:()=>({})},value:{type:Object},disabledDate:{type:Function},rangeValues:{type:Array},dateRender:{type:Function}},emits:["select","cell-mouse-enter"],setup(e,{emit:o}){const{headerValue:n}=mt(e),i=O(()=>Ge("panel-year")),l=Ge("picker"),u=O(()=>{const $=Math.floor(n.value.year()/_y)*_y-1,T=lg(VF).map((A,R)=>({label:$+R,value:or(`${$+R}`,"YYYY"),isPrev:R<1,isNext:R>_y}));return lg(kC).map((A,R)=>T.slice(R*W0,(R+1)*W0))}),a=O(()=>`${u.value[0][1].label}-${u.value[kC-1][W0-1].label}`),h=($,T)=>$.isSame(T,"year");function p($){o("select",$.value)}function m($){o("cell-mouse-enter",$.value)}return{prefixCls:i,pickerPrefixCls:l,headerTitle:a,rows:u,isSameTime:h,onCellClick:p,onCellMouseEnter:m}}});function HF(e,o,n,i,l,u){const a=Pe("PanelHeader"),h=Pe("PanelBody");return W(),fe("div",{class:Z(e.prefixCls)},[De("div",{class:Z(`${e.prefixCls}-inner`)},[_(a,lt(FF(BF({},e.headerOperations),{icons:e.headerIcons}),{"prefix-cls":e.pickerPrefixCls,title:e.headerTitle}),null,16,["prefix-cls","title"]),_(h,{mode:"year","prefix-cls":e.pickerPrefixCls,rows:e.rows,value:e.value,"range-values":e.rangeValues,"disabled-date":e.disabledDate,"is-same-time":e.isSameTime,"date-render":e.dateRender,onCellClick:e.onCellClick,onCellMouseEnter:e.onCellMouseEnter},null,8,["prefix-cls","rows","value","range-values","disabled-date","is-same-time","date-render","onCellClick","onCellMouseEnter"])],2)],2)}var GR=ot(UF,[["render",HF]]),GF=Object.defineProperty,zF=Object.defineProperties,WF=Object.getOwnPropertyDescriptors,UO=Object.getOwnPropertySymbols,jF=Object.prototype.hasOwnProperty,XF=Object.prototype.propertyIsEnumerable,HO=(e,o,n)=>o in e?GF(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,KF=(e,o)=>{for(var n in o||(o={}))jF.call(o,n)&&HO(e,n,o[n]);if(UO)for(var n of UO(o))XF.call(o,n)&&HO(e,n,o[n]);return e},YF=(e,o)=>zF(e,WF(o));const QF=Ae({name:"QuarterPanel",components:{PanelHeader:y1,PanelBody:E1},props:{headerValue:{type:Object,required:!0},headerOperations:{type:Object,default:()=>({})},headerIcons:{type:Object,default:()=>({})},value:{type:Object},disabledDate:{type:Function},rangeValues:{type:Array},dateRender:{type:Function},onHeaderLabelClick:{type:Function}},emits:["select","cell-mouse-enter"],setup(e,{emit:o}){const{headerValue:n}=mt(e),i=O(()=>Ge("panel-quarter")),l=Ge("picker"),u=O(()=>n.value.format("YYYY")),a=O(()=>{const $=n.value.year();return[[1,2,3,4].map(T=>({label:`Q${T}`,value:or(`${$}-${Mh((T-1)*3+1,2,"0")}-01`)}))]}),h=($,T)=>$.isSame(T,"month")||$.isSame(T,"year")&&Math.floor($.month()/3)===Math.floor(T.month()/3);function p($){o("select",$.value)}function m($){o("cell-mouse-enter",$.value)}return{prefixCls:i,pickerPrefixCls:l,headerTitle:u,rows:a,isSameTime:h,onCellClick:p,onCellMouseEnter:m}}});function qF(e,o,n,i,l,u){const a=Pe("PanelHeader"),h=Pe("PanelBody");return W(),fe("div",{class:Z(e.prefixCls)},[De("div",{class:Z(`${e.prefixCls}-inner`)},[_(a,lt(YF(KF({},e.headerOperations),{icons:e.headerIcons}),{"prefix-cls":e.pickerPrefixCls,title:e.headerTitle,mode:"quarter",value:e.headerValue,"on-label-click":e.onHeaderLabelClick}),null,16,["prefix-cls","title","value","on-label-click"]),_(h,{mode:"quarter","prefix-cls":e.pickerPrefixCls,rows:e.rows,value:e.value,"range-values":e.rangeValues,"disabled-date":e.disabledDate,"is-same-time":e.isSameTime,"date-render":e.dateRender,onCellClick:e.onCellClick,onCellMouseEnter:e.onCellMouseEnter},null,8,["prefix-cls","rows","value","range-values","disabled-date","is-same-time","date-render","onCellClick","onCellMouseEnter"])],2)],2)}var zR=ot(QF,[["render",qF]]);const ZF=Ae({name:"IconLink",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-link`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),JF=["stroke-width","stroke-linecap","stroke-linejoin"],eV=De("path",{d:"m14.1 25.414-4.95 4.95a6 6 0 0 0 8.486 8.485l8.485-8.485a6 6 0 0 0 0-8.485m7.779.707 4.95-4.95a6 6 0 1 0-8.486-8.485l-8.485 8.485a6 6 0 0 0 0 8.485"},null,-1),tV=[eV];function nV(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},tV,14,JF)}var by=ot(ZF,[["render",nV]]);const oV=Object.assign(by,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+by.name,by)}}),rV=Ae({name:"Link",components:{IconLink:oV,IconLoading:gi},props:{href:String,status:{type:String,default:"normal"},hoverable:{type:Boolean,default:!0},icon:Boolean,loading:Boolean,disabled:Boolean},emits:{click:e=>!0},setup(e,{slots:o,emit:n}){const i=Ge("link"),l=RR(e,o,"icon"),u=h=>{if(e.disabled||e.loading){h.preventDefault();return}n("click",h)};return{cls:O(()=>[i,`${i}-status-${e.status}`,{[`${i}-disabled`]:e.disabled,[`${i}-loading`]:e.loading,[`${i}-hoverless`]:!e.hoverable,[`${i}-with-icon`]:e.loading||l.value}]),prefixCls:i,showIcon:l,handleClick:u}}}),iV=["href"];function sV(e,o,n,i,l,u){const a=Pe("icon-loading"),h=Pe("icon-link");return W(),fe("a",{href:e.disabled?void 0:e.href,class:Z(e.cls),onClick:o[0]||(o[0]=(...p)=>e.handleClick&&e.handleClick(...p))},[e.loading||e.showIcon?(W(),fe("span",{key:0,class:Z(`${e.prefixCls}-icon`)},[e.loading?(W(),Ze(a,{key:0})):Ue(e.$slots,"icon",{key:1},()=>[_(h)])],2)):We("v-if",!0),Ue(e.$slots,"default")],10,iV)}var Ty=ot(rV,[["render",sV]]);const WR=Object.assign(Ty,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+Ty.name,Ty)}}),lV=Ae({name:"PanelFooter",components:{Link:WR,Button:mi},props:{prefixCls:{type:String,required:!0},showTodayBtn:{type:Boolean},showConfirmBtn:{type:Boolean},confirmBtnDisabled:{type:Boolean}},emits:["today-btn-click","confirm-btn-click"],setup(e,{emit:o}){return{datePickerT:pv(),onTodayClick:()=>{o("today-btn-click")},onConfirmBtnClick:()=>{o("confirm-btn-click")}}}});function aV(e,o,n,i,l,u){const a=Pe("Link"),h=Pe("Button");return W(),fe("div",{class:Z(`${e.prefixCls}-footer`)},[e.$slots.extra?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-footer-extra-wrapper`)},[Ue(e.$slots,"extra")],2)):We("v-if",!0),e.showTodayBtn?(W(),fe("div",{key:1,class:Z(`${e.prefixCls}-footer-now-wrapper`)},[_(a,{onClick:e.onTodayClick},{default:Je(()=>[Dt(Mt(e.datePickerT("datePicker.today")),1)]),_:1},8,["onClick"])],2)):We("v-if",!0),e.$slots.btn||e.showConfirmBtn?(W(),fe("div",{key:2,class:Z(`${e.prefixCls}-footer-btn-wrapper`)},[Ue(e.$slots,"btn"),e.showConfirmBtn?(W(),Ze(h,{key:0,class:Z(`${e.prefixCls}-btn-confirm`),type:"primary",size:"mini",disabled:e.confirmBtnDisabled,onClick:e.onConfirmBtnClick},{default:Je(()=>[Dt(Mt(e.datePickerT("datePicker.ok")),1)]),_:1},8,["class","disabled","onClick"])):We("v-if",!0)],2)):We("v-if",!0)],2)}var jR=ot(lV,[["render",aV]]);function XR(e){const{mode:o}=mt(e),n=O(()=>({date:1,week:1,year:10*12,quarter:12,month:12})[o.value]),i=O(()=>["year"].includes(o.value)?10*12:12);return{span:n,superSpan:i}}function Db(e){const{mode:o,value:n,defaultValue:i,selectedValue:l,format:u,onChange:a}=mt(e),h=O(()=>(o==null?void 0:o.value)||"date"),{span:p,superSpan:m}=XR(ft({mode:h})),$=(x,D)=>{const U=h.value==="date"||h.value==="week"?"M":"y";return x.isSame(D,U)},T=O(()=>ws(n==null?void 0:n.value,u.value)),w=O(()=>ws(i==null?void 0:i.value,u.value)),A=ve(w.value||Ur()),R=O(()=>T.value||A.value),L=x=>{x&&(A.value=x)},M=(x,D=!0)=>{var U;x&&(D&&!$(R.value,x)&&((U=a==null?void 0:a.value)==null||U.call(a,x)),L(x))};l!=null&&l.value&&L(l.value),At(()=>l==null?void 0:l.value,x=>{M(x)});function B(){return(l==null?void 0:l.value)||w.value||Ur()}function G(x=!0){const D=B();x?M(D):L(D)}const j=O(()=>p.value!==m.value),F=O(()=>({onSuperPrev:()=>{M(dr.subtract(R.value,m.value,"M"))},onPrev:j.value?()=>{M(dr.subtract(R.value,p.value,"M"))}:void 0,onNext:j.value?()=>{M(dr.add(R.value,p.value,"M"))}:void 0,onSuperNext:()=>{M(dr.add(R.value,m.value,"M"))}}));return{headerValue:R,setHeaderValue:M,headerOperations:F,resetHeaderValue:G,getDefaultLocalValue:B}}const uV=Ae({name:"DatePikerPanel",components:{DatePanel:WI,PanelShortcuts:PR,PanelFooter:jR,WeekPanel:UR,MonthPanel:HR,YearPanel:GR,QuarterPanel:zR,RenderFunction:Gu},props:{mode:{type:String},headerMode:{type:String},prefixCls:{type:String,required:!0},value:{type:Object},headerValue:{type:Object,required:!0},timePickerValue:{type:Object},showTime:{type:Boolean},showConfirmBtn:{type:Boolean},shortcuts:{type:Array,default:()=>[]},shortcutsPosition:{type:String,default:"bottom"},format:{type:String,required:!0},dayStartOfWeek:{type:Number,default:0},disabledDate:{type:Function},disabledTime:{type:Function},timePickerProps:{type:Object},extra:{type:Function},dateRender:{type:Function},hideTrigger:{type:Boolean},confirmBtnDisabled:{type:Boolean},showNowBtn:{type:Boolean},headerIcons:{type:Object,default:()=>({})},headerOperations:{type:Object},abbreviation:{type:Boolean}},emits:["cell-click","time-picker-select","shortcut-click","shortcut-mouse-enter","shortcut-mouse-leave","confirm","today-btn-click","header-label-click","header-select","month-header-click"],setup(e,{emit:o}){const{prefixCls:n,shortcuts:i,shortcutsPosition:l,format:u,value:a,disabledDate:h,hideTrigger:p,showNowBtn:m,dateRender:$,showConfirmBtn:T,headerValue:w,headerIcons:A,headerOperations:R,headerMode:L}=mt(e),M=O(()=>!!(i.value&&i.value.length)),B=O(()=>m.value&&T.value&&!M.value),G=O(()=>B.value||M.value),j=O(()=>G.value&&l.value==="left"),F=O(()=>G.value&&l.value==="right"),x=O(()=>G.value&&l.value==="bottom"),D=O(()=>[`${n.value}-container`,{[`${n.value}-container-panel-only`]:p.value,[`${n.value}-container-shortcuts-placement-left`]:j.value,[`${n.value}-container-shortcuts-placement-right`]:F.value}]),U=O(()=>(a==null?void 0:a.value)||Ur()),{headerValue:te,setHeaderValue:Y,headerOperations:J}=Db(ft({mode:L,format:u}));At(w,se=>{Y(se)});function ee(se){const{value:ke}=se;return ws(Ut(ke)?ke():ke,se.format||u.value)}function ue(se){o("shortcut-click",ee(se),se)}function oe(se){o("shortcut-mouse-enter",ee(se))}function X(se){o("shortcut-mouse-leave",ee(se))}function K(se){o("cell-click",se)}function q(se){o("time-picker-select",se)}function z(){o("today-btn-click",Ur())}function ne(){o("confirm")}function ge(se){o("header-label-click",se)}function Q(se){o("header-select",se)}function Oe(){o("month-header-click")}const Re=ft({prefixCls:n,shortcuts:i,showNowBtn:B,onItemClick:ue,onItemMouseEnter:oe,onItemMouseLeave:X,onNowClick:z}),_e=ft({value:a,headerValue:w,headerIcons:A,headerOperations:R,disabledDate:h,dateRender:$,onSelect:K,onHeaderLabelClick:ge});return{classNames:D,showShortcutsInLeft:j,showShortcutsInRight:F,showShortcutsInBottom:x,shortcutsProps:Re,commonPanelProps:_e,footerValue:U,onTodayBtnClick:z,onConfirmBtnClick:ne,onTimePickerSelect:q,onHeaderPanelSelect:Q,headerPanelHeaderValue:te,headerPanelHeaderOperations:J,onMonthHeaderLabelClick:Oe}}});function cV(e,o,n,i,l,u){const a=Pe("PanelShortcuts"),h=Pe("YearPanel"),p=Pe("MonthPanel"),m=Pe("WeekPanel"),$=Pe("QuarterPanel"),T=Pe("DatePanel"),w=Pe("RenderFunction"),A=Pe("PanelFooter");return W(),fe("div",{class:Z(e.classNames)},[e.showShortcutsInLeft?(W(),Ze(a,ao(lt({key:0},e.shortcutsProps)),null,16)):We("v-if",!0),De("div",{class:Z(`${e.prefixCls}-panel-wrapper`)},[e.headerMode?(W(),fe(Lt,{key:0},[e.headerMode==="year"?(W(),Ze(h,{key:0,"header-value":e.headerPanelHeaderValue,"header-icons":e.headerIcons,"header-operations":e.headerPanelHeaderOperations,onSelect:e.onHeaderPanelSelect},null,8,["header-value","header-icons","header-operations","onSelect"])):e.headerMode==="month"?(W(),Ze(p,{key:1,"header-value":e.headerPanelHeaderValue,"header-icons":e.headerIcons,"header-operations":e.headerPanelHeaderOperations,abbreviation:e.abbreviation,onSelect:e.onHeaderPanelSelect,onHeaderLabelClick:e.onMonthHeaderLabelClick},null,8,["header-value","header-icons","header-operations","abbreviation","onSelect","onHeaderLabelClick"])):We("v-if",!0)],2112)):(W(),fe(Lt,{key:1},[e.mode==="week"?(W(),Ze(m,lt({key:0},e.commonPanelProps,{"day-start-of-week":e.dayStartOfWeek}),null,16,["day-start-of-week"])):e.mode==="month"?(W(),Ze(p,lt({key:1,abbreviation:e.abbreviation},e.commonPanelProps),null,16,["abbreviation"])):e.mode==="year"?(W(),Ze(h,ao(lt({key:2},e.commonPanelProps)),null,16)):e.mode==="quarter"?(W(),Ze($,ao(lt({key:3},e.commonPanelProps)),null,16)):(W(),Ze(T,lt({key:4},e.commonPanelProps,{mode:"date","show-time":e.showTime,"time-picker-props":e.timePickerProps,"day-start-of-week":e.dayStartOfWeek,"footer-value":e.footerValue,"time-picker-value":e.timePickerValue,"disabled-time":e.disabledTime,onTimePickerSelect:e.onTimePickerSelect}),null,16,["show-time","time-picker-props","day-start-of-week","footer-value","time-picker-value","disabled-time","onTimePickerSelect"])),_(A,{"prefix-cls":e.prefixCls,"show-today-btn":e.showNowBtn&&!(e.showConfirmBtn||e.showShortcutsInBottom),"show-confirm-btn":e.showConfirmBtn,"confirm-btn-disabled":e.confirmBtnDisabled,onTodayBtnClick:e.onTodayBtnClick,onConfirmBtnClick:e.onConfirmBtnClick},Oo({_:2},[e.extra?{name:"extra",fn:Je(()=>[e.extra?(W(),Ze(w,{key:0,"render-func":e.extra},null,8,["render-func"])):We("v-if",!0)])}:void 0,e.showShortcutsInBottom?{name:"btn",fn:Je(()=>[_(a,ao(Fr(e.shortcutsProps)),null,16)])}:void 0]),1032,["prefix-cls","show-today-btn","show-confirm-btn","confirm-btn-disabled","onTodayBtnClick","onConfirmBtnClick"])],64))],2),e.showShortcutsInRight?(W(),Ze(a,ao(lt({key:1},e.shortcutsProps)),null,16)):We("v-if",!0)],2)}var dV=ot(uV,[["render",cV]]);function hV(e="date",o=!1){switch(e){case"date":return o?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD";case"month":return"YYYY-MM";case"year":return"YYYY";case"week":return"gggg-wo";case"quarter":return"YYYY-[Q]Q";default:return"YYYY-MM-DD"}}function pV(e="date",o=!1){switch(e){case"date":return o?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD";case"month":return"YYYY-MM";case"year":return"YYYY";case"week":return"YYYY-MM-DD";case"quarter":return"YYYY-MM";default:return"YYYY-MM-DD"}}function KR(e){const{format:o,mode:n,showTime:i,valueFormat:l}=mt(e),u=O(()=>!Ut(o==null?void 0:o.value)&&(o==null?void 0:o.value)||hV(n==null?void 0:n.value,i==null?void 0:i.value)),a=O(()=>(l==null?void 0:l.value)||pV(n==null?void 0:n.value,i==null?void 0:i.value)),h=O(()=>["timestamp","Date"].includes(a.value)?u.value:a.value);return{format:u,valueFormat:a,parseValueFormat:h}}function YR(e){const{mode:o,showTime:n,disabledDate:i,disabledTime:l,isRange:u}=mt(e),a=O(()=>(o==null?void 0:o.value)==="date"&&(n==null?void 0:n.value)),h=O(()=>($,T)=>{if(!(i!=null&&i.value))return!1;const w=es($);return u!=null&&u.value?i.value(w,T):i.value(w)}),p=($,T)=>((T==null?void 0:T())||[]).includes($),m=O(()=>($,T)=>{if(!a.value||!(l!=null&&l.value))return!1;const w=es($),A=u!=null&&u.value?l.value(w,T):l.value(w);return p($.hour(),A.disabledHours)||p($.minute(),A.disabledMinutes)||p($.second(),A.disabledSeconds)});return function(T,w){return T&&(h.value(T,w||"start")||m.value(T,w||"start"))}}const Ph=(e,o)=>{if(!e||!o)return;o=o.replace(/\[(\w+)\]/g,".$1");const n=o.split(".");if(n.length===0)return;let i=e;for(let l=0;l<n.length;l++){if(!cn(i)&&!nn(i)||!n[l])return;if(l!==n.length-1)i=i[n[l]];else return i[n[l]]}},xb=(e,o,n,{addPath:i}={})=>{if(!e||!o)return;o=o.replace(/\[(\w+)\]/g,".$1");const l=o.split(".");if(l.length===0)return;let u=e;for(let a=0;a<l.length;a++){if(!cn(u)&&!nn(u)||!l[a])return;a!==l.length-1?(i&&Gt(u[l[a]])&&(u[l[a]]={}),u=u[l[a]]):u[l[a]]=n}};function QR(e){const{locale:o}=mt(e),{locale:n,t:i}=Lo();or.locale(n.value.toLowerCase());const l=(u,...a)=>{const h=u.startsWith("datePicker.")?u.split(".").slice(1).join("."):u;return Ph((o==null?void 0:o.value)||{},h)||i(u,...a)};return Ln(MR,{datePickerT:l}),l}function wC(e){const{timePickerProps:o,selectedValue:n}=mt(e),i=O(()=>{var T;return(T=o==null?void 0:o.value)==null?void 0:T.format}),l=O(()=>{var T;return!!((T=o==null?void 0:o.value)!=null&&T.use12Hours)}),{format:u}=GI(ft({format:i,use12Hours:l})),a=O(()=>{var T;return ws((T=o==null?void 0:o.value)==null?void 0:T.defaultValue,u.value)}),h=()=>(n==null?void 0:n.value)||a.value||Ur(),p=ve(h());function m(T){T&&(p.value=T)}function $(){p.value=h()}return At(n,T=>{m(T)}),[p,m,$]}function qR(e,o){return o==="timestamp"?e.toDate().getTime():o==="Date"?e.toDate():e.format(o)}function fV(e){const{format:o}=mt(e);return n=>qR(n,o.value)}function yy(e,o){return e.map(n=>n?qR(n,o):void 0)}var gV=Object.defineProperty,mV=Object.defineProperties,$V=Object.getOwnPropertyDescriptors,GO=Object.getOwnPropertySymbols,vV=Object.prototype.hasOwnProperty,_V=Object.prototype.propertyIsEnumerable,zO=(e,o,n)=>o in e?gV(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,Bb=(e,o)=>{for(var n in o||(o={}))vV.call(o,n)&&zO(e,n,o[n]);if(GO)for(var n of GO(o))_V.call(o,n)&&zO(e,n,o[n]);return e},WO=(e,o)=>mV(e,$V(o));const bV=Ae({name:"Picker",components:{DateInput:LR,Trigger:Or,PickerPanel:dV,IconCalendar:zI},inheritAttrs:!1,props:{locale:{type:Object},hideTrigger:{type:Boolean},allowClear:{type:Boolean,default:!0},readonly:{type:Boolean},error:{type:Boolean},size:{type:String},shortcuts:{type:Array,default:()=>[]},shortcutsPosition:{type:String,default:"bottom"},position:{type:String,default:"bl"},popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},triggerProps:{type:Object},unmountOnClose:{type:Boolean},placeholder:{type:String},disabled:{type:Boolean},disabledDate:{type:Function},disabledTime:{type:Function},pickerValue:{type:[Object,String,Number]},defaultPickerValue:{type:[Object,String,Number]},popupContainer:{type:[String,Object]},mode:{type:String,default:"date"},format:{type:[String,Function]},valueFormat:{type:String},previewShortcut:{type:Boolean,default:!0},showConfirmBtn:{type:Boolean},showTime:{type:Boolean},timePickerProps:{type:Object},showNowBtn:{type:Boolean,default:!0},dayStartOfWeek:{type:Number,default:0},modelValue:{type:[Object,String,Number]},defaultValue:{type:[Object,String,Number]},disabledInput:{type:Boolean,default:!1},abbreviation:{type:Boolean,default:!0}},emits:{change:(e,o,n)=>!0,"update:modelValue":e=>!0,select:(e,o,n)=>!0,"popup-visible-change":e=>!0,"update:popupVisible":e=>!0,ok:(e,o,n)=>!0,clear:()=>!0,"select-shortcut":e=>!0,"picker-value-change":(e,o,n)=>!0,"update:pickerValue":e=>!0},setup(e,{emit:o,slots:n}){const{mode:i,modelValue:l,defaultValue:u,format:a,valueFormat:h,placeholder:p,popupVisible:m,defaultPopupVisible:$,disabled:T,showTime:w,timePickerProps:A,disabledDate:R,disabledTime:L,readonly:M,locale:B,pickerValue:G,defaultPickerValue:j,dayStartOfWeek:F,previewShortcut:x,showConfirmBtn:D}=mt(e),{locale:U}=Lo();Cr(()=>{fR(U.value,F.value)});const{mergedDisabled:te,eventHandlers:Y}=Eo({disabled:T}),J=QR(ft({locale:B})),ee=Ge("picker"),ue=ve(),oe=O(()=>(p==null?void 0:p.value)||{date:J("datePicker.placeholder.date"),month:J("datePicker.placeholder.month"),year:J("datePicker.placeholder.year"),week:J("datePicker.placeholder.week"),quarter:J("datePicker.placeholder.quarter")}[i.value]||J("datePicker.placeholder.date")),{format:X,valueFormat:K,parseValueFormat:q}=KR(ft({format:a,mode:i,showTime:w,valueFormat:h})),z=O(()=>a&&Ut(a.value)?I=>{var H;return(H=a.value)==null?void 0:H.call(a,es(I))}:X.value),ne=fV(ft({format:K})),ge=YR(ft({mode:i,disabledDate:R,disabledTime:L,showTime:w})),Q=O(()=>w.value||D.value),Oe=O(()=>Q.value&&(!dt.value||ge(dt.value))),Re=O(()=>i.value==="date"&&w.value),{value:_e,setValue:se}=mB(ft({modelValue:l,defaultValue:u,format:q})),[ke,Be]=Ss(),[et,ut]=Ss(),dt=O(()=>{var I;return(I=ke.value)!=null?I:_e.value}),gt=O(()=>{var I,H;return(H=(I=et.value)!=null?I:ke.value)!=null?H:_e.value}),[we,le]=Ss(),[ce,re]=kr($.value,ft({value:m})),Me=I=>{ce.value!==I&&(re(I),o("popup-visible-change",I),o("update:popupVisible",I))},{headerValue:Ne,setHeaderValue:$e,headerOperations:Fe,resetHeaderValue:Le}=Db(ft({mode:i,value:G,defaultValue:j,selectedValue:gt,format:q,onChange:I=>{const H=ne(I),pe=Sa(I,q.value),rt=es(I);o("picker-value-change",H,rt,pe),o("update:pickerValue",H)}})),[qe,,Xe]=wC(ft({timePickerProps:A,selectedValue:gt})),at=O(()=>!M.value&&!Ut(z.value)),Ee=ve();At(ce,I=>{Be(void 0),ut(void 0),Ee.value=void 0,I&&(Le(),Xe()),I||le(void 0)});function Ie(I,H){var pe,rt;const bt=I?ne(I):void 0,Ft=Sa(I,q.value),ln=es(I);PI(I,_e.value)&&(o("update:modelValue",bt),o("change",bt,ln,Ft),(rt=(pe=Y.value)==null?void 0:pe.onChange)==null||rt.call(pe)),H&&o("ok",bt,ln,Ft)}function he(I,H,pe){ge(I)||(Ie(I,pe),se(I),Be(void 0),ut(void 0),le(void 0),Ee.value=void 0,ks(H)&&Me(H))}function me(I,H){if(Be(I),ut(void 0),le(void 0),Ee.value=void 0,H){const pe=I?ne(I):void 0,rt=Sa(I,q.value),bt=es(I);o("select",pe,bt,rt)}}function Se(I){ue.value&&ue.value.focus&&ue.value.focus(I)}function xe(I,H){return!Re.value&&!A.value?I:DR(Ur(),I,H)}function Ke(I){te.value||Me(I)}function C(I){I.stopPropagation(),he(void 0),o("clear")}function k(){var I,H;(H=(I=Y.value)==null?void 0:I.onBlur)==null||H.call(I)}function de(I){Me(!0);const H=I.target.value;if(le(H),!Mb(H,X.value))return;const pe=or(H,X.value);ge(pe)||(Q.value?me(pe):he(pe,!0))}function Ce(){he(gt.value,!1)}function Te(I){Q.value?me(I,!0):he(I,!1)}function Ve(I){const H=xe(I,qe.value);Te(H)}function tt(I){const H=xe(gt.value||Ur(),I);Te(H)}function Et(){he(gt.value,!1,!0)}function St(){e.disabledInput&&Se()}let Bt;Ir(()=>{clearTimeout(Bt)});function qt(I){clearTimeout(Bt),ut(I),le(void 0)}function sn(){clearTimeout(Bt),Bt=setTimeout(()=>{ut(void 0)},100)}function dn(I,H){o("select-shortcut",H),he(I,!1)}function y(I){Ee.value=I}function N(){Ee.value="year"}function S(I){let H=Ne.value;if(H=H.set("year",I.year()),Ee.value==="month"&&(H=H.set("month",I.month())),$e(H),i.value==="quarter"||i.value==="month"){Ee.value=void 0;return}Ee.value=Ee.value==="year"?"month":void 0}const b=O(()=>WO(Bb({format:X.value},Sr((A==null?void 0:A.value)||{},["defaultValue"])),{visible:ce.value})),v=O(()=>WO(Bb({},wa(e,["mode","shortcuts","shortcutsPosition","dayStartOfWeek","disabledDate","disabledTime","showTime","hideTrigger","abbreviation"])),{showNowBtn:e.showNowBtn&&i.value==="date",prefixCls:ee,format:q.value,value:gt.value,visible:ce.value,showConfirmBtn:Q.value,confirmBtnDisabled:Oe.value,timePickerProps:b.value,extra:n.extra,dateRender:n.cell,headerValue:Ne.value,headerIcons:{prev:n["icon-prev"],prevDouble:n["icon-prev-double"],next:n["icon-next"],nextDouble:n["icon-next-double"]},headerOperations:Fe.value,timePickerValue:qe.value,headerMode:Ee.value,onCellClick:Ve,onTimePickerSelect:tt,onConfirm:Et,onShortcutClick:dn,onShortcutMouseEnter:x.value?qt:void 0,onShortcutMouseLeave:x.value?sn:void 0,onTodayBtnClick:Te,onHeaderLabelClick:y,onHeaderSelect:S,onMonthHeaderClick:N}));return{prefixCls:ee,refInput:ue,panelProps:v,panelValue:gt,inputValue:we,selectedValue:_e,inputFormat:z,computedPlaceholder:oe,panelVisible:ce,inputEditable:at,needConfirm:Q,mergedDisabled:te,onPanelVisibleChange:Ke,onInputClear:C,onInputChange:de,onInputPressEnter:Ce,onInputBlur:k,onPanelClick:St}}});function TV(e,o,n,i,l,u){const a=Pe("IconCalendar"),h=Pe("DateInput"),p=Pe("PickerPanel"),m=Pe("Trigger");return e.hideTrigger?(W(),Ze(p,ao(lt({key:1},Bb(Bb({},e.$attrs),e.panelProps))),null,16)):(W(),Ze(m,lt({key:0,trigger:"click","animation-name":"slide-dynamic-origin","auto-fit-transform-origin":"","click-to-close":!1,"popup-offset":4},e.triggerProps,{position:e.position,disabled:e.mergedDisabled||e.readonly,"prevent-focus":!0,"popup-visible":e.panelVisible,"unmount-on-close":e.unmountOnClose,"popup-container":e.popupContainer,onPopupVisibleChange:e.onPanelVisibleChange}),{content:Je(()=>[_(p,lt(e.panelProps,{onClick:e.onPanelClick}),null,16,["onClick"])]),default:Je(()=>[Ue(e.$slots,"default",{},()=>[_(h,lt(e.$attrs,{ref:"refInput",size:e.size,focused:e.panelVisible,visible:e.panelVisible,error:e.error,disabled:e.mergedDisabled,readonly:!e.inputEditable||e.disabledInput,"allow-clear":e.allowClear&&!e.readonly,placeholder:e.computedPlaceholder,"input-value":e.inputValue,value:e.needConfirm?e.panelValue:e.selectedValue,format:e.inputFormat,onClear:e.onInputClear,onChange:e.onInputChange,onPressEnter:e.onInputPressEnter,onBlur:e.onInputBlur}),Oo({"suffix-icon":Je(()=>[Ue(e.$slots,"suffix-icon",{},()=>[_(a)])]),_:2},[e.$slots.prefix?{name:"prefix",fn:Je(()=>[Ue(e.$slots,"prefix")])}:void 0]),1040,["size","focused","visible","error","disabled","readonly","allow-clear","placeholder","input-value","value","format","onClear","onChange","onPressEnter","onBlur"])])]),_:3},16,["position","disabled","popup-visible","unmount-on-close","popup-container","onPopupVisibleChange"]))}var fv=ot(bV,[["render",TV]]),Ey=Ae({name:"DatePicker",props:{modelValue:{type:[Object,String,Number]},defaultValue:{type:[Object,String,Number]},format:{type:[String,Function]},dayStartOfWeek:{type:Number,default:0},showTime:{type:Boolean},timePickerProps:{type:Object},disabled:{type:Boolean},disabledDate:{type:Function},disabledTime:{type:Function},showNowBtn:{type:Boolean,default:!0}},setup(e,{attrs:o,slots:n}){return()=>_(fv,lt(e,o,{mode:"date"}),n)}}),j0=Ae({name:"WeekPicker",props:{modelValue:{type:[Object,String,Number]},defaultValue:{type:[Object,String,Number]},format:{type:String,default:"gggg-wo"},valueFormat:{type:String,default:"YYYY-MM-DD"},dayStartOfWeek:{type:Number,default:0}},setup(e,{attrs:o,slots:n}){return()=>_(fv,lt(e,o,{mode:"week"}),n)}}),X0=Ae({name:"MonthPicker",props:{modelValue:{type:[Object,String,Number]},defaultValue:{type:[Object,String,Number]},format:{type:String,default:"YYYY-MM"}},setup(e,{attrs:o,slots:n}){return()=>_(fv,lt(e,o,{mode:"month"}),n)}}),K0=Ae({name:"YearPicker",props:{modelValue:{type:[Object,String,Number]},defaultValue:{type:[Object,String,Number]},format:{type:String,default:"YYYY"}},setup(e,{attrs:o,slots:n}){return()=>_(fv,lt(e,o,{mode:"year"}),n)}}),Y0=Ae({name:"QuarterPicker",props:{modelValue:{type:[Object,String,Number]},defaultValue:{type:[Object,String,Number]},format:{type:String,default:"YYYY-[Q]Q"},valueFormat:{type:String,default:"YYYY-MM"}},setup(e,{attrs:o,slots:n}){return()=>_(fv,lt(e,o,{mode:"quarter"}),n)}});function yV(e){const{modelValue:o,defaultValue:n,format:i}=mt(e),l=O(()=>ws(SC(o.value),i.value)),u=O(()=>ws(SC(n.value),i.value)),[a,h]=Ss(Gt(l.value)?Gt(u.value)?[]:u.value:l.value);return At(l,()=>{Gt(l.value)&&h([])}),{value:O(()=>l.value||a.value),setValue:h}}function EV(e){const{startHeaderMode:o,endHeaderMode:n,mode:i,value:l,defaultValue:u,selectedValue:a,format:h,onChange:p}=mt(e),m=O(()=>["date","week"].includes(i.value)),$=O(()=>m.value?"M":"y"),T=(_e,se)=>_e.isSame(se,$.value),{span:w,superSpan:A}=XR(ft({mode:i})),R=O(()=>{var _e;return(_e=l.value)==null?void 0:_e[0]}),L=O(()=>{var _e;return(_e=l.value)==null?void 0:_e[1]}),M=O(()=>{var _e;return(_e=u.value)==null?void 0:_e[0]}),B=O(()=>{var _e;return(_e=u.value)==null?void 0:_e[1]}),G=_e=>{p!=null&&p.value&&p.value(_e)},{headerValue:j,setHeaderValue:F,headerOperations:x,getDefaultLocalValue:D}=Db(ft({mode:(o==null?void 0:o.value)||i,value:R,defaultValue:M,selectedValue:void 0,format:h,onChange:_e=>{G([_e,U.value])}})),{headerValue:U,setHeaderValue:te,headerOperations:Y,getDefaultLocalValue:J}=Db(ft({mode:(n==null?void 0:n.value)||i,value:L,defaultValue:B,selectedValue:void 0,format:h,onChange:_e=>{G([j.value,_e])}})),ee=_e=>{const se=T(j.value,_e[0]),ke=T(U.value,_e[1]);F(_e[0],!1),te(_e[1],!1),(!se||!ke)&&p!=null&&p.value&&(p==null||p.value(_e))};function ue(_e){let[se,ke]=J$(_e);const Be=dr.add(se,w.value,"M");return ke.isBefore(Be,$.value)&&(ke=Be),[se,ke]}function oe(){var _e,se;let ke=(_e=a.value)==null?void 0:_e[0],Be=(se=a.value)==null?void 0:se[1];return ke&&Be&&([ke,Be]=J$([ke,Be])),[ke,Be]}const[X,K]=oe(),[q,z]=ue([X||j.value,K||U.value]);F(q,!1),te(z,!1);const ne=()=>{const _e=D(),se=J();Un(()=>{const[ke,Be]=oe(),[et,ut]=ue([ke||_e,Be||se]);ee([et,ut])})},ge=O(()=>dr.add(j.value,w.value,"M").isBefore(U.value,$.value)),Q=O(()=>dr.add(j.value,A.value,"M").isBefore(U.value,$.value)),Oe=O(()=>{const _e=["onSuperPrev"];return m.value&&_e.push("onPrev"),ge.value&&m&&_e.push("onNext"),Q.value&&_e.push("onSuperNext"),wa(x.value,_e)}),Re=O(()=>{const _e=["onSuperNext"];return m.value&&_e.push("onNext"),ge.value&&m.value&&_e.push("onPrev"),Q.value&&_e.push("onSuperPrev"),wa(Y.value,_e)});return{startHeaderValue:j,endHeaderValue:U,startHeaderOperations:Oe,endHeaderOperations:Re,setHeaderValue:ee,resetHeaderValue:ne}}const CV=Ae({name:"DateInputRange",components:{IconHover:yo,IconClose:zr,FeedbackIcon:cv},props:{size:{type:String},focused:{type:Boolean},focusedIndex:{type:Number},error:{type:Boolean},disabled:{type:[Boolean,Array],default:!1},readonly:{type:Boolean},allowClear:{type:Boolean},placeholder:{type:Array,default:()=>[]},inputValue:{type:Array},value:{type:Array,default:()=>[]},format:{type:[String,Function],required:!0}},emits:["focused-index-change","update:focusedIndex","change","clear","press-enter"],setup(e,{emit:o,slots:n}){const{error:i,focused:l,disabled:u,size:a,value:h,format:p,focusedIndex:m,inputValue:$}=mt(e),{mergedSize:T,mergedDisabled:w,mergedError:A,feedback:R}=Eo({size:a,error:i}),{mergedSize:L}=Wr(T),M=ve(),B=ve(),G=q=>w.value?w.value:nn(u.value)?u.value[q]:u.value,j=O(()=>G(0)),F=O(()=>G(1)),x=Ge("picker"),D=O(()=>[x,`${x}-range`,`${x}-size-${L.value}`,{[`${x}-focused`]:l.value,[`${x}-disabled`]:j.value&&F.value,[`${x}-error`]:A.value,[`${x}-has-prefix`]:n.prefix}]);function U(q){return[`${x}-input`,{[`${x}-input-active`]:q===(m==null?void 0:m.value)}]}function te(q){var z,ne;if($!=null&&$.value)return(z=$==null?void 0:$.value)==null?void 0:z[q];const ge=(ne=h==null?void 0:h.value)==null?void 0:ne[q];if(ge&&Js(ge))return Ut(p.value)?p.value(ge):ge.format(p.value)}const Y=O(()=>te(0)),J=O(()=>te(1));function ee(q){o("focused-index-change",q),o("update:focusedIndex",q)}function ue(q){q.stopPropagation(),o("change",q)}function oe(){o("press-enter")}function X(q){q.preventDefault()}function K(q){o("clear",q)}return{prefixCls:x,classNames:D,refInput0:M,refInput1:B,disabled0:j,disabled1:F,mergedDisabled:w,getDisabled:G,getInputWrapClassName:U,displayValue0:Y,displayValue1:J,changeFocusedInput:ee,onChange:ue,onPressEnter:oe,onPressTab:X,onClear:K,feedback:R}},methods:{focus(e){const o=_t(e)?e:this.focusedIndex,n=o===0?this.refInput0:this.refInput1;!Gt(o)&&!this.getDisabled(o)&&n&&n.focus&&n.focus()},blur(){const e=this.focusedIndex===0?this.refInput0:this.refInput1;e&&e.blur&&e.blur()}}}),IV=["disabled","placeholder","value"],SV=Dt(" - "),OV=["disabled","placeholder","value"];function kV(e,o,n,i,l,u){const a=Pe("IconClose"),h=Pe("IconHover"),p=Pe("FeedbackIcon");return W(),fe("div",{class:Z(e.classNames)},[e.$slots.prefix?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-prefix`)},[Ue(e.$slots,"prefix")],2)):We("v-if",!0),De("div",{class:Z(e.getInputWrapClassName(0))},[De("input",lt({ref:"refInput0",disabled:e.disabled0,placeholder:e.placeholder[0],value:e.displayValue0},e.readonly?{readonly:!0}:{},{onInput:o[0]||(o[0]=(...m)=>e.onChange&&e.onChange(...m)),onKeydown:[o[1]||(o[1]=zf((...m)=>e.onPressEnter&&e.onPressEnter(...m),["enter"])),o[2]||(o[2]=zf((...m)=>e.onPressTab&&e.onPressTab(...m),["tab"]))],onClick:o[3]||(o[3]=()=>e.changeFocusedInput(0))}),null,16,IV)],2),De("span",{class:Z(`${e.prefixCls}-separator`)},[Ue(e.$slots,"separator",{},()=>[SV])],2),De("div",{class:Z(e.getInputWrapClassName(1))},[De("input",lt({ref:"refInput1",disabled:e.disabled1,placeholder:e.placeholder[1],value:e.displayValue1},e.readonly?{readonly:!0}:{},{onInput:o[4]||(o[4]=(...m)=>e.onChange&&e.onChange(...m)),onKeydown:[o[5]||(o[5]=zf((...m)=>e.onPressEnter&&e.onPressEnter(...m),["enter"])),o[6]||(o[6]=zf((...m)=>e.onPressTab&&e.onPressTab(...m),["tab"]))],onClick:o[7]||(o[7]=()=>e.changeFocusedInput(1))}),null,16,OV)],2),De("div",{class:Z(`${e.prefixCls}-suffix`)},[e.allowClear&&!e.mergedDisabled&&e.value.length===2?(W(),Ze(h,{key:0,prefix:e.prefixCls,class:Z(`${e.prefixCls}-clear-icon`),onClick:e.onClear},{default:Je(()=>[_(a)]),_:1},8,["prefix","class","onClick"])):We("v-if",!0),De("span",{class:Z(`${e.prefixCls}-suffix-icon`)},[Ue(e.$slots,"suffix-icon")],2),e.feedback?(W(),Ze(p,{key:1,type:e.feedback},null,8,["type"])):We("v-if",!0)],2)],2)}var ZR=ot(CV,[["render",kV]]),wV=Object.defineProperty,NV=Object.defineProperties,AV=Object.getOwnPropertyDescriptors,jO=Object.getOwnPropertySymbols,RV=Object.prototype.hasOwnProperty,LV=Object.prototype.propertyIsEnumerable,XO=(e,o,n)=>o in e?wV(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,Cy=(e,o)=>{for(var n in o||(o={}))RV.call(o,n)&&XO(e,n,o[n]);if(jO)for(var n of jO(o))LV.call(o,n)&&XO(e,n,o[n]);return e},Iy=(e,o)=>NV(e,AV(o));const MV=Ae({name:"DateRangePikerPanel",components:{PanelShortcuts:PR,PanelFooter:jR,RenderFunction:Gu,DatePanel:WI,WeekPanel:UR,MonthPanel:HR,YearPanel:GR,QuarterPanel:zR},props:{mode:{type:String,default:"date"},value:{type:Array,default:()=>[]},footerValue:{type:Array},timePickerValue:{type:Array},showTime:{type:Boolean},showConfirmBtn:{type:Boolean},prefixCls:{type:String,required:!0},shortcuts:{type:Array,default:()=>[]},shortcutsPosition:{type:String,default:"bottom"},format:{type:String,required:!0},dayStartOfWeek:{type:Number,default:0},disabledDate:{type:Function},disabledTime:{type:Function},timePickerProps:{type:Object},extra:{type:Function},dateRender:{type:Function},hideTrigger:{type:Boolean},startHeaderProps:{type:Object,default:()=>({})},endHeaderProps:{type:Object,default:()=>({})},confirmBtnDisabled:{type:Boolean},disabled:{type:Array,default:()=>[!1,!1]},visible:{type:Boolean},startHeaderMode:{type:String},endHeaderMode:{type:String},abbreviation:{type:Boolean}},emits:["cell-click","cell-mouse-enter","time-picker-select","shortcut-click","shortcut-mouse-enter","shortcut-mouse-leave","confirm","start-header-label-click","end-header-label-click","start-header-select","end-header-select"],setup(e,{emit:o}){const{prefixCls:n,shortcuts:i,shortcutsPosition:l,format:u,hideTrigger:a,value:h,disabledDate:p,disabledTime:m,startHeaderProps:$,endHeaderProps:T,dateRender:w,visible:A,startHeaderMode:R,endHeaderMode:L}=mt(e),M=O(()=>nn(i.value)&&i.value.length),B=O(()=>[`${n.value}-range-container`,{[`${n.value}-range-container-panel-only`]:a.value,[`${n.value}-range-container-shortcuts-placement-left`]:M.value&&l.value==="left",[`${n.value}-range-container-shortcuts-placement-right`]:M.value&&l.value==="right"}]),G=ve("date");At(A,(Re,_e)=>{Re&&!_e&&(G.value="date")});function j(Re){return ws(SC(Ut(Re.value)?Re.value():Re.value),Re.format||u.value)}function F(Re){o("shortcut-click",j(Re),Re)}function x(Re){o("shortcut-mouse-enter",j(Re))}function D(Re){o("shortcut-mouse-leave",j(Re))}function U(Re){o("cell-click",Re)}function te(Re){o("cell-mouse-enter",Re)}function Y(){o("confirm")}function J(Re){o("time-picker-select",Re,"start")}function ee(Re){o("time-picker-select",Re,"end")}function ue(Re){o("start-header-label-click",Re)}function oe(Re){o("end-header-label-click",Re)}function X(Re){o("start-header-select",Re)}function K(Re){o("end-header-select",Re)}function q(Re){return Ut(p==null?void 0:p.value)?_e=>{var se;return((se=p==null?void 0:p.value)==null?void 0:se.call(p,_e,Re===0?"start":"end"))||!1}:void 0}function z(Re){return Ut(m==null?void 0:m.value)?_e=>{var se;return((se=m==null?void 0:m.value)==null?void 0:se.call(m,_e,Re===0?"start":"end"))||!1}:void 0}function ne(Re){return Ut(w==null?void 0:w.value)?_e=>{var se;const ke=Iy(Cy({},_e),{type:Re===0?"start":"end"});return(se=w==null?void 0:w.value)==null?void 0:se.call(w,ke)}:void 0}const ge=ft({prefixCls:n,shortcuts:i,onItemClick:F,onItemMouseEnter:x,onItemMouseLeave:D}),Q=O(()=>Iy(Cy({},$.value),{rangeValues:h.value,disabledDate:q(0),dateRender:ne(0),onSelect:R.value?X:U,onCellMouseEnter:te,onHeaderLabelClick:ue})),Oe=O(()=>Iy(Cy({},T.value),{rangeValues:h.value,disabledDate:q(1),dateRender:ne(1),onSelect:L.value?K:U,onCellMouseEnter:te,onHeaderLabelClick:oe}));return{pick:wa,classNames:B,showShortcuts:M,shortcutsProps:ge,startPanelProps:Q,endPanelProps:Oe,getDisabledTimeFunc:z,onConfirmBtnClick:Y,currentDateView:G,onStartTimePickerSelect:J,onEndTimePickerSelect:ee,onStartHeaderPanelSelect:X,onEndHeaderPanelSelect:K}}});function PV(e,o,n,i,l,u){const a=Pe("PanelShortcuts"),h=Pe("YearPanel"),p=Pe("MonthPanel"),m=Pe("WeekPanel"),$=Pe("QuarterPanel"),T=Pe("DatePanel"),w=Pe("RenderFunction"),A=Pe("PanelFooter");return W(),fe("div",{class:Z(e.classNames)},[e.showShortcuts&&e.shortcutsPosition==="left"?(W(),Ze(a,ao(lt({key:0},e.shortcutsProps)),null,16)):We("v-if",!0),De("div",{class:Z(`${e.prefixCls}-range-panel-wrapper`)},[We(" panel "),De("div",{class:Z(`${e.prefixCls}-range`)},[De("div",{class:Z(`${e.prefixCls}-range-wrapper`)},[e.startHeaderMode||e.endHeaderMode?(W(),fe(Lt,{key:0},[e.startHeaderMode==="year"?(W(),Ze(h,ao(lt({key:0},e.startPanelProps)),null,16)):We("v-if",!0),e.endHeaderMode==="year"?(W(),Ze(h,ao(lt({key:1},e.endPanelProps)),null,16)):e.startHeaderMode==="month"?(W(),Ze(p,lt({key:2},e.startPanelProps,{abbreviation:e.abbreviation}),null,16,["abbreviation"])):e.endHeaderMode==="month"?(W(),Ze(p,lt({key:3},e.endPanelProps,{abbreviation:e.abbreviation}),null,16,["abbreviation"])):We("v-if",!0)],64)):(W(),fe(Lt,{key:1},[We(" week "),e.mode==="week"?(W(),fe(Lt,{key:0},[_(m,lt(e.startPanelProps,{"day-start-of-week":e.dayStartOfWeek}),null,16,["day-start-of-week"]),_(m,lt(e.endPanelProps,{"day-start-of-week":e.dayStartOfWeek}),null,16,["day-start-of-week"])],64)):e.mode==="month"?(W(),fe(Lt,{key:1},[We(" month "),_(p,lt(e.startPanelProps,{abbreviation:e.abbreviation}),null,16,["abbreviation"]),_(p,lt(e.endPanelProps,{abbreviation:e.abbreviation}),null,16,["abbreviation"])],64)):e.mode==="year"?(W(),fe(Lt,{key:2},[We(" year "),_(h,ao(Fr(e.startPanelProps)),null,16),_(h,ao(Fr(e.endPanelProps)),null,16)],64)):e.mode==="quarter"?(W(),fe(Lt,{key:3},[We(" quarter "),_($,ao(Fr(e.startPanelProps)),null,16),_($,ao(Fr(e.endPanelProps)),null,16)],64)):(W(),fe(Lt,{key:4},[We(" date "),_(T,lt({currentView:e.currentDateView,"onUpdate:currentView":o[0]||(o[0]=R=>e.currentDateView=R)},e.startPanelProps,{"is-range":"",value:e.value&&e.value[0],"footer-value":e.footerValue&&e.footerValue[0],"time-picker-value":e.timePickerValue&&e.timePickerValue[0],"day-start-of-week":e.dayStartOfWeek,"show-time":e.showTime,"time-picker-props":e.timePickerProps,"disabled-time":e.getDisabledTimeFunc(0),disabled:e.disabled[0],onTimePickerSelect:e.onStartTimePickerSelect}),null,16,["currentView","value","footer-value","time-picker-value","day-start-of-week","show-time","time-picker-props","disabled-time","disabled","onTimePickerSelect"]),_(T,lt({currentView:e.currentDateView,"onUpdate:currentView":o[1]||(o[1]=R=>e.currentDateView=R)},e.endPanelProps,{"is-range":"",value:e.value&&e.value[1],"footer-value":e.footerValue&&e.footerValue[1],"time-picker-value":e.timePickerValue&&e.timePickerValue[1],"day-start-of-week":e.dayStartOfWeek,"show-time":e.showTime,"time-picker-props":e.timePickerProps,"disabled-time":e.getDisabledTimeFunc(1),disabled:e.disabled[1],onTimePickerSelect:e.onEndTimePickerSelect}),null,16,["currentView","value","footer-value","time-picker-value","day-start-of-week","show-time","time-picker-props","disabled-time","disabled","onTimePickerSelect"])],64))],2112))],2)],2),We(" footer "),_(A,{"prefix-cls":e.prefixCls,"show-today-btn":!1,"show-confirm-btn":e.showConfirmBtn,"confirm-btn-disabled":e.confirmBtnDisabled,onConfirmBtnClick:e.onConfirmBtnClick},Oo({_:2},[e.extra||e.$slots.extra?{name:"extra",fn:Je(()=>[e.$slots.extra?Ue(e.$slots,"extra",{key:0}):(W(),Ze(w,{key:1,"render-func":e.extra},null,8,["render-func"]))])}:void 0,e.showShortcuts&&e.shortcutsPosition==="bottom"?{name:"btn",fn:Je(()=>[_(a,ao(Fr(e.shortcutsProps)),null,16)])}:void 0]),1032,["prefix-cls","show-confirm-btn","confirm-btn-disabled","onConfirmBtnClick"])],2),e.showShortcuts&&e.shortcutsPosition==="right"?(W(),Ze(a,ao(lt({key:1},e.shortcutsProps)),null,16)):We("v-if",!0)],2)}var DV=ot(MV,[["render",PV]]),xV=Object.defineProperty,BV=Object.defineProperties,FV=Object.getOwnPropertyDescriptors,KO=Object.getOwnPropertySymbols,VV=Object.prototype.hasOwnProperty,UV=Object.prototype.propertyIsEnumerable,YO=(e,o,n)=>o in e?xV(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,QO=(e,o)=>{for(var n in o||(o={}))VV.call(o,n)&&YO(e,n,o[n]);if(KO)for(var n of KO(o))UV.call(o,n)&&YO(e,n,o[n]);return e},qO=(e,o)=>BV(e,FV(o));function HV(e){const{timePickerProps:o,selectedValue:n}=mt(e),i=O(()=>{var B;return(B=n==null?void 0:n.value)==null?void 0:B[0]}),l=O(()=>{var B;return(B=n==null?void 0:n.value)==null?void 0:B[1]}),u=O(()=>{var B;return(B=o==null?void 0:o.value)==null?void 0:B.defaultValue}),a=O(()=>nn(u.value)?qO(QO({},o==null?void 0:o.value),{defaultValue:u.value[0]}):o==null?void 0:o.value),h=O(()=>nn(u.value)?qO(QO({},o==null?void 0:o.value),{defaultValue:u.value[1]}):o==null?void 0:o.value),[p,m,$]=wC(ft({timePickerProps:a,selectedValue:i})),[T,w,A]=wC(ft({timePickerProps:h,selectedValue:l})),R=O(()=>[p.value,T.value]);function L(B){B&&(m(B[0]),w(B[1]))}function M(){$(),A()}return[R,L,M]}var GV=Object.defineProperty,zV=Object.defineProperties,WV=Object.getOwnPropertyDescriptors,ZO=Object.getOwnPropertySymbols,jV=Object.prototype.hasOwnProperty,XV=Object.prototype.propertyIsEnumerable,JO=(e,o,n)=>o in e?GV(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,Fb=(e,o)=>{for(var n in o||(o={}))jV.call(o,n)&&JO(e,n,o[n]);if(ZO)for(var n of ZO(o))XV.call(o,n)&&JO(e,n,o[n]);return e},ek=(e,o)=>zV(e,WV(o));const KV=Ae({name:"RangePicker",components:{RangePickerPanel:DV,DateRangeInput:ZR,Trigger:Or,IconCalendar:zI},inheritAttrs:!1,props:{mode:{type:String,default:"date"},modelValue:{type:Array},defaultValue:{type:Array},pickerValue:{type:Array},defaultPickerValue:{type:Array},disabled:{type:[Boolean,Array],default:!1},dayStartOfWeek:{type:Number,default:0},format:{type:String},valueFormat:{type:String},showTime:{type:Boolean},timePickerProps:{type:Object},placeholder:{type:Array},disabledDate:{type:Function},disabledTime:{type:Function},separator:{type:String},exchangeTime:{type:Boolean,default:!0},popupContainer:{type:[String,Object]},locale:{type:Object},hideTrigger:{type:Boolean},allowClear:{type:Boolean,default:!0},readonly:{type:Boolean},error:{type:Boolean},size:{type:String},shortcuts:{type:Array,default:()=>[]},shortcutsPosition:{type:String,default:"bottom"},position:{type:String,default:"bl"},popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean},triggerProps:{type:Object},unmountOnClose:{type:Boolean},previewShortcut:{type:Boolean,default:!0},showConfirmBtn:{type:Boolean},disabledInput:{type:Boolean,default:!1},abbreviation:{type:Boolean,default:!0}},emits:{change:(e,o,n)=>!0,"update:modelValue":e=>!0,select:(e,o,n)=>!0,"popup-visible-change":e=>!0,"update:popupVisible":e=>!0,ok:(e,o,n)=>!0,clear:()=>!0,"select-shortcut":e=>!0,"picker-value-change":(e,o,n)=>!0,"update:pickerValue":e=>!0},setup(e,{emit:o,slots:n}){const{mode:i,showTime:l,format:u,modelValue:a,defaultValue:h,popupVisible:p,defaultPopupVisible:m,placeholder:$,timePickerProps:T,disabled:w,disabledDate:A,disabledTime:R,locale:L,pickerValue:M,defaultPickerValue:B,valueFormat:G,size:j,error:F,dayStartOfWeek:x,exchangeTime:D,previewShortcut:U,showConfirmBtn:te}=mt(e),{locale:Y}=Lo(),J=on(Gr,void 0);Cr(()=>{fR(Y.value,x.value)});const ee=O(()=>{var wt;return!(!D.value||!((wt=J==null?void 0:J.exchangeTime)==null||wt))}),{mergedSize:ue,mergedDisabled:oe,mergedError:X,eventHandlers:K}=Eo({size:j,error:F}),q=QR(ft({locale:L})),z=Ge("picker"),ne=O(()=>($==null?void 0:$.value)||{date:q("datePicker.rangePlaceholder.date"),month:q("datePicker.rangePlaceholder.month"),year:q("datePicker.rangePlaceholder.year"),week:q("datePicker.rangePlaceholder.week"),quarter:q("datePicker.rangePlaceholder.quarter")}[i.value]||q("datePicker.rangePlaceholder.date")),{format:ge,valueFormat:Q,parseValueFormat:Oe}=KR(ft({mode:i,format:u,showTime:l,valueFormat:G})),Re=O(()=>{const wt=w.value===!0||oe.value||nn(w.value)&&w.value[0]===!0,Xt=w.value===!0||oe.value||nn(w.value)&&w.value[1]===!0;return[wt,Xt]}),_e=O(()=>Re.value[0]&&Re.value[1]);function se(wt=0){return Re.value[wt]?wt^1:wt}const ke=ve(),Be=ve(se()),et=O(()=>{const wt=Be.value,Xt=wt^1;return Re.value[Xt]?wt:Xt}),ut=O(()=>Re.value[Be.value^1]),{value:dt,setValue:gt}=yV(ft({modelValue:a,defaultValue:h,format:Oe})),[we,le]=Ss(),[ce,re]=Ss(),Me=O(()=>{var wt;return(wt=we.value)!=null?wt:dt.value}),Ne=O(()=>{var wt,Xt;return(Xt=(wt=ce.value)!=null?wt:we.value)!=null?Xt:dt.value}),[$e,Fe]=Ss(),Le=ve(),qe=ve(),[Xe,at]=kr(m.value,ft({value:p})),Ee=wt=>{Xe.value!==wt&&(at(wt),o("popup-visible-change",wt),o("update:popupVisible",wt))},{startHeaderValue:Ie,endHeaderValue:he,startHeaderOperations:me,endHeaderOperations:Se,resetHeaderValue:xe,setHeaderValue:Ke}=EV(ft({mode:i,startHeaderMode:Le,endHeaderMode:qe,value:M,defaultValue:B,selectedValue:Ne,format:Oe,onChange:wt=>{const Xt=yy(wt,Q.value),Pn=Sa(wt,Oe.value),uo=es(wt);o("picker-value-change",Xt,uo,Pn),o("update:pickerValue",Xt)}}));function C(wt){Le.value=wt}function k(wt){qe.value=wt}function de(wt){let Xt=Ie.value;Xt=Xt.set("year",wt.year()),Le.value==="month"&&(Xt=Xt.set("month",wt.month())),Ke([Xt,he.value]),Le.value=void 0}function Ce(wt){let Xt=he.value;Xt=Xt.set("year",wt.year()),qe.value==="month"&&(Xt=Xt.set("month",wt.month())),Ke([Ie.value,Xt]),qe.value=void 0}const Te=ve([Ne.value[0]||Ur(),Ne.value[1]||Ur()]);At(Ne,()=>{const[wt,Xt]=Ne.value;Te.value[0]=wt||Te.value[0],Te.value[1]=Xt||Te.value[1]});const[Ve,tt,Et]=HV(ft({timePickerProps:T,selectedValue:Ne})),St=O(()=>i.value==="date"&&l.value),Bt=O(()=>St.value||T.value),qt=YR(ft({mode:i,isRange:!0,showTime:l,disabledDate:A,disabledTime:R})),sn=O(()=>St.value||te.value),dn=O(()=>sn.value&&(!Xc(Me.value)||qt(Me.value[0],"start")||qt(Me.value[1],"end")));At(Xe,wt=>{Le.value=void 0,qe.value=void 0,le(void 0),re(void 0),wt&&(xe(),Et(),Be.value=se(Be.value),Un(()=>H(Be.value))),wt||Fe(void 0)}),At(Be,()=>{e.disabledInput&&(H(Be.value),Fe(void 0))});function y(wt,Xt){var Pn,uo;const Ho=wt?yy(wt,Q.value):void 0,Yo=Sa(wt,Oe.value),rs=es(wt);PI(wt,dt.value)&&(o("update:modelValue",Ho),o("change",Ho,rs,Yo),(uo=(Pn=K.value)==null?void 0:Pn.onChange)==null||uo.call(Pn)),Xt&&o("ok",Ho,rs,Yo)}function N(wt){let Xt=J$(wt);return Bt.value&&!ee.value&&(Xt=[pe(Xt[0],wt[0]),pe(Xt[1],wt[1])]),Xt}function S(wt,Xt,Pn){if(qt(wt==null?void 0:wt[0],"start")||qt(wt==null?void 0:wt[1],"end"))return;let uo=wt?[...wt]:void 0;Xc(uo)&&(uo=N(uo)),y(uo,Pn),gt(uo||[]),le(void 0),re(void 0),Fe(void 0),Le.value=void 0,qe.value=void 0,ks(Xt)&&Ee(Xt)}function b(wt){const Xt=yy(wt,Q.value),Pn=Sa(wt,Oe.value),uo=es(wt);o("select",Xt,uo,Pn)}function v(wt,Xt){const{emitSelect:Pn=!1,updateHeader:uo=!1}=Xt||{};let Ho=[...wt];Xc(Ho)&&(Ho=N(Ho)),le(Ho),re(void 0),Fe(void 0),Le.value=void 0,qe.value=void 0,Pn&&b(Ho),uo&&xe()}function I(wt,Xt){const{updateHeader:Pn=!1}=Xt||{};re(wt),Fe(void 0),Pn&&xe()}function H(wt){ke.value&&ke.value.focus&&ke.value.focus(wt)}function pe(wt,Xt){return Bt.value?DR(Ur(),wt,Xt):wt}function rt(wt){Ee(wt)}function bt(wt){if(we.value&&Ne.value[et.value]&&(!sn.value||!Xc(we.value))){const Xt=[...Ne.value],Pn=pe(wt,Ve.value[Be.value]);Xt[Be.value]=Pn,I(Xt)}}function Ft(wt=!1){return ut.value?[...dt.value]:we.value?wt||!Xc(we.value)?[...we.value]:[]:wt?[...dt.value]:[]}function ln(wt){const Xt=Ft(),Pn=pe(wt,Ve.value[Be.value]);Xt[Be.value]=Pn,b(Xt),!sn.value&&Xc(Xt)?S(Xt,!1):(v(Xt),Xc(Xt)?Be.value=0:Be.value=et.value)}function Hn(wt,Xt){const Pn=Xt==="start"?0:1,uo=pe(Ve.value[Pn],wt),Ho=[...Ve.value];Ho[Pn]=uo,tt(Ho);const Yo=Ft(!0);Yo[Pn]&&(Yo[Pn]=uo,v(Yo,{emitSelect:!0}))}let kt;Ir(()=>{clearTimeout(kt)});function En(wt){clearTimeout(kt),I(wt,{updateHeader:!0})}function On(){clearTimeout(kt),kt=setTimeout(()=>{re(void 0),Fe(void 0),xe()},100)}function hr(wt,Xt){o("select-shortcut",Xt),S(wt,!1)}function br(){S(Ne.value,!1,!0)}function jr(wt){wt.stopPropagation(),S(void 0),o("clear")}function xi(wt){Ee(!0);const Xt=wt.target.value;if(!Xt){Fe(void 0);return}const Pn=Sa(Ne.value,ge.value),uo=nn($e.value)?[...$e.value]:Pn||[];if(uo[Be.value]=Xt,Fe(uo),!Mb(Xt,ge.value))return;const Ho=or(Xt,ge.value);if(qt(Ho,Be.value===0?"start":"end"))return;const Yo=nn(Ne.value)?[...Ne.value]:[];Yo[Be.value]=Ho,v(Yo,{updateHeader:!0})}function Yn(){CB(Ne.value)?S(Ne.value,!1):Be.value=et.value}const Vl=O(()=>ek(Fb({format:ge.value},Sr((T==null?void 0:T.value)||{},["defaultValue"])),{visible:Xe.value})),Ns=O(()=>({prev:n["icon-prev"],prevDouble:n["icon-prev-double"],next:n["icon-next"],nextDouble:n["icon-next-double"]})),Ra=ft({headerValue:Ie,headerOperations:me,headerIcons:Ns}),Xr=ft({headerValue:he,headerOperations:Se,headerIcons:Ns}),pr=O(()=>ek(Fb({},wa(e,["mode","showTime","shortcuts","shortcutsPosition","dayStartOfWeek","disabledDate","disabledTime","hideTrigger","abbreviation"])),{prefixCls:z,format:Oe.value,value:Ne.value,showConfirmBtn:sn.value,confirmBtnDisabled:dn.value,timePickerValue:Ve.value,timePickerProps:Vl.value,extra:n.extra,dateRender:n.cell,startHeaderProps:Ra,endHeaderProps:Xr,footerValue:Te.value,disabled:Re.value,visible:Xe.value,onCellClick:ln,onCellMouseEnter:bt,onShortcutClick:hr,onShortcutMouseEnter:U.value?En:void 0,onShortcutMouseLeave:U.value?On:void 0,onConfirm:br,onTimePickerSelect:Hn,startHeaderMode:Le.value,endHeaderMode:qe.value,onStartHeaderLabelClick:C,onEndHeaderLabelClick:k,onStartHeaderSelect:de,onEndHeaderSelect:Ce}));return{prefixCls:z,refInput:ke,computedFormat:ge,computedPlaceholder:ne,panelVisible:Xe,panelValue:Ne,inputValue:$e,focusedIndex:Be,triggerDisabled:_e,mergedSize:ue,mergedError:X,onPanelVisibleChange:rt,onInputClear:jr,onInputChange:xi,onInputPressEnter:Yn,rangePanelProps:pr}}});function YV(e,o,n,i,l,u){const a=Pe("IconCalendar"),h=Pe("DateRangeInput"),p=Pe("RangePickerPanel"),m=Pe("Trigger");return e.hideTrigger?(W(),Ze(p,ao(lt({key:1},Fb(Fb({},e.$attrs),e.rangePanelProps))),null,16)):(W(),Ze(m,lt({key:0,trigger:"click","animation-name":"slide-dynamic-origin","auto-fit-transform-origin":"","click-to-close":!1,"popup-offset":4},e.triggerProps,{"unmount-on-close":e.unmountOnClose,position:e.position,disabled:e.triggerDisabled||e.readonly,"popup-visible":e.panelVisible,"popup-container":e.popupContainer,onPopupVisibleChange:e.onPanelVisibleChange}),{content:Je(()=>[_(p,ao(Fr(e.rangePanelProps)),null,16)]),default:Je(()=>[Ue(e.$slots,"default",{},()=>[_(h,lt({ref:"refInput"},e.$attrs,{focusedIndex:e.focusedIndex,"onUpdate:focusedIndex":o[0]||(o[0]=$=>e.focusedIndex=$),size:e.size,focused:e.panelVisible,visible:e.panelVisible,error:e.error,disabled:e.disabled,readonly:e.readonly||e.disabledInput,"allow-clear":e.allowClear&&!e.readonly,placeholder:e.computedPlaceholder,"input-value":e.inputValue,value:e.panelValue,format:e.computedFormat,onClear:e.onInputClear,onChange:e.onInputChange,onPressEnter:e.onInputPressEnter}),Oo({"suffix-icon":Je(()=>[Ue(e.$slots,"suffix-icon",{},()=>[_(a)])]),separator:Je(()=>[Ue(e.$slots,"separator",{},()=>[Dt(Mt(e.separator||"-"),1)])]),_:2},[e.$slots.prefix?{name:"prefix",fn:Je(()=>[Ue(e.$slots,"prefix")])}:void 0]),1040,["focusedIndex","size","focused","visible","error","disabled","readonly","allow-clear","placeholder","input-value","value","format","onClear","onChange","onPressEnter"])])]),_:3},16,["unmount-on-close","position","disabled","popup-visible","popup-container","onPopupVisibleChange"]))}var Q0=ot(KV,[["render",YV]]);const QV=Object.assign(Ey,{WeekPicker:j0,MonthPicker:X0,YearPicker:K0,QuarterPicker:Y0,RangePicker:Q0,install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+Ey.name,Ey),e.component(n+K0.name,K0),e.component(n+Y0.name,Y0),e.component(n+X0.name,X0),e.component(n+j0.name,j0),e.component(n+Q0.name,Q0)}}),JR=Symbol("ArcoDescriptions");var qV=Object.defineProperty,ZV=Object.defineProperties,JV=Object.getOwnPropertyDescriptors,tk=Object.getOwnPropertySymbols,eU=Object.prototype.hasOwnProperty,tU=Object.prototype.propertyIsEnumerable,nk=(e,o,n)=>o in e?qV(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,nU=(e,o)=>{for(var n in o||(o={}))eU.call(o,n)&&nk(e,n,o[n]);if(tk)for(var n of tk(o))tU.call(o,n)&&nk(e,n,o[n]);return e},oU=(e,o)=>ZV(e,JV(o));const Vb=["xxl","xl","lg","md","sm","xs"],g0={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"};let Ch=[],rU=-1,m0={};const Ub={matchHandlers:{},dispatch(e,o){return m0=e,Ch.length<1?!1:(Ch.forEach(n=>{n.func(m0,o)}),!0)},subscribe(e){Ch.length===0&&this.register();const o=(++rU).toString();return Ch.push({token:o,func:e}),e(m0,null),o},unsubscribe(e){Ch=Ch.filter(o=>o.token!==e),Ch.length===0&&this.unregister()},unregister(){Object.keys(g0).forEach(e=>{const o=g0[e];if(!o)return;const n=this.matchHandlers[o];n&&n.mql&&n.listener&&(n.mql.removeEventListener?n.mql.removeEventListener("change",n.listener):n.mql.removeListener(n.listener))})},register(){Object.keys(g0).forEach(e=>{const o=g0[e];if(!o)return;const n=({matches:l})=>{this.dispatch(oU(nU({},m0),{[e]:l}),e)},i=window.matchMedia(o);i.addEventListener?i.addEventListener("change",n):i.addListener(n),this.matchHandlers[o]={mql:i,listener:n},n(i)})}};function ok(e){return cn(e)}function Du(e,o,n=!1){const i=ve({xs:!0,sm:!0,md:!0,lg:!0,xl:!0,xxl:!0}),l=O(()=>{let a=o;if(ok(e.value))for(let h=0;h<Vb.length;h++){const p=Vb[h];if((i.value[p]||p==="xs"&&n)&&e.value[p]!==void 0){a=e.value[p];break}}else a=e.value;return a});let u="";return fn(()=>{u=Ub.subscribe(a=>{ok(e.value)&&(i.value=a)})}),Ir(()=>{u&&Ub.unsubscribe(u)}),l}var iU=Object.defineProperty,rk=Object.getOwnPropertySymbols,sU=Object.prototype.hasOwnProperty,lU=Object.prototype.propertyIsEnumerable,ik=(e,o,n)=>o in e?iU(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,sk=(e,o)=>{for(var n in o||(o={}))sU.call(o,n)&&ik(e,n,o[n]);if(rk)for(var n of rk(o))lU.call(o,n)&&ik(e,n,o[n]);return e};const lk=e=>e?e.reduce((o,n)=>o+n.span,0):0;var Sy=Ae({name:"Descriptions",props:{data:{type:Array,default:()=>[]},column:{type:[Number,Object],default:3},title:String,layout:{type:String,default:"horizontal"},align:{type:[String,Object],default:"left"},size:{type:String},bordered:{type:Boolean,default:!1},labelStyle:{type:Object},valueStyle:{type:Object},tableLayout:{type:String,default:"auto"}},setup(e,{slots:o}){const{column:n,size:i}=mt(e),l=Ge("descriptions"),{mergedSize:u}=Wr(i),a=Du(n,3,!0),h=O(()=>{var Y;return(Y=cn(e.align)?e.align.label:e.align)!=null?Y:"left"}),p=O(()=>{var Y;return(Y=cn(e.align)?e.align.value:e.align)!=null?Y:"left"}),m=O(()=>sk({textAlign:h.value},e.labelStyle)),$=O(()=>sk({textAlign:p.value},e.valueStyle)),T=ft(new Map),w=O(()=>Array.from(T.values()).sort((Y,J)=>Y.index-J.index).map(Y=>Y.span));Ln(JR,ft({addItem:(Y,J)=>{T.set(Y,J)},removeItem:Y=>{T.delete(Y)}}));const L=Y=>{const J=[];if(Y.forEach((ee,ue)=>{var oe;const X=Math.min((oe=vo(ee)?w.value[ue]:ee.span)!=null?oe:1,a.value),K=J[J.length-1],q=lk(K);q===0||q>=a.value?J.push([{data:ee,span:X}]):K.push({data:ee,span:X+q>a.value?a.value-q:X})}),J.length){const ee=J[J.length-1],ue=lk(ee);ue<a.value&&(ee[ee.length-1].span+=a.value-ue)}return J},M=O(()=>{var Y;return L((Y=e.data)!=null?Y:[])}),B=(Y,J)=>{var ee,ue,oe,X,K;return vo(Y)?p1(Y,Y.children)&&((ue=(ee=Y.children).label)==null?void 0:ue.call(ee))||((oe=Y.props)==null?void 0:oe.label):(K=(X=o.label)==null?void 0:X.call(o,{label:Y.label,index:J,data:Y}))!=null?K:Ut(Y.label)?Y.label():Y.label},G=(Y,J)=>{var ee,ue;return vo(Y)?Y:(ue=(ee=o.value)==null?void 0:ee.call(o,{value:Y.value,index:J,data:Y}))!=null?ue:Ut(Y.value)?Y.value():Y.value},j=Y=>_(Lt,null,[_("tr",{class:`${l}-row`},[Y.map((J,ee)=>_("td",{key:`label-${ee}`,class:[`${l}-item-label`,`${l}-item-label-block`],style:m.value,colspan:J.span},[B(J.data,ee)]))]),_("tr",{class:`${l}-row`},[Y.map((J,ee)=>_("td",{key:`value-${ee}`,class:[`${l}-item-value`,`${l}-item-value-block`],style:$.value,colspan:J.span},[G(J.data,ee)]))])]),F=(Y,J)=>_("tr",{class:`${l}-row`,key:`tr-${J}`},[Y.map(ee=>_(Lt,null,[_("td",{class:[`${l}-item-label`,`${l}-item-label-block`],style:m.value},[B(ee.data,J)]),_("td",{class:[`${l}-item-value`,`${l}-item-value-block`],style:$.value,colspan:ee.span*2-1},[G(ee.data,J)])]))]),x=(Y,J)=>_("tr",{class:`${l}-row`,key:`inline-${J}`},[Y.map((ee,ue)=>_("td",{key:`item-${ue}`,class:`${l}-item`,colspan:ee.span},[_("div",{class:[`${l}-item-label`,`${l}-item-label-inline`],style:m.value},[B(ee.data,ue)]),_("div",{class:[`${l}-item-value`,`${l}-item-value-inline`],style:$.value},[G(ee.data,ue)])]))]),D=(Y,J)=>["inline-horizontal","inline-vertical"].includes(e.layout)?x(Y,J):e.layout==="vertical"?j(Y):F(Y,J),U=O(()=>[l,`${l}-layout-${e.layout}`,`${l}-size-${u.value}`,{[`${l}-border`]:e.bordered},{[`${l}-table-layout-fixed`]:e.tableLayout==="fixed"}]),te=()=>{var Y,J;const ee=(J=(Y=o.title)==null?void 0:Y.call(o))!=null?J:e.title;return ee?_("div",{class:`${l}-title`},[ee]):null};return()=>{const Y=o.default?L(Oa(o.default())):M.value;return _("div",{class:U.value},[te(),_("div",{class:`${l}-body`},[_("table",{class:`${l}-table`},[_("tbody",null,[Y.map((J,ee)=>D(J,ee))])])])])}}});const aU=Ae({name:"DescriptionsItem",props:{span:{type:Number,default:1},label:String},setup(e){var o;const{span:n}=mt(e),i=Ge("descriptions"),l=on(JR,{}),u=vi(),a=ve(),{computedIndex:h}=b1({itemRef:a,selector:`.${i}-item-value`,parentClassName:`${i}-table`}),p=ft({index:h,span:n});u!=null&&u.uid&&((o=l.addItem)==null||o.call(l,u.uid,p));const m=()=>{var $;const T=(($=u==null?void 0:u.proxy)==null?void 0:$.$el).parentElement;T&&T!==a.value&&(a.value=T)};return fn(()=>m()),$i(()=>m()),wr(()=>{var $;u!=null&&u.uid&&(($=l.removeItem)==null||$.call(l,u.uid))}),{prefixCls:i}}});function uU(e,o,n,i,l,u){return Ue(e.$slots,"default")}var q0=ot(aU,[["render",uU]]);const cU=Object.assign(Sy,{DescriptionsItem:q0,install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+Sy.name,Sy),e.component(n+q0.name,q0)}});var Oy=Ae({name:"Divider",props:{direction:{type:String,default:"horizontal"},orientation:{type:String,default:"center"},type:{type:String},size:{type:Number},margin:{type:[Number,String]}},setup(e,{slots:o}){const n=Ge("divider"),i=O(()=>e.direction==="horizontal"),l=O(()=>{const u={};if(e.size&&(u[i.value?"border-bottom-width":"border-left-width"]=_t(e.size)?`${e.size}px`:e.size),e.type&&(u[i.value?"border-bottom-style":"border-left-style"]=e.type),!Gt(e.margin)){const a=_t(e.margin)?`${e.margin}px`:e.margin;u.margin=i.value?`${a} 0`:`0 ${a}`}return u});return()=>{var u;const a=(u=o.default)==null?void 0:u.call(o),h=[n,`${n}-${e.direction}`,{[`${n}-with-text`]:a}];return _("div",{role:"separator",class:h,style:l.value},[a&&e.direction==="horizontal"&&_("span",{class:[`${n}-text`,`${n}-text-${e.orientation}`]},[a])])}}});const dU=Object.assign(Oy,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+Oy.name,Oy)}}),eL=e=>{const o=ve(!1),n={overflow:"",width:"",boxSizing:""};return{setOverflowHidden:()=>{if(e.value){const u=e.value;if(!o.value&&u.style.overflow!=="hidden"){const a=gP(u);(a>0||fP(u))&&(n.overflow=u.style.overflow,n.width=u.style.width,n.boxSizing=u.style.boxSizing,u.style.overflow="hidden",u.style.width=`${u.offsetWidth-a}px`,u.style.boxSizing="border-box",o.value=!0)}}},resetOverflow:()=>{if(e.value&&o.value){const u=e.value;u.style.overflow=n.overflow,u.style.width=n.width,u.style.boxSizing=n.boxSizing,o.value=!1}}}};var hU=Object.defineProperty,ak=Object.getOwnPropertySymbols,pU=Object.prototype.hasOwnProperty,fU=Object.prototype.propertyIsEnumerable,uk=(e,o,n)=>o in e?hU(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,gU=(e,o)=>{for(var n in o||(o={}))pU.call(o,n)&&uk(e,n,o[n]);if(ak)for(var n of ak(o))fU.call(o,n)&&uk(e,n,o[n]);return e};const mU=["top","right","bottom","left"],$U=Ae({name:"Drawer",components:{ClientOnly:SI,ArcoButton:mi,IconHover:yo,IconClose:zr},inheritAttrs:!1,props:{visible:{type:Boolean,default:!1},defaultVisible:{type:Boolean,default:!1},placement:{type:String,default:"right",validator:e=>mU.includes(e)},title:String,mask:{type:Boolean,default:!0},maskClosable:{type:Boolean,default:!0},closable:{type:Boolean,default:!0},okText:String,cancelText:String,okLoading:{type:Boolean,default:!1},okButtonProps:{type:Object},cancelButtonProps:{type:Object},unmountOnClose:Boolean,width:{type:[Number,String],default:250},height:{type:[Number,String],default:250},popupContainer:{type:[String,Object],default:"body"},drawerStyle:{type:Object},onBeforeOk:{type:Function},onBeforeCancel:{type:Function},escToClose:{type:Boolean,default:!0},renderToBody:{type:Boolean,default:!0},header:{type:Boolean,default:!0},footer:{type:Boolean,default:!0},hideCancel:{type:Boolean,default:!1}},emits:{"update:visible":e=>!0,ok:e=>!0,cancel:e=>!0,open:()=>!0,close:()=>!0,beforeOpen:()=>!0,beforeClose:()=>!0},setup(e,{emit:o}){const{popupContainer:n}=mt(e),i=Ge("drawer"),{t:l}=Lo(),u=ve(e.defaultVisible),a=O(()=>{var oe;return(oe=e.visible)!=null?oe:u.value}),h=ve(!1),p=O(()=>e.okLoading||h.value),{teleportContainer:m,containerRef:$}=OI({popupContainer:n,visible:a}),T=ve(a.value);let w=!1;const A=oe=>{e.escToClose&&oe.key===_r.ESC&&B()&&D(oe)},R=()=>{e.escToClose&&!w&&(w=!0,Jn(document.documentElement,"keydown",A))},L=()=>{w&&(w=!1,$o(document.documentElement,"keydown",A))},{zIndex:M,isLastDialog:B}=gg("dialog",{visible:a}),G=O(()=>($==null?void 0:$.value)===document.body);let j=0;const F=()=>{j++,h.value&&(h.value=!1),u.value=!1,o("update:visible",!1)},x=async oe=>{const X=j,K=await new Promise(async q=>{var z;if(Ut(e.onBeforeOk)){let ne=e.onBeforeOk((ge=!0)=>q(ge));if((Vh(ne)||!ks(ne))&&(h.value=!0),Vh(ne))try{ne=(z=await ne)!=null?z:!0}catch{ne=!1}ks(ne)&&q(ne)}else q(!0)});X===j&&(K?(o("ok",oe),F()):h.value&&(h.value=!1))},D=oe=>{var X;let K=!0;Ut(e.onBeforeCancel)&&(K=(X=e.onBeforeCancel())!=null?X:!1),K&&(o("cancel",oe),F())},U=oe=>{e.maskClosable&&D(oe)},te=()=>{a.value&&o("open")},Y=()=>{a.value||(T.value=!1,ee(),o("close"))},{setOverflowHidden:J,resetOverflow:ee}=eL($);fn(()=>{a.value&&(T.value=!0,J(),R())}),wr(()=>{ee(),L()}),At(a,oe=>{u.value!==oe&&(u.value=oe),oe?(o("beforeOpen"),T.value=!0,J(),R()):(o("beforeClose"),L())});const ue=O(()=>{var oe;const X=gU({[e.placement]:0},(oe=e.drawerStyle)!=null?oe:{});return["right","left"].includes(e.placement)?X.width=_t(e.width)?`${e.width}px`:e.width:X.height=_t(e.height)?`${e.height}px`:e.height,X});return{prefixCls:i,style:ue,t:l,mounted:T,computedVisible:a,mergedOkLoading:p,zIndex:M,handleOk:x,handleCancel:D,handleOpen:te,handleClose:Y,handleMask:U,isFixed:G,teleportContainer:m}}});function vU(e,o,n,i,l,u){const a=Pe("icon-close"),h=Pe("icon-hover"),p=Pe("arco-button"),m=Pe("client-only");return W(),Ze(m,null,{default:Je(()=>[(W(),Ze(i1,{to:e.teleportContainer,disabled:!e.renderToBody},[!e.unmountOnClose||e.computedVisible||e.mounted?Qs((W(),fe("div",lt({key:0,class:`${e.prefixCls}-container`,style:e.isFixed?{zIndex:e.zIndex}:{zIndex:"inherit",position:"absolute"}},e.$attrs),[_(Hr,{name:"fade-drawer",appear:""},{default:Je(()=>[e.mask?Qs((W(),fe("div",{key:0,class:Z(`${e.prefixCls}-mask`),onClick:o[0]||(o[0]=(...$)=>e.handleMask&&e.handleMask(...$))},null,2)),[[Zs,e.computedVisible]]):We("v-if",!0)]),_:1}),_(Hr,{name:`slide-${e.placement}-drawer`,appear:"",onAfterEnter:e.handleOpen,onAfterLeave:e.handleClose},{default:Je(()=>[Qs(De("div",{class:Z(e.prefixCls),style:yt(e.style)},[e.header?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-header`)},[Ue(e.$slots,"header",{},()=>[e.$slots.title||e.title?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-title`)},[Ue(e.$slots,"title",{},()=>[Dt(Mt(e.title),1)])],2)):We("v-if",!0),e.closable?(W(),fe("div",{key:1,tabindex:"-1",role:"button","aria-label":"Close",class:Z(`${e.prefixCls}-close-btn`),onClick:o[1]||(o[1]=(...$)=>e.handleCancel&&e.handleCancel(...$))},[_(h,null,{default:Je(()=>[_(a)]),_:1})],2)):We("v-if",!0)])],2)):We("v-if",!0),De("div",{class:Z(`${e.prefixCls}-body`)},[Ue(e.$slots,"default")],2),e.footer?(W(),fe("div",{key:1,class:Z(`${e.prefixCls}-footer`)},[Ue(e.$slots,"footer",{},()=>[e.hideCancel?We("v-if",!0):(W(),Ze(p,lt({key:0},e.cancelButtonProps,{onClick:e.handleCancel}),{default:Je(()=>[Dt(Mt(e.cancelText||e.t("drawer.cancelText")),1)]),_:1},16,["onClick"])),_(p,lt({type:"primary",loading:e.mergedOkLoading},e.okButtonProps,{onClick:e.handleOk}),{default:Je(()=>[Dt(Mt(e.okText||e.t("drawer.okText")),1)]),_:1},16,["loading","onClick"])])],2)):We("v-if",!0)],6),[[Zs,e.computedVisible]])]),_:3},8,["name","onAfterEnter","onAfterLeave"])],16)),[[Zs,e.computedVisible||e.mounted]]):We("v-if",!0)],8,["to","disabled"]))]),_:3})}var Z0=ot($U,[["render",vU]]),_U=Object.defineProperty,ck=Object.getOwnPropertySymbols,bU=Object.prototype.hasOwnProperty,TU=Object.prototype.propertyIsEnumerable,dk=(e,o,n)=>o in e?_U(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,ky=(e,o)=>{for(var n in o||(o={}))bU.call(o,n)&&dk(e,n,o[n]);if(ck)for(var n of ck(o))TU.call(o,n)&&dk(e,n,o[n]);return e};const hk=(e,o)=>{let n=f1("drawer");const i=()=>{m.component&&(m.component.props.visible=!1),Ut(e.onOk)&&e.onOk()},l=()=>{m.component&&(m.component.props.visible=!1),Ut(e.onCancel)&&e.onCancel()},u=async()=>{await Un(),n&&(td(null,n),document.body.removeChild(n)),n=null,Ut(e.onClose)&&e.onClose()},a=()=>{m.component&&(m.component.props.visible=!1)},h=$=>{m.component&&Object.entries($).forEach(([T,w])=>{m.component.props[T]=w})},m=_(Z0,ky(ky(ky({},{visible:!0,renderToBody:!1,unmountOnClose:!0,onOk:i,onCancel:l,onClose:u}),Sr(e,["content","title","footer","visible","unmountOnClose","onOk","onCancel","onClose"])),{header:typeof e.header=="boolean"?e.header:void 0,footer:typeof e.footer=="boolean"?e.footer:void 0}),{default:Mi(e.content),header:typeof e.header!="boolean"?Mi(e.header):void 0,title:Mi(e.title),footer:typeof e.footer!="boolean"?Mi(e.footer):void 0});return(o??NC._context)&&(m.appContext=o??NC._context),td(m,n),document.body.appendChild(n),{close:a,update:h}},NC=Object.assign(Z0,{open:hk,install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+Z0.name,Z0);const i={open:(l,u=e._context)=>hk(l,u)};e.config.globalProperties.$drawer=i},_context:null}),yU=Ae({name:"Form",props:{model:{type:Object,required:!0},layout:{type:String,default:"horizontal"},size:{type:String},labelColProps:{type:Object,default:()=>({span:5,offset:0})},wrapperColProps:{type:Object,default:()=>({span:19,offset:0})},labelColStyle:Object,wrapperColStyle:Object,labelAlign:{type:String,default:"right"},disabled:{type:Boolean,default:void 0},rules:{type:Object},autoLabelWidth:{type:Boolean,default:!1}},emits:{submit:(e,o)=>!0,submitSuccess:(e,o)=>!0,submitFailed:(e,o)=>!0},setup(e,{emit:o}){const n=Ge("form"),{model:i,layout:l,disabled:u,labelAlign:a,labelColProps:h,wrapperColProps:p,labelColStyle:m,wrapperColStyle:$,size:T,rules:w}=mt(e),{mergedSize:A}=Wr(T),R=O(()=>e.layout==="horizontal"&&e.autoLabelWidth),L=[],M=[],B=ft({}),G=O(()=>Math.max(...Object.values(B))),j=X=>{X&&X.field&&L.push(X)},F=X=>{X&&X.field&&L.splice(L.indexOf(X),1)},x=X=>{L.forEach(K=>{X[K.field]&&K.setField(X[K.field])})},D=(X,K)=>{K&&B[K]!==X&&(B[K]=X)},U=X=>{X&&delete B[X]},te=X=>{const K=X?[].concat(X):[];L.forEach(q=>{(K.length===0||K.includes(q.field))&&q.resetField()})},Y=X=>{const K=X?[].concat(X):[];L.forEach(q=>{(K.length===0||K.includes(q.field))&&q.clearValidate()})},J=X=>{const K=[];return L.forEach(q=>{K.push(q.validate())}),Promise.all(K).then(q=>{const z={};let ne=!1;return q.forEach(ge=>{ge&&(ne=!0,z[ge.field]=ge)}),Ut(X)&&X(ne?z:void 0),ne?z:void 0})},ee=(X,K)=>{const q=[];for(const z of L)(nn(X)&&X.includes(z.field)||X===z.field)&&q.push(z.validate());return Promise.all(q).then(z=>{const ne={};let ge=!1;return z.forEach(Q=>{Q&&(ge=!0,ne[Q.field]=Q)}),Ut(K)&&K(ge?ne:void 0),ge?ne:void 0})},ue=X=>{const K=[];L.forEach(q=>{K.push(q.validate())}),Promise.all(K).then(q=>{const z={};let ne=!1;q.forEach(ge=>{ge&&(ne=!0,z[ge.field]=ge)}),ne?o("submitFailed",{values:i.value,errors:z},X):o("submitSuccess",i.value,X),o("submit",{values:i.value,errors:ne?z:void 0},X)})};return Ln(II,ft({layout:l,disabled:u,labelAlign:a,labelColProps:h,wrapperColProps:p,labelColStyle:m,wrapperColStyle:$,model:i,size:A,rules:w,fields:L,touchedFields:M,addField:j,removeField:F,validateField:ee,setLabelWidth:D,removeLabelWidth:U,maxLabelWidth:G,autoLabelWidth:R})),{cls:O(()=>[n,`${n}-layout-${e.layout}`,`${n}-size-${A.value}`,{[`${n}-auto-label-width`]:e.autoLabelWidth}]),handleSubmit:ue,innerValidate:J,innerValidateField:ee,innerResetFields:te,innerClearValidate:Y,innerSetFields:x}},methods:{validate(e){return this.innerValidate(e)},validateField(e,o){return this.innerValidateField(e,o)},resetFields(e){return this.innerResetFields(e)},clearValidate(e){return this.innerClearValidate(e)},setFields(e){return this.innerSetFields(e)}}});function EU(e,o,n,i,l,u){return W(),fe("form",{class:Z(e.cls),onSubmit:o[0]||(o[0]=qs((...a)=>e.handleSubmit&&e.handleSubmit(...a),["prevent"]))},[Ue(e.$slots,"default")],34)}var wy=ot(yU,[["render",EU]]),vg=Object.prototype.toString;function C1(e){return vg.call(e)==="[object Array]"}function xu(e){return vg.call(e)==="[object Object]"}function AC(e){return vg.call(e)==="[object String]"}function CU(e){return vg.call(e)==="[object Number]"&&e===e}function IU(e){return vg.call(e)==="[object Boolean]"}function RC(e){return vg.call(e)==="[object Function]"}function SU(e){return xu(e)&&Object.keys(e).length===0}function Sh(e){return e==null||e===""}function tL(e){return C1(e)&&!e.length}var jI=function(e,o){if(typeof e!="object"||typeof o!="object")return e===o;if(RC(e)&&RC(o))return e===o||e.toString()===o.toString();if(Object.keys(e).length!==Object.keys(o).length)return!1;for(var n in e){var i=jI(e[n],o[n]);if(!i)return!1}return!0},XI=function(e,o){var n=Object.assign({},e);return Object.keys(o||{}).forEach(function(i){var l=n[i],u=o==null?void 0:o[i];n[i]=xu(l)?Object.assign(Object.assign({},l),u):u||l}),n},OU=function(e,o){for(var n=o.split("."),i=e,l=0;l<n.length;l++)if(i=i&&i[n[l]],i===void 0)return i;return i},Wc="#{field} is not a #{type} type",kU={required:"#{field} is required",type:{ip:Wc,email:Wc,url:Wc,string:Wc,number:Wc,array:Wc,object:Wc,boolean:Wc},number:{min:"`#{value}` is not greater than `#{min}`",max:"`#{value}` is not less than `#{max}`",equal:"`#{value}` is not equal to `#{equal}`",range:"`#{value}` is not in range `#{min} ~ #{max}`",positive:"`#{value}` is not a positive number",negative:"`#{value}` is not a negative number"},string:{maxLength:"#{field} cannot be longer than #{maxLength} characters",minLength:"#{field} must be at least #{minLength} characters",length:"#{field} must be exactly #{length} characters",match:"`#{value}` does not match pattern #{pattern}",uppercase:"`#{value}` must be all uppercase",lowercase:"`#{value}` must be all lowercased"},array:{length:"#{field} must be exactly #{length} in length",minLength:"#{field} cannot be less than #{minLength} in length",maxLength:"#{field} cannot be greater than #{maxLength} in length",includes:"#{field} is not includes #{includes}",deepEqual:"#{field} is not deep equal with #{deepEqual}",empty:"#{field} is not an empty array"},object:{deepEqual:"#{field} is not deep equal to expected value",hasKeys:"#{field} does not contain required fields",empty:"#{field} is not an empty object"},boolean:{true:"Expect true but got `#{value}`",false:"Expect false but got `#{value}`"}},Fl=function(o,n){var i=this;this.getValidateMsg=function(l,u){u===void 0&&(u={});var a=Object.assign(Object.assign({},u),{value:i.obj,field:i.field,type:i.type}),h=OU(i.validateMessages,l);return RC(h)?h(a):AC(h)?h.replace(/\#\{.+?\}/g,function(p){var m=p.slice(2,-1);if(m in a){if(xu(a[m])||C1(a[m]))try{return JSON.stringify(a[m])}catch{return a[m]}return String(a[m])}return p}):h},xu(n)&&AC(o)&&n.trim?this.obj=o.trim():xu(n)&&n.ignoreEmptyString&&o===""?this.obj=void 0:this.obj=o,this.message=n.message,this.type=n.type,this.error=null,this.field=n.field||n.type,this.validateMessages=XI(kU,n.validateMessages)},I1={not:{configurable:!0},isRequired:{configurable:!0},end:{configurable:!0}};I1.not.get=function(){return this._not=!this._not,this};I1.isRequired.get=function(){if(Sh(this.obj)||tL(this.obj)){var e=this.getValidateMsg("required");this.error={value:this.obj,type:this.type,requiredError:!0,message:this.message||(xu(e)?e:(this._not?"[NOT MODE]:":"")+e)}}return this};I1.end.get=function(){return this.error};Fl.prototype.addError=function(o){!this.error&&o&&(this.error={value:this.obj,type:this.type,message:this.message||(xu(o)?o:(this._not?"[NOT MODE]:":"")+o)})};Fl.prototype.validate=function(o,n){var i=this._not?o:!o;return i&&this.addError(n),this};Fl.prototype.collect=function(o){o&&o(this.error)};Object.defineProperties(Fl.prototype,I1);var wU=function(e){function o(i,l){e.call(this,i,Object.assign(Object.assign({},l),{type:"string"})),this.validate(l&&l.strict?AC(this.obj):!0,this.getValidateMsg("type.string"))}e&&(o.__proto__=e),o.prototype=Object.create(e&&e.prototype),o.prototype.constructor=o;var n={uppercase:{configurable:!0},lowercase:{configurable:!0}};return o.prototype.maxLength=function(l){return this.obj?this.validate(this.obj.length<=l,this.getValidateMsg("string.maxLength",{maxLength:l})):this},o.prototype.minLength=function(l){return this.obj?this.validate(this.obj.length>=l,this.getValidateMsg("string.minLength",{minLength:l})):this},o.prototype.length=function(l){return this.obj?this.validate(this.obj.length===l,this.getValidateMsg("string.length",{length:l})):this},o.prototype.match=function(l){var u=l instanceof RegExp;return u&&(l.lastIndex=0),this.validate(this.obj===void 0||u&&l.test(this.obj),this.getValidateMsg("string.match",{pattern:l}))},n.uppercase.get=function(){return this.obj?this.validate(this.obj.toUpperCase()===this.obj,this.getValidateMsg("string.uppercase")):this},n.lowercase.get=function(){return this.obj?this.validate(this.obj.toLowerCase()===this.obj,this.getValidateMsg("string.lowercase")):this},Object.defineProperties(o.prototype,n),o}(Fl),NU=function(e){function o(i,l){e.call(this,i,Object.assign(Object.assign({},l),{type:"number"})),this.validate(l&&l.strict?CU(this.obj):!0,this.getValidateMsg("type.number"))}e&&(o.__proto__=e),o.prototype=Object.create(e&&e.prototype),o.prototype.constructor=o;var n={positive:{configurable:!0},negative:{configurable:!0}};return o.prototype.min=function(l){return Sh(this.obj)?this:this.validate(this.obj>=l,this.getValidateMsg("number.min",{min:l}))},o.prototype.max=function(l){return Sh(this.obj)?this:this.validate(this.obj<=l,this.getValidateMsg("number.max",{max:l}))},o.prototype.equal=function(l){return Sh(this.obj)?this:this.validate(this.obj===l,this.getValidateMsg("number.equal",{equal:l}))},o.prototype.range=function(l,u){return Sh(this.obj)?this:this.validate(this.obj>=l&&this.obj<=u,this.getValidateMsg("number.range",{min:l,max:u}))},n.positive.get=function(){return Sh(this.obj)?this:this.validate(this.obj>0,this.getValidateMsg("number.positive"))},n.negative.get=function(){return Sh(this.obj)?this:this.validate(this.obj<0,this.getValidateMsg("number.negative"))},Object.defineProperties(o.prototype,n),o}(Fl),AU=function(e){function o(i,l){e.call(this,i,Object.assign(Object.assign({},l),{type:"array"})),this.validate(l&&l.strict?C1(this.obj):!0,this.getValidateMsg("type.array",{value:this.obj,type:this.type}))}e&&(o.__proto__=e),o.prototype=Object.create(e&&e.prototype),o.prototype.constructor=o;var n={empty:{configurable:!0}};return o.prototype.length=function(l){return this.obj?this.validate(this.obj.length===l,this.getValidateMsg("array.length",{value:this.obj,length:l})):this},o.prototype.minLength=function(l){return this.obj?this.validate(this.obj.length>=l,this.getValidateMsg("array.minLength",{value:this.obj,minLength:l})):this},o.prototype.maxLength=function(l){return this.obj?this.validate(this.obj.length<=l,this.getValidateMsg("array.maxLength",{value:this.obj,maxLength:l})):this},o.prototype.includes=function(l){var u=this;return this.obj?this.validate(l.every(function(a){return u.obj.indexOf(a)!==-1}),this.getValidateMsg("array.includes",{value:this.obj,includes:l})):this},o.prototype.deepEqual=function(l){return this.obj?this.validate(jI(this.obj,l),this.getValidateMsg("array.deepEqual",{value:this.obj,deepEqual:l})):this},n.empty.get=function(){return this.validate(tL(this.obj),this.getValidateMsg("array.empty",{value:this.obj}))},Object.defineProperties(o.prototype,n),o}(Fl),RU=function(e){function o(i,l){e.call(this,i,Object.assign(Object.assign({},l),{type:"object"})),this.validate(l&&l.strict?xu(this.obj):!0,this.getValidateMsg("type.object"))}e&&(o.__proto__=e),o.prototype=Object.create(e&&e.prototype),o.prototype.constructor=o;var n={empty:{configurable:!0}};return o.prototype.deepEqual=function(l){return this.obj?this.validate(jI(this.obj,l),this.getValidateMsg("object.deepEqual",{deepEqual:l})):this},o.prototype.hasKeys=function(l){var u=this;return this.obj?this.validate(l.every(function(a){return u.obj[a]}),this.getValidateMsg("object.hasKeys",{keys:l})):this},n.empty.get=function(){return this.validate(SU(this.obj),this.getValidateMsg("object.empty"))},Object.defineProperties(o.prototype,n),o}(Fl),LU=function(e){function o(i,l){e.call(this,i,Object.assign(Object.assign({},l),{type:"boolean"})),this.validate(l&&l.strict?IU(this.obj):!0,this.getValidateMsg("type.boolean"))}e&&(o.__proto__=e),o.prototype=Object.create(e&&e.prototype),o.prototype.constructor=o;var n={true:{configurable:!0},false:{configurable:!0}};return n.true.get=function(){return this.validate(this.obj===!0,this.getValidateMsg("boolean.true"))},n.false.get=function(){return this.validate(this.obj===!1,this.getValidateMsg("boolean.false"))},Object.defineProperties(o.prototype,n),o}(Fl),MU=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/,PU=new RegExp("^(?!mailto:)(?:(?:http|https|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[0-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))|localhost)(?::\\d{2,5})?(?:(/|\\?|#)[^\\s]*)?$","i"),DU=/^(2(5[0-5]{1}|[0-4]\d{1})|[0-1]?\d{1,2})(\.(2(5[0-5]{1}|[0-4]\d{1})|[0-1]?\d{1,2})){3}$/,xU=function(e){function o(i,l){e.call(this,i,Object.assign(Object.assign({},l),{type:"type"}))}e&&(o.__proto__=e),o.prototype=Object.create(e&&e.prototype),o.prototype.constructor=o;var n={email:{configurable:!0},url:{configurable:!0},ip:{configurable:!0}};return n.email.get=function(){return this.type="email",this.validate(this.obj===void 0||MU.test(this.obj),this.getValidateMsg("type.email"))},n.url.get=function(){return this.type="url",this.validate(this.obj===void 0||PU.test(this.obj),this.getValidateMsg("type.url"))},n.ip.get=function(){return this.type="ip",this.validate(this.obj===void 0||DU.test(this.obj),this.getValidateMsg("type.ip"))},Object.defineProperties(o.prototype,n),o}(Fl),BU=function(e){function o(i,l){e.call(this,i,Object.assign(Object.assign({},l),{type:"custom"}))}e&&(o.__proto__=e),o.prototype=Object.create(e&&e.prototype),o.prototype.constructor=o;var n={validate:{configurable:!0}};return n.validate.get=function(){var i=this;return function(l,u){var a;if(l)return a=l(i.obj,i.addError.bind(i)),a&&a.then?(u&&a.then(function(){u&&u(i.error)},function(h){console.error(h)}),[a,i]):(u&&u(i.error),i.error)}},Object.defineProperties(o.prototype,n),o}(Fl),Hb=function(e,o){return new nL(e,Object.assign({field:"value"},o))};Hb.globalConfig={};Hb.setGlobalConfig=function(e){Hb.globalConfig=e||{}};var nL=function(o,n){var i=Hb.globalConfig,l=Object.assign(Object.assign(Object.assign({},i),n),{validateMessages:XI(i.validateMessages,n.validateMessages)});this.string=new wU(o,l),this.number=new NU(o,l),this.array=new AU(o,l),this.object=new RU(o,l),this.boolean=new LU(o,l),this.type=new xU(o,l),this.custom=new BU(o,l)},KI=function(o,n){n===void 0&&(n={}),this.schema=o,this.options=n};KI.prototype.messages=function(o){this.options=Object.assign(Object.assign({},this.options),{validateMessages:XI(this.options.validateMessages,o)})};KI.prototype.validate=function(o,n){var i=this;if(!xu(o))return;var l=[],u=null;function a(h,p){u||(u={}),(!u[h]||p.requiredError)&&(u[h]=p)}this.schema&&Object.keys(this.schema).forEach(function(h){if(C1(i.schema[h]))for(var p=function(T){var w=i.schema[h][T],A=w.type,R=w.message;if(!A&&!w.validator)throw"You must specify a type to field "+h+"!";var L=Object.assign(Object.assign({},i.options),{message:R,field:h});"ignoreEmptyString"in w&&(L.ignoreEmptyString=w.ignoreEmptyString),"strict"in w&&(L.strict=w.strict);var M=new nL(o[h],L),B=M.type[A]||null;if(!B)if(w.validator){B=M.custom.validate(w.validator),Object.prototype.toString.call(B)==="[object Array]"&&B[0].then?l.push({function:B[0],_this:B[1],key:h}):B&&a(h,B);return}else B=M[A];if(Object.keys(w).forEach(function(G){w.required&&(B=B.isRequired),G!=="message"&&B[G]&&w[G]&&typeof B[G]=="object"&&(B=B[G]),B[G]&&w[G]!==void 0&&typeof B[G]=="function"&&(B=B[G](w[G]))}),B.collect(function(G){G&&a(h,G)}),u)return"break"},m=0;m<i.schema[h].length;m++){var $=p(m);if($==="break")break}}),l.length>0?Promise.all(l.map(function(h){return h.function})).then(function(){l.forEach(function(h){h._this.error&&a(h.key,h._this.error)}),n&&n(u)}):n&&n(u)};const oL=Symbol("RowContextInjectionKey"),rL=Symbol("GridContextInjectionKey"),iL=Symbol("GridDataCollectorInjectionKey"),FU=Ae({name:"Row",props:{gutter:{type:[Number,Object,Array],default:0},justify:{type:String,default:"start"},align:{type:String,default:"start"},div:{type:Boolean},wrap:{type:Boolean,default:!0}},setup(e){const{gutter:o,align:n,justify:i,div:l,wrap:u}=mt(e),a=Ge("row"),h=O(()=>({[`${a}`]:!l.value,[`${a}-nowrap`]:!u.value,[`${a}-align-${n.value}`]:n.value,[`${a}-justify-${i.value}`]:i.value})),p=O(()=>Array.isArray(o.value)?o.value[0]:o.value),m=O(()=>Array.isArray(o.value)?o.value[1]:0),$=Du(p,0),T=Du(m,0),w=O(()=>{const R={};if(($.value||T.value)&&!l.value){const L=-$.value/2,M=-T.value/2;L&&(R.marginLeft=`${L}px`,R.marginRight=`${L}px`),M&&(R.marginTop=`${M}px`,R.marginBottom=`${M}px`)}return R}),A=O(()=>[$.value,T.value]);return Ln(oL,ft({gutter:A,div:l})),{classNames:h,styles:w}}});function VU(e,o,n,i,l,u){return W(),fe("div",{class:Z(e.classNames),style:yt(e.styles)},[Ue(e.$slots,"default")],6)}var x$=ot(FU,[["render",VU]]);function UU(e){return O(()=>{const{val:n,key:i,xs:l,sm:u,md:a,lg:h,xl:p,xxl:m}=e.value;if(!l&&!u&&!a&&!h&&!p&&!m)return n;const $={};return Vb.forEach(T=>{const w=e.value[T];_t(w)?$[T]=w:cn(w)&&_t(w[i])&&($[T]=w[i])}),$})}var HU=Object.defineProperty,pk=Object.getOwnPropertySymbols,GU=Object.prototype.hasOwnProperty,zU=Object.prototype.propertyIsEnumerable,fk=(e,o,n)=>o in e?HU(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,Ny=(e,o)=>{for(var n in o||(o={}))GU.call(o,n)&&fk(e,n,o[n]);if(pk)for(var n of pk(o))zU.call(o,n)&&fk(e,n,o[n]);return e};function WU(e){if(ir(e)&&(["initial","auto","none"].includes(e)||/^\d+$/.test(e))||_t(e))return e;if(ir(e)&&/^\d+(px|em|rem|%)$/.test(e))return`0 0 ${e}`}const jU=Ae({name:"Col",props:{span:{type:Number,default:24},offset:{type:Number},order:{type:Number},xs:{type:[Number,Object]},sm:{type:[Number,Object]},md:{type:[Number,Object]},lg:{type:[Number,Object]},xl:{type:[Number,Object]},xxl:{type:[Number,Object]},flex:{type:[Number,String]}},setup(e){const o=Ge("col"),n=on(oL,{}),i=O(()=>WU(e.flex)),l=O(()=>{const{div:T}=n,{span:w,offset:A,order:R,xs:L,sm:M,md:B,lg:G,xl:j,xxl:F}=e,x={[`${o}`]:!T,[`${o}-order-${R}`]:R,[`${o}-${w}`]:!T&&!L&&!M&&!B&&!G&&!j&&!F,[`${o}-offset-${A}`]:A&&A>0},D={xs:L,sm:M,md:B,lg:G,xl:j,xxl:F};return Object.keys(D).forEach(U=>{const te=D[U];te&&_t(te)?x[`${o}-${U}-${te}`]=!0:te&&cn(te)&&(x[`${o}-${U}-${te.span}`]=te.span,x[`${o}-${U}-offset-${te.offset}`]=te.offset,x[`${o}-${U}-order-${te.order}`]=te.order)}),x}),u=O(()=>i.value?o:l.value),a=O(()=>{const{gutter:T,div:w}=n,A={};if(Array.isArray(T)&&!w){const R=T[0]&&T[0]/2||0,L=T[1]&&T[1]/2||0;R&&(A.paddingLeft=`${R}px`,A.paddingRight=`${R}px`),L&&(A.paddingTop=`${L}px`,A.paddingBottom=`${L}px`)}return A}),h=O(()=>i.value?{flex:i.value}:{}),p=O(()=>wa(e,Vb)),m=UU(O(()=>Ny({val:e.span,key:"span"},p.value))),$=Du(m,24,!0);return{visible:O(()=>!!$.value),classNames:u,styles:O(()=>Ny(Ny({},a.value),h.value))}}});function XU(e,o,n,i,l,u){return e.visible?(W(),fe("div",{key:0,class:Z(e.classNames),style:yt(e.styles)},[Ue(e.$slots,"default")],6)):We("v-if",!0)}var B$=ot(jU,[["render",XU]]);function KU(e,o){var n,i;const l=(n=o.span)!=null?n:1,u=(i=o.offset)!=null?i:0,a=Math.min(u,e);return{span:Math.min(a>0?l+u:l,e),offset:a,suffix:"suffix"in o?o.suffix!==!1:!1}}function YU({cols:e,collapsed:o,collapsedRows:n,itemDataList:i}){let l=!1,u=[];function a(h){return Math.ceil(h/e)>n}if(o){let h=0;for(let p=0;p<i.length;p++)i[p].suffix&&(h+=i[p].span,u.push(p));if(!a(h)){let p=0;for(;p<i.length;){const m=i[p];if(!m.suffix){if(h+=m.span,a(h))break;u.push(p)}p++}}l=i.some((p,m)=>!p.suffix&&!u.includes(m))}else u=i.map((h,p)=>p);return{overflow:l,displayIndexList:u}}const QU=Ae({name:"Grid",props:{cols:{type:[Number,Object],default:24},rowGap:{type:[Number,Object],default:0},colGap:{type:[Number,Object],default:0},collapsed:{type:Boolean,default:!1},collapsedRows:{type:Number,default:1}},setup(e){const{cols:o,rowGap:n,colGap:i,collapsedRows:l,collapsed:u}=mt(e),a=Du(o,24),h=Du(i,0),p=Du(n,0),m=Ge("grid"),$=O(()=>[m]),T=O(()=>[{gap:`${p.value}px ${h.value}px`,"grid-template-columns":`repeat(${a.value}, minmax(0px, 1fr))`}]),w=ft(new Map),A=O(()=>{const L=[];for(const[M,B]of w.entries())L[M]=B;return L}),R=ft({overflow:!1,displayIndexList:[],cols:a.value,colGap:h.value});return Cr(()=>{R.cols=a.value,R.colGap=h.value}),Cr(()=>{const L=YU({cols:a.value,collapsed:u.value,collapsedRows:l.value,itemDataList:A.value});R.overflow=L.overflow,R.displayIndexList=L.displayIndexList}),Ln(rL,R),Ln(iL,{collectItemData(L,M){w.set(L,M)},removeItemData(L){w.delete(L)}}),{classNames:$,style:T}}});function qU(e,o,n,i,l,u){return W(),fe("div",{class:Z(e.classNames),style:yt(e.style)},[Ue(e.$slots,"default")],6)}var Ay=ot(QU,[["render",qU]]),ZU=Object.defineProperty,JU=Object.defineProperties,eH=Object.getOwnPropertyDescriptors,gk=Object.getOwnPropertySymbols,tH=Object.prototype.hasOwnProperty,nH=Object.prototype.propertyIsEnumerable,mk=(e,o,n)=>o in e?ZU(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,oH=(e,o)=>{for(var n in o||(o={}))tH.call(o,n)&&mk(e,n,o[n]);if(gk)for(var n of gk(o))nH.call(o,n)&&mk(e,n,o[n]);return e},rH=(e,o)=>JU(e,eH(o));const iH=Ae({name:"GridItem",props:{span:{type:[Number,Object],default:1},offset:{type:[Number,Object],default:0},suffix:{type:Boolean,default:!1}},setup(e){const o=Ge("grid-item"),n=ve(),{computedIndex:i}=b1({itemRef:n,selector:`.${o}`}),l=on(rL,{overflow:!1,displayIndexList:[],cols:24,colGap:0}),u=on(iL),a=O(()=>{var M;return(M=l==null?void 0:l.displayIndexList)==null?void 0:M.includes(i.value)}),{span:h,offset:p}=mt(e),m=Du(h,1),$=Du(p,0),T=O(()=>KU(l.cols,rH(oH({},e),{span:m.value,offset:$.value}))),w=O(()=>[o]),A=O(()=>{const{offset:M,span:B}=T.value,{colGap:G}=l;return M>0?{"margin-left":`calc((${`(100% - ${G*(B-1)}px) / ${B}`} * ${M}) + ${G*M}px)`}:{}}),R=O(()=>{const{suffix:M,span:B}=T.value,{cols:G}=l;return M?`${G-B+1}`:`span ${B}`}),L=O(()=>{const{span:M}=T.value;return n.value?[{"grid-column":`${R.value} / span ${M}`},A.value,!a.value||M===0?{display:"none"}:{}]:[]});return Cr(()=>{i.value!==-1&&(u==null||u.collectItemData(i.value,T.value))}),Ir(()=>{i.value!==-1&&(u==null||u.removeItemData(i.value))}),{classNames:w,style:L,domRef:n,overflow:O(()=>l.overflow)}}});function sH(e,o,n,i,l,u){return W(),fe("div",{ref:"domRef",class:Z(e.classNames),style:yt(e.style)},[Ue(e.$slots,"default",{overflow:e.overflow})],6)}var J0=ot(iH,[["render",sH]]);const k$=Object.assign(Ay,{Row:x$,Col:B$,Item:J0,install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+x$.name,x$),e.component(n+B$.name,B$),e.component(n+Ay.name,Ay),e.component(n+J0.name,J0)}});var lH=Object.defineProperty,$k=Object.getOwnPropertySymbols,aH=Object.prototype.hasOwnProperty,uH=Object.prototype.propertyIsEnumerable,vk=(e,o,n)=>o in e?lH(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,_k=(e,o)=>{for(var n in o||(o={}))aH.call(o,n)&&vk(e,n,o[n]);if($k)for(var n of $k(o))uH.call(o,n)&&vk(e,n,o[n]);return e};const cH=Ae({name:"Tooltip",components:{Trigger:Or},props:{popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},content:String,position:{type:String,default:"top"},mini:{type:Boolean,default:!1},backgroundColor:{type:String},contentClass:{type:[String,Array,Object]},contentStyle:{type:Object},arrowClass:{type:[String,Array,Object]},arrowStyle:{type:Object},popupContainer:{type:[String,Object]}},emits:{"update:popupVisible":e=>!0,popupVisibleChange:e=>!0},setup(e,{emit:o}){const n=Ge("tooltip"),i=ve(e.defaultPopupVisible),l=O(()=>{var $;return($=e.popupVisible)!=null?$:i.value}),u=$=>{i.value=$,o("update:popupVisible",$),o("popupVisibleChange",$)},a=O(()=>[`${n}-content`,e.contentClass,{[`${n}-mini`]:e.mini}]),h=O(()=>{if(e.backgroundColor||e.contentStyle)return _k({backgroundColor:e.backgroundColor},e.contentStyle)}),p=O(()=>[`${n}-popup-arrow`,e.arrowClass]),m=O(()=>{if(e.backgroundColor||e.arrowStyle)return _k({backgroundColor:e.backgroundColor},e.arrowStyle)});return{prefixCls:n,computedPopupVisible:l,contentCls:a,computedContentStyle:h,arrowCls:p,computedArrowStyle:m,handlePopupVisibleChange:u}}});function dH(e,o,n,i,l,u){const a=Pe("Trigger");return W(),Ze(a,{class:Z(e.prefixCls),trigger:"hover",position:e.position,"popup-visible":e.computedPopupVisible,"popup-offset":10,"show-arrow":"","content-class":e.contentCls,"content-style":e.computedContentStyle,"arrow-class":e.arrowCls,"arrow-style":e.computedArrowStyle,"popup-container":e.popupContainer,"animation-name":"zoom-in-fade-out","auto-fit-transform-origin":"",role:"tooltip",onPopupVisibleChange:e.handlePopupVisibleChange},{content:Je(()=>[Ue(e.$slots,"content",{},()=>[Dt(Mt(e.content),1)])]),default:Je(()=>[Ue(e.$slots,"default")]),_:3},8,["class","position","popup-visible","content-class","content-style","arrow-class","arrow-style","popup-container","onPopupVisibleChange"])}var Ry=ot(cH,[["render",dH]]);const el=Object.assign(Ry,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+Ry.name,Ry)}}),hH=Ae({name:"IconQuestionCircle",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-question-circle`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),pH=["stroke-width","stroke-linecap","stroke-linejoin"],fH=De("path",{d:"M42 24c0 9.941-8.059 18-18 18S6 33.941 6 24 14.059 6 24 6s18 8.059 18 18Z"},null,-1),gH=De("path",{d:"M24.006 31v4.008m0-6.008L24 28c0-3 3-4 4.78-6.402C30.558 19.195 28.288 15 23.987 15c-4.014 0-5.382 2.548-5.388 4.514v.465"},null,-1),mH=[fH,gH];function $H(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},mH,14,pH)}var Ly=ot(hH,[["render",$H]]);const vH=Object.assign(Ly,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+Ly.name,Ly)}}),_H=Ae({name:"FormItemLabel",components:{ResizeObserver:od,Tooltip:el,IconQuestionCircle:vH},props:{required:{type:Boolean,default:!1},showColon:{type:Boolean,default:!1},component:{type:String,default:"label"},asteriskPosition:{type:String,default:"start"},tooltip:{type:String},attrs:Object},setup(){const e=Ge("form-item-label"),o=on(II,void 0),n=vi(),i=ve(),l=()=>{i.value&&_t(i.value.offsetWidth)&&(o==null||o.setLabelWidth(i.value.offsetWidth,n==null?void 0:n.uid))};return fn(()=>{i.value&&_t(i.value.offsetWidth)&&(o==null||o.setLabelWidth(i.value.offsetWidth,n==null?void 0:n.uid))}),wr(()=>{o==null||o.removeLabelWidth(n==null?void 0:n.uid)}),{prefixCls:e,labelRef:i,handleResize:l}}}),bH=De("svg",{fill:"currentColor",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},[De("path",{d:"M583.338667 17.066667c18.773333 0 34.133333 15.36 34.133333 34.133333v349.013333l313.344-101.888a34.133333 34.133333 0 0 1 43.008 22.016l42.154667 129.706667a34.133333 34.133333 0 0 1-21.845334 43.178667l-315.733333 102.4 208.896 287.744a34.133333 34.133333 0 0 1-7.509333 47.786666l-110.421334 80.213334a34.133333 34.133333 0 0 1-47.786666-7.509334L505.685333 706.218667 288.426667 1005.226667a34.133333 34.133333 0 0 1-47.786667 7.509333l-110.421333-80.213333a34.133333 34.133333 0 0 1-7.509334-47.786667l214.186667-295.253333L29.013333 489.813333a34.133333 34.133333 0 0 1-22.016-43.008l42.154667-129.877333a34.133333 34.133333 0 0 1 43.008-22.016l320.512 104.106667L412.672 51.2c0-18.773333 15.36-34.133333 34.133333-34.133333h136.533334z"})],-1),TH=[bH],yH=De("svg",{fill:"currentColor",viewBox:"0 0 1024 1024",width:"1em",height:"1em"},[De("path",{d:"M583.338667 17.066667c18.773333 0 34.133333 15.36 34.133333 34.133333v349.013333l313.344-101.888a34.133333 34.133333 0 0 1 43.008 22.016l42.154667 129.706667a34.133333 34.133333 0 0 1-21.845334 43.178667l-315.733333 102.4 208.896 287.744a34.133333 34.133333 0 0 1-7.509333 47.786666l-110.421334 80.213334a34.133333 34.133333 0 0 1-47.786666-7.509334L505.685333 706.218667 288.426667 1005.226667a34.133333 34.133333 0 0 1-47.786667 7.509333l-110.421333-80.213333a34.133333 34.133333 0 0 1-7.509334-47.786667l214.186667-295.253333L29.013333 489.813333a34.133333 34.133333 0 0 1-22.016-43.008l42.154667-129.877333a34.133333 34.133333 0 0 1 43.008-22.016l320.512 104.106667L412.672 51.2c0-18.773333 15.36-34.133333 34.133333-34.133333h136.533334z"})],-1),EH=[yH];function CH(e,o,n,i,l,u){const a=Pe("icon-question-circle"),h=Pe("Tooltip"),p=Pe("ResizeObserver");return W(),Ze(p,{onResize:e.handleResize},{default:Je(()=>[(W(),Ze(ts(e.component),lt({ref:"labelRef",class:e.prefixCls},e.attrs),{default:Je(()=>[e.required&&e.asteriskPosition==="start"?(W(),fe("strong",{key:0,class:Z(`${e.prefixCls}-required-symbol`)},TH,2)):We("v-if",!0),Ue(e.$slots,"default"),e.tooltip?(W(),Ze(h,{key:1,content:e.tooltip},{default:Je(()=>[_(a,{class:Z(`${e.prefixCls}-tooltip`)},null,8,["class"])]),_:1},8,["content"])):We("v-if",!0),e.required&&e.asteriskPosition==="end"?(W(),fe("strong",{key:2,class:Z(`${e.prefixCls}-required-symbol`)},EH,2)):We("v-if",!0),Dt(" "+Mt(e.showColon?":":""),1)]),_:3},16,["class"]))]),_:3},8,["onResize"])}var IH=ot(_H,[["render",CH]]);const SH=Ae({name:"FormItemMessage",props:{error:Array,help:String},setup(){return{prefixCls:Ge("form-item-message")}}});function OH(e,o,n,i,l,u){return e.help||e.$slots.help?(W(),Ze(Hr,{key:0,name:"form-blink",appear:""},{default:Je(()=>[De("div",{class:Z([e.prefixCls,`${e.prefixCls}-help`])},[Ue(e.$slots,"help",{},()=>[Dt(Mt(e.help),1)])],2)]),_:3})):(W(!0),fe(Lt,{key:1},Ko(e.error,a=>(W(),Ze(Hr,{key:a,name:"form-blink",appear:""},{default:Je(()=>[De("div",{role:"alert",class:Z([e.prefixCls])},Mt(a),3)]),_:2},1024))),128))}var kH=ot(SH,[["render",OH]]);const bk=["success","warning","error","validating"],wH=e=>{let o="";for(const n of Object.keys(e)){const i=e[n];i&&(!o||bk.indexOf(i)>bk.indexOf(o))&&(o=e[n])}return o},NH=e=>{const o=[];for(const n of Object.keys(e)){const i=e[n];i&&o.push(i)}return o};var AH=Object.defineProperty,Gb=Object.getOwnPropertySymbols,sL=Object.prototype.hasOwnProperty,lL=Object.prototype.propertyIsEnumerable,Tk=(e,o,n)=>o in e?AH(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,yk=(e,o)=>{for(var n in o||(o={}))sL.call(o,n)&&Tk(e,n,o[n]);if(Gb)for(var n of Gb(o))lL.call(o,n)&&Tk(e,n,o[n]);return e},RH=(e,o)=>{var n={};for(var i in e)sL.call(e,i)&&o.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&Gb)for(var i of Gb(e))o.indexOf(i)<0&&lL.call(e,i)&&(n[i]=e[i]);return n};const LH=Ae({name:"FormItem",components:{ArcoRow:x$,ArcoCol:B$,FormItemLabel:IH,FormItemMessage:kH},props:{field:{type:String,default:""},label:String,tooltip:{type:String},showColon:{type:Boolean,default:!1},noStyle:{type:Boolean,default:!1},disabled:{type:Boolean,default:void 0},help:String,extra:String,required:{type:Boolean,default:!1},asteriskPosition:{type:String,default:"start"},rules:{type:[Object,Array]},validateStatus:{type:String},validateTrigger:{type:[String,Array],default:"change"},labelColProps:Object,wrapperColProps:Object,hideLabel:{type:Boolean,default:!1},hideAsterisk:{type:Boolean,default:!1},labelColStyle:Object,wrapperColStyle:Object,rowProps:Object,rowClass:[String,Array,Object],contentClass:[String,Array,Object],contentFlex:{type:Boolean,default:!0},mergeProps:{type:[Boolean,Function],default:!0},labelColFlex:{type:[Number,String]},feedback:{type:Boolean,default:!1},labelComponent:{type:String,default:"label"},labelAttrs:Object},setup(e){const o=Ge("form-item"),{field:n}=mt(e),i=on(II,{}),{autoLabelWidth:l,layout:u}=mt(i),{i18nMessage:a}=Lo(),h=O(()=>{var Q;const Oe=yk({},(Q=e.labelColProps)!=null?Q:i.labelColProps);return e.labelColFlex?Oe.flex=e.labelColFlex:i.autoLabelWidth&&(Oe.flex=`${i.maxLabelWidth}px`),Oe}),p=O(()=>{var Q;const Oe=yk({},(Q=e.wrapperColProps)!=null?Q:i.wrapperColProps);return(e.labelColFlex||i.autoLabelWidth)&&(Oe.flex="auto"),Oe}),m=O(()=>{var Q;return(Q=e.labelColStyle)!=null?Q:i.labelColStyle}),$=O(()=>{var Q;return(Q=e.wrapperColStyle)!=null?Q:i.wrapperColStyle}),T=Ph(i.model,e.field),w=ft({}),A=ft({}),R=O(()=>wH(w)),L=O(()=>NH(A)),M=ve(!1),B=O(()=>Ph(i.model,e.field)),G=O(()=>{var Q;return!!((Q=e.disabled)!=null?Q:i!=null&&i.disabled)}),j=O(()=>{var Q;return(Q=e.validateStatus)!=null?Q:R.value}),F=O(()=>j.value==="error"),x=O(()=>{var Q,Oe,Re;const _e=[].concat((Re=(Oe=e.rules)!=null?Oe:(Q=i==null?void 0:i.rules)==null?void 0:Q[e.field])!=null?Re:[]),se=_e.some(ke=>ke.required);return e.required&&!se?[{required:!0}].concat(_e):_e}),D=O(()=>x.value.some(Q=>Q.required)),U=e.noStyle?on(TC,void 0):void 0,te=(Q,{status:Oe,message:Re})=>{w[Q]=Oe,A[Q]=Re,e.noStyle&&(U==null||U.updateValidateState(Q,{status:Oe,message:Re}))},Y=O(()=>e.feedback&&j.value?j.value:void 0),J=()=>{var Q;if(M.value)return Promise.resolve();const Oe=x.value;if(!n.value||Oe.length===0)return R.value&&oe(),Promise.resolve();const Re=n.value,_e=B.value;te(Re,{status:"",message:""});const se=new KI({[Re]:Oe.map(ke=>{var Be=RH(ke,[]);return!Be.type&&!Be.validator&&(Be.type="string"),Be})},{ignoreEmptyString:!0,validateMessages:(Q=a.value.form)==null?void 0:Q.validateMessages});return new Promise(ke=>{se.validate({[Re]:_e},Be=>{var et;const ut=!!(Be!=null&&Be[Re]);te(Re,{status:ut?"error":"",message:(et=Be==null?void 0:Be[Re].message)!=null?et:""});const dt=ut?{label:e.label,field:n.value,value:Be[Re].value,type:Be[Re].type,isRequiredError:!!Be[Re].requiredError,message:Be[Re].message}:void 0;ke(dt)})})},ee=O(()=>[].concat(e.validateTrigger)),ue=O(()=>ee.value.reduce((Q,Oe)=>{switch(Oe){case"change":return Q.onChange=()=>{J()},Q;case"input":return Q.onInput=()=>{Un(()=>{J()})},Q;case"focus":return Q.onFocus=()=>{J()},Q;case"blur":return Q.onBlur=()=>{J()},Q;default:return Q}},{}));Ln(TC,ft({eventHandlers:ue,size:i&&Os(i,"size"),disabled:G,error:F,feedback:Y,updateValidateState:te}));const oe=()=>{n.value&&te(n.value,{status:"",message:""})},q=ft({field:n,disabled:G,error:F,validate:J,clearValidate:oe,resetField:()=>{oe(),M.value=!0,i!=null&&i.model&&n.value&&xb(i.model,n.value,T),Un(()=>{M.value=!1})},setField:Q=>{var Oe,Re;n.value&&(M.value=!0,"value"in Q&&(i!=null&&i.model)&&n.value&&xb(i.model,n.value,Q.value),(Q.status||Q.message)&&te(n.value,{status:(Oe=Q.status)!=null?Oe:"",message:(Re=Q.message)!=null?Re:""}),Un(()=>{M.value=!1}))}});fn(()=>{var Q;q.field&&((Q=i.addField)==null||Q.call(i,q))}),wr(()=>{var Q;q.field&&((Q=i.removeField)==null||Q.call(i,q))});const z=O(()=>[o,`${o}-layout-${i.layout}`,{[`${o}-error`]:F.value,[`${o}-status-${j.value}`]:!!j.value},e.rowClass]),ne=O(()=>[`${o}-label-col`,{[`${o}-label-col-left`]:i.labelAlign==="left",[`${o}-label-col-flex`]:i.autoLabelWidth||e.labelColFlex}]),ge=O(()=>[`${o}-wrapper-col`,{[`${o}-wrapper-col-flex`]:!p.value}]);return{prefixCls:o,cls:z,isRequired:D,isError:F,finalMessage:L,mergedLabelCol:h,mergedWrapperCol:p,labelColCls:ne,autoLabelWidth:l,layout:u,mergedLabelStyle:m,wrapperColCls:ge,mergedWrapperStyle:$}}});function MH(e,o,n,i,l,u){var a;const h=Pe("FormItemLabel"),p=Pe("ArcoCol"),m=Pe("FormItemMessage"),$=Pe("ArcoRow");return e.noStyle?Ue(e.$slots,"default",{key:0}):(W(),Ze($,lt({key:1,class:[e.cls,{[`${e.prefixCls}-has-help`]:!!((a=e.$slots.help)!=null?a:e.help)}],wrap:!(e.labelColFlex||e.autoLabelWidth),div:e.layout!=="horizontal"||e.hideLabel},e.rowProps),{default:Je(()=>[e.hideLabel?We("v-if",!0):(W(),Ze(p,lt({key:0,class:e.labelColCls,style:e.mergedLabelStyle},e.mergedLabelCol),{default:Je(()=>[_(h,{required:e.hideAsterisk?!1:e.isRequired,"show-colon":e.showColon,"asterisk-position":e.asteriskPosition,component:e.labelComponent,attrs:e.labelAttrs,tooltip:e.tooltip},{default:Je(()=>[e.$slots.label||e.label?Ue(e.$slots,"label",{key:0},()=>[Dt(Mt(e.label),1)]):We("v-if",!0)]),_:3},8,["required","show-colon","asterisk-position","component","attrs","tooltip"])]),_:3},16,["class","style"])),_(p,lt({class:e.wrapperColCls,style:e.mergedWrapperStyle},e.mergedWrapperCol),{default:Je(()=>[De("div",{class:Z(`${e.prefixCls}-content-wrapper`)},[De("div",{class:Z([`${e.prefixCls}-content`,{[`${e.prefixCls}-content-flex`]:e.contentFlex},e.contentClass])},[Ue(e.$slots,"default")],2)],2),e.isError||e.$slots.help||e.help?(W(),Ze(m,{key:0,error:e.finalMessage,help:e.help},Oo({_:2},[e.$slots.help?{name:"help",fn:Je(()=>[Ue(e.$slots,"help")])}:void 0]),1032,["error","help"])):We("v-if",!0),e.$slots.extra||e.extra?(W(),fe("div",{key:1,class:Z(`${e.prefixCls}-extra`)},[Ue(e.$slots,"extra",{},()=>[Dt(Mt(e.extra),1)])],2)):We("v-if",!0)]),_:3},16,["class","style"])]),_:3},16,["class","wrap","div"]))}var eb=ot(LH,[["render",MH]]);const PH=Object.assign(wy,{Item:eb,install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+wy.name,wy),e.component(n+eb.name,eb)}}),DH=Ae({name:"Icon",props:{type:String,size:[Number,String],rotate:Number,spin:Boolean},setup(e){const o=Ge("icon"),n=O(()=>{const l={};return e.size&&(l.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(l.transform=`rotate(${e.rotate}deg)`),l});return{cls:O(()=>[o,{[`${o}-loading`]:e.spin},e.type]),innerStyle:n}}});function xH(e,o,n,i,l,u){return W(),fe("svg",{class:Z(e.cls),style:yt(e.innerStyle),fill:"currentColor"},[Ue(e.$slots,"default")],6)}var tb=ot(DH,[["render",xH]]);function BH(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!vo(e)}const Ek=[],FH=e=>{const{src:o,extraProps:n={}}=e;if(!sv&&(o!=null&&o.length)&&!Ek.includes(o)){const i=document.createElement("script");i.setAttribute("src",o),i.setAttribute("data-namespace",o),Ek.push(o),document.body.appendChild(i)}return Ae({name:"IconFont",props:{type:String,size:[Number,String],rotate:Number,spin:Boolean},setup(i,{slots:l}){return()=>{var u;const a=i.type?_("use",{"xlink:href":`#${i.type}`},null):(u=l.default)==null?void 0:u.call(l);return _(tb,lt(i,n),BH(a)?a:{default:()=>[a]})}}})},VH=Object.assign(tb,{addFromIconFontCn:FH,install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+tb.name,tb)}}),UH=Ae({name:"ImageFooter",props:{title:{type:String},description:{type:String}},setup(){return{prefixCls:Ge("image-footer")}}}),HH=["title"],GH=["title"];function zH(e,o,n,i,l,u){return W(),fe("div",{class:Z(e.prefixCls)},[e.title||e.description?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-caption`)},[e.title?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-caption-title`),title:e.title},Mt(e.title),11,HH)):We("v-if",!0),e.description?(W(),fe("div",{key:1,class:Z(`${e.prefixCls}-caption-description`),title:e.description},Mt(e.description),11,GH)):We("v-if",!0)],2)):We("v-if",!0),e.$slots.extra?(W(),fe("div",{key:1,class:Z(`${e.prefixCls}-extra`)},[Ue(e.$slots,"extra")],2)):We("v-if",!0)],2)}var WH=ot(UH,[["render",zH]]);const jH=Ae({name:"ImagePreviewArrow",components:{IconLeft:Hu,IconRight:Bl},props:{onPrev:{type:Function},onNext:{type:Function}},setup(){return{prefixCls:Ge("image-preview-arrow")}}});function XH(e,o,n,i,l,u){const a=Pe("icon-left"),h=Pe("icon-right");return W(),fe("div",{class:Z(e.prefixCls)},[De("div",{class:Z([`${e.prefixCls}-left`,{[`${e.prefixCls}-disabled`]:!e.onPrev}]),onClick:o[0]||(o[0]=p=>{p.preventDefault(),e.onPrev&&e.onPrev()})},[_(a)],2),De("div",{class:Z([`${e.prefixCls}-right`,{[`${e.prefixCls}-disabled`]:!e.onNext}]),onClick:o[1]||(o[1]=p=>{p.preventDefault(),e.onNext&&e.onNext()})},[_(h)],2)],2)}var KH=ot(jH,[["render",XH]]);function YH(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!vo(e)}var zb=Ae({name:"ImagePreviewAction",components:{Tooltip:el},inheritAttrs:!1,props:{name:{type:String},disabled:{type:Boolean}},setup(e,{slots:o,attrs:n}){const i=Ge("image-preview-toolbar-action");return()=>{var l;const{name:u,disabled:a}=e,h=(l=o.default)==null?void 0:l.call(o);if(!h||!h.length)return null;const p=_("div",lt({class:[`${i}`,{[`${i}-disabled`]:a}],onMousedown:m=>{m.preventDefault()}},n),[_("span",{class:`${i}-content`},[h])]);return u?_(el,{class:`${i}-tooltip`,content:u},YH(p)?p:{default:()=>[p]}):p}}}),QH=Ae({name:"ImagePreviewToolbar",components:{RenderFunction:Gu,PreviewAction:zb},props:{actions:{type:Array,default:()=>[]},actionsLayout:{type:Array,default:()=>[]}},setup(e){const{actions:o,actionsLayout:n}=mt(e),i=Ge("image-preview-toolbar"),l=O(()=>{const u=new Set(n.value),a=p=>u.has(p.key);return o.value.filter(a).sort((p,m)=>{const $=n.value.indexOf(p.key),T=n.value.indexOf(m.key);return $>T?1:-1})});return{prefixCls:i,resultActions:l}}});function qH(e,o,n,i,l,u){const a=Pe("RenderFunction"),h=Pe("PreviewAction");return W(),fe("div",{class:Z(e.prefixCls)},[(W(!0),fe(Lt,null,Ko(e.resultActions,p=>(W(),Ze(h,{key:p.key,name:p.name,disabled:p.disabled,onClick:p.onClick},{default:Je(()=>[_(a,{"render-func":p.content},null,8,["render-func"])]),_:2},1032,["name","disabled","onClick"]))),128)),Ue(e.$slots,"default")],2)}var ZH=ot(QH,[["render",qH]]);function aL(e){const o=ve(e||"beforeLoad"),n=O(()=>o.value==="beforeLoad"),i=O(()=>o.value==="loading"),l=O(()=>o.value==="error"),u=O(()=>o.value==="loaded");return{status:o,isBeforeLoad:n,isLoading:i,isError:l,isLoaded:u,setLoadStatus:a=>{o.value=a}}}function JH(e,o,n,i,l){let u=n,a=i;return n&&(e.width>o.width?u=0:(o.left>e.left&&(u-=Math.abs(e.left-o.left)/l),o.right<e.right&&(u+=Math.abs(e.right-o.right)/l))),i&&(e.height>o.height?a=0:(o.top>e.top&&(a-=Math.abs(e.top-o.top)/l),o.bottom<e.bottom&&(a+=Math.abs(e.bottom-o.bottom)/l))),[u,a]}function eG(e){const{wrapperEl:o,imageEl:n,scale:i}=mt(e),l=ve([0,0]),u=ve(!1);let a=0,h=0,p=[0,0];const m=()=>{if(!o.value||!n.value)return;const R=o.value.getBoundingClientRect(),L=n.value.getBoundingClientRect(),[M,B]=JH(R,L,l.value[0],l.value[1],i.value);(M!==l.value[0]||B!==l.value[1])&&(l.value=[M,B])},$=R=>{R.preventDefault&&R.preventDefault();const L=p[0]+(R.pageX-a)/i.value,M=p[1]+(R.pageY-h)/i.value;l.value=[L,M]},T=R=>{R.preventDefault&&R.preventDefault(),u.value=!1,m(),A()},w=R=>{R.target===R.currentTarget&&(R.preventDefault&&R.preventDefault(),u.value=!0,a=R.pageX,h=R.pageY,p=[...l.value],Jn(window,"mousemove",$,!1),Jn(window,"mouseup",T,!1))};function A(){$o(window,"mousemove",$,!1),$o(window,"mouseup",T,!1)}return Cr(R=>{n.value&&Jn(n.value,"mousedown",w),R(()=>{n.value&&$o(n.value,"mousedown",w),A()})}),At([i],()=>{Un(()=>m())}),{translate:l,moving:u,resetTranslate(){l.value=[0,0]}}}const tG=Ae({name:"IconZoomOut",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-zoom-out`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),nG=["stroke-width","stroke-linecap","stroke-linejoin"],oG=De("path",{d:"M32.607 32.607A14.953 14.953 0 0 0 37 22c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15 4.142 0 7.892-1.679 10.607-4.393Zm0 0L41.5 41.5M29 22H15"},null,-1),rG=[oG];function iG(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},rG,14,nG)}var My=ot(tG,[["render",iG]]);const sG=Object.assign(My,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+My.name,My)}}),lG=Ae({name:"IconZoomIn",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-zoom-in`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),aG=["stroke-width","stroke-linecap","stroke-linejoin"],uG=De("path",{d:"M32.607 32.607A14.953 14.953 0 0 0 37 22c0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15 4.142 0 7.892-1.679 10.607-4.393Zm0 0L41.5 41.5M29 22H15m7 7V15"},null,-1),cG=[uG];function dG(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},cG,14,aG)}var Py=ot(lG,[["render",dG]]);const hG=Object.assign(Py,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+Py.name,Py)}}),pG=Ae({name:"IconFullscreen",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-fullscreen`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),fG=["stroke-width","stroke-linecap","stroke-linejoin"],gG=De("path",{d:"M42 17V9a1 1 0 0 0-1-1h-8M6 17V9a1 1 0 0 1 1-1h8m27 23v8a1 1 0 0 1-1 1h-8M6 31v8a1 1 0 0 0 1 1h8"},null,-1),mG=[gG];function $G(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},mG,14,fG)}var Dy=ot(pG,[["render",$G]]);const vG=Object.assign(Dy,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+Dy.name,Dy)}}),_G=Ae({name:"IconRotateLeft",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-rotate-left`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),bG=["stroke-width","stroke-linecap","stroke-linejoin"],TG=De("path",{d:"M10 22a1 1 0 0 1 1-1h20a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H11a1 1 0 0 1-1-1V22ZM23 11h11a6 6 0 0 1 6 6v6M22.5 12.893 19.587 11 22.5 9.107v3.786Z"},null,-1),yG=[TG];function EG(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},yG,14,bG)}var xy=ot(_G,[["render",EG]]);const CG=Object.assign(xy,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+xy.name,xy)}}),IG=Ae({name:"IconRotateRight",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-rotate-right`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),SG=["stroke-width","stroke-linecap","stroke-linejoin"],OG=De("path",{d:"M38 22a1 1 0 0 0-1-1H17a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h20a1 1 0 0 0 1-1V22ZM25 11H14a6 6 0 0 0-6 6v6M25.5 12.893 28.413 11 25.5 9.107v3.786Z"},null,-1),kG=[OG];function wG(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},kG,14,SG)}var By=ot(IG,[["render",wG]]);const NG=Object.assign(By,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+By.name,By)}}),AG=Ae({name:"IconOriginalSize",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-original-size`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),RG=["stroke-width","stroke-linecap","stroke-linejoin"],LG=De("path",{d:"m5.5 11.5 5-2.5h1v32M34 11.5 39 9h1v32"},null,-1),MG=De("path",{d:"M24 17h1v1h-1v-1ZM24 30h1v1h-1v-1Z",fill:"currentColor",stroke:"none"},null,-1),PG=De("path",{d:"M24 17h1v1h-1v-1ZM24 30h1v1h-1v-1Z"},null,-1),DG=[LG,MG,PG];function xG(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},DG,14,RG)}var Fy=ot(AG,[["render",xG]]);const BG=Object.assign(Fy,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+Fy.name,Fy)}});function FG(e){const{container:o,hidden:n}=mt(e);let i=!1,l={};const u=p=>p.tagName==="BODY"?window.innerWidth-(document.body.clientWidth||document.documentElement.clientWidth):p.offsetWidth-p.clientWidth,a=()=>{if(o.value&&o.value.style.overflow!=="hidden"){const p=o.value.style;i=!0;const m=u(o.value);m&&(l.width=p.width,o.value.style.width=`calc(${o.value.style.width||"100%"} - ${m}px)`),l.overflow=p.overflow,o.value.style.overflow="hidden"}},h=()=>{if(o.value&&i){const p=l;Object.keys(p).forEach(m=>{o.value.style[m]=p[m]})}i=!1,l={}};return Cr(p=>{n.value?a():h(),p(()=>{h()})}),[h,a]}function VG(e,o){const{popupContainer:n}=mt(o);return O(()=>(ir(n.value)?GA(n.value):n.value)||e)}const Rl=[25,33,50,67,75,80,90,100,110,125,150,175,200,250,300,400,500].map(e=>+(e/100).toFixed(2)),UG=Rl[0],HG=Rl[Rl.length-1];function Ck(e=1,o="zoomIn"){let n=Rl.indexOf(e);return n===-1&&(n=GG(e)),o==="zoomIn"?n===Rl.length-1?e:Rl[n+1]:n===0?e:Rl[n-1]}function GG(e){let o=Rl.length-1;for(let n=0;n<Rl.length;n++){const i=Rl[n];if(e===i){o=n;break}if(e<i){const l=Rl[n-1];o=l===void 0||Math.abs(l-e)<=Math.abs(i-e)?n-1:n;break}}return o}var zG=Object.defineProperty,Ik=Object.getOwnPropertySymbols,WG=Object.prototype.hasOwnProperty,jG=Object.prototype.propertyIsEnumerable,Sk=(e,o,n)=>o in e?zG(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,XG=(e,o)=>{for(var n in o||(o={}))WG.call(o,n)&&Sk(e,n,o[n]);if(Ik)for(var n of Ik(o))jG.call(o,n)&&Sk(e,n,o[n]);return e};const Vy=90;var KG=Ae({name:"ImagePreview",components:{PreviewArrow:KH,PreviewToolbar:ZH,IconLoading:gi,IconClose:zr},props:{renderToBody:{type:Boolean,default:!0},src:{type:String},visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!1},maskClosable:{type:Boolean,default:!0},closable:{type:Boolean,default:!0},actionsLayout:{type:Array,default:()=>["fullScreen","rotateRight","rotateLeft","zoomIn","zoomOut","originalSize"]},popupContainer:{type:[Object,String]},inGroup:{type:Boolean,default:!1},groupArrowProps:{type:Object,default:()=>({})}},emits:["close","update:visible"],setup(e,{emit:o}){const{t:n}=Lo(),{src:i,popupContainer:l,visible:u,defaultVisible:a,maskClosable:h}=mt(e),p=ve(),m=ve(),$=Ge("image-preview"),[T,w]=kr(a.value,ft({value:u})),A=O(()=>[$,{[`${$}-hide`]:!T.value}]),R=VG(document.body,ft({popupContainer:l})),L=O(()=>R.value===document.body),{zIndex:M}=gg("dialog",{visible:T}),B=O(()=>{const z=L.value?{zIndex:M.value,position:"fixed"}:{zIndex:"inherit",position:"absolute"};return XG({},z)}),{isLoading:G,isLoaded:j,setLoadStatus:F}=aL(),x=ve(0),D=ve(1),{translate:U,moving:te,resetTranslate:Y}=eG(ft({wrapperEl:p,imageEl:m,visible:T,scale:D})),J=ve(!1);let ee=null;const ue=()=>{!J.value&&(J.value=!0),ee&&clearTimeout(ee),ee=setTimeout(()=>{J.value=!1},1e3)};FG(ft({container:R,hidden:T}));function oe(){x.value=0,D.value=1,Y()}At([i,T],()=>{T.value&&(oe(),F("loading"))});function X(){T.value&&(o("close"),o("update:visible",!1),w(!1))}function K(z){h.value&&z.target===z.currentTarget&&X()}function q(z){D.value!==z&&(D.value=z,ue())}return{prefixCls:$,classNames:A,container:R,wrapperStyles:B,scale:D,translate:U,rotate:x,moving:te,mergedVisible:T,isLoading:G,isLoaded:j,scaleValueVisible:J,refWrapper:p,refImage:m,onMaskClick:K,onCloseClick:X,onImgLoad(){F("loaded")},onImgError(){F("error")},actions:O(()=>[{key:"fullScreen",name:n("imagePreview.fullScreen"),content:()=>pi(vG),onClick:()=>{const z=p.value.getBoundingClientRect(),ne=m.value.getBoundingClientRect(),ge=z.height/(ne.height/D.value),Q=z.width/(ne.width/D.value),Oe=Math.max(ge,Q);q(Oe)}},{key:"rotateRight",name:n("imagePreview.rotateRight"),content:()=>pi(NG),onClick:()=>{x.value=(x.value+Vy)%360}},{key:"rotateLeft",name:n("imagePreview.rotateLeft"),content:()=>pi(CG),onClick:()=>{x.value=x.value===0?360-Vy:x.value-Vy}},{key:"zoomIn",name:n("imagePreview.zoomIn"),content:()=>pi(hG),onClick:()=>{const z=Ck(D.value,"zoomIn");q(z)},disabled:D.value===HG},{key:"zoomOut",name:n("imagePreview.zoomOut"),content:()=>pi(sG),onClick:()=>{const z=Ck(D.value,"zoomOut");q(z)},disabled:D.value===UG},{key:"originalSize",name:n("imagePreview.originalSize"),content:()=>pi(BG),onClick:()=>{q(1)}}])}}});const YG=["src"];function QG(e,o,n,i,l,u){const a=Pe("IconLoading"),h=Pe("PreviewToolbar"),p=Pe("IconClose"),m=Pe("PreviewArrow");return W(),Ze(i1,{to:e.container,disabled:!e.renderToBody},[De("div",{class:Z(e.classNames),style:yt(e.wrapperStyles)},[_(Hr,{name:"image-fade",onBeforeEnter:o[0]||(o[0]=$=>{$.parentNode.style.display="block"}),onAfterLeave:o[1]||(o[1]=$=>{$.parentNode.style.display=""})},{default:Je(()=>[Qs(De("div",{class:Z(`${e.prefixCls}-mask`)},null,2),[[Zs,e.mergedVisible]])]),_:1}),e.mergedVisible?(W(),fe("div",{key:0,ref:"refWrapper",class:Z(`${e.prefixCls}-wrapper`),onClick:o[6]||(o[6]=(...$)=>e.onMaskClick&&e.onMaskClick(...$))},[We(" img "),De("div",{class:Z(`${e.prefixCls}-img-container`),style:yt({transform:`scale(${e.scale}, ${e.scale})`}),onClick:o[4]||(o[4]=(...$)=>e.onMaskClick&&e.onMaskClick(...$))},[(W(),fe("img",{ref:"refImage",key:e.src,src:e.src,class:Z([`${e.prefixCls}-img`,{[`${e.prefixCls}-img-moving`]:e.moving}]),style:yt({transform:`translate(${e.translate[0]}px, ${e.translate[1]}px) rotate(${e.rotate}deg)`}),onLoad:o[2]||(o[2]=(...$)=>e.onImgLoad&&e.onImgLoad(...$)),onError:o[3]||(o[3]=(...$)=>e.onImgError&&e.onImgError(...$))},null,46,YG))],6),We(" loading "),e.isLoading?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-loading`)},[_(a)],2)):We("v-if",!0),We(" scale value "),_(Hr,{name:"image-fade"},{default:Je(()=>[e.scaleValueVisible?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-scale-value`)},Mt((e.scale*100).toFixed(0))+"% ",3)):We("v-if",!0)]),_:1}),We(" toolbar "),e.isLoaded&&e.actionsLayout.length?(W(),Ze(h,{key:1,actions:e.actions,"actions-layout":e.actionsLayout},{default:Je(()=>[Ue(e.$slots,"actions")]),_:3},8,["actions","actions-layout"])):We("v-if",!0),We(" close btn "),e.closable?(W(),fe("div",{key:2,class:Z(`${e.prefixCls}-close-btn`),onClick:o[5]||(o[5]=(...$)=>e.onCloseClick&&e.onCloseClick(...$))},[_(p)],2)):We("v-if",!0),We(" group arrow "),e.inGroup?(W(),Ze(m,ao(lt({key:3},e.groupArrowProps)),null,16)):We("v-if",!0)],2)):We("v-if",!0)],6)],8,["to","disabled"])}var Jf=ot(KG,[["render",QG]]);function Ok(e){if(Gt(e))return;if(!_t(e)&&/^\d+(%)$/.test(e))return e;const o=parseInt(e,10);return _t(o)?`${o}px`:void 0}const uL=Symbol("PreviewGroupInjectionKey");var qG=Object.defineProperty,kk=Object.getOwnPropertySymbols,ZG=Object.prototype.hasOwnProperty,JG=Object.prototype.propertyIsEnumerable,wk=(e,o,n)=>o in e?qG(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,Nk=(e,o)=>{for(var n in o||(o={}))ZG.call(o,n)&&wk(e,n,o[n]);if(kk)for(var n of kk(o))JG.call(o,n)&&wk(e,n,o[n]);return e};let ez=0;const tz=Ae({name:"Image",components:{IconImageClose:AI,IconLoading:gi,ImageFooter:WH,ImagePreview:Jf},inheritAttrs:!1,props:{renderToBody:{type:Boolean,default:!0},src:{type:String},width:{type:[String,Number]},height:{type:[String,Number]},title:{type:String},description:{type:String},fit:{type:String},alt:{type:String},hideFooter:{type:[Boolean,String],default:!1},footerPosition:{type:String,default:"inner"},showLoader:{type:Boolean,default:!1},preview:{type:Boolean,default:!0},previewVisible:{type:Boolean,default:void 0},defaultPreviewVisible:{type:Boolean,default:!1},previewProps:{type:Object},footerClass:{type:[String,Array,Object]}},emits:["preview-visible-change","update:previewVisible"],setup(e,{attrs:o,slots:n,emit:i}){const{t:l}=Lo(),{height:u,width:a,hideFooter:h,title:p,description:m,src:$,footerPosition:T,defaultPreviewVisible:w,previewVisible:A,preview:R,previewProps:L}=mt(e),M=on(uL,void 0),B=Ge("image"),G=ve(),{isLoaded:j,isError:F,isLoading:x,setLoadStatus:D}=aL(),U=O(()=>({width:Ok(a==null?void 0:a.value),height:Ok(u==null?void 0:u.value)})),te=O(()=>e.fit?{objectFit:e.fit}:{}),Y=O(()=>[`${B}`,{[`${B}-loading`]:x.value,[`${B}-loading-error`]:F.value,[`${B}-with-footer-inner`]:j&&ee&&T.value==="inner",[`${B}-with-footer-outer`]:j&&ee&&T.value==="outer"},o.class]),J=O(()=>[U.value,o.style]),ee=O(()=>p!=null&&p.value||m!=null&&m.value||n.extra?ks(h.value)?!h.value&&j.value:h.value==="never":!1),ue=O(()=>Sr(o,["class","style"])),[oe,X]=kr(w.value,ft({value:A})),K=O(()=>!(M!=null&&M.preview)&&R.value);Cr(()=>{sv||!G.value||(G.value.src=$==null?void 0:$.value,D("loading"))});const q=ez++;Cr(Oe=>{var Re,_e,se;const ke=(se=M==null?void 0:M.registerImageUrl)==null?void 0:se.call(M,q,((_e=(Re=L==null?void 0:L.value)==null?void 0:Re.src)!=null?_e:$==null?void 0:$.value)||"",R.value);Oe(()=>{ke==null||ke()})});function z(){D("loaded")}function ne(){D("error")}function ge(){R.value&&(M!=null&&M.preview?M.preview(q):(i("preview-visible-change",!0),X(!0)))}function Q(){i("preview-visible-change",!1),X(!1)}return{t:l,refImg:G,prefixCls:B,wrapperClassNames:Y,wrapperStyles:J,showFooter:ee,imgProps:ue,imgStyle:U,isLoaded:j,isError:F,isLoading:x,mergedPreviewVisible:oe,mergePreview:K,onImgLoaded:z,onImgLoadError:ne,onImgClick:ge,onPreviewClose:Q,fitStyle:te}}}),nz=["title","alt"];function oz(e,o,n,i,l,u){const a=Pe("IconImageClose"),h=Pe("IconLoading"),p=Pe("ImageFooter"),m=Pe("ImagePreview");return W(),fe("div",{class:Z(e.wrapperClassNames),style:yt(e.wrapperStyles)},[De("img",lt({ref:"refImg",class:`${e.prefixCls}-img`},e.imgProps,{style:Nk(Nk({},e.imgStyle),e.fitStyle),title:e.title,alt:e.alt,onLoad:o[0]||(o[0]=(...$)=>e.onImgLoaded&&e.onImgLoaded(...$)),onError:o[1]||(o[1]=(...$)=>e.onImgLoadError&&e.onImgLoadError(...$)),onClick:o[2]||(o[2]=(...$)=>e.onImgClick&&e.onImgClick(...$))}),null,16,nz),e.isLoaded?We("v-if",!0):(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-overlay`)},[e.isError?Ue(e.$slots,"error",{key:0},()=>[De("div",{class:Z(`${e.prefixCls}-error`)},[De("div",{class:Z(`${e.prefixCls}-error-icon`)},[Ue(e.$slots,"error-icon",{},()=>[_(a)])],2),e.alt||e.description?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-error-alt`)},Mt(e.alt||e.description),3)):We("v-if",!0)],2)]):We("v-if",!0),e.isLoading&&(e.showLoader||e.$slots.loader)?Ue(e.$slots,"loader",{key:1},()=>[De("div",{class:Z([`${e.prefixCls}-loader`])},[De("div",{class:Z(`${e.prefixCls}-loader-spin`)},[_(h),De("div",{class:Z(`${e.prefixCls}-loader-spin-text`)},Mt(e.t("image.loading")),3)],2)],2)]):We("v-if",!0)],2)),e.showFooter?(W(),Ze(p,{key:1,class:Z(e.footerClass),"prefix-cls":e.prefixCls,title:e.title,description:e.description},Oo({_:2},[e.$slots.extra?{name:"extra",fn:Je(()=>[Ue(e.$slots,"extra")])}:void 0]),1032,["class","prefix-cls","title","description"])):We("v-if",!0),e.isLoaded&&e.mergePreview?(W(),Ze(m,lt({key:2,src:e.src},e.previewProps,{visible:e.mergedPreviewVisible,"render-to-body":e.renderToBody,onClose:e.onPreviewClose}),{actions:Je(()=>[Ue(e.$slots,"preview-actions")]),_:3},16,["src","visible","render-to-body","onClose"])):We("v-if",!0)],6)}var Uy=ot(tz,[["render",oz]]),rz=Ae({name:"ImagePreviewGroup",components:{ImagePreview:Jf},inheritAttrs:!1,props:{renderToBody:{type:Boolean,default:!0},srcList:{type:Array},current:{type:Number},defaultCurrent:{type:Number,default:0},infinite:{type:Boolean,default:!1},visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!1},maskClosable:{type:Boolean,default:!0},closable:{type:Boolean,default:!0},actionsLayout:{type:Array,default:()=>["fullScreen","rotateRight","rotateLeft","zoomIn","zoomOut","originalSize"]},popupContainer:{type:[Object,String]}},emits:["change","update:current","visible-change","update:visible"],setup(e,{emit:o}){const{srcList:n,visible:i,defaultVisible:l,current:u,defaultCurrent:a,infinite:h}=mt(e),[p,m]=kr(l.value,ft({value:i})),$=J=>{J!==p.value&&(o("visible-change",J),o("update:visible",J),m(J))},T=O(()=>new Map(nn(n==null?void 0:n.value)?n==null?void 0:n.value.map((J,ee)=>[ee,{url:J,canPreview:!0}]):[])),w=ve(new Map(T.value||[])),A=O(()=>Array.from(w.value.keys())),R=O(()=>A.value.length);function L(J,ee,ue){return T.value.has(J)||w.value.set(J,{url:ee,canPreview:ue}),function(){T.value.has(J)||w.value.delete(J)}}At(T,()=>{w.value=new Map(T.value||[])});const[M,B]=kr(a.value,ft({value:u})),G=J=>{J!==M.value&&(o("change",J),o("update:current",J),B(J))},j=O(()=>A.value[M.value]),F=J=>{const ee=A.value.indexOf(J);ee!==M.value&&G(ee)},x=O(()=>{var J;return(J=w.value.get(j.value))==null?void 0:J.url});Ln(uL,ft({registerImageUrl:L,preview:J=>{$(!0),F(J)}}));const D=O(()=>{const J=(ue,oe)=>{var X;for(let K=ue;K<=oe;K++){const q=A.value[K];if((X=w.value.get(q))!=null&&X.canPreview)return K}},ee=J(M.value+1,R.value-1);return Gt(ee)&&h.value?J(0,M.value-1):ee}),U=O(()=>{const J=(ue,oe)=>{var X;for(let K=ue;K>=oe;K--){const q=A.value[K];if((X=w.value.get(q))!=null&&X.canPreview)return K}},ee=J(M.value-1,0);return Gt(ee)&&h.value?J(R.value-1,M.value+1):ee}),te=O(()=>Gt(U.value)?void 0:()=>{!Gt(U.value)&&G(U.value)}),Y=O(()=>Gt(D.value)?void 0:()=>{!Gt(D.value)&&G(D.value)});return{mergedVisible:p,currentUrl:x,prevIndex:U,nextIndex:D,onClose(){$(!1)},groupArrowProps:ft({onPrev:te,onNext:Y})}}}),iz=Object.defineProperty,sz=Object.defineProperties,lz=Object.getOwnPropertyDescriptors,Ak=Object.getOwnPropertySymbols,az=Object.prototype.hasOwnProperty,uz=Object.prototype.propertyIsEnumerable,Rk=(e,o,n)=>o in e?iz(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,cz=(e,o)=>{for(var n in o||(o={}))az.call(o,n)&&Rk(e,n,o[n]);if(Ak)for(var n of Ak(o))uz.call(o,n)&&Rk(e,n,o[n]);return e},dz=(e,o)=>sz(e,lz(o));function hz(e,o,n,i,l,u){const a=Pe("ImagePreview");return W(),fe(Lt,null,[Ue(e.$slots,"default"),_(a,lt(dz(cz({},e.$attrs),{groupArrowProps:e.groupArrowProps}),{"in-group":"",src:e.currentUrl,visible:e.mergedVisible,"mask-closable":e.maskClosable,closable:e.closable,"actions-layout":e.actionsLayout,"popup-container":e.popupContainer,"render-to-body":e.renderToBody,onClose:e.onClose}),Oo({_:2},[e.$slots.actions?{name:"actions",fn:Je(()=>[Ue(e.$slots,"actions",{url:e.currentUrl})])}:void 0]),1040,["src","visible","mask-closable","closable","actions-layout","popup-container","render-to-body","onClose"])],64)}var F$=ot(rz,[["render",hz]]);const pz=Object.assign(Uy,{Preview:Jf,PreviewGroup:F$,install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+Uy.name,Uy),e.component(n+Jf.name,Jf),e.component(n+F$.name,F$),e.component(n+zb.name,zb)}});function YI(e,o){return o===void 0&&(o=15),+parseFloat(Number(e).toPrecision(o))}function Aa(e){var o=e.toString().split(/[eE]/),n=(o[0].split(".")[1]||"").length-+(o[1]||0);return n>0?n:0}function tv(e){if(e.toString().indexOf("e")===-1)return Number(e.toString().replace(".",""));var o=Aa(e);return o>0?YI(Number(e)*Math.pow(10,o)):Number(e)}function LC(e){dL&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&console.warn(e+" is beyond boundary when transfer to integer, the results may not be accurate")}function S1(e){return function(){for(var o=[],n=0;n<arguments.length;n++)o[n]=arguments[n];var i=o[0],l=o.slice(1);return l.reduce(function(u,a){return e(u,a)},i)}}var rd=S1(function(e,o){var n=tv(e),i=tv(o),l=Aa(e)+Aa(o),u=n*i;return LC(u),u/Math.pow(10,l)}),fz=S1(function(e,o){var n=Math.pow(10,Math.max(Aa(e),Aa(o)));return(rd(e,n)+rd(o,n))/n}),gz=S1(function(e,o){var n=Math.pow(10,Math.max(Aa(e),Aa(o)));return(rd(e,n)-rd(o,n))/n}),cL=S1(function(e,o){var n=tv(e),i=tv(o);return LC(n),LC(i),rd(n/i,YI(Math.pow(10,Aa(o)-Aa(e))))});function mz(e,o){var n=Math.pow(10,o),i=cL(Math.round(Math.abs(rd(e,n))),n);return e<0&&i!==0&&(i=rd(i,-1)),i}var dL=!0;function $z(e){e===void 0&&(e=!0),dL=e}var Pi={strip:YI,plus:fz,minus:gz,times:rd,divide:cL,round:mz,digitLength:Aa,float2Fixed:tv,enableBoundaryChecking:$z};const vz=Ae({name:"IconPlus",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-plus`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),_z=["stroke-width","stroke-linecap","stroke-linejoin"],bz=De("path",{d:"M5 24h38M24 5v38"},null,-1),Tz=[bz];function yz(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},Tz,14,_z)}var Hy=ot(vz,[["render",yz]]);const ag=Object.assign(Hy,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+Hy.name,Hy)}}),Ez=Ae({name:"IconMinus",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-minus`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),Cz=["stroke-width","stroke-linecap","stroke-linejoin"],Iz=De("path",{d:"M5 24h38"},null,-1),Sz=[Iz];function Oz(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},Sz,14,Cz)}var Gy=ot(Ez,[["render",Oz]]);const QI=Object.assign(Gy,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+Gy.name,Gy)}}),kz=150;Pi.enableBoundaryChecking(!1);var zy=Ae({name:"InputNumber",props:{modelValue:Number,defaultValue:Number,mode:{type:String,default:"embed"},precision:Number,step:{type:Number,default:1},disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},max:{type:Number,default:1/0},min:{type:Number,default:-1/0},formatter:{type:Function},parser:{type:Function},placeholder:String,hideButton:{type:Boolean,default:!1},size:{type:String},allowClear:{type:Boolean,default:!1},modelEvent:{type:String,default:"change"},readOnly:{type:Boolean,default:!1}},emits:{"update:modelValue":e=>!0,change:(e,o)=>!0,focus:e=>!0,blur:e=>!0,clear:e=>!0,input:(e,o,n)=>!0},setup(e,{emit:o,slots:n}){var i;const{size:l,disabled:u}=mt(e),a=Ge("input-number"),h=ve(),{mergedSize:p,mergedDisabled:m,eventHandlers:$}=Eo({size:l,disabled:u}),{mergedSize:T}=Wr(p),w=O(()=>{if(_t(e.precision)){const Q=`${e.step}`.split(".")[1],Oe=Q&&Q.length||0;return Math.max(Oe,e.precision)}}),A=Q=>{var Oe,Re;if(!_t(Q))return"";const _e=w.value?Q.toFixed(w.value):String(Q);return(Re=(Oe=e.formatter)==null?void 0:Oe.call(e,_e))!=null?Re:_e},R=ve(A((i=e.modelValue)!=null?i:e.defaultValue)),L=O(()=>{var Q,Oe;if(!R.value)return;const Re=Number((Oe=(Q=e.parser)==null?void 0:Q.call(e,R.value))!=null?Oe:R.value);return Number.isNaN(Re)?void 0:Re}),M=ve(_t(L.value)&&L.value<=e.min),B=ve(_t(L.value)&&L.value>=e.max);let G=0;const j=()=>{G&&(window.clearTimeout(G),G=0)},F=Q=>{if(!Gt(Q))return _t(e.min)&&Q<e.min&&(Q=e.min),_t(e.max)&&Q>e.max&&(Q=e.max),_t(w.value)?Pi.round(Q,w.value):Q},x=Q=>{let Oe=!1,Re=!1;_t(Q)&&(Q<=e.min&&(Oe=!0),Q>=e.max&&(Re=!0)),B.value!==Re&&(B.value=Re),M.value!==Oe&&(M.value=Oe)},D=()=>{const Q=F(L.value),Oe=A(Q);(Q!==L.value||R.value!==Oe)&&(R.value=Oe),o("update:modelValue",Q)};At(()=>e.min,Q=>{const Oe=_t(L.value)&&L.value<=Q;M.value!==Oe&&(M.value=Oe),_t(L.value)&&L.value<Q&&D()}),At(()=>e.max,Q=>{const Oe=_t(L.value)&&L.value>=Q;B.value!==Oe&&(B.value=Oe),_t(L.value)&&L.value>Q&&D()});const U=(Q,Oe)=>{if(m.value||Q==="plus"&&B.value||Q==="minus"&&M.value)return;let Re;_t(L.value)?Re=F(Pi[Q](L.value,e.step)):Re=e.min===-1/0?0:e.min,R.value=A(Re),x(Re),o("update:modelValue",Re),o("change",Re,Oe)},te=(Q,Oe,Re=!1)=>{var _e;Q.preventDefault(),(_e=h.value)==null||_e.focus(),U(Oe,Q),Re&&(G=window.setTimeout(()=>Q.target.dispatchEvent(Q),kz))},Y=(Q,Oe)=>{var Re,_e,se,ke;Q=Q.trim().replace(/。/g,"."),Q=(_e=(Re=e.parser)==null?void 0:Re.call(e,Q))!=null?_e:Q,(_t(Number(Q))||/^(\.|-)$/.test(Q))&&(R.value=(ke=(se=e.formatter)==null?void 0:se.call(e,Q))!=null?ke:Q,x(L.value),e.modelEvent==="input"&&o("update:modelValue",L.value),o("input",L.value,R.value,Oe))},J=Q=>{o("focus",Q)},ee=(Q,Oe)=>{const Re=F(L.value),_e=A(Re);(Re!==L.value||R.value!==_e)&&(R.value=_e,x(Re)),Un(()=>{_t(e.modelValue)&&e.modelValue!==Re&&(R.value=A(e.modelValue),x(e.modelValue))}),o("update:modelValue",Re),o("change",Re,Oe)},ue=Q=>{o("blur",Q)},oe=Q=>{var Oe,Re;R.value="",o("update:modelValue",void 0),o("change",void 0,Q),(Re=(Oe=$.value)==null?void 0:Oe.onChange)==null||Re.call(Oe,Q),o("clear",Q)},X=_1(new Map([[_r.ARROW_UP,Q=>{Q.preventDefault(),!e.readOnly&&U("plus",Q)}],[_r.ARROW_DOWN,Q=>{Q.preventDefault(),!e.readOnly&&U("minus",Q)}]]));At(()=>e.modelValue,Q=>{Q!==L.value&&(R.value=A(Q),x(Q))});const K=()=>{var Q,Oe,Re;return e.readOnly?null:_(Lt,null,[(Q=n.suffix)==null?void 0:Q.call(n),_("div",{class:`${a}-step`},[_("button",{class:[`${a}-step-button`,{[`${a}-step-button-disabled`]:m.value||B.value}],type:"button",tabindex:"-1",disabled:m.value||B.value,onMousedown:_e=>te(_e,"plus",!0),onMouseup:j,onMouseleave:j},[n.plus?(Oe=n.plus)==null?void 0:Oe.call(n):_(BI,null,null)]),_("button",{class:[`${a}-step-button`,{[`${a}-step-button-disabled`]:m.value||M.value}],type:"button",tabindex:"-1",disabled:m.value||M.value,onMousedown:_e=>te(_e,"minus",!0),onMouseup:j,onMouseleave:j},[n.minus?(Re=n.minus)==null?void 0:Re.call(n):_($g,null,null)])])])},q=O(()=>[a,`${a}-mode-${e.mode}`,`${a}-size-${T.value}`,{[`${a}-readonly`]:e.readOnly}]),z=()=>_(mi,{size:T.value,tabindex:"-1",class:`${a}-step-button`,disabled:m.value||M.value,onMousedown:Q=>te(Q,"minus",!0),onMouseup:j,onMouseleave:j},{icon:()=>_(QI,null,null)}),ne=()=>_(mi,{size:T.value,tabindex:"-1",class:`${a}-step-button`,disabled:m.value||B.value,onMousedown:Q=>te(Q,"plus",!0),onMouseup:j,onMouseleave:j},{icon:()=>_(ag,null,null)});return{inputRef:h,render:()=>{const Q=e.mode==="embed"?{prepend:n.prepend,prefix:n.prefix,suffix:e.hideButton?n.suffix:K,append:n.append}:{prepend:e.hideButton?n.prepend:z,prefix:n.prefix,suffix:n.suffix,append:e.hideButton?n.append:ne};return _(Xh,{key:`__arco__${e.mode}`,ref:h,class:q.value,type:"text",allowClear:e.allowClear,size:T.value,modelValue:R.value,placeholder:e.placeholder,disabled:m.value,readonly:e.readOnly,error:e.error,inputAttrs:{role:"spinbutton","aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":R.value},onInput:Y,onFocus:J,onBlur:ue,onClear:oe,onChange:ee,onKeydown:X},Q)}}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}});const qI=Object.assign(zy,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+zy.name,zy)}}),hL=Symbol("LayoutSiderInjectionKey"),pL=Symbol("SiderInjectionKey");var wz=Ae({name:"Layout",props:{hasSider:{type:Boolean}},setup(e){const o=ve([]),n=Ge("layout"),i=O(()=>[n,{[`${n}-has-sider`]:e.hasSider||o.value.length}]);return Ln(hL,{onSiderMount:l=>o.value.push(l),onSiderUnMount:l=>{o.value=o.value.filter(u=>u!==l)}}),{classNames:i}}});function Nz(e,o,n,i,l,u){return W(),fe("section",{class:Z(e.classNames)},[Ue(e.$slots,"default")],2)}var Wy=ot(wz,[["render",Nz]]);const Az=Ae({name:"LayoutHeader",setup(){return{classNames:[Ge("layout-header")]}}});function Rz(e,o,n,i,l,u){return W(),fe("header",{class:Z(e.classNames)},[Ue(e.$slots,"default")],2)}var nb=ot(Az,[["render",Rz]]);const Lz=Ae({name:"LayoutContent",setup(){return{classNames:[Ge("layout-content")]}}});function Mz(e,o,n,i,l,u){return W(),fe("main",{class:Z(e.classNames)},[Ue(e.$slots,"default")],2)}var ob=ot(Lz,[["render",Mz]]);const Pz=Ae({name:"LayoutFooter",setup(){return{classNames:[Ge("layout-footer")]}}});function Dz(e,o,n,i,l,u){return W(),fe("footer",{class:Z(e.classNames)},[Ue(e.$slots,"default")],2)}var rb=ot(Pz,[["render",Dz]]);const xz=Ae({name:"IconDragDot",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-drag-dot`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),Bz=["stroke-width","stroke-linecap","stroke-linejoin"],Fz=De("path",{d:"M40 17v2h-2v-2h2ZM25 17v2h-2v-2h2ZM10 17v2H8v-2h2ZM40 29v2h-2v-2h2ZM25 29v2h-2v-2h2ZM10 29v2H8v-2h2Z",fill:"currentColor",stroke:"none"},null,-1),Vz=De("path",{d:"M40 17v2h-2v-2h2ZM25 17v2h-2v-2h2ZM10 17v2H8v-2h2ZM40 29v2h-2v-2h2ZM25 29v2h-2v-2h2ZM10 29v2H8v-2h2Z"},null,-1),Uz=[Fz,Vz];function Hz(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},Uz,14,Bz)}var jy=ot(xz,[["render",Hz]]);const Gz=Object.assign(jy,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+jy.name,jy)}}),zz=Ae({name:"IconDragDotVertical",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-drag-dot-vertical`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),Wz=["stroke-width","stroke-linecap","stroke-linejoin"],jz=De("path",{d:"M17 8h2v2h-2V8ZM17 23h2v2h-2v-2ZM17 38h2v2h-2v-2ZM29 8h2v2h-2V8ZM29 23h2v2h-2v-2ZM29 38h2v2h-2v-2Z",fill:"currentColor",stroke:"none"},null,-1),Xz=De("path",{d:"M17 8h2v2h-2V8ZM17 23h2v2h-2v-2ZM17 38h2v2h-2v-2ZM29 8h2v2h-2V8ZM29 23h2v2h-2v-2ZM29 38h2v2h-2v-2Z"},null,-1),Kz=[jz,Xz];function Yz(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},Kz,14,Wz)}var Xy=ot(zz,[["render",Yz]]);const ZI=Object.assign(Xy,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+Xy.name,Xy)}});var Qz=Ae({name:"ResizeTrigger",components:{ResizeObserver:Pl,IconDragDot:Gz,IconDragDotVertical:ZI},props:{prefixCls:{type:String,required:!0},direction:{type:String,default:"horizontal"}},emits:["resize"],setup(e,{emit:o}){const{direction:n,prefixCls:i}=mt(e),l=O(()=>(n==null?void 0:n.value)==="horizontal");return{classNames:O(()=>[i.value,{[`${i.value}-horizontal`]:l.value,[`${i.value}-vertical`]:!l.value}]),onResize:h=>{o("resize",h)},isHorizontal:l}}});function qz(e,o,n,i,l,u){const a=Pe("IconDragDot"),h=Pe("IconDragDotVertical"),p=Pe("ResizeObserver");return W(),Ze(p,{onResize:e.onResize},{default:Je(()=>[De("div",{class:Z(e.classNames)},[We(" @slot 自定义内容 "),Ue(e.$slots,"default",{},()=>[De("div",{class:Z(`${e.prefixCls}-icon-wrapper`)},[We(" @slot 自定义 icon "),Ue(e.$slots,"icon",{},()=>[e.isHorizontal?(W(),Ze(a,{key:0,class:Z(`${e.prefixCls}-icon`)},null,8,["class"])):(W(),Ze(h,{key:1,class:Z(`${e.prefixCls}-icon`)},null,8,["class"]))])],2)])],2)]),_:3},8,["onResize"])}var fL=ot(Qz,[["render",qz]]),Zz=Object.defineProperty,Lk=Object.getOwnPropertySymbols,Jz=Object.prototype.hasOwnProperty,eW=Object.prototype.propertyIsEnumerable,Mk=(e,o,n)=>o in e?Zz(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,Ky=(e,o)=>{for(var n in o||(o={}))Jz.call(o,n)&&Mk(e,n,o[n]);if(Lk)for(var n of Lk(o))eW.call(o,n)&&Mk(e,n,o[n]);return e};const gL="left",mL="right",JI="top",eS="bottom",tW=[gL,mL,JI,eS];function Pk(e,o){if(e===0)return 0;const n=e-o;return n<=0?0:n}function Yy(e){return[JI,eS].indexOf(e)>-1}const nW=Ae({name:"ResizeBox",components:{ResizeTrigger:fL},inheritAttrs:!1,props:{width:{type:Number},height:{type:Number},component:{type:String,default:"div"},directions:{type:Array,default:()=>["right"]}},emits:{"update:width":e=>!0,"update:height":e=>!0,movingStart:e=>!0,moving:(e,o)=>!0,movingEnd:e=>!0},setup(e,{emit:o}){const{height:n,width:i,directions:l}=mt(e),[u,a]=kr(null,ft({value:i})),[h,p]=kr(null,ft({value:n})),m=ve(),$=ft({}),T=Ge("resizebox"),w=O(()=>[T]),A=O(()=>Ky(Ky(Ky({},_t(u.value)?{width:`${u.value}px`}:{}),_t(h.value)?{height:`${h.value}px`}:{}),$)),R=O(()=>l.value.filter(F=>tW.includes(F))),L={direction:"",startPageX:0,startPageY:0,startWidth:0,startHeight:0,moving:!1,padding:{left:0,right:0,top:0,bottom:0}};function M(F){if(!L.moving)return;const{startPageX:x,startPageY:D,startWidth:U,startHeight:te,direction:Y}=L;let J=U,ee=te;const ue=F.pageX-x,oe=F.pageY-D;switch(Y){case gL:J=U-ue,a(J),o("update:width",J);break;case mL:J=U+ue,a(J),o("update:width",J);break;case JI:ee=te-oe,p(ee),o("update:height",ee);break;case eS:ee=te+oe,p(ee),o("update:height",ee);break}o("moving",{width:J,height:ee},F)}function B(F){L.moving=!1,$o(window,"mousemove",M),$o(window,"mouseup",B),$o(window,"contextmenu",B),document.body.style.cursor="default",o("movingEnd",F)}function G(F,x){var D,U;o("movingStart",x),L.moving=!0,L.startPageX=x.pageX,L.startPageY=x.pageY,L.direction=F;const{top:te,left:Y,right:J,bottom:ee}=L.padding;L.startWidth=Pk(((D=m.value)==null?void 0:D.clientWidth)||0,Y+J),L.startHeight=Pk(((U=m.value)==null?void 0:U.clientHeight)||0,te+ee),Jn(window,"mousemove",M),Jn(window,"mouseup",B),Jn(window,"contextmenu",B),document.body.style.cursor=Yy(F)?"row-resize":"col-resize"}function j(F,x){const{width:D,height:U}=x.contentRect,te=Yy(F)?U:D;L.padding[F]=te,$[`padding-${F}`]=`${te}px`}return{prefixCls:T,classNames:w,styles:A,wrapperRef:m,onMoveStart:G,isHorizontal:Yy,allowDirections:R,onTiggerResize:j}}});function oW(e,o,n,i,l,u){const a=Pe("ResizeTrigger");return W(),Ze(ts(e.component),lt({ref:"wrapperRef",class:e.classNames},e.$attrs,{style:e.styles}),{default:Je(()=>[Ue(e.$slots,"default"),(W(!0),fe(Lt,null,Ko(e.allowDirections,h=>(W(),Ze(a,{key:h,"prefix-cls":`${e.prefixCls}-trigger`,class:Z(`${e.prefixCls}-direction-${h}`),direction:e.isHorizontal(h)?"horizontal":"vertical",onMousedown:p=>{e.onMoveStart(h,p)},onResize:p=>{e.onTiggerResize(h,p)}},Oo({default:Je(()=>[e.$slots["resize-trigger"]?Ue(e.$slots,"resize-trigger",{key:0,direction:h}):We("v-if",!0)]),_:2},[e.$slots["resize-trigger-icon"]?{name:"icon",fn:Je(()=>[Ue(e.$slots,"resize-trigger-icon",{direction:h})])}:void 0]),1032,["prefix-cls","class","direction","onMousedown","onResize"]))),128))]),_:3},16,["class","style"])}var Qy=ot(nW,[["render",oW]]);const $L=Object.assign(Qy,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+Qy.name,Qy)}});function vL(e,o){const n=O(()=>nr(e)?e.value:e);let i="";fn(()=>{i=Ub.subscribe((l,u)=>{n.value&&(!u||u===n.value)&&o(!!l[n.value])})}),Ir(()=>{i&&Ub.unsubscribe(i)})}const rW=(()=>{let e=0;return(o="")=>(e+=1,`${o}${e}`)})();var iW=Ae({name:"LayoutSider",components:{IconLeft:Hu,IconRight:Bl,ResizeBox:$L},props:{theme:{type:String,default:"light"},collapsed:{type:Boolean,default:void 0},defaultCollapsed:{type:Boolean},collapsible:{type:Boolean},width:{type:Number,default:200},collapsedWidth:{type:Number,default:48},reverseArrow:{type:Boolean},breakpoint:{type:String},resizeDirections:{type:Array,default:void 0},hideTrigger:{type:Boolean}},emits:["collapse","update:collapsed","breakpoint"],setup(e,{emit:o}){const{theme:n,collapsed:i,defaultCollapsed:l,collapsible:u,hideTrigger:a,breakpoint:h,collapsedWidth:p,resizeDirections:m}=mt(e),[$,T]=kr(l.value,ft({value:i})),w=O(()=>m.value?"ResizeBox":"div"),A=O(()=>u.value&&!a.value),R=Ge("layout-sider"),L=O(()=>[R,{[`${R}-light`]:n.value==="light",[`${R}-has-trigger`]:A.value,[`${R}-collapsed`]:i.value}]),M=O(()=>{const{width:x,collapsedWidth:D}=e,U=$.value?D:x;return _t(U)?`${U}px`:String(U)}),B=O(()=>[`${R}-trigger`,{[`${R}-trigger-light`]:n.value==="light"}]),G=()=>{const x=!$.value;T(x),o("update:collapsed",x),o("collapse",x,"clickTrigger")};vL(h,x=>{const D=!x;D!==$.value&&(T(D),o("update:collapsed",D),o("collapse",D,"responsive"),o("breakpoint",D))});const j=rW("__arco_layout_sider"),F=on(hL,void 0);return fn(()=>{var x;(x=F==null?void 0:F.onSiderMount)==null||x.call(F,j)}),Ir(()=>{var x;(x=F==null?void 0:F.onSiderUnMount)==null||x.call(F,j)}),Ln(pL,ft({theme:n,collapsed:$,collapsedWidth:p})),{componentTag:w,prefixCls:R,classNames:L,triggerClassNames:B,localCollapsed:$,siderWidth:M,showTrigger:A,toggleTrigger:G}}});const sW={key:0},lW={key:1};function aW(e,o,n,i,l,u){const a=Pe("IconLeft"),h=Pe("IconRight");return W(),Ze(ts(e.componentTag),lt({class:e.classNames,style:{width:e.siderWidth}},e.resizeDirections?{directions:e.resizeDirections}:{}),{default:Je(()=>[De("div",{class:Z(`${e.prefixCls}-children`)},[Ue(e.$slots,"default")],2),e.showTrigger?(W(),fe("div",{key:0,class:Z(e.triggerClassNames),style:yt({width:e.siderWidth}),onClick:o[0]||(o[0]=(...p)=>e.toggleTrigger&&e.toggleTrigger(...p))},[Ue(e.$slots,"trigger",{collapsed:e.localCollapsed},()=>[e.reverseArrow?(W(),fe("div",lW,[e.localCollapsed?(W(),Ze(a,{key:0})):(W(),Ze(h,{key:1}))])):(W(),fe("div",sW,[e.localCollapsed?(W(),Ze(h,{key:1})):(W(),Ze(a,{key:0}))]))])],6)):We("v-if",!0)]),_:3},16,["class","style"])}var ib=ot(iW,[["render",aW]]);const uW=Object.assign(Wy,{Header:nb,Content:ob,Footer:rb,Sider:ib,install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+Wy.name,Wy),e.component(n+nb.name,nb),e.component(n+ob.name,ob),e.component(n+rb.name,rb),e.component(n+ib.name,ib)}}),cW=Ae({name:"Pager",props:{pageNumber:{type:Number},current:{type:Number},disabled:{type:Boolean,default:!1},style:{type:Object},activeStyle:{type:Object}},emits:["click"],setup(e,{emit:o}){const n=Ge("pagination-item"),i=O(()=>e.current===e.pageNumber),l=h=>{e.disabled||o("click",e.pageNumber,h)},u=O(()=>[n,{[`${n}-active`]:i.value}]),a=O(()=>i.value?e.activeStyle:e.style);return{prefixCls:n,cls:u,mergedStyle:a,handleClick:l}}});function dW(e,o,n,i,l,u){return W(),fe("li",{class:Z(e.cls),style:yt(e.mergedStyle),onClick:o[0]||(o[0]=(...a)=>e.handleClick&&e.handleClick(...a))},[Ue(e.$slots,"default",{page:e.pageNumber},()=>[Dt(Mt(e.pageNumber),1)])],6)}var hW=ot(cW,[["render",dW]]);const _L=(e,{min:o,max:n})=>e<o?o:e>n?n:e,pW=Ae({name:"StepPager",components:{IconLeft:Hu,IconRight:Bl},props:{pages:{type:Number,required:!0},current:{type:Number,required:!0},type:{type:String,required:!0},disabled:{type:Boolean,default:!1},simple:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:o}){const n=Ge("pagination-item"),i=e.type==="next",l=O(()=>e.disabled?e.disabled:!e.pages||i&&e.current===e.pages?!0:!i&&e.current<=1),u=O(()=>_L(e.current+(i?1:-1),{min:1,max:e.pages})),a=p=>{l.value||o("click",u.value)},h=O(()=>[n,`${n}-${e.type}`,{[`${n}-disabled`]:l.value}]);return{prefixCls:n,cls:h,isNext:i,handleClick:a}}});function fW(e,o,n,i,l,u){const a=Pe("icon-right"),h=Pe("icon-left");return W(),Ze(ts(e.simple?"span":"li"),{class:Z(e.cls),onClick:e.handleClick},{default:Je(()=>[Ue(e.$slots,"default",{type:e.isNext?"next":"previous"},()=>[e.isNext?(W(),Ze(a,{key:0})):(W(),Ze(h,{key:1}))])]),_:3},8,["class","onClick"])}var Dk=ot(pW,[["render",fW]]);const gW=Ae({name:"EllipsisPager",components:{IconMore:LI},props:{current:{type:Number,required:!0},step:{type:Number,default:5},pages:{type:Number,required:!0}},emits:["click"],setup(e,{emit:o}){const n=Ge("pagination-item"),i=O(()=>_L(e.current+e.step,{min:1,max:e.pages})),l=a=>{o("click",i.value)},u=O(()=>[n,`${n}-ellipsis`]);return{prefixCls:n,cls:u,handleClick:l}}});function mW(e,o,n,i,l,u){const a=Pe("icon-more");return W(),fe("li",{class:Z(e.cls),onClick:o[0]||(o[0]=(...h)=>e.handleClick&&e.handleClick(...h))},[Ue(e.$slots,"default",{},()=>[_(a)])],2)}var $W=ot(gW,[["render",mW]]);const vW=Ae({name:"PageJumper",components:{InputNumber:qI},props:{current:{type:Number,required:!0},simple:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},pages:{type:Number,required:!0},size:{type:String},onChange:{type:Function}},emits:["change"],setup(e,{emit:o}){const n=Ge("pagination-jumper"),{t:i}=Lo(),l=ve(e.simple?e.current:void 0),u=p=>{const m=parseInt(p.toString(),10);return Number.isNaN(m)?void 0:String(m)},a=p=>{o("change",l.value),Un(()=>{e.simple||(l.value=void 0)})};At(()=>e.current,p=>{e.simple&&p!==l.value&&(l.value=p)});const h=O(()=>[n,{[`${n}-simple`]:e.simple}]);return{prefixCls:n,cls:h,t:i,inputValue:l,handleChange:a,handleFormatter:u}}});function _W(e,o,n,i,l,u){const a=Pe("input-number");return W(),fe("span",{class:Z(e.cls)},[e.simple?We("v-if",!0):(W(),fe("span",{key:0,class:Z([`${e.prefixCls}-prepend`,`${e.prefixCls}-text-goto`])},[Ue(e.$slots,"jumper-prepend",{},()=>[Dt(Mt(e.t("pagination.goto")),1)])],2)),_(a,{modelValue:e.inputValue,"onUpdate:modelValue":o[0]||(o[0]=h=>e.inputValue=h),class:Z(`${e.prefixCls}-input`),min:1,max:e.pages,size:e.size,disabled:e.disabled,"hide-button":"",formatter:e.handleFormatter,onChange:e.handleChange},null,8,["modelValue","class","max","size","disabled","formatter","onChange"]),e.$slots["jumper-append"]?(W(),fe("span",{key:1,class:Z(`${e.prefixCls}-append`)},[Ue(e.$slots,"jumper-append")],2)):We("v-if",!0),e.simple?(W(),fe(Lt,{key:2},[De("span",{class:Z(`${e.prefixCls}-separator`)},"/",2),De("span",{class:Z(`${e.prefixCls}-total-page`)},Mt(e.pages),3)],64)):We("v-if",!0)],2)}var xk=ot(vW,[["render",_W]]);const bW=Ae({name:"PageOptions",components:{ArcoSelect:Lb},props:{sizeOptions:{type:Array,required:!0},pageSize:Number,disabled:Boolean,size:{type:String},onChange:{type:Function},selectProps:{type:Object}},emits:["change"],setup(e,{emit:o}){const n=Ge("pagination-options"),{t:i}=Lo(),l=O(()=>e.sizeOptions.map(a=>({value:a,label:`${a} ${i("pagination.countPerPage")}`})));return{prefixCls:n,options:l,handleChange:a=>{o("change",a)}}}});function TW(e,o,n,i,l,u){const a=Pe("arco-select");return W(),fe("span",{class:Z(e.prefixCls)},[_(a,lt({"model-value":e.pageSize,options:e.options,size:e.size,disabled:e.disabled},e.selectProps,{onChange:e.handleChange}),null,16,["model-value","options","size","disabled","onChange"])],2)}var yW=ot(bW,[["render",TW]]),qy=Ae({name:"Pagination",props:{total:{type:Number,required:!0},current:Number,defaultCurrent:{type:Number,default:1},pageSize:Number,defaultPageSize:{type:Number,default:10},disabled:{type:Boolean,default:!1},hideOnSinglePage:{type:Boolean,default:!1},simple:{type:Boolean,default:!1},showTotal:{type:Boolean,default:!1},showMore:{type:Boolean,default:!1},showJumper:{type:Boolean,default:!1},showPageSize:{type:Boolean,default:!1},pageSizeOptions:{type:Array,default:()=>[10,20,30,40,50]},pageSizeProps:{type:Object},size:{type:String},pageItemStyle:{type:Object},activePageItemStyle:{type:Object},baseSize:{type:Number,default:6},bufferSize:{type:Number,default:2},autoAdjust:{type:Boolean,default:!0}},emits:{"update:current":e=>!0,"update:pageSize":e=>!0,change:e=>!0,pageSizeChange:e=>!0},setup(e,{emit:o,slots:n}){const i=Ge("pagination"),{t:l}=Lo(),{disabled:u,pageItemStyle:a,activePageItemStyle:h,size:p}=mt(e),{mergedSize:m}=Wr(p),$=ve(e.defaultCurrent),T=ve(e.defaultPageSize),w=O(()=>{var D;return(D=e.current)!=null?D:$.value}),A=O(()=>{var D;return(D=e.pageSize)!=null?D:T.value}),R=O(()=>Math.ceil(e.total/A.value)),L=D=>{D!==w.value&&_t(D)&&!e.disabled&&($.value=D,o("update:current",D),o("change",D))},M=D=>{T.value=D,o("update:pageSize",D),o("pageSizeChange",D)},B=ft({current:w,pages:R,disabled:u,style:a,activeStyle:h,onClick:L}),G=(D,U={})=>D==="more"?_($W,lt(U,B),{default:n["page-item-ellipsis"]}):D==="previous"?_(Dk,lt({type:"previous"},U,B),{default:n["page-item-step"]}):D==="next"?_(Dk,lt({type:"next"},U,B),{default:n["page-item-step"]}):_(hW,lt(U,B),{default:n["page-item"]}),j=O(()=>{const D=[];if(R.value<e.baseSize+e.bufferSize*2)for(let U=1;U<=R.value;U++)D.push(G("page",{key:U,pageNumber:U}));else{let U=1,te=R.value,Y=!1,J=!1;w.value>2+e.bufferSize&&(Y=!0,U=Math.min(w.value-e.bufferSize,R.value-2*e.bufferSize)),w.value<R.value-(e.bufferSize+1)&&(J=!0,te=Math.max(w.value+e.bufferSize,2*e.bufferSize+1)),Y&&(D.push(G("page",{key:1,pageNumber:1})),D.push(G("more",{key:"left-ellipsis-pager",step:-(e.bufferSize*2+1)})));for(let ee=U;ee<=te;ee++)D.push(G("page",{key:ee,pageNumber:ee}));J&&(D.push(G("more",{key:"right-ellipsis-pager",step:e.bufferSize*2+1})),D.push(G("page",{key:R.value,pageNumber:R.value})))}return D}),F=()=>e.simple?_("span",{class:`${i}-simple`},[G("previous",{simple:!0}),_(xk,{disabled:e.disabled,current:w.value,size:m.value,pages:R.value,simple:!0,onChange:L},null),G("next",{simple:!0})]):_("ul",{class:`${i}-list`},[G("previous",{simple:!0}),j.value,e.showMore&&G("more",{key:"more",step:e.bufferSize*2+1}),G("next",{simple:!0})]);At(A,(D,U)=>{if(e.autoAdjust&&D!==U&&w.value>1){const te=U*(w.value-1)+1,Y=Math.ceil(te/D);Y!==w.value&&($.value=Y,o("update:current",Y),o("change",Y))}}),At(R,(D,U)=>{e.autoAdjust&&D!==U&&w.value>1&&w.value>D&&($.value=D,o("update:current",D),o("change",D))});const x=O(()=>[i,`${i}-size-${m.value}`,{[`${i}-simple`]:e.simple,[`${i}-disabled`]:e.disabled}]);return()=>{var D,U;return e.hideOnSinglePage&&R.value<=1?null:_("div",{class:x.value},[e.showTotal&&_("span",{class:`${i}-total`},[(U=(D=n.total)==null?void 0:D.call(n,{total:e.total}))!=null?U:l("pagination.total",e.total)]),F(),e.showPageSize&&_(yW,{disabled:e.disabled,sizeOptions:e.pageSizeOptions,pageSize:A.value,size:m.value,onChange:M,selectProps:e.pageSizeProps},null),!e.simple&&e.showJumper&&_(xk,{disabled:e.disabled,current:w.value,pages:R.value,size:m.value,onChange:L},{"jumper-prepend":n["jumper-prepend"],"jumper-append":n["jumper-append"]})])}}});const tS=Object.assign(qy,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+qy.name,qy)}}),EW=(e,{emit:o})=>{var n,i;const l=ve(cn(e.paginationProps)&&(n=e.paginationProps.defaultCurrent)!=null?n:1),u=ve(cn(e.paginationProps)&&(i=e.paginationProps.defaultPageSize)!=null?i:10),a=O(()=>{var $;return cn(e.paginationProps)&&($=e.paginationProps.current)!=null?$:l.value}),h=O(()=>{var $;return cn(e.paginationProps)&&($=e.paginationProps.pageSize)!=null?$:u.value});return{current:a,pageSize:h,handlePageChange:$=>{l.value=$,o("pageChange",$)},handlePageSizeChange:$=>{u.value=$,o("pageSizeChange",$)}}};function Bk(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!vo(e)}var Zy=Ae({name:"List",props:{data:{type:Array},size:{type:String,default:"medium"},bordered:{type:Boolean,default:!0},split:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},hoverable:{type:Boolean,default:!1},paginationProps:{type:Object},gridProps:{type:Object},maxHeight:{type:[String,Number],default:0},bottomOffset:{type:Number,default:0},virtualListProps:{type:Object},scrollbar:{type:[Object,Boolean],default:!0}},emits:{scroll:()=>!0,reachBottom:()=>!0,pageChange:e=>!0,pageSizeChange:e=>!0},setup(e,{emit:o,slots:n}){const{scrollbar:i}=mt(e),l=Ge("list"),u=on(Gr,void 0),{componentRef:a,elementRef:h}=Wf("containerRef"),p=O(()=>e.virtualListProps),{displayScrollbar:m,scrollbarProps:$}=$1(i);let T=0;const w=X=>{const{scrollTop:K,scrollHeight:q,offsetHeight:z}=X.target,ne=Math.floor(q-(K+z));K>T&&ne<=e.bottomOffset&&o("reachBottom"),o("scroll"),T=K};fn(()=>{if(h.value){const{scrollTop:X,scrollHeight:K,offsetHeight:q}=h.value;K<=X+q&&o("reachBottom")}});const{current:A,pageSize:R,handlePageChange:L,handlePageSizeChange:M}=EW(e,{emit:o}),B=X=>{if(!e.paginationProps)return X;if(e.paginationProps&&X.length>R.value){const K=(A.value-1)*R.value;return X.slice(K,K+R.value)}return X},G=X=>{let K;if(!e.gridProps)return null;const q=B(X);if(e.gridProps.span){const z=[],ne=24/e.gridProps.span;for(let ge=0;ge<q.length;ge+=ne){let Q;const Oe=ge+ne,Re=Math.floor(ge/ne);z.push(_(k$.Row,{key:Re,class:`${l}-row`,gutter:e.gridProps.gutter},Bk(Q=q.slice(ge,Oe).map((_e,se)=>{var ke;return _(k$.Col,{key:`${Re}-${se}`,class:`${l}-col`,span:(ke=e.gridProps)==null?void 0:ke.span},{default:()=>{var Be;return[vo(_e)?_e:(Be=n.item)==null?void 0:Be.call(n,{item:_e,index:se})]}})}))?Q:{default:()=>[Q]}))}return z}return _(k$.Row,{class:`${l}-row`,gutter:e.gridProps.gutter},Bk(K=q.map((z,ne)=>_(k$.Col,lt({key:ne,class:`${l}-col`},Sr(e.gridProps,["gutter"])),{default:()=>{var ge;return[vo(z)?z:(ge=n.item)==null?void 0:ge.call(n,{item:z,index:ne})]}})))?K:{default:()=>[K]})},j=X=>B(X).map((q,z)=>{var ne;return vo(q)?q:(ne=n.item)==null?void 0:ne.call(n,{item:q,index:z})}),F=()=>{const X=n.default?Oa(n.default()):e.data;return X&&X.length>0?e.gridProps?G(X):j(X):ue()},x=()=>{if(!e.paginationProps)return null;const X=Sr(e.paginationProps,["current","pageSize","defaultCurrent","defaultPageSize"]);return _(tS,lt({class:`${l}-pagination`},X,{current:A.value,pageSize:R.value,onChange:L,onPageSizeChange:M}),null)},D=O(()=>[l,`${l}-${e.size}`,{[`${l}-bordered`]:e.bordered,[`${l}-split`]:e.split,[`${l}-hover`]:e.hoverable}]),U=O(()=>{if(e.maxHeight)return{maxHeight:_t(e.maxHeight)?`${e.maxHeight}px`:e.maxHeight,overflowY:"auto"}}),te=O(()=>[`${l}-content`,{[`${l}-virtual`]:p.value}]),Y=ve(),J=()=>{var X;const K=B((X=e.data)!=null?X:[]);return K.length?_(dv,lt({ref:Y,class:te.value,data:K},e.virtualListProps,{onScroll:w}),{item:({item:q,index:z})=>{var ne;return(ne=n.item)==null?void 0:ne.call(n,{item:q,index:z})}}):ue()},ee=()=>n["scroll-loading"]?_("div",{class:[`${l}-item`,`${l}-scroll-loading`]},[n["scroll-loading"]()]):null,ue=()=>{var X,K,q,z,ne;return n["scroll-loading"]?null:(ne=(z=(X=n.empty)==null?void 0:X.call(n))!=null?z:(q=u==null?void 0:(K=u.slots).empty)==null?void 0:q.call(K,{component:"list"}))!=null?ne:_(Uu,null,null)};return{virtualListRef:Y,render:()=>{const X=m.value?Na:"div";return _("div",{class:`${l}-wrapper`},[_(Dl,{class:`${l}-spin`,loading:e.loading},{default:()=>[_(X,lt({ref:a,class:D.value,style:U.value},$.value,{onScroll:w}),{default:()=>[_("div",{class:`${l}-content-wrapper`},[n.header&&_("div",{class:`${l}-header`},[n.header()]),p.value&&!e.gridProps?_(Lt,null,[J(),ee()]):_("div",{role:"list",class:te.value},[F(),ee()]),n.footer&&_("div",{class:`${l}-footer`},[n.footer()])])]}),x()]})])}}},methods:{scrollIntoView(e){this.virtualListRef&&this.virtualListRef.scrollTo(e)}},render(){return this.render()}}),sb=Ae({name:"ListItem",props:{actionLayout:{type:String,default:"horizontal"}},setup(e,{slots:o}){const n=Ge("list-item"),i=()=>{var l;const u=(l=o.actions)==null?void 0:l.call(o);return!u||!u.length?null:_("ul",{class:`${n}-action`},[u.map((a,h)=>_("li",{key:`${n}-action-${h}`},[a]))])};return()=>{var l,u;return _("div",{role:"listitem",class:n},[_("div",{class:`${n}-main`},[(l=o.meta)==null?void 0:l.call(o),_("div",{class:`${n}-content`},[(u=o.default)==null?void 0:u.call(o)]),e.actionLayout==="vertical"&&i()]),e.actionLayout==="horizontal"&&i(),o.extra&&_("div",{class:`${n}-extra`},[o.extra()])])}}});const CW=Ae({name:"ListItemMeta",props:{title:String,description:String},setup(e,{slots:o}){const n=Ge("list-item-meta"),i=!!(e.title||e.description||o.title||o.description);return{prefixCls:n,hasContent:i}}});function IW(e,o,n,i,l,u){return W(),fe("div",{class:Z(e.prefixCls)},[e.$slots.avatar?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-avatar`)},[Ue(e.$slots,"avatar")],2)):We("v-if",!0),e.hasContent?(W(),fe("div",{key:1,class:Z(`${e.prefixCls}-content`)},[e.$slots.title||e.title?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-title`)},[Ue(e.$slots,"title",{},()=>[Dt(Mt(e.title),1)])],2)):We("v-if",!0),e.$slots.description||e.description?(W(),fe("div",{key:1,class:Z(`${e.prefixCls}-description`)},[Ue(e.$slots,"description",{},()=>[Dt(Mt(e.description),1)])],2)):We("v-if",!0)],2)):We("v-if",!0)],2)}var lb=ot(CW,[["render",IW]]);const bL=Object.assign(Zy,{Item:Object.assign(sb,{Meta:lb}),install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+Zy.name,Zy),e.component(n+sb.name,sb),e.component(n+lb.name,lb)}}),SW=["border-width","box-sizing","font-family","font-weight","font-size","font-variant","letter-spacing","line-height","padding-top","padding-bottom","padding-left","padding-right","text-indent","text-rendering","text-transform","white-space","overflow-wrap","width"],MC=e=>{const o={};return SW.forEach(n=>{o[n]=e.getPropertyValue(n)}),o},OW=Ae({name:"Textarea",components:{ResizeObserver:Pl,IconHover:yo,IconClose:zr},inheritAttrs:!1,props:{modelValue:String,defaultValue:{type:String,default:""},placeholder:String,disabled:{type:Boolean,default:!1},error:{type:Boolean,default:!1},maxLength:{type:[Number,Object],default:0},showWordLimit:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},autoSize:{type:[Boolean,Object],default:!1},wordLength:{type:Function},wordSlice:{type:Function}},emits:{"update:modelValue":e=>!0,input:(e,o)=>!0,change:(e,o)=>!0,clear:e=>!0,focus:e=>!0,blur:e=>!0},setup(e,{emit:o,attrs:n}){const{disabled:i,error:l,modelValue:u}=mt(e),a=Ge("textarea"),{mergedDisabled:h,mergedError:p,eventHandlers:m}=Eo({disabled:i,error:l}),$=ve(),T=ve(),w=ve(),A=ve(),R=ve(e.defaultValue),L=O(()=>{var ce;return(ce=u.value)!=null?ce:R.value}),[M,B]=jA($);At(u,ce=>{(Gt(ce)||Di(ce))&&(R.value="")});const G=O(()=>cn(e.maxLength)&&!!e.maxLength.errorOnly),j=O(()=>cn(e.maxLength)?e.maxLength.length:e.maxLength),F=ce=>{var re;return Ut(e.wordLength)?e.wordLength(ce):(re=ce.length)!=null?re:0},x=O(()=>F(L.value)),D=O(()=>p.value||!!(j.value&&G.value&&x.value>j.value)),U=ve(!1),te=ve(!1),Y=O(()=>e.allowClear&&!h.value&&L.value),J=ve(!1),ee=ve(""),ue=()=>{M(),Un(()=>{$.value&&L.value!==$.value.value&&($.value.value=L.value,B())})},oe=(ce,re=!0)=>{var Me,Ne;j.value&&!G.value&&F(ce)>j.value&&(ce=(Ne=(Me=e.wordSlice)==null?void 0:Me.call(e,ce,j.value))!=null?Ne:ce.slice(0,j.value)),R.value=ce,re&&o("update:modelValue",ce),ue()};let X=L.value;const K=(ce,re)=>{var Me,Ne;ce!==X&&(X=ce,o("change",ce,re),(Ne=(Me=m.value)==null?void 0:Me.onChange)==null||Ne.call(Me,re))},q=ce=>{var re,Me;te.value=!0,X=L.value,o("focus",ce),(Me=(re=m.value)==null?void 0:re.onFocus)==null||Me.call(re,ce)},z=ce=>{var re,Me;te.value=!1,o("blur",ce),(Me=(re=m.value)==null?void 0:re.onBlur)==null||Me.call(re,ce),K(L.value,ce)},ne=ce=>{var re,Me;const{value:Ne}=ce.target;if(ce.type==="compositionend"){if(J.value=!1,ee.value="",j.value&&!G.value&&L.value.length>=j.value&&F(Ne)>j.value){ue();return}o("input",Ne,ce),oe(Ne),(Me=(re=m.value)==null?void 0:re.onInput)==null||Me.call(re,ce)}else J.value=!0},ge=ce=>{var re,Me;const{value:Ne}=ce.target;if(J.value)ee.value=Ne;else{if(j.value&&!G.value&&L.value.length>=j.value&&F(Ne)>j.value&&ce.inputType==="insertText"){ue();return}o("input",Ne,ce),oe(Ne),(Me=(re=m.value)==null?void 0:re.onInput)==null||Me.call(re,ce)}},Q=ce=>{oe(""),K("",ce),o("clear",ce)};At(u,ce=>{ce!==L.value&&oe(ce??"",!1)});const Oe=ce=>Sr(n,nd),Re=ce=>wa(n,nd),_e=O(()=>[`${a}-wrapper`,{[`${a}-focus`]:te.value,[`${a}-disabled`]:h.value,[`${a}-error`]:D.value,[`${a}-scroll`]:U.value}]);let se;const ke=ve(0),Be=ve(0),et=O(()=>!cn(e.autoSize)||!e.autoSize.minRows?0:e.autoSize.minRows*ke.value+Be.value),ut=O(()=>!cn(e.autoSize)||!e.autoSize.maxRows?0:e.autoSize.maxRows*ke.value+Be.value),dt=()=>{const ce=MC(se);ke.value=Number.parseInt(ce["line-height"]||0,10),Be.value=Number.parseInt(ce["border-width"]||0,10)*2+Number.parseInt(ce["padding-top"]||0,10)+Number.parseInt(ce["padding-bottom"]||0,10),A.value=ce,Un(()=>{var re;const Me=(re=w.value)==null?void 0:re.offsetHeight;let Ne=Me??0,$e="hidden";et.value&&Ne<et.value&&(Ne=et.value),ut.value&&Ne>ut.value&&(Ne=ut.value,$e="auto"),T.value={height:`${Ne}px`,resize:"none",overflow:$e}})};fn(()=>{$.value&&(se=window.getComputedStyle($.value),e.autoSize&&dt()),le()});const gt=()=>{e.autoSize&&w.value&&dt(),le()},we=ce=>{$.value&&ce.target!==$.value&&(ce.preventDefault(),$.value.focus())},le=()=>{$.value&&($.value.scrollHeight>$.value.offsetHeight?U.value||(U.value=!0):U.value&&(U.value=!1))};return At(L,()=>{e.autoSize&&w.value&&dt(),le()}),{prefixCls:a,wrapperCls:_e,textareaRef:$,textareaStyle:T,mirrorRef:w,mirrorStyle:A,computedValue:L,showClearBtn:Y,valueLength:x,computedMaxLength:j,mergedDisabled:h,getWrapperAttrs:Oe,getTextareaAttrs:Re,handleInput:ge,handleFocus:q,handleBlur:z,handleComposition:ne,handleClear:Q,handleResize:gt,handleMousedown:we}},methods:{focus(){var e;(e=this.$refs.textareaRef)==null||e.focus()},blur(){var e;(e=this.$refs.textareaRef)==null||e.blur()}}}),kW=["disabled","value","placeholder"];function wW(e,o,n,i,l,u){const a=Pe("resize-observer"),h=Pe("icon-close"),p=Pe("icon-hover");return W(),fe("div",lt(e.getWrapperAttrs(e.$attrs),{class:e.wrapperCls,onMousedown:o[7]||(o[7]=(...m)=>e.handleMousedown&&e.handleMousedown(...m))}),[e.autoSize?(W(),fe("div",{key:0,ref:"mirrorRef",class:Z(`${e.prefixCls}-mirror`),style:yt(e.mirrorStyle)},Mt(`${e.computedValue}
`),7)):We("v-if",!0),_(a,{onResize:e.handleResize},{default:Je(()=>[De("textarea",lt({ref:"textareaRef"},e.getTextareaAttrs(e.$attrs),{disabled:e.mergedDisabled,class:e.prefixCls,style:e.textareaStyle,value:e.computedValue,placeholder:e.placeholder,onInput:o[0]||(o[0]=(...m)=>e.handleInput&&e.handleInput(...m)),onFocus:o[1]||(o[1]=(...m)=>e.handleFocus&&e.handleFocus(...m)),onBlur:o[2]||(o[2]=(...m)=>e.handleBlur&&e.handleBlur(...m)),onCompositionstart:o[3]||(o[3]=(...m)=>e.handleComposition&&e.handleComposition(...m)),onCompositionupdate:o[4]||(o[4]=(...m)=>e.handleComposition&&e.handleComposition(...m)),onCompositionend:o[5]||(o[5]=(...m)=>e.handleComposition&&e.handleComposition(...m))}),null,16,kW)]),_:1},8,["onResize"]),Ue(e.$slots,"suffix"),e.computedMaxLength&&e.showWordLimit?(W(),fe("div",{key:1,class:Z(`${e.prefixCls}-word-limit`)},Mt(e.valueLength)+"/"+Mt(e.computedMaxLength),3)):We("v-if",!0),e.showClearBtn?(W(),fe("div",{key:2,class:Z(`${e.prefixCls}-clear-btn`),onClick:o[6]||(o[6]=(...m)=>e.handleClear&&e.handleClear(...m))},[_(p,null,{default:Je(()=>[_(h)]),_:1})],2)):We("v-if",!0)],16)}var Jy=ot(OW,[["render",wW]]);const TL=Object.assign(Jy,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+Jy.name,Jy)}}),NW=e=>{const{value:o,selectionStart:n}=e;return o.slice(0,n)},AW=(e,o)=>[].concat(o).reduce((i,l)=>{const u=e.lastIndexOf(l);return u>i.location?{location:u,prefix:l}:i},{location:-1,prefix:""}),RW=(e,o)=>!o||!e.includes(o);var LW=Object.defineProperty,Fk=Object.getOwnPropertySymbols,MW=Object.prototype.hasOwnProperty,PW=Object.prototype.propertyIsEnumerable,Vk=(e,o,n)=>o in e?LW(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,DW=(e,o)=>{for(var n in o||(o={}))MW.call(o,n)&&Vk(e,n,o[n]);if(Fk)for(var n of Fk(o))PW.call(o,n)&&Vk(e,n,o[n]);return e};function xW(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!vo(e)}var eE=Ae({name:"Mention",inheritAttrs:!1,props:{modelValue:String,defaultValue:{type:String,default:""},data:{type:Array,default:()=>[]},prefix:{type:[String,Array],default:"@"},split:{type:String,default:" "},type:{type:String,default:"input"},disabled:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1}},emits:{"update:modelValue":e=>!0,change:e=>!0,search:(e,o)=>!0,select:e=>!0,clear:e=>!0,focus:e=>!0,blur:e=>!0},setup(e,{emit:o,attrs:n,slots:i}){const l=Ge("mention");let u;const{mergedDisabled:a,eventHandlers:h}=Eo({disabled:Os(e,"disabled")}),{data:p,modelValue:m}=mt(e),$=ve(),T=ve({}),w=ve(e.defaultValue),A=O(()=>{var _e;return(_e=e.modelValue)!=null?_e:w.value});At(m,_e=>{(Gt(_e)||Di(_e))&&(w.value="")});const R=O(()=>A.value?[Uh(A.value)]:[]),L=ve({measuring:!1,location:-1,prefix:"",text:""}),M=()=>{L.value={measuring:!1,location:-1,prefix:"",text:""}},B=ve(),G=O(()=>L.value.text),j=ve(!0),F=(_e,se)=>{var ke,Be;const et=NW(se.target),ut=AW(et,e.prefix);if(ut.location>-1){const dt=et.slice(ut.location+ut.prefix.length);RW(dt,e.split)?(D.value=!0,L.value=DW({measuring:!0,text:dt},ut),o("search",dt,ut.prefix)):L.value.location>-1&&M()}else L.value.location>-1&&M();w.value=_e,o("update:modelValue",_e),o("change",_e),(Be=(ke=h.value)==null?void 0:ke.onChange)==null||Be.call(ke)},x=_e=>{var se,ke;w.value="",o("update:modelValue",""),o("change",""),(ke=(se=h.value)==null?void 0:se.onChange)==null||ke.call(se),o("clear",_e)},D=ve(!1),U=O(()=>D.value&&L.value.measuring&&oe.value.length>0),te=()=>{K.value=MC(u)},Y=_e=>{D.value=_e},J=(_e,se)=>{var ke,Be,et;const{value:ut}=(ke=ue.get(_e))!=null?ke:{},dt=L.value.location,gt=L.value.location+L.value.text.length;let we=w.value.slice(0,dt),le=w.value.slice(gt+1);we+=!we||we.endsWith(e.split)||we.endsWith(`
`)?"":e.split,le=(!le||le.startsWith(e.split)||le.startsWith(`
`)?"":e.split)+le;const ce=`${L.value.prefix}${ut}`,re=`${we}${ce}${le}`;w.value=re,o("select",ut),o("update:modelValue",re),o("change",re),M(),(et=(Be=h.value)==null?void 0:Be.onChange)==null||et.call(Be)},{validOptions:ee,optionInfoMap:ue,validOptionInfos:oe,handleKeyDown:X}=NI({options:p,inputValue:G,filterOption:j,popupVisible:U,valueKeys:R,dropdownRef:$,optionRefs:T,onSelect:J,onPopupVisibleChange:Y,enterToOpen:!1}),K=ve();fn(()=>{var _e;e.type==="textarea"&&((_e=B.value)!=null&&_e.textareaRef)&&(u=window.getComputedStyle(B.value.textareaRef),K.value=MC(u))});const q=_e=>{if(Ut(i.option)&&_e.value){const se=ue.get(_e.key),ke=i.option;return()=>ke({data:se})}return()=>_e.label},z=_e=>_(Lh,{ref:se=>{se!=null&&se.$el&&(T.value[_e.key]=se.$el)},key:_e.key,value:_e.value,disabled:_e.disabled,internal:!0},{default:q(_e)}),ne=()=>{let _e;return _(kI,{ref:$},xW(_e=ee.value.map(se=>z(se)))?_e:{default:()=>[_e]})},ge=ve();At(U,_e=>{e.type==="textarea"&&_e&&Un(()=>{var se,ke;(se=B.value)!=null&&se.textareaRef&&B.value.textareaRef.scrollTop>0&&((ke=ge.value)==null||ke.scrollTo(0,B.value.textareaRef.scrollTop))})});const Q=_e=>{o("focus",_e)},Oe=_e=>{o("blur",_e)};return{inputRef:B,render:()=>{var _e;return e.type==="textarea"?_("div",{class:l},[_(Pl,{onResize:te},{default:()=>[_(TL,lt(n,{ref:B,allowClear:e.allowClear,modelValue:A.value,onInput:F,onClear:x,onFocus:Q,onBlur:Oe,onKeydown:X}),null)]}),L.value.measuring&&oe.value.length>0&&_("div",{ref:ge,style:K.value,class:`${l}-measure`},[(_e=A.value)==null?void 0:_e.slice(0,L.value.location),_(Or,{trigger:"focus",position:"bl",popupOffset:4,preventFocus:!0,popupVisible:U.value,clickToClose:!1,onPopupVisibleChange:Y},{default:()=>[_("span",null,[Dt("@")])],content:ne})])]):_(Or,{trigger:"focus",position:"bl",animationName:"slide-dynamic-origin",popupOffset:4,preventFocus:!0,popupVisible:U.value,clickToClose:!1,autoFitPopupWidth:!0,autoFitTransformOrigin:!0,disabled:a.value,onPopupVisibleChange:Y},{default:()=>[_(Xh,lt(n,{ref:B,allowClear:e.allowClear,modelValue:A.value,disabled:a.value,onInput:F,onClear:x,onFocus:Q,onBlur:Oe,onKeydown:X}),i)],content:ne})}}},methods:{focus(){var e;(e=this.inputRef)==null||e.focus()},blur(){var e;(e=this.inputRef)==null||e.blur()}},render(){return this.render()}});const BW=Object.assign(eE,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+eE.name,eE)}}),nS=Symbol("MenuInjectionKey"),oS=Symbol("LevelInjectionKey"),yL=Symbol("DataCollectorInjectionKey"),FW=Ae({name:"IconMenuFold",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-menu-fold`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),VW=["stroke-width","stroke-linecap","stroke-linejoin"],UW=De("path",{d:"M42 11H6M42 24H22M42 37H6M13.66 26.912l-4.82-3.118 4.82-3.118v6.236Z"},null,-1),HW=[UW];function GW(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},HW,14,VW)}var tE=ot(FW,[["render",GW]]);const zW=Object.assign(tE,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+tE.name,tE)}}),WW=Ae({name:"IconMenuUnfold",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-menu-unfold`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),jW=["stroke-width","stroke-linecap","stroke-linejoin"],XW=De("path",{d:"M6 11h36M22 24h20M6 37h36M8 20.882 12.819 24 8 27.118v-6.236Z"},null,-1),KW=[XW];function YW(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},KW,14,jW)}var nE=ot(WW,[["render",YW]]);const QW=Object.assign(nE,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+nE.name,nE)}});function rS(e){const o=O(()=>nr(e)?e.value:e);Ln(oS,ft({level:o}))}function gv(e){const{provideNextLevel:o}=e||{},n=on(oS),i=O(()=>(n==null?void 0:n.level)||1);if(o){const l=O(()=>i.value+1);rS(l)}return{level:i}}function Uk(e,o){const n=[],i=l=>{l.forEach(u=>{o(u)&&n.push(u.key),u.children&&i(u.children)})};return i(e),n}function EL(e=!1){return e?void 0:on(yL)}function CL(e){const{key:o,type:n}=e,i=ve([]),l=EL(n==="menu");return Ln(yL,{collectSubMenu(a,h,p=!1){const m={key:a,children:h};if(p){const $=i.value.find(T=>T.key===a);$?$.children=h:i.value.push(m)}else i.value=[...i.value,m];p&&(n==="popupMenu"?l==null||l.reportMenuData(i.value):n==="subMenu"&&!Gt(a)&&(l==null||l.collectSubMenu(a,i.value,!0)))},removeSubMenu(a){i.value=i.value.filter(h=>h.key!==a)},collectMenuItem(a){i.value.push({key:a})},removeMenuItem(a){i.value=i.value.filter(h=>h.key!==a)},reportMenuData(a){i.value=a,n==="subMenu"&&!Gt(o)&&(l==null||l.collectSubMenu(o,i.value,!0))}}),n==="subMenu"&&!Gt(o)?(fn(()=>{l==null||l.collectSubMenu(o,i.value)}),Ir(()=>{l==null||l.removeSubMenu(o)})):n==="popupMenu"&&fn(()=>{l==null||l.reportMenuData(i.value)}),{menuData:i,subMenuKeys:O(()=>Uk(i.value,a=>!!a.children)),menuItemKeys:O(()=>Uk(i.value,a=>!a.children))}}function qW(e,o){const n=[],i=l=>{for(let u=0;u<l.length;u++){const a=l[u];if(a.key===o)return!0;if(a.children){if(n.push(a.key),i(a.children))return!0;n.pop()}}return!1};return i(e),n}function ZW(e,o){return e.length!==o.length?!1:e.toString()===o.toString()}function JW(e){const{modelValue:o,defaultValue:n,autoOpen:i,autoOpenSelected:l,subMenuKeys:u,selectedKeys:a,menuData:h,accordion:p}=mt(e),m=ve(Gt(o.value)?Gt(n.value)?[]:n.value:o.value),$=R=>{m.value=R};At(o,()=>{Gt(o.value)&&$([])});let T=[];fn(()=>{T=[...u.value];let R=[];if(i.value&&(R=p.value?u.value.slice(0,1):[...u.value]),l.value){const L=a.value.map(M=>qW(h.value,M));L.length&&(!i.value||p.value)&&(R=p.value?L[0]:[...new Set([].concat(...L))])}R.length&&$(R)});let w=!1;At(u,(R,L=[])=>{if(w||!ZW(R,T)){const M=A.value.filter(B=>R.includes(B));if(i.value){const B=R.filter(G=>!L.includes(G));M.push(...B)}$(p.value?M.slice(0,1):M)}w=!0});const A=O(()=>o.value||m.value);return{openKeys:A,localOpenKeys:m,setOpenKeys:$,open(R,L){let M=[];return A.value.indexOf(R)>-1?p.value&&L===1?M=[]:M=A.value.filter(B=>B!==R):p.value&&L===1?M=[R]:M=A.value.concat([R]),$(M),M}}}const ej=Ae({name:"BaseMenu",components:{IconMenuFold:zW,IconMenuUnfold:QW},inheritAttrs:!1,props:{style:{type:Object},theme:{type:String,default:"light"},mode:{type:String,default:"vertical"},levelIndent:{type:Number},autoOpen:{type:Boolean},collapsed:{type:Boolean,default:void 0},defaultCollapsed:{type:Boolean},collapsedWidth:{type:Number},accordion:{type:Boolean},autoScrollIntoView:{type:Boolean},showCollapseButton:{type:Boolean},selectedKeys:{type:Array},defaultSelectedKeys:{type:Array,default:()=>[]},openKeys:{type:Array},defaultOpenKeys:{type:Array,default:()=>[]},scrollConfig:{type:Object},triggerProps:{type:Object},tooltipProps:{type:Object},autoOpenSelected:{type:Boolean},breakpoint:{type:String},popupMaxHeight:{type:[Boolean,Number],default:!0},prefixCls:{type:String},inTrigger:{type:Boolean},siderCollapsed:{type:Boolean},isRoot:{type:Boolean}},emits:["update:collapsed","update:selectedKeys","update:openKeys","collapse","menu-item-click","sub-menu-click"],setup(e,{emit:o,slots:n}){const{style:i,mode:l,theme:u,levelIndent:a,accordion:h,showCollapseButton:p,scrollConfig:m,autoScrollIntoView:$,collapsedWidth:T,autoOpen:w,collapsed:A,defaultCollapsed:R,selectedKeys:L,defaultSelectedKeys:M,openKeys:B,defaultOpenKeys:G,triggerProps:j,tooltipProps:F,autoOpenSelected:x,breakpoint:D,popupMaxHeight:U,prefixCls:te,inTrigger:Y,siderCollapsed:J,isRoot:ee}=mt(e),{subMenuKeys:ue,menuData:oe}=CL({type:ee.value?"menu":"popupMenu"}),[X,K]=kr(M.value,ft({value:L})),{openKeys:q,setOpenKeys:z,open:ne}=JW(ft({modelValue:B,defaultValue:G,autoOpen:w,autoOpenSelected:x,selectedKeys:X,subMenuKeys:ue,menuData:oe,accordion:h})),[ge,Q]=kr(R.value,ft({value:A})),Oe=O(()=>J.value||ge.value||l.value==="popButton"),Re=O(()=>["horizontal","popButton"].indexOf(l.value)<0&&!Y.value&&p.value),_e=(we,le)=>{we!==ge.value&&(Q(we),o("update:collapsed",we),o("collapse",we,le))},se=()=>{_e(!ge.value,"clickTrigger")};vL(D,we=>{_e(!we,"responsive")});const ke=O(()=>(te==null?void 0:te.value)||Ge("menu")),Be=O(()=>[ke.value,`${ke.value}-${u==null?void 0:u.value}`,{[`${ke.value}-horizontal`]:l.value==="horizontal",[`${ke.value}-vertical`]:l.value!=="horizontal",[`${ke.value}-collapsed`]:Oe.value,[`${ke.value}-pop`]:l.value==="pop"||Oe.value,[`${ke.value}-pop-button`]:l.value==="popButton"}]),et=O(()=>{const we=_t(T.value)?`${T.value}px`:void 0,le=cn(i.value)?i.value:void 0,ce=Oe.value?we:le==null?void 0:le.width;return[le?Sr(le,["width"]):i.value,{width:ce}]}),ut=wl(n,"expand-icon-down"),dt=wl(n,"expand-icon-right"),gt=ft({theme:u,mode:l,levelIndent:a,autoScrollIntoView:$,selectedKeys:X,openKeys:q,prefixCls:ke,scrollConfig:m,inTrigger:Y,collapsed:Oe,triggerProps:j,tooltipProps:F,popupMaxHeight:U,expandIconDown:ut,expandIconRight:dt,onMenuItemClick:we=>{K([we]),o("update:selectedKeys",[we]),o("menu-item-click",we)},onSubMenuClick:(we,le)=>{const ce=ne(we,le);z(ce),o("update:openKeys",ce),o("sub-menu-click",we,ce)}});return Ln(nS,gt),rS(1),{computedPrefixCls:ke,classNames:Be,computedStyle:et,computedCollapsed:Oe,computedHasCollapseButton:Re,onCollapseBtnClick:se}}});function tj(e,o,n,i,l,u){const a=Pe("IconMenuUnfold"),h=Pe("IconMenuFold");return W(),fe("div",lt({class:e.classNames},e.$attrs,{style:e.computedStyle}),[De("div",{class:Z(`${e.computedPrefixCls}-inner`)},[Ue(e.$slots,"default")],2),e.computedHasCollapseButton?(W(),fe("div",{key:0,class:Z(`${e.computedPrefixCls}-collapse-button`),onClick:o[0]||(o[0]=(...p)=>e.onCollapseBtnClick&&e.onCollapseBtnClick(...p))},[Ue(e.$slots,"collapse-icon",{collapsed:e.computedCollapsed},()=>[e.computedCollapsed?(W(),Ze(a,{key:0})):(W(),Ze(h,{key:1}))])],2)):We("v-if",!0)],16)}var PC=ot(ej,[["render",tj]]);function Hk(e,o){if(!e||!o)return null;let n=o;n==="float"&&(n="cssFloat");try{if(document.defaultView){const i=document.defaultView.getComputedStyle(e,"");return e.style[n]||i?i[n]:""}}catch{return e.style[n]}return null}function Kh(){return on(nS)||{}}const nj=(()=>{let e=0;return(o="")=>(e+=1,`${o}${e}`)})();function O1(){const e=vi();return{key:O(()=>(e==null?void 0:e.vnode.key)||nj("__arco_menu"))}}const oj=Ae({name:"MenuIndent",props:{level:{type:Number,default:1}},setup(){const e=Ge("menu"),o=Kh();return{prefixCls:e,levelIndent:Os(o,"levelIndent")}}});function rj(e,o,n,i,l,u){return e.level>1?(W(),fe("span",{key:0,class:Z(`${e.prefixCls}-indent-list`)},[(W(!0),fe(Lt,null,Ko(e.level-1,a=>(W(),fe("span",{key:a,class:Z(`${e.prefixCls}-indent`),style:yt(`width: ${e.levelIndent}px`)},null,6))),128))],2)):We("v-if",!0)}var k1=ot(oj,[["render",rj]]);const ij=Ae({name:"ExpandTransition",setup(){return{onBeforeEnter(e){e.style.height="0"},onEnter(e){e.style.height=`${e.scrollHeight}px`},onAfterEnter(e){e.style.height=""},onBeforeLeave(e){e.style.height=`${e.scrollHeight}px`},onLeave(e){e.style.height="0"},onAfterLeave(e){e.style.height=""}}}});function sj(e,o,n,i,l,u){return W(),Ze(Hr,{onBeforeEnter:e.onBeforeEnter,onEnter:e.onEnter,onAfterEnter:e.onAfterEnter,onBeforeLeave:e.onBeforeLeave,onLeave:e.onLeave,onAfterLeave:e.onAfterLeave},{default:Je(()=>[Ue(e.$slots,"default")]),_:3},8,["onBeforeEnter","onEnter","onAfterEnter","onBeforeLeave","onLeave","onAfterLeave"])}var lj=ot(ij,[["render",sj]]);const aj=Ae({name:"SubMenuInline",components:{MenuIndent:k1,ExpandTransition:lj},props:{title:{type:String},isChildrenSelected:{type:Boolean}},setup(e){const{key:o}=O1(),{level:n}=gv({provideNextLevel:!0}),i=Kh(),l=O(()=>i.prefixCls),u=O(()=>`${l.value}-inline`),a=O(()=>[u.value]),h=O(()=>e.isChildrenSelected),p=O(()=>(i.openKeys||[]).indexOf(o.value)>-1);return{prefixCls:u,menuPrefixCls:l,classNames:a,level:n,isSelected:h,isOpen:p,onHeaderClick:()=>{i.onSubMenuClick&&i.onSubMenuClick(o.value,n.value)}}}});function uj(e,o,n,i,l,u){const a=Pe("MenuIndent"),h=Pe("ExpandTransition");return W(),fe("div",{class:Z(e.classNames)},[De("div",{class:Z([`${e.prefixCls}-header`,{[`${e.menuPrefixCls}-selected`]:e.isSelected,[`${e.menuPrefixCls}-has-icon`]:e.$slots.icon}]),onClick:o[0]||(o[0]=(...p)=>e.onHeaderClick&&e.onHeaderClick(...p))},[_(a,{level:e.level},null,8,["level"]),e.$slots.icon?(W(),fe(Lt,{key:0},[De("span",{class:Z(`${e.menuPrefixCls}-icon`)},[Ue(e.$slots,"icon")],2),De("span",{class:Z(`${e.menuPrefixCls}-title`)},[Ue(e.$slots,"title",{},()=>[Dt(Mt(e.title),1)])],2)],64)):Ue(e.$slots,"title",{key:1},()=>[Dt(Mt(e.title),1)]),De("span",{class:Z([`${e.menuPrefixCls}-icon-suffix`,{"is-open":e.isOpen}])},[Ue(e.$slots,"expand-icon-down")],2)],2),_(h,null,{default:Je(()=>[Qs(De("div",{class:Z(`${e.prefixCls}-content`)},[Ue(e.$slots,"default")],2),[[Zs,e.isOpen]])]),_:3})],2)}var cj=ot(aj,[["render",uj]]);const dj=Ae({name:"SubMenuPop",components:{Menu:PC,Trigger:Or,MenuIndent:k1,RenderFunction:Gu},inheritAttrs:!1,props:{title:{type:String},selectable:{type:Boolean},isChildrenSelected:{type:Boolean},popupMaxHeight:{type:[Boolean,Number],default:void 0}},setup(e){const{key:o}=O1(),{level:n}=gv(),{selectable:i,isChildrenSelected:l,popupMaxHeight:u}=mt(e),a=Kh(),{onSubMenuClick:h,onMenuItemClick:p}=a,m=O(()=>a.prefixCls),$=O(()=>a.mode),T=O(()=>a.selectedKeys||[]),w=O(()=>`${m.value}-pop`),A=O(()=>i.value&&T.value.includes(o.value)||l.value),R=O(()=>[`${w.value}`,`${w.value}-header`,{[`${m.value}-selected`]:A.value}]),L=O(()=>$.value==="horizontal"&&!a.inTrigger),M=ve(!1),B=x=>{M.value=x},G=Ge("trigger"),j=O(()=>{var x;return[`${w.value}-trigger`,{[`${w.value}-trigger-dark`]:a.theme==="dark"},(x=a.triggerProps)==null?void 0:x.class]}),F=O(()=>Sr(a.triggerProps||{},["class"]));return{menuPrefixCls:m,mode:$,level:n,classNames:R,isSelected:A,selectedKeys:T,needPopOnBottom:L,popVisible:M,triggerPrefixCls:G,triggerClassNames:j,triggerProps:F,menuContext:a,popupMenuStyles:O(()=>{var x;const D=(x=u.value)!=null?x:a.popupMaxHeight;return _t(D)?{maxHeight:`${D}px`}:D?{}:{maxHeight:"unset"}}),onClick:()=>{h&&h(o.value,n.value),i.value&&p&&p(o.value)},onMenuItemClick:x=>{p&&p(x),B(!1)},onVisibleChange:x=>{B(x)}}}});function hj(e,o,n,i,l,u){const a=Pe("MenuIndent"),h=Pe("RenderFunction"),p=Pe("Menu"),m=Pe("Trigger");return W(),Ze(m,lt({trigger:"hover",class:e.triggerClassNames,position:e.needPopOnBottom?"bl":"rt","show-arrow":"","animation-class":"fade-in","mouse-enter-delay":50,"mouse-leave-delay":50,"popup-offset":4,"auto-fit-popup-min-width":!0,duration:100},e.triggerProps,{"unmount-on-close":!1,"popup-visible":e.popVisible,onPopupVisibleChange:e.onVisibleChange}),{content:Je(()=>[_(p,{"in-trigger":"","prefix-cls":`${e.triggerPrefixCls}-menu`,"selected-keys":e.selectedKeys,theme:e.menuContext.theme,"trigger-props":e.menuContext.triggerProps,style:yt(e.popupMenuStyles),onMenuItemClick:e.onMenuItemClick},Oo({default:Je(()=>[Ue(e.$slots,"default")]),_:2},[e.menuContext.expandIconDown?{name:"expand-icon-down",fn:Je(()=>[_(h,{"render-func":e.menuContext.expandIconDown},null,8,["render-func"])])}:void 0,e.menuContext.expandIconRight?{name:"expand-icon-right",fn:Je(()=>[_(h,{"render-func":e.menuContext.expandIconRight},null,8,["render-func"])])}:void 0]),1032,["prefix-cls","selected-keys","theme","trigger-props","style","onMenuItemClick"])]),default:Je(()=>[De("div",lt({class:[e.classNames,{[`${e.menuPrefixCls}-has-icon`]:e.$slots.icon}],"aria-haspopup":"true"},e.$attrs,{onClick:o[0]||(o[0]=(...$)=>e.onClick&&e.onClick(...$))}),[We(" header "),_(a,{level:e.level},null,8,["level"]),e.$slots.icon?(W(),fe(Lt,{key:0},[De("span",{class:Z(`${e.menuPrefixCls}-icon`)},[Ue(e.$slots,"icon")],2),De("span",{class:Z(`${e.menuPrefixCls}-title`)},[Ue(e.$slots,"title",{},()=>[Dt(Mt(e.title),1)])],2)],64)):Ue(e.$slots,"title",{key:1},()=>[Dt(Mt(e.title),1)]),We(" suffix "),De("span",{class:Z(`${e.menuPrefixCls}-icon-suffix`)},[e.needPopOnBottom?Ue(e.$slots,"expand-icon-down",{key:0}):Ue(e.$slots,"expand-icon-right",{key:1})],2),e.isSelected&&e.mode==="horizontal"?(W(),fe("div",{key:2,class:Z(`${e.menuPrefixCls}-selected-label`)},null,2)):We("v-if",!0)],16)]),_:3},16,["class","position","popup-visible","onPopupVisibleChange"])}var pj=ot(dj,[["render",hj]]),fj=Object.defineProperty,gj=Object.defineProperties,mj=Object.getOwnPropertyDescriptors,Gk=Object.getOwnPropertySymbols,$j=Object.prototype.hasOwnProperty,vj=Object.prototype.propertyIsEnumerable,zk=(e,o,n)=>o in e?fj(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,_j=(e,o)=>{for(var n in o||(o={}))$j.call(o,n)&&zk(e,n,o[n]);if(Gk)for(var n of Gk(o))vj.call(o,n)&&zk(e,n,o[n]);return e},bj=(e,o)=>gj(e,mj(o)),V$=Ae({name:"SubMenu",props:{key:{type:String},title:{type:String},selectable:{type:Boolean},popup:{type:[Boolean,Function],default:!1},popupMaxHeight:{type:[Boolean,Number],default:void 0}},setup(e,{attrs:o}){const{key:n}=O1(),{level:i}=gv(),{popup:l}=mt(e),u=Kh(),a=O(()=>{const{mode:$,collapsed:T,inTrigger:w}=u;return!!(typeof l.value=="function"?l.value(i.value):l.value)||T||w||$!=="vertical"}),{subMenuKeys:h,menuItemKeys:p}=CL({key:n.value,type:"subMenu"}),m=O(()=>{const $=u.selectedKeys||[],T=w=>{for(let A=0;A<$.length;A++){const R=$[A];if(w.includes(R))return!0}return!1};return T(h.value)||T(p.value)});return{subMenuKeys:h,menuItemKeys:p,isChildrenSelected:m,props:e,attrs:o,computedKey:n,computedPopup:a,expandIconDown:Os(u,"expandIconDown"),expandIconRight:Os(u,"expandIconRight")}},render(){const{props:e,attrs:o,computedKey:n,computedPopup:i,expandIconDown:l,expandIconRight:u,isChildrenSelected:a}=this,h=bj(_j({},this.$slots),{"expand-icon-down":this.$slots["expand-icon-down"]||l||(()=>[_($g,null,null)]),"expand-icon-right":this.$slots["expand-icon-right"]||u||(()=>[_(Bl,null,null)])});return i?_(pj,lt({key:n,title:e.title,selectable:e.selectable,isChildrenSelected:a,popupMaxHeight:e.popupMaxHeight},o),h):_(cj,lt({key:n,title:e.title,isChildrenSelected:a},o),h)}});const Tj=10;function Wk(e){return e&&+e.getBoundingClientRect().width.toFixed(2)}function jk(e){const o=Number(e.replace("px",""));return Number.isNaN(o)?0:o}var yj=Ae({name:"MenuOverflowWrap",setup(e,{slots:o}){const i=`${Kh().prefixCls}-overflow`,l=`${i}-sub-menu`,u=`${i}-hidden-menu-item`,a=`${i}-sub-menu-mirror`,h=ve(),p=ve(null),m=ve();function $(){const T=h.value,w=Wk(T),A=[].slice.call(T.children);let R=0,L=0,M=0;for(let B=0;B<A.length;B++){const G=A[B],j=G.className.split(" "),F=j.indexOf(l)>-1,x=j.indexOf(a)>-1;if(F)continue;const D=Wk(G)+jk(Hk(G,"marginLeft"))+jk(Hk(G,"marginRight"));if(x){M=D;continue}if(L+=D,L+M+Tj>w){p.value=R-1;return}R++}p.value=null}return fn(()=>{$(),m.value=new c1(T=>{T.forEach($)}),h.value&&m.value.observe(h.value)}),Ir(()=>{m.value&&m.value.disconnect()}),()=>{const T=(A,R)=>{const{isMirror:L=!1,props:M={}}=R||{};return _(V$,lt({key:`__arco-menu-overflow-sub-menu${L?"-mirror":""}`,class:L?a:l},M),{title:()=>_("span",null,[Dt("...")]),default:()=>A})},w=()=>{var A;const R=((A=o.default)==null?void 0:A.call(o))||[],L=dP(R);let M=null;const B=T(null,{isMirror:!0}),G=L.map((j,F)=>{const x=os(j,p.value!==null&&F>p.value?{class:u}:{class:""});if(p.value!==null&&F===p.value+1){const D=L.slice(F).map(U=>os(U));M=T(D)}return x});return[B,...G,M]};return _("div",{class:`${i}-wrap`,ref:h},[w()])}}}),Ej=Object.defineProperty,Cj=Object.defineProperties,Ij=Object.getOwnPropertyDescriptors,Xk=Object.getOwnPropertySymbols,Sj=Object.prototype.hasOwnProperty,Oj=Object.prototype.propertyIsEnumerable,Kk=(e,o,n)=>o in e?Ej(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,kj=(e,o)=>{for(var n in o||(o={}))Sj.call(o,n)&&Kk(e,n,o[n]);if(Xk)for(var n of Xk(o))Oj.call(o,n)&&Kk(e,n,o[n]);return e},wj=(e,o)=>Cj(e,Ij(o)),oE=Ae({name:"Menu",components:{BaseMenu:PC},inheritAttrs:!1,props:{theme:{type:String},mode:{type:String,default:"vertical"}},setup(e,{attrs:o,slots:n}){const{theme:i,mode:l}=mt(e),u=on(pL,void 0),a=O(()=>(u==null?void 0:u.collapsed)||!1),h=O(()=>(i==null?void 0:i.value)||(u==null?void 0:u.theme)||"light");return Ln(nS,void 0),Ln(oS,void 0),()=>_(PC,lt(e,o,{theme:h.value,inTrigger:!1,siderCollapsed:a.value,isRoot:!0}),wj(kj({},n),{default:l.value==="horizontal"&&n.default?()=>_(yj,null,{default:()=>{var p;return[(p=n.default)==null?void 0:p.call(n)]}}):n.default}))}});function IL(e){return e===Object(e)&&Object.keys(e).length!==0}function Nj(e,o){o===void 0&&(o="auto");var n="scrollBehavior"in document.body.style;e.forEach(function(i){var l=i.el,u=i.top,a=i.left;l.scroll&&n?l.scroll({top:u,left:a,behavior:o}):(l.scrollTop=u,l.scrollLeft=a)})}function Aj(e){return e===!1?{block:"end",inline:"nearest"}:IL(e)?e:{block:"start",inline:"nearest"}}function Rj(e,o){var n=e.isConnected||e.ownerDocument.documentElement.contains(e);if(IL(o)&&typeof o.behavior=="function")return o.behavior(n?bC(e,o):[]);if(n){var i=Aj(o);return Nj(bC(e,i),i.behavior)}}var Lj=Object.defineProperty,Yk=Object.getOwnPropertySymbols,Mj=Object.prototype.hasOwnProperty,Pj=Object.prototype.propertyIsEnumerable,Qk=(e,o,n)=>o in e?Lj(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,Dj=(e,o)=>{for(var n in o||(o={}))Mj.call(o,n)&&Qk(e,n,o[n]);if(Yk)for(var n of Yk(o))Pj.call(o,n)&&Qk(e,n,o[n]);return e},ab=Ae({name:"MenuItem",inheritAttrs:!1,props:{key:{type:String},disabled:{type:Boolean,default:!1}},emits:["click"],setup(e,{emit:o}){const{key:n}=O1(),{level:i}=gv(),l=Kh(),u=ve(),a=O(()=>(l.selectedKeys||[]).indexOf(n.value)>-1),h=EL();fn(()=>{h==null||h.collectMenuItem(n.value)}),Ir(()=>{h==null||h.removeMenuItem(n.value)});function p(){l.autoScrollIntoView&&u.value&&a.value&&Rj(u.value,Dj({behavior:"smooth",block:"nearest",scrollMode:"if-needed",boundary:document.documentElement},l.scrollConfig||{}))}let m;return fn(()=>{m=setTimeout(()=>{p()},500)}),Ir(()=>{clearTimeout(m)}),At([a],()=>{p()}),{menuContext:l,level:i,isSelected:a,refItemElement:u,onClick($){e.disabled||(l.onMenuItemClick&&l.onMenuItemClick(n.value),o("click",$))}}},render(){var e,o;const{level:n,menuContext:i,disabled:l,isSelected:u,onClick:a}=this,{prefixCls:h,collapsed:p,inTrigger:m,mode:$,tooltipProps:T}=i,w=p&&!m&&n===1,A=$==="vertical"&&n>1,R=((o=(e=this.$slots).default)==null?void 0:o.call(e))||[],L=A&&!m&&!p,M=this.$slots.icon&&this.$slots.icon(),B=[L&&_(k1,{level:n},null),M&&_("span",{class:`${h}-icon`},[M]),L||M?_("span",{class:[`${h}-item-inner`,{[`${h}-title`]:M}]},[R]):R].filter(Boolean),G=_("div",lt({ref:"refItemElement",class:[`${h}-item`,{[`${h}-disabled`]:l,[`${h}-selected`]:u,[`${h}-has-icon`]:M}]},this.$attrs,{onClick:a}),[B,u&&$==="horizontal"&&_("div",{class:`${h}-selected-label`},null)]);if(w){const j=[`${h}-item-tooltip`,T==null?void 0:T.class];return _(el,lt({trigger:"hover",position:"right",class:j},Sr(T||{},["class"])),{default:()=>G,content:()=>R})}return G}});const xj=Ae({name:"MenuItemGroup",components:{MenuIndent:k1},props:{title:{type:String}},setup(){const{level:e}=gv(),o=O(()=>e.value===1?e.value+1:e.value);rS(o);const n=Kh(),i=O(()=>n.prefixCls),l=O(()=>[`${i.value}-group`]);return{prefixCls:i,classNames:l,level:e}}});function Bj(e,o,n,i,l,u){const a=Pe("MenuIndent");return W(),fe("div",{class:Z(e.classNames)},[De("div",{class:Z(`${e.prefixCls}-group-title`)},[_(a,{level:e.level},null,8,["level"]),Ue(e.$slots,"title",{},()=>[Dt(Mt(e.title),1)])],2),Ue(e.$slots,"default")],2)}var ub=ot(xj,[["render",Bj]]);const Fj=Object.assign(oE,{Item:ab,ItemGroup:ub,SubMenu:V$,install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+oE.name,oE),e.component(n+ab.name,ab),e.component(n+ub.name,ub),e.component(n+V$.name,V$)}}),Vj=Ae({name:"Message",components:{AIconHover:yo,IconInfoCircleFill:lv,IconCheckCircleFill:Wh,IconExclamationCircleFill:Vu,IconCloseCircleFill:fg,IconClose:zr,IconLoading:gi},props:{type:{type:String,default:"info"},closable:{type:Boolean,default:!1},showIcon:{type:Boolean,default:!0},duration:{type:Number,default:3e3},resetOnUpdate:{type:Boolean,default:!1},resetOnHover:{type:Boolean,default:!1}},emits:["close"],setup(e,{emit:o}){const n=Ge("message");let i=0;const l=()=>{o("close")},u=()=>{e.duration>0&&(i=window.setTimeout(l,e.duration))},a=()=>{i&&(window.clearTimeout(i),i=0)};return fn(()=>{u()}),$i(()=>{e.resetOnUpdate&&(a(),u())}),Ir(()=>{a()}),{handleMouseEnter:()=>{e.resetOnHover&&a()},handleMouseLeave:()=>{e.resetOnHover&&u()},prefixCls:n,handleClose:l}}});function Uj(e,o,n,i,l,u){const a=Pe("icon-info-circle-fill"),h=Pe("icon-check-circle-fill"),p=Pe("icon-exclamation-circle-fill"),m=Pe("icon-close-circle-fill"),$=Pe("icon-loading"),T=Pe("icon-close"),w=Pe("a-icon-hover");return W(),fe("li",{role:"alert",class:Z([e.prefixCls,`${e.prefixCls}-${e.type}`,{[`${e.prefixCls}-closable`]:e.closable}]),onMouseenter:o[1]||(o[1]=(...A)=>e.handleMouseEnter&&e.handleMouseEnter(...A)),onMouseleave:o[2]||(o[2]=(...A)=>e.handleMouseLeave&&e.handleMouseLeave(...A))},[e.showIcon&&!(e.type==="normal"&&!e.$slots.icon)?(W(),fe("span",{key:0,class:Z(`${e.prefixCls}-icon`)},[Ue(e.$slots,"icon",{},()=>[e.type==="info"?(W(),Ze(a,{key:0})):e.type==="success"?(W(),Ze(h,{key:1})):e.type==="warning"?(W(),Ze(p,{key:2})):e.type==="error"?(W(),Ze(m,{key:3})):e.type==="loading"?(W(),Ze($,{key:4})):We("v-if",!0)])],2)):We("v-if",!0),De("span",{class:Z(`${e.prefixCls}-content`)},[Ue(e.$slots,"default")],2),e.closable?(W(),fe("span",{key:1,class:Z(`${e.prefixCls}-close-btn`),onClick:o[0]||(o[0]=(...A)=>e.handleClose&&e.handleClose(...A))},[_(w,null,{default:Je(()=>[_(T)]),_:1})],2)):We("v-if",!0)],34)}var Hj=ot(Vj,[["render",Uj]]);function Gj(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!vo(e)}var zj=Ae({name:"MessageList",props:{messages:{type:Array,default:()=>[]},position:{type:String,default:"top"}},emits:["close","afterClose"],setup(e,o){const n=Ge("message-list"),{zIndex:i}=gg("message",{runOnMounted:!0});return()=>{let l;return _(rv,{class:[n,`${n}-${e.position}`],name:"fade-message",tag:"ul",style:{zIndex:i.value},onAfterLeave:()=>o.emit("afterClose")},Gj(l=e.messages.map(u=>{const a={default:Mi(u.content),icon:Mi(u.icon)};return _(Hj,{key:u.id,type:u.type,duration:u.duration,closable:u.closable,resetOnUpdate:u.resetOnUpdate,resetOnHover:u.resetOnHover,onClose:()=>o.emit("close",u.id)},a)}))?l:{default:()=>[l]})}}}),Wj=Object.defineProperty,jj=Object.defineProperties,Xj=Object.getOwnPropertyDescriptors,qk=Object.getOwnPropertySymbols,Kj=Object.prototype.hasOwnProperty,Yj=Object.prototype.propertyIsEnumerable,Zk=(e,o,n)=>o in e?Wj(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,Wb=(e,o)=>{for(var n in o||(o={}))Kj.call(o,n)&&Zk(e,n,o[n]);if(qk)for(var n of qk(o))Yj.call(o,n)&&Zk(e,n,o[n]);return e},SL=(e,o)=>jj(e,Xj(o));class Qj{constructor(o,n){this.messageCount=0,this.add=u=>{var a;this.messageCount++;const h=(a=u.id)!=null?a:`__arco_message_${this.messageCount}`;if(this.messageIds.has(h))return this.update(h,u);const p=ft(Wb({id:h},u));return this.messages.value.push(p),this.messageIds.add(h),{close:()=>this.remove(h)}},this.update=(u,a)=>{for(let h=0;h<this.messages.value.length;h++)if(this.messages.value[h].id===u){const p=!Gt(a.duration);Object.assign(this.messages.value[h],SL(Wb({},a),{id:u,resetOnUpdate:p}));break}return{close:()=>this.remove(u)}},this.remove=u=>{for(let a=0;a<this.messages.value.length;a++){const h=this.messages.value[a];if(h.id===u){Ut(h.onClose)&&h.onClose(u),this.messages.value.splice(a,1),this.messageIds.delete(u);break}}},this.clear=()=>{this.messages.value.splice(0)},this.destroy=()=>{this.messages.value.length===0&&this.container&&(td(null,this.container),document.body.removeChild(this.container),this.container=null,eg[this.position]=void 0)};const{position:i="top"}=o;this.container=f1("message"),this.messageIds=new Set,this.messages=ve([]),this.position=i;const l=_(zj,{messages:this.messages.value,position:i,onClose:this.remove,onAfterClose:this.destroy});(n??DC._context)&&(l.appContext=n??DC._context),td(l,this.container),document.body.appendChild(this.container)}}const eg={},OL=[...m1,"loading","normal"],cb=OL.reduce((e,o)=>(e[o]=(n,i)=>{ir(n)&&(n={content:n});const l=Wb({type:o},n),{position:u="top"}=l;return eg[u]||(eg[u]=new Qj(l,i)),eg[u].add(l)},e),{});cb.clear=e=>{var o;e?(o=eg[e])==null||o.clear():Object.values(eg).forEach(n=>n==null?void 0:n.clear())};const DC=SL(Wb({},cb),{install:e=>{const o={clear:cb.clear};for(const n of OL)o[n]=(i,l=e._context)=>cb[n](i,l);e.config.globalProperties.$message=o},_context:null}),qj=({modalRef:e,wrapperRef:o,draggable:n,alignCenter:i})=>{const l=ve(!1),u=ve([0,0]),a=ve([0,0]),h=ve(),p=ve([0,0]),m=ve([0,0]),$=()=>{var R,L,M;if(o.value&&e.value){const{top:B,left:G}=o.value.getBoundingClientRect(),{clientWidth:j,clientHeight:F}=o.value,{top:x,left:D,width:U,height:te}=e.value.getBoundingClientRect(),Y=i.value?0:(R=e.value)==null?void 0:R.offsetTop,J=D-G,ee=x-B-Y;(J!==((L=a.value)==null?void 0:L[0])||ee!==((M=a.value)==null?void 0:M[1]))&&(a.value=[J,ee]);const ue=j>U?j-U:0,oe=F>te?F-te-Y:0;(ue!==m.value[0]||oe!==m.value[1])&&(m.value=[ue,oe]),Y&&(p.value=[0,0-Y])}},T=R=>{n.value&&(R.preventDefault(),l.value=!0,$(),u.value=[R.x,R.y],Jn(window,"mousemove",w),Jn(window,"mouseup",A),Jn(window,"contextmenu",A))},w=R=>{if(l.value){const L=R.x-u.value[0],M=R.y-u.value[1];let B=a.value[0]+L,G=a.value[1]+M;B<p.value[0]&&(B=p.value[0]),B>m.value[0]&&(B=m.value[0]),G<p.value[1]&&(G=p.value[1]),G>m.value[1]&&(G=m.value[1]),h.value=[B,G]}},A=()=>{l.value=!1,$o(window,"mousemove",w),$o(window,"mouseup",A)};return{position:h,handleMoveDown:T}};var Zj=Object.defineProperty,Jk=Object.getOwnPropertySymbols,Jj=Object.prototype.hasOwnProperty,eX=Object.prototype.propertyIsEnumerable,ew=(e,o,n)=>o in e?Zj(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,tX=(e,o)=>{for(var n in o||(o={}))Jj.call(o,n)&&ew(e,n,o[n]);if(Jk)for(var n of Jk(o))eX.call(o,n)&&ew(e,n,o[n]);return e},nX=Ae({name:"Modal",components:{ClientOnly:SI,ArcoButton:mi,IconHover:yo,IconClose:zr,IconInfoCircleFill:lv,IconCheckCircleFill:Wh,IconExclamationCircleFill:Vu,IconCloseCircleFill:fg},inheritAttrs:!1,props:{visible:{type:Boolean,default:void 0},defaultVisible:{type:Boolean,default:!1},width:{type:[Number,String]},top:{type:[Number,String]},mask:{type:Boolean,default:!0},title:{type:String},titleAlign:{type:String,default:"center"},alignCenter:{type:Boolean,default:!0},unmountOnClose:Boolean,maskClosable:{type:Boolean,default:!0},hideCancel:{type:Boolean,default:!1},simple:{type:Boolean,default:e=>e.notice},closable:{type:Boolean,default:!0},okText:String,cancelText:String,okLoading:{type:Boolean,default:!1},okButtonProps:{type:Object},cancelButtonProps:{type:Object},footer:{type:Boolean,default:!0},renderToBody:{type:Boolean,default:!0},popupContainer:{type:[String,Object],default:"body"},maskStyle:{type:Object},modalClass:{type:[String,Array]},modalStyle:{type:Object},onBeforeOk:{type:Function},onBeforeCancel:{type:Function},escToClose:{type:Boolean,default:!0},draggable:{type:Boolean,default:!1},fullscreen:{type:Boolean,default:!1},maskAnimationName:{type:String,default:e=>e.fullscreen?"fade-in-standard":"fade-modal"},modalAnimationName:{type:String,default:e=>e.fullscreen?"zoom-in":"zoom-modal"},bodyClass:{type:[String,Array]},bodyStyle:{type:[String,Object,Array]},messageType:{type:String}},emits:{"update:visible":e=>!0,ok:e=>!0,cancel:e=>!0,open:()=>!0,close:()=>!0,beforeOpen:()=>!0,beforeClose:()=>!0},setup(e,{emit:o}){const{fullscreen:n,popupContainer:i,alignCenter:l}=mt(e),u=Ge("modal"),{t:a}=Lo(),h=ve(),p=ve(),m=ve(e.defaultVisible),$=O(()=>{var ke;return(ke=e.visible)!=null?ke:m.value}),T=ve(!1),w=O(()=>e.okLoading||T.value),A=O(()=>e.draggable&&!e.fullscreen),{teleportContainer:R,containerRef:L}=OI({popupContainer:i,visible:$}),M=ve($.value),B=O(()=>e.okText||a("modal.okText")),G=O(()=>e.cancelText||a("modal.cancelText")),{zIndex:j,isLastDialog:F}=gg("dialog",{visible:$});let x=!1;const D=ke=>{e.escToClose&&ke.key===_r.ESC&&F()&&X(ke)},U=()=>{e.escToClose&&!x&&(x=!0,Jn(document.documentElement,"keydown",D))},te=()=>{x=!1,$o(document.documentElement,"keydown",D)};let Y=0;const{position:J,handleMoveDown:ee}=qj({wrapperRef:h,modalRef:p,draggable:A,alignCenter:l}),ue=()=>{Y++,T.value&&(T.value=!1),m.value=!1,o("update:visible",!1)},oe=async ke=>{const Be=Y,et=await new Promise(async ut=>{var dt;if(Ut(e.onBeforeOk)){let gt=e.onBeforeOk((we=!0)=>ut(we));if((Vh(gt)||!ks(gt))&&(T.value=!0),Vh(gt))try{gt=(dt=await gt)!=null?dt:!0}catch{gt=!1}ks(gt)&&ut(gt)}else ut(!0)});Be===Y&&(et?(o("ok",ke),ue()):T.value&&(T.value=!1))},X=ke=>{var Be;let et=!0;Ut(e.onBeforeCancel)&&(et=(Be=e.onBeforeCancel())!=null?Be:!1),et&&(o("cancel",ke),ue())},K=ve(!1),q=ke=>{ke.target===h.value&&(K.value=!0)},z=ke=>{e.mask&&e.maskClosable&&K.value&&X(ke)},ne=()=>{$.value&&(!hP(h.value,document.activeElement)&&document.activeElement instanceof HTMLElement&&document.activeElement.blur(),o("open"))},ge=()=>{$.value||(A.value&&(J.value=void 0),M.value=!1,Oe(),o("close"))},{setOverflowHidden:Q,resetOverflow:Oe}=eL(L);fn(()=>{L.value=Ia(e.popupContainer),$.value&&(Q(),e.escToClose&&U())}),wr(()=>{Oe(),te()}),At($,ke=>{m.value!==ke&&(m.value=ke),ke?(o("beforeOpen"),M.value=!0,K.value=!1,Q(),U()):(o("beforeClose"),te())}),At(n,()=>{J.value&&(J.value=void 0)});const Re=O(()=>[`${u}-wrapper`,{[`${u}-wrapper-align-center`]:e.alignCenter&&!e.fullscreen,[`${u}-wrapper-moved`]:!!J.value}]),_e=O(()=>[`${u}`,e.modalClass,{[`${u}-simple`]:e.simple,[`${u}-draggable`]:A.value,[`${u}-fullscreen`]:e.fullscreen}]),se=O(()=>{var ke;const Be=tX({},(ke=e.modalStyle)!=null?ke:{});return e.width&&!e.fullscreen&&(Be.width=_t(e.width)?`${e.width}px`:e.width),!e.alignCenter&&e.top&&(Be.top=_t(e.top)?`${e.top}px`:e.top),J.value&&(Be.transform=`translate(${J.value[0]}px, ${J.value[1]}px)`),Be});return{prefixCls:u,mounted:M,computedVisible:$,containerRef:L,wrapperRef:h,mergedModalStyle:se,okDisplayText:B,cancelDisplayText:G,zIndex:j,handleOk:oe,handleCancel:X,handleMaskClick:z,handleMaskMouseDown:q,handleOpen:ne,handleClose:ge,mergedOkLoading:w,modalRef:p,wrapperCls:Re,modalCls:_e,teleportContainer:R,handleMoveDown:ee}}});function oX(e,o,n,i,l,u){const a=Pe("icon-info-circle-fill"),h=Pe("icon-check-circle-fill"),p=Pe("icon-exclamation-circle-fill"),m=Pe("icon-close-circle-fill"),$=Pe("icon-close"),T=Pe("icon-hover"),w=Pe("arco-button"),A=Pe("client-only");return W(),Ze(A,null,{default:Je(()=>[(W(),Ze(i1,{to:e.teleportContainer,disabled:!e.renderToBody},[!e.unmountOnClose||e.computedVisible||e.mounted?Qs((W(),fe("div",lt({key:0,class:`${e.prefixCls}-container`,style:{zIndex:e.zIndex}},e.$attrs),[_(Hr,{name:e.maskAnimationName,appear:""},{default:Je(()=>[e.mask?Qs((W(),fe("div",{key:0,ref:"maskRef",class:Z(`${e.prefixCls}-mask`),style:yt(e.maskStyle)},null,6)),[[Zs,e.computedVisible]]):We("v-if",!0)]),_:1},8,["name"]),De("div",{ref:"wrapperRef",class:Z(e.wrapperCls),onClick:o[2]||(o[2]=qs((...R)=>e.handleMaskClick&&e.handleMaskClick(...R),["self"])),onMousedown:o[3]||(o[3]=qs((...R)=>e.handleMaskMouseDown&&e.handleMaskMouseDown(...R),["self"]))},[_(Hr,{name:e.modalAnimationName,appear:"",onAfterEnter:e.handleOpen,onAfterLeave:e.handleClose},{default:Je(()=>[Qs(De("div",{ref:"modalRef",class:Z(e.modalCls),style:yt(e.mergedModalStyle)},[e.$slots.title||e.title||e.closable?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-header`),onMousedown:o[1]||(o[1]=(...R)=>e.handleMoveDown&&e.handleMoveDown(...R))},[e.$slots.title||e.title?(W(),fe("div",{key:0,class:Z([`${e.prefixCls}-title`,`${e.prefixCls}-title-align-${e.titleAlign}`])},[e.messageType?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-title-icon`)},[e.messageType==="info"?(W(),Ze(a,{key:0})):We("v-if",!0),e.messageType==="success"?(W(),Ze(h,{key:1})):We("v-if",!0),e.messageType==="warning"?(W(),Ze(p,{key:2})):We("v-if",!0),e.messageType==="error"?(W(),Ze(m,{key:3})):We("v-if",!0)],2)):We("v-if",!0),Ue(e.$slots,"title",{},()=>[Dt(Mt(e.title),1)])],2)):We("v-if",!0),!e.simple&&e.closable?(W(),fe("div",{key:1,tabindex:"-1",role:"button","aria-label":"Close",class:Z(`${e.prefixCls}-close-btn`),onClick:o[0]||(o[0]=(...R)=>e.handleCancel&&e.handleCancel(...R))},[_(T,null,{default:Je(()=>[_($)]),_:1})],2)):We("v-if",!0)],34)):We("v-if",!0),De("div",{class:Z([`${e.prefixCls}-body`,e.bodyClass]),style:yt(e.bodyStyle)},[Ue(e.$slots,"default")],6),e.footer?(W(),fe("div",{key:1,class:Z(`${e.prefixCls}-footer`)},[Ue(e.$slots,"footer",{},()=>[e.hideCancel?We("v-if",!0):(W(),Ze(w,lt({key:0},e.cancelButtonProps,{onClick:e.handleCancel}),{default:Je(()=>[Dt(Mt(e.cancelDisplayText),1)]),_:1},16,["onClick"])),_(w,lt({type:"primary"},e.okButtonProps,{loading:e.mergedOkLoading,onClick:e.handleOk}),{default:Je(()=>[Dt(Mt(e.okDisplayText),1)]),_:1},16,["loading","onClick"])])],2)):We("v-if",!0)],6),[[Zs,e.computedVisible]])]),_:3},8,["name","onAfterEnter","onAfterLeave"])],34)],16)),[[Zs,e.computedVisible||e.mounted]]):We("v-if",!0)],8,["to","disabled"]))]),_:3})}var db=ot(nX,[["render",oX]]),rX=Object.defineProperty,iX=Object.defineProperties,sX=Object.getOwnPropertyDescriptors,tw=Object.getOwnPropertySymbols,lX=Object.prototype.hasOwnProperty,aX=Object.prototype.propertyIsEnumerable,nw=(e,o,n)=>o in e?rX(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,Dh=(e,o)=>{for(var n in o||(o={}))lX.call(o,n)&&nw(e,n,o[n]);if(tw)for(var n of tw(o))aX.call(o,n)&&nw(e,n,o[n]);return e},uX=(e,o)=>iX(e,sX(o));const rE=(e,o)=>{let n=f1("modal");const i=()=>{m.component&&(m.component.props.visible=!1),Ut(e.onOk)&&e.onOk()},l=()=>{m.component&&(m.component.props.visible=!1),Ut(e.onCancel)&&e.onCancel()},u=async()=>{await Un(),n&&(td(null,n),document.body.removeChild(n)),n=null,Ut(e.onClose)&&e.onClose()},a=()=>{m.component&&(m.component.props.visible=!1)},h=$=>{m.component&&Object.entries($).forEach(([T,w])=>{m.component.props[T]=w})},m=_(db,Dh(Dh(Dh({},{visible:!0,renderToBody:!1,unmountOnClose:!0,onOk:i,onCancel:l,onClose:u}),Sr(e,["content","title","footer","visible","unmountOnClose","onOk","onCancel","onClose"])),{footer:typeof e.footer=="boolean"?e.footer:void 0}),{default:Mi(e.content),title:Mi(e.title),footer:typeof e.footer!="boolean"?Mi(e.footer):void 0});return(o??ug._context)&&(m.appContext=o??ug._context),td(m,n),document.body.appendChild(n),{close:a,update:h}},iE=Dh({open:rE,confirm:(e,o)=>{const n=Dh({simple:!0,messageType:"warning"},e);return rE(n,o)}},m1.reduce((e,o)=>(e[o]=(n,i)=>{const l=Dh({simple:!0,hideCancel:!0,messageType:o},n);return rE(l,i)},e),{})),ug=Object.assign(db,uX(Dh({},iE),{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+db.name,db);const i={};for(const l of Object.keys(iE))i[l]=(u,a=e._context)=>iE[l](u,a);e.config.globalProperties.$modal=i},_context:null})),cX=e=>e.replace(/\B([A-Z])/g,"-$1").toLowerCase(),dX=Ae({name:"Notification",components:{AIconHover:yo,IconInfoCircleFill:lv,IconCheckCircleFill:Wh,IconExclamationCircleFill:Vu,IconCloseCircleFill:fg,IconClose:zr},props:{type:{type:String,default:"info"},showIcon:{type:Boolean,default:!0},closable:{type:Boolean,default:!1},duration:{type:Number,default:3e3},resetOnUpdate:{type:Boolean,default:!1}},emits:["close"],setup(e,o){const n=Ge("notification");let i=0;const l=()=>{o.emit("close")};return fn(()=>{e.duration>0&&(i=window.setTimeout(l,e.duration))}),$i(()=>{e.resetOnUpdate&&(i&&(window.clearTimeout(i),i=0),e.duration>0&&(i=window.setTimeout(l,e.duration)))}),Ir(()=>{i&&window.clearTimeout(i)}),{prefixCls:n,handleClose:l}}});function hX(e,o,n,i,l,u){const a=Pe("icon-info-circle-fill"),h=Pe("icon-check-circle-fill"),p=Pe("icon-exclamation-circle-fill"),m=Pe("icon-close-circle-fill"),$=Pe("icon-close"),T=Pe("a-icon-hover");return W(),fe("li",{role:"alert",class:Z([e.prefixCls,`${e.prefixCls}-${e.type}`,{[`${e.prefixCls}-closable`]:e.closable}])},[e.showIcon?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-left`)},[De("div",{class:Z(`${e.prefixCls}-icon`)},[Ue(e.$slots,"icon",{},()=>[e.type==="info"?(W(),Ze(a,{key:0})):e.type==="success"?(W(),Ze(h,{key:1})):e.type==="warning"?(W(),Ze(p,{key:2})):e.type==="error"?(W(),Ze(m,{key:3})):We("v-if",!0)])],2)],2)):We("v-if",!0),De("div",{class:Z(`${e.prefixCls}-right`)},[e.$slots.default?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-title`)},[Ue(e.$slots,"default")],2)):We("v-if",!0),e.$slots.content?(W(),fe("div",{key:1,class:Z(`${e.prefixCls}-content`)},[Ue(e.$slots,"content")],2)):We("v-if",!0),e.$slots.footer?(W(),fe("div",{key:2,class:Z(`${e.prefixCls}-footer`)},[Ue(e.$slots,"footer")],2)):We("v-if",!0)],2),e.closable?(W(),fe("div",{key:1,class:Z(`${e.prefixCls}-close-btn`),onClick:o[0]||(o[0]=(...w)=>e.handleClose&&e.handleClose(...w))},[Ue(e.$slots,"closeIconElement",{},()=>[_(T,null,{default:Je(()=>[Ue(e.$slots,"closeIcon",{},()=>[_($)])]),_:3})])],2)):We("v-if",!0)],2)}var pX=ot(dX,[["render",hX]]);const fX=["topLeft","topRight","bottomLeft","bottomRight"];function gX(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!vo(e)}var mX=Ae({name:"NotificationList",props:{notifications:{type:Array,default:()=>[]},position:{type:String,default:"topRight",validator:e=>fX.includes(e)}},emits:["close","afterClose"],setup(e,o){const n=Ge("notification-list"),i=cX(e.position),{zIndex:l}=gg("message",{runOnMounted:!0}),u=e.position.includes("Right");return()=>{let a;return _(rv,{class:[n,`${n}-${i}`],style:{zIndex:l.value},name:`slide-${u?"right":"left"}-notification`,onAfterLeave:()=>o.emit("afterClose"),tag:"ul"},gX(a=e.notifications.map(h=>{const p={default:Mi(h.title),content:Mi(h.content),icon:Mi(h.icon),footer:Mi(h.footer),closeIcon:Mi(h.closeIcon),closeIconElement:Mi(h.closeIconElement)};return _(pX,{key:h.id,type:h.type,style:h.style,class:h.class,duration:h.duration,closable:h.closable,showIcon:h.showIcon,resetOnUpdate:h.resetOnUpdate,onClose:()=>o.emit("close",h.id)},p)}))?a:{default:()=>[a]})}}}),$X=Object.defineProperty,vX=Object.defineProperties,_X=Object.getOwnPropertyDescriptors,ow=Object.getOwnPropertySymbols,bX=Object.prototype.hasOwnProperty,TX=Object.prototype.propertyIsEnumerable,rw=(e,o,n)=>o in e?$X(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,jb=(e,o)=>{for(var n in o||(o={}))bX.call(o,n)&&rw(e,n,o[n]);if(ow)for(var n of ow(o))TX.call(o,n)&&rw(e,n,o[n]);return e},kL=(e,o)=>vX(e,_X(o));class yX{constructor(o,n){this.notificationCount=0,this.add=u=>{var a;this.notificationCount++;const h=(a=u.id)!=null?a:`__arco_notification_${this.notificationCount}`;if(this.notificationIds.has(h))return this.update(h,u);const p=ft(jb({id:h},u));return this.notifications.value.push(p),this.notificationIds.add(h),{close:()=>this.remove(h)}},this.update=(u,a)=>{for(let h=0;h<this.notifications.value.length;h++)if(this.notifications.value[h].id===u){const p=!Gt(a.duration);Object.assign(this.notifications.value[h],kL(jb({},a),{id:u,resetOnUpdate:p}));break}return{close:()=>this.remove(u)}},this.remove=u=>{for(let a=0;a<this.notifications.value.length;a++){const h=this.notifications.value[a];if(h.id===u){Ut(h.onClose)&&h.onClose(u),this.notifications.value.splice(a,1),this.notificationIds.delete(u);break}}},this.clear=()=>{this.notifications.value.splice(0)},this.destroy=()=>{this.notifications.value.length===0&&this.container&&(td(null,this.container),document.body.removeChild(this.container),this.container=null,xh[this.position]=void 0)};const{position:i="topRight"}=o;this.container=f1("notification"),this.notificationIds=new Set,this.notifications=ve([]),this.position=i;const l=_(mX,{notifications:this.notifications.value,position:i,onClose:this.remove,onAfterClose:this.destroy});(n??xC._context)&&(l.appContext=n??xC._context),td(l,this.container),document.body.appendChild(this.container)}}const xh={},U$=m1.reduce((e,o)=>(e[o]=(n,i)=>{ir(n)&&(n={content:n});const l=jb({type:o},n),{position:u="topRight"}=l;return xh[u]||(xh[u]=new yX(l,i)),xh[u].add(l)},e),{});U$.remove=e=>{e&&Object.values(xh).forEach(o=>o==null?void 0:o.remove(e))};U$.clear=e=>{var o;e?(o=xh[e])==null||o.clear():Object.values(xh).forEach(n=>n==null?void 0:n.clear())};const xC=kL(jb({},U$),{install:e=>{const o={clear:U$.clear};for(const n of m1)o[n]=(i,l=e._context)=>U$[n](i,l);e.config.globalProperties.$notification=o},_context:null}),EX=Ae({name:"PageHeader",components:{AIconHover:yo,IconLeft:Hu},props:{title:String,subtitle:String,showBack:{type:Boolean,default:!0}},emits:["back"],setup(e,{emit:o,slots:n}){const i=Ge("page-header"),l=a=>{o("back",a)},u=O(()=>[i,{[`${i}-with-breadcrumb`]:!!n.breadcrumb,[`${i}-with-content`]:!!n.default}]);return{prefixCls:i,cls:u,handleBack:l}}});function CX(e,o,n,i,l,u){const a=Pe("icon-left"),h=Pe("a-icon-hover");return W(),fe("div",{class:Z(e.cls)},[De("div",{class:Z(`${e.prefixCls}-wrapper`)},[e.$slots.breadcrumb?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-breadcrumb`)},[Ue(e.$slots,"breadcrumb")],2)):We("v-if",!0),De("div",{class:Z(`${e.prefixCls}-header`)},[De("span",{class:Z(`${e.prefixCls}-main`)},[e.showBack?(W(),Ze(h,{key:0,class:Z(`${e.prefixCls}-back-btn`),prefix:e.prefixCls,onClick:e.handleBack},{default:Je(()=>[Ue(e.$slots,"back-icon",{},()=>[_(a)])]),_:3},8,["class","prefix","onClick"])):We("v-if",!0),De("span",{class:Z(`${e.prefixCls}-title`)},[Ue(e.$slots,"title",{},()=>[Dt(Mt(e.title),1)])],2),e.$slots.subtitle||e.subtitle?(W(),fe("span",{key:1,class:Z(`${e.prefixCls}-divider`)},null,2)):We("v-if",!0),e.$slots.subtitle||e.subtitle?(W(),fe("span",{key:2,class:Z(`${e.prefixCls}-subtitle`)},[Ue(e.$slots,"subtitle",{},()=>[Dt(Mt(e.subtitle),1)])],2)):We("v-if",!0)],2),e.$slots.extra?(W(),fe("span",{key:0,class:Z(`${e.prefixCls}-extra`)},[Ue(e.$slots,"extra")],2)):We("v-if",!0)],2)],2),e.$slots.default?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-content`)},[Ue(e.$slots,"default")],2)):We("v-if",!0)],2)}var sE=ot(EX,[["render",CX]]);const IX=Object.assign(sE,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+sE.name,sE)}}),SX=Ae({name:"Popconfirm",components:{ArcoButton:mi,Trigger:Or,IconInfoCircleFill:lv,IconCheckCircleFill:Wh,IconExclamationCircleFill:Vu,IconCloseCircleFill:fg},props:{content:String,position:{type:String,default:"top"},popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},type:{type:String,default:"info"},okText:String,cancelText:String,okLoading:{type:Boolean,default:!1},okButtonProps:{type:Object},cancelButtonProps:{type:Object},contentClass:{type:[String,Array,Object]},contentStyle:{type:Object},arrowClass:{type:[String,Array,Object]},arrowStyle:{type:Object},popupContainer:{type:[String,Object]},onBeforeOk:{type:Function},onBeforeCancel:{type:Function}},emits:{"update:popupVisible":e=>!0,popupVisibleChange:e=>!0,ok:()=>!0,cancel:()=>!0},setup(e,{emit:o}){const n=Ge("popconfirm"),{t:i}=Lo(),l=ve(e.defaultPopupVisible),u=O(()=>{var L;return(L=e.popupVisible)!=null?L:l.value}),a=ve(!1),h=O(()=>e.okLoading||a.value);let p=0;const m=()=>{p++,a.value&&(a.value=!1),l.value=!1,o("update:popupVisible",!1),o("popupVisibleChange",!1)},$=L=>{L?(l.value=L,o("update:popupVisible",L),o("popupVisibleChange",L)):m()},T=async()=>{const L=p,M=await new Promise(async B=>{var G;if(Ut(e.onBeforeOk)){let j=e.onBeforeOk((F=!0)=>B(F));if((Vh(j)||!ks(j))&&(a.value=!0),Vh(j))try{j=(G=await j)!=null?G:!0}catch{j=!1}ks(j)&&B(j)}else B(!0)});L===p&&(M?(o("ok"),m()):a.value&&(a.value=!1))},w=()=>{var L;let M=!0;Ut(e.onBeforeCancel)&&(M=(L=e.onBeforeCancel())!=null?L:!1),M&&(o("cancel"),m())},A=O(()=>[`${n}-popup-content`,e.contentClass]),R=O(()=>[`${n}-popup-arrow`,e.arrowClass]);return{prefixCls:n,contentCls:A,arrowCls:R,computedPopupVisible:u,mergedOkLoading:h,handlePopupVisibleChange:$,handleOk:T,handleCancel:w,t:i}}});function OX(e,o,n,i,l,u){const a=Pe("icon-info-circle-fill"),h=Pe("icon-check-circle-fill"),p=Pe("icon-exclamation-circle-fill"),m=Pe("icon-close-circle-fill"),$=Pe("arco-button"),T=Pe("trigger");return W(),Ze(T,{class:Z(e.prefixCls),trigger:"click",position:e.position,"show-arrow":"","popup-visible":e.computedPopupVisible,"popup-offset":10,"popup-container":e.popupContainer,"content-class":e.contentCls,"content-style":e.contentStyle,"arrow-class":e.arrowCls,"arrow-style":e.arrowStyle,"animation-name":"zoom-in-fade-out","auto-fit-transform-origin":"",onPopupVisibleChange:e.handlePopupVisibleChange},{content:Je(()=>[De("div",{class:Z(`${e.prefixCls}-body`)},[De("span",{class:Z(`${e.prefixCls}-icon`)},[Ue(e.$slots,"icon",{},()=>[e.type==="info"?(W(),Ze(a,{key:0})):e.type==="success"?(W(),Ze(h,{key:1})):e.type==="warning"?(W(),Ze(p,{key:2})):e.type==="error"?(W(),Ze(m,{key:3})):We("v-if",!0)])],2),De("span",{class:Z(`${e.prefixCls}-content`)},[Ue(e.$slots,"content",{},()=>[Dt(Mt(e.content),1)])],2)],2),De("div",{class:Z(`${e.prefixCls}-footer`)},[_($,lt({size:"mini"},e.cancelButtonProps,{onClick:e.handleCancel}),{default:Je(()=>[Dt(Mt(e.cancelText||e.t("popconfirm.cancelText")),1)]),_:1},16,["onClick"]),_($,lt({type:"primary",size:"mini"},e.okButtonProps,{loading:e.mergedOkLoading,onClick:e.handleOk}),{default:Je(()=>[Dt(Mt(e.okText||e.t("popconfirm.okText")),1)]),_:1},16,["loading","onClick"])],2)]),default:Je(()=>[Ue(e.$slots,"default")]),_:3},8,["class","position","popup-visible","popup-container","content-class","content-style","arrow-class","arrow-style","onPopupVisibleChange"])}var lE=ot(SX,[["render",OX]]);const kX=Object.assign(lE,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+lE.name,lE)}});var wX=Object.defineProperty,iw=Object.getOwnPropertySymbols,NX=Object.prototype.hasOwnProperty,AX=Object.prototype.propertyIsEnumerable,sw=(e,o,n)=>o in e?wX(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,RX=(e,o)=>{for(var n in o||(o={}))NX.call(o,n)&&sw(e,n,o[n]);if(iw)for(var n of iw(o))AX.call(o,n)&&sw(e,n,o[n]);return e};const LX={small:3,medium:4,large:8},MX=e=>{if(e)return cn(e)?{backgroundImage:`linear-gradient(to right, ${Object.keys(e).map(n=>`${e[n]} ${n}`).join(",")})`}:{backgroundColor:e}},PX=Ae({name:"ProgressLine",components:{IconExclamationCircleFill:Vu},props:{percent:{type:Number,default:0},animation:{type:Boolean,default:!1},size:{type:String,default:"medium"},strokeWidth:{type:Number,default:4},width:{type:[Number,String],default:"100%"},color:{type:[String,Object],default:void 0},trackColor:String,formatText:{type:Function,default:void 0},status:{type:String},showText:Boolean},setup(e){const o=Ge("progress-line"),n=O(()=>e.strokeWidth!==4?e.strokeWidth:LX[e.size]),i=O(()=>`${Pi.times(e.percent,100)}%`),l=O(()=>({width:e.width,height:`${n.value}px`,backgroundColor:e.trackColor})),u=O(()=>RX({width:`${e.percent*100}%`},MX(e.color)));return{prefixCls:o,style:l,barStyle:u,text:i}}}),DX=["aria-valuenow"];function xX(e,o,n,i,l,u){const a=Pe("icon-exclamation-circle-fill");return W(),fe("div",{role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.percent,class:Z(`${e.prefixCls}-wrapper`)},[De("div",{class:Z(e.prefixCls),style:yt(e.style)},[De("div",{class:Z(`${e.prefixCls}-bar-buffer`)},null,2),De("div",{class:Z([`${e.prefixCls}-bar`]),style:yt(e.barStyle)},null,6)],6),e.showText?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-text`)},[Ue(e.$slots,"text",{percent:e.percent},()=>[Dt(Mt(e.text)+" ",1),e.status==="danger"?(W(),Ze(a,{key:0})):We("v-if",!0)])],2)):We("v-if",!0)],10,DX)}var BX=ot(PX,[["render",xX]]);const FX=Ae({name:"IconExclamation",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-exclamation`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),VX=["stroke-width","stroke-linecap","stroke-linejoin"],UX=De("path",{d:"M23 9h2v21h-2z"},null,-1),HX=De("path",{fill:"currentColor",stroke:"none",d:"M23 9h2v21h-2z"},null,-1),GX=De("path",{d:"M23 37h2v2h-2z"},null,-1),zX=De("path",{fill:"currentColor",stroke:"none",d:"M23 37h2v2h-2z"},null,-1),WX=[UX,HX,GX,zX];function jX(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},WX,14,VX)}var aE=ot(FX,[["render",jX]]);const wL=Object.assign(aE,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+aE.name,aE)}}),XX=Ae({name:"IconCheck",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-check`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),KX=["stroke-width","stroke-linecap","stroke-linejoin"],YX=De("path",{d:"M41.678 11.05 19.05 33.678 6.322 20.95"},null,-1),QX=[YX];function qX(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},QX,14,KX)}var uE=ot(XX,[["render",qX]]);const w1=Object.assign(uE,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+uE.name,uE)}});let lw=0;const ZX={mini:16,small:48,medium:64,large:80},JX={mini:4,small:3,medium:4,large:4},eK=Ae({name:"ProgressCircle",components:{IconExclamation:wL,IconCheck:w1},props:{percent:{type:Number,default:0},type:{type:String},size:{type:String,default:"medium"},strokeWidth:{type:Number},width:{type:Number,default:void 0},color:{type:[String,Object],default:void 0},trackColor:String,status:{type:String,default:void 0},showText:{type:Boolean,default:!0},pathStrokeWidth:{type:Number}},setup(e){const o=Ge("progress-circle"),n=cn(e.color),i=O(()=>{var T;return(T=e.width)!=null?T:ZX[e.size]}),l=O(()=>{var T;return(T=e.strokeWidth)!=null?T:e.size==="mini"?i.value/2:JX[e.size]}),u=O(()=>{var T;return(T=e.pathStrokeWidth)!=null?T:e.size==="mini"?l.value:Math.max(2,l.value-2)}),a=O(()=>(i.value-l.value)/2),h=O(()=>Math.PI*2*a.value),p=O(()=>i.value/2),m=O(()=>(lw+=1,`${o}-linear-gradient-${lw}`)),$=O(()=>`${Pi.times(e.percent,100)}%`);return{prefixCls:o,isLinearGradient:n,radius:a,text:$,perimeter:h,center:p,mergedWidth:i,mergedStrokeWidth:l,mergedPathStrokeWidth:u,linearGradientId:m}}}),tK=["aria-valuenow"],nK=["viewBox"],oK={key:0},rK=["id"],iK=["offset","stop-color"],sK=["cx","cy","r","stroke-width"],lK=["cx","cy","r","stroke-width"];function aK(e,o,n,i,l,u){const a=Pe("icon-check"),h=Pe("icon-exclamation");return W(),fe("div",{role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.percent,class:Z(`${e.prefixCls}-wrapper`),style:yt({width:`${e.mergedWidth}px`,height:`${e.mergedWidth}px`})},[e.type==="circle"&&e.size==="mini"&&e.status==="success"?(W(),Ze(a,{key:0,style:yt({fontSize:e.mergedWidth-2,color:e.color})},null,8,["style"])):(W(),fe("svg",{key:1,viewBox:`0 0 ${e.mergedWidth} ${e.mergedWidth}`,class:Z(`${e.prefixCls}-svg`)},[e.isLinearGradient?(W(),fe("defs",oK,[De("linearGradient",{id:e.linearGradientId,x1:"0",y1:"1",x2:"0",y2:"0"},[(W(!0),fe(Lt,null,Ko(Object.keys(e.color),p=>(W(),fe("stop",{key:p,offset:p,"stop-color":e.color[p]},null,8,iK))),128))],8,rK)])):We("v-if",!0),De("circle",{class:Z(`${e.prefixCls}-bg`),fill:"none",cx:e.center,cy:e.center,r:e.radius,"stroke-width":e.mergedPathStrokeWidth,style:yt({stroke:e.trackColor})},null,14,sK),De("circle",{class:Z(`${e.prefixCls}-bar`),fill:"none",cx:e.center,cy:e.center,r:e.radius,"stroke-width":e.mergedStrokeWidth,style:yt({stroke:e.isLinearGradient?`url(#${e.linearGradientId})`:e.color,strokeDasharray:e.perimeter,strokeDashoffset:(e.percent>=1?0:1-e.percent)*e.perimeter})},null,14,lK)],10,nK)),e.showText&&e.size!=="mini"?(W(),fe("div",{key:2,class:Z(`${e.prefixCls}-text`)},[Ue(e.$slots,"text",{percent:e.percent},()=>[e.status==="danger"?(W(),Ze(h,{key:0})):e.status==="success"?(W(),Ze(a,{key:1})):(W(),fe(Lt,{key:2},[Dt(Mt(e.text),1)],2112))])],2)):We("v-if",!0)],14,tK)}var uK=ot(eK,[["render",aK]]);const cK=Ae({name:"ProgressSteps",components:{IconExclamationCircleFill:Vu},props:{steps:{type:Number,default:0},percent:{type:Number,default:0},size:{type:String},color:{type:[String,Object],default:void 0},trackColor:String,strokeWidth:{type:Number},status:{type:String,default:void 0},showText:{type:Boolean,default:!0}},setup(e){const o=Ge("progress-steps"),n=O(()=>{var u;return((u=e.strokeWidth)!=null?u:e.size==="small")?8:4}),i=O(()=>[...Array(e.steps)].map((u,a)=>e.percent>0&&e.percent>1/e.steps*a)),l=O(()=>`${Pi.times(e.percent,100)}%`);return{prefixCls:o,stepList:i,mergedStrokeWidth:n,text:l}}}),dK=["aria-valuenow"];function hK(e,o,n,i,l,u){const a=Pe("icon-exclamation-circle-fill");return W(),fe("div",{role:"progressbar","aria-valuemin":"0","aria-valuemax":"100","aria-valuenow":e.percent,class:Z(`${e.prefixCls}-wrapper`)},[De("div",{class:Z(e.prefixCls),style:yt({height:`${e.mergedStrokeWidth}px`})},[(W(!0),fe(Lt,null,Ko(e.stepList,(h,p)=>(W(),fe("div",{key:p,class:Z([`${e.prefixCls}-item`,{[`${e.prefixCls}-item-active`]:h}]),style:yt({backgroundColor:h?e.color:e.trackColor})},null,6))),128))],6),e.showText?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-text`)},[Ue(e.$slots,"text",{percent:e.percent},()=>[Dt(Mt(e.text)+" ",1),e.status==="danger"?(W(),Ze(a,{key:0})):We("v-if",!0)])],2)):We("v-if",!0)],10,dK)}var pK=ot(cK,[["render",hK]]);const fK=Ae({name:"Progress",components:{ProgressLine:BX,ProgressCircle:uK,ProgressSteps:pK},props:{type:{type:String,default:"line"},size:{type:String},percent:{type:Number,default:0},steps:{type:Number,default:0},animation:{type:Boolean,default:!1},strokeWidth:{type:Number},width:{type:[Number,String]},color:{type:[String,Object]},trackColor:String,bufferColor:{type:[String,Object]},showText:{type:Boolean,default:!0},status:{type:String}},setup(e){const o=Ge("progress"),{size:n}=mt(e),i=O(()=>e.steps>0?"steps":e.type),l=O(()=>e.status||(e.percent>=1?"success":"normal")),{mergedSize:u}=Wr(n);return{cls:O(()=>[o,`${o}-type-${i.value}`,`${o}-size-${u.value}`,`${o}-status-${l.value}`]),computedStatus:l,mergedSize:u}}});function gK(e,o,n,i,l,u){const a=Pe("progress-steps"),h=Pe("progress-line"),p=Pe("progress-circle");return W(),fe("div",{class:Z(e.cls)},[e.steps>0?(W(),Ze(a,{key:0,"stroke-width":e.strokeWidth,percent:e.percent,color:e.color,"track-color":e.trackColor,width:e.width,steps:e.steps,size:e.mergedSize,"show-text":e.showText},Oo({_:2},[e.$slots.text?{name:"text",fn:Je(m=>[Ue(e.$slots,"text",ao(Fr(m)))])}:void 0]),1032,["stroke-width","percent","color","track-color","width","steps","size","show-text"])):e.type==="line"&&e.mergedSize!=="mini"?(W(),Ze(h,{key:1,"stroke-width":e.strokeWidth,animation:e.animation,percent:e.percent,color:e.color,"track-color":e.trackColor,size:e.mergedSize,"buffer-color":e.bufferColor,width:e.width,"show-text":e.showText,status:e.computedStatus},Oo({_:2},[e.$slots.text?{name:"text",fn:Je(m=>[Ue(e.$slots,"text",ao(Fr(m)))])}:void 0]),1032,["stroke-width","animation","percent","color","track-color","size","buffer-color","width","show-text","status"])):(W(),Ze(p,{key:2,type:e.type,"stroke-width":e.type==="line"?e.strokeWidth||4:e.strokeWidth,"path-stroke-width":e.type==="line"?e.strokeWidth||4:e.strokeWidth,width:e.width,percent:e.percent,color:e.color,"track-color":e.trackColor,size:e.mergedSize,"show-text":e.showText,status:e.computedStatus},Oo({_:2},[e.$slots.text?{name:"text",fn:Je(m=>[Ue(e.$slots,"text",ao(Fr(m)))])}:void 0]),1032,["type","stroke-width","path-stroke-width","width","percent","color","track-color","size","show-text","status"]))],2)}var cE=ot(fK,[["render",gK]]);const NL=Object.assign(cE,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+cE.name,cE)}}),mK=Ae({name:"IconStarFill",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-star-fill`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),$K=["stroke-width","stroke-linecap","stroke-linejoin"],vK=De("path",{d:"M22.683 5.415c.568-1.043 2.065-1.043 2.634 0l5.507 10.098a1.5 1.5 0 0 0 1.04.756l11.306 2.117c1.168.219 1.63 1.642.814 2.505l-7.902 8.359a1.5 1.5 0 0 0-.397 1.223l1.48 11.407c.153 1.177-1.058 2.057-2.131 1.548l-10.391-4.933a1.5 1.5 0 0 0-1.287 0l-10.39 4.933c-1.073.51-2.284-.37-2.131-1.548l1.48-11.407a1.5 1.5 0 0 0-.398-1.223L4.015 20.89c-.816-.863-.353-2.286.814-2.505l11.306-2.117a1.5 1.5 0 0 0 1.04-.756l5.508-10.098Z",fill:"currentColor",stroke:"none"},null,-1),_K=[vK];function bK(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},_K,14,$K)}var dE=ot(mK,[["render",bK]]);const TK=Object.assign(dE,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+dE.name,dE)}}),yK=Ae({name:"IconFaceMehFill",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-face-meh-fill`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),EK=["stroke-width","stroke-linecap","stroke-linejoin"],CK=De("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Zm7.321-26.873a2.625 2.625 0 1 1 0 5.25 2.625 2.625 0 0 1 0-5.25Zm-14.646 0a2.625 2.625 0 1 1 0 5.25 2.625 2.625 0 0 1 0-5.25ZM15.999 30a2 2 0 0 1 2-2h12a2 2 0 1 1 0 4H18a2 2 0 0 1-2-2Z",fill:"currentColor",stroke:"none"},null,-1),IK=[CK];function SK(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},IK,14,EK)}var hE=ot(yK,[["render",SK]]);const aw=Object.assign(hE,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+hE.name,hE)}}),OK=Ae({name:"IconFaceSmileFill",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-face-smile-fill`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),kK=["stroke-width","stroke-linecap","stroke-linejoin"],wK=De("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Zm7.321-26.873a2.625 2.625 0 1 1 0 5.25 2.625 2.625 0 0 1 0-5.25Zm-14.646 0a2.625 2.625 0 1 1 0 5.25 2.625 2.625 0 0 1 0-5.25Zm-.355 9.953a1.91 1.91 0 0 1 2.694.177 6.66 6.66 0 0 0 5.026 2.279c1.918 0 3.7-.81 4.961-2.206a1.91 1.91 0 0 1 2.834 2.558 10.476 10.476 0 0 1-7.795 3.466 10.477 10.477 0 0 1-7.897-3.58 1.91 1.91 0 0 1 .177-2.694Z",fill:"currentColor",stroke:"none"},null,-1),NK=[wK];function AK(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},NK,14,kK)}var pE=ot(OK,[["render",AK]]);const RK=Object.assign(pE,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+pE.name,pE)}}),LK=Ae({name:"IconFaceFrownFill",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-face-frown-fill`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),MK=["stroke-width","stroke-linecap","stroke-linejoin"],PK=De("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M24 44c11.046 0 20-8.954 20-20S35.046 4 24 4 4 12.954 4 24s8.954 20 20 20Zm7.322-26.873a2.625 2.625 0 1 1 0 5.25 2.625 2.625 0 0 1 0-5.25Zm-14.646 0a2.625 2.625 0 1 1 0 5.25 2.625 2.625 0 0 1 0-5.25ZM31.68 32.88a1.91 1.91 0 0 1-2.694-.176 6.66 6.66 0 0 0-5.026-2.28c-1.918 0-3.701.81-4.962 2.207a1.91 1.91 0 0 1-2.834-2.559 10.476 10.476 0 0 1 7.796-3.465c3.063 0 5.916 1.321 7.896 3.58a1.909 1.909 0 0 1-.176 2.693Z",fill:"currentColor",stroke:"none"},null,-1),DK=[PK];function xK(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},DK,14,MK)}var fE=ot(LK,[["render",xK]]);const BK=Object.assign(fE,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+fE.name,fE)}});var gE=Ae({name:"Rate",props:{count:{type:Number,default:5},modelValue:{type:Number,default:void 0},defaultValue:{type:Number,default:0},allowHalf:{type:Boolean,default:!1},allowClear:{type:Boolean,default:!1},grading:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},color:{type:[String,Object]}},emits:{"update:modelValue":e=>!0,change:e=>!0,hoverChange:e=>!0},setup(e,{emit:o,slots:n}){const{modelValue:i}=mt(e),l=Ge("rate"),{mergedDisabled:u,eventHandlers:a}=Eo({disabled:Os(e,"disabled")}),h=ve(e.defaultValue),p=ve(!1);At(i,U=>{(Gt(U)||Di(U))&&(h.value=0)});const m=ve(0),$=O(()=>{var U;return(U=e.modelValue)!=null?U:h.value}),T=O(()=>{const U=e.allowHalf?Pi.times(Pi.round(Pi.divide($.value,.5),0),.5):Math.round($.value);return m.value||U}),w=O(()=>u.value||e.readonly),A=O(()=>[...Array(e.grading?5:e.count)]),R=O(()=>{var U;if(ir(e.color))return A.value.map(()=>e.color);if(cn(e.color)){const te=Object.keys(e.color).map(J=>Number(J)).sort((J,ee)=>ee-J);let Y=(U=te.pop())!=null?U:A.value.length;return A.value.map((J,ee)=>{var ue;return ee+1>Y&&(Y=(ue=te.pop())!=null?ue:Y),e.color[String(Y)]})}}),L=()=>{m.value&&(m.value=0,o("hoverChange",0))},M=(U,te)=>{const Y=te&&e.allowHalf?U+.5:U+1;Y!==m.value&&(m.value=Y,o("hoverChange",Y))},B=(U,te)=>{var Y,J,ee,ue;const oe=te&&e.allowHalf?U+.5:U+1;p.value=!0,oe!==$.value?(h.value=oe,o("update:modelValue",oe),o("change",oe),(J=(Y=a.value)==null?void 0:Y.onChange)==null||J.call(Y)):e.allowClear&&(h.value=0,o("update:modelValue",0),o("change",0),(ue=(ee=a.value)==null?void 0:ee.onChange)==null||ue.call(ee))},G=U=>{p.value&&U+1>=$.value-1&&(p.value=!1)},j=(U,te)=>U>te?_(aw,null,null):te<=2?_(BK,null,null):te<=3?_(aw,null,null):_(RK,null,null),F=(U,te=!1)=>({role:"radio","aria-checked":U+(te?.5:1)<=$.value,"aria-setsize":A.value.length,"aria-posinset":U+(te?.5:1)}),x=U=>{var te,Y;const J=e.grading?j(U,T.value):(Y=(te=n.character)==null?void 0:te.call(n,{index:U}))!=null?Y:_(TK,null,null),ee=w.value?{}:{onMouseenter:()=>M(U,!0),onClick:()=>B(U,!0)},ue=w.value?{}:{onMouseenter:()=>M(U,!1),onClick:()=>B(U,!1)},oe=p.value?{animationDelay:`${50*U}ms`}:void 0,X=Math.ceil(T.value)-1,K=R.value&&e.allowHalf&&U+.5===T.value?{color:R.value[X]}:void 0,q=R.value&&U+1<=T.value?{color:R.value[X]}:void 0,z=[`${l}-character`,{[`${l}-character-half`]:e.allowHalf&&U+.5===T.value,[`${l}-character-full`]:U+1<=T.value,[`${l}-character-scale`]:p.value&&U+1<$.value}];return _("div",lt({class:z,style:oe},e.allowHalf?void 0:F(U),{onAnimationend:()=>G(U)}),[_("div",lt({class:`${l}-character-left`,style:K},ee,e.allowHalf?F(U,!0):void 0),[J]),_("div",lt({class:`${l}-character-right`,style:q},ue,e.allowHalf?F(U):void 0),[J])])},D=O(()=>[l,{[`${l}-readonly`]:e.readonly,[`${l}-disabled`]:u.value}]);return()=>_("div",{class:D.value,onMouseleave:L},[A.value.map((U,te)=>x(te))])}});const FK=Object.assign(gE,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+gE.name,gE)}}),VK=Ae({name:"IconInfo",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-info`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),UK=["stroke-width","stroke-linecap","stroke-linejoin"],HK=De("path",{d:"M25 39h-2V18h2z"},null,-1),GK=De("path",{fill:"currentColor",stroke:"none",d:"M25 39h-2V18h2z"},null,-1),zK=De("path",{d:"M25 11h-2V9h2z"},null,-1),WK=De("path",{fill:"currentColor",stroke:"none",d:"M25 11h-2V9h2z"},null,-1),jK=[HK,GK,zK,WK];function XK(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},jK,14,UK)}var mE=ot(VK,[["render",XK]]);const KK=Object.assign(mE,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+mE.name,mE)}});var YK=Ae({name:"ResultForbidden",render(){return _("svg",{viewBox:"0 0 213 213",height:"100%",width:"100%",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2}},[_("g",{transform:"matrix(1,0,0,1,-871.485,-445.62)"},[_("g",null,[_("g",{transform:"matrix(1,0,0,1,-75.2684,-87.3801)"},[_("circle",{cx:"1053.23",cy:"639.477",r:"106.477",style:{fill:"rgb(235, 238, 246)"}},null)]),_("g",{transform:"matrix(1,0,0,1,246.523,295.575)"},[_("g",{transform:"matrix(0.316667,0,0,0.316667,277.545,71.0298)"},[_("g",{transform:"matrix(0.989011,-0.571006,1.14201,0.659341,-335.171,81.4498)"},[_("rect",{x:"495.52",y:"1057.87",width:"105.078",height:"91",style:{fill:"rgb(253, 243, 228)"}},null)]),_("g",{transform:"matrix(0.164835,-0.0951676,1.14201,0.659341,116.224,-179.163)"},[_("rect",{x:"495.52",y:"1057.87",width:"105.078",height:"91",style:{fill:"rgb(202, 174, 136)"}},null)]),_("g",{transform:"matrix(0.978261,-0.564799,1.26804e-16,1.30435,-337.046,42.0327)"},[_("rect",{x:"1844.06",y:"1192.54",width:"106.232",height:"92",style:{fill:"rgb(196, 173, 142)"}},null)]),_("g",{transform:"matrix(0.267591,-0.154493,3.46856e-17,0.356787,992.686,475.823)"},[_("rect",{x:"1844.06",y:"1192.54",width:"106.232",height:"92",style:{fill:"rgb(102, 102, 102)"}},null)]),_("g",{transform:"matrix(1.28257,-0.740494,1.23317e-16,1.7101,1501.14,624.071)"},[_("g",{transform:"matrix(1,0,0,1,-6,-6)"},[_("path",{d:"M2.25,10.5C2.25,10.5 1.5,10.5 1.5,9.75C1.5,9 2.25,6.75 6,6.75C9.75,6.75 10.5,9 10.5,9.75C10.5,10.5 9.75,10.5 9.75,10.5L2.25,10.5ZM6,6C7.234,6 8.25,4.984 8.25,3.75C8.25,2.516 7.234,1.5 6,1.5C4.766,1.5 3.75,2.516 3.75,3.75C3.75,4.984 4.766,6 6,6Z",style:{fill:"white"}},null)])]),_("g",{transform:"matrix(0.725806,0.419045,1.75755e-17,1.01444,155.314,212.138)"},[_("rect",{x:"1663.92",y:"-407.511",width:"143.183",height:"118.292",style:{fill:"rgb(240, 218, 183)"}},null)]),_("g",{transform:"matrix(1.58977,-0.917857,1.15976e-16,2.2425,-1270.46,-614.379)"},[_("rect",{x:"1748.87",y:"1226.67",width:"10.895",height:"13.378",style:{fill:"rgb(132, 97, 0)"}},null)])]),_("g",{transform:"matrix(0.182997,0.105653,-0.494902,0.285732,814.161,66.3087)"},[_("rect",{x:"657.012",y:"404.643",width:"198.586",height:"145.08",style:{fillOpacity:.1}},null)]),_("g",{transform:"matrix(0.316667,0,0,0.316667,237.301,94.2647)"},[_("g",{transform:"matrix(0.989011,-0.571006,1.14201,0.659341,-335.171,81.4498)"},[_("rect",{x:"495.52",y:"1057.87",width:"105.078",height:"91",style:{fill:"rgb(253, 243, 228)"}},null)]),_("g",{transform:"matrix(0.164835,-0.0951676,1.14201,0.659341,116.224,-179.163)"},[_("rect",{x:"495.52",y:"1057.87",width:"105.078",height:"91",style:{fill:"rgb(202, 174, 136)"}},null)]),_("g",{transform:"matrix(0.978261,-0.564799,1.26804e-16,1.30435,-337.046,42.0327)"},[_("rect",{x:"1844.06",y:"1192.54",width:"106.232",height:"92",style:{fill:"rgb(196, 173, 142)"}},null)]),_("g",{transform:"matrix(0.267591,-0.154493,3.46856e-17,0.356787,992.686,475.823)"},[_("rect",{x:"1844.06",y:"1192.54",width:"106.232",height:"92",style:{fill:"rgb(102, 102, 102)"}},null)]),_("g",{transform:"matrix(1.28257,-0.740494,1.23317e-16,1.7101,1501.14,624.071)"},[_("g",{transform:"matrix(1,0,0,1,-6,-6)"},[_("path",{d:"M2.25,10.5C2.25,10.5 1.5,10.5 1.5,9.75C1.5,9 2.25,6.75 6,6.75C9.75,6.75 10.5,9 10.5,9.75C10.5,10.5 9.75,10.5 9.75,10.5L2.25,10.5ZM6,6C7.234,6 8.25,4.984 8.25,3.75C8.25,2.516 7.234,1.5 6,1.5C4.766,1.5 3.75,2.516 3.75,3.75C3.75,4.984 4.766,6 6,6Z",style:{fill:"white"}},null)])]),_("g",{transform:"matrix(0.725806,0.419045,1.75755e-17,1.01444,155.314,212.138)"},[_("rect",{x:"1663.92",y:"-407.511",width:"143.183",height:"118.292",style:{fill:"rgb(240, 218, 183)"}},null)]),_("g",{transform:"matrix(1.58977,-0.917857,1.15976e-16,2.2425,-1270.46,-614.379)"},[_("rect",{x:"1748.87",y:"1226.67",width:"10.895",height:"13.378",style:{fill:"rgb(132, 97, 0)"}},null)])]),_("g",{transform:"matrix(0.474953,0,0,0.474953,538.938,8.95289)"},[_("g",{transform:"matrix(0.180615,0.104278,-0.973879,0.562269,790.347,286.159)"},[_("rect",{x:"657.012",y:"404.643",width:"198.586",height:"145.08",style:{fillOpacity:.1}},null)]),_("g",{transform:"matrix(0.473356,0,0,0.473356,294.481,129.741)"},[_("g",null,[_("g",{transform:"matrix(0.1761,-0.101671,1.73518e-16,1.22207,442.564,7.31508)"},[_("rect",{x:"202.62",y:"575.419",width:"124.002",height:"259.402",style:{fill:"rgb(235, 235, 235)"}},null)]),_("g",{transform:"matrix(0.0922781,0.0532768,2.03964e-16,2.20569,405.236,-248.842)"},[_("rect",{x:"657.012",y:"404.643",width:"198.586",height:"145.08",style:{fill:"rgb(34, 34, 34)"}},null)]),_("g",{transform:"matrix(0.147541,-0.0851831,1.52371e-16,1.23446,454.294,-3.8127)"},[_("rect",{x:"202.62",y:"575.419",width:"124.002",height:"259.402",style:{fill:"rgb(51, 51, 51)"}},null)]),_("g",{transform:"matrix(0.0921286,0.0531905,-0.126106,0.0728076,474.688,603.724)"},[_("rect",{x:"657.012",y:"404.643",width:"198.586",height:"145.08",style:{fill:"rgb(102, 102, 102)"}},null)])])]),_("g",{transform:"matrix(0.473356,0,0,0.473356,192.621,188.549)"},[_("g",null,[_("g",{transform:"matrix(0.1761,-0.101671,1.73518e-16,1.22207,442.564,7.31508)"},[_("rect",{x:"202.62",y:"575.419",width:"124.002",height:"259.402",style:{fill:"rgb(235, 235, 235)"}},null)]),_("g",{transform:"matrix(0.0922781,0.0532768,2.03964e-16,2.20569,405.236,-248.842)"},[_("rect",{x:"657.012",y:"404.643",width:"198.586",height:"145.08",style:{fill:"rgb(34, 34, 34)"}},null)]),_("g",{transform:"matrix(0.147541,-0.0851831,1.52371e-16,1.23446,454.294,-3.8127)"},[_("rect",{x:"202.62",y:"575.419",width:"124.002",height:"259.402",style:{fill:"rgb(51, 51, 51)"}},null)]),_("g",{transform:"matrix(0.0921286,0.0531905,-0.126106,0.0728076,474.688,603.724)"},[_("rect",{x:"657.012",y:"404.643",width:"198.586",height:"145.08",style:{fill:"rgb(102, 102, 102)"}},null)])])]),_("g",{transform:"matrix(0.668111,0,0,0.668111,-123.979,-49.2109)"},[_("g",{transform:"matrix(0.0349225,0.0201625,1.81598e-17,0.220789,974.758,729.412)"},[_("rect",{x:"657.012",y:"404.643",width:"198.586",height:"145.08",style:{fill:"rgb(235, 235, 235)"}},null)]),_("g",{transform:"matrix(1.1164,-0.644557,0,0.220789,42.5091,1294.14)"},[_("rect",{x:"657.012",y:"404.643",width:"198.586",height:"145.08",style:{fill:"rgb(235, 235, 235)"}},null)]),_("g",{transform:"matrix(0.0349225,0.0201625,-1.52814,0.882275,1593.11,461.746)"},[_("rect",{x:"657.012",y:"404.643",width:"198.586",height:"145.08",style:{fill:"rgb(102, 102, 102)"}},null)]),_("g",{transform:"matrix(1.1164,-0.644557,0,0.220789,49.4442,1298.14)"},[_("rect",{x:"657.012",y:"404.643",width:"198.586",height:"145.08",style:{fill:"rgb(51, 51, 51)"}},null)]),_("g",{transform:"matrix(0.0349225,0.0201625,1.81598e-17,0.220789,753.056,857.412)"},[_("rect",{x:"657.012",y:"404.643",width:"198.586",height:"145.08",style:{fill:"rgb(34, 34, 34)"}},null)]),_("g",{transform:"matrix(0.142968,-0.0825428,-0.207261,0.478709,898.874,529.479)"},[_("rect",{x:"831",y:"1023.79",width:"89.214",height:"89.214",style:{fill:"rgb(255, 125, 0)"}},null)]),_("g",{transform:"matrix(0.142968,-0.0825428,-0.207261,0.478709,930.12,511.44)"},[_("rect",{x:"831",y:"1023.79",width:"89.214",height:"89.214",style:{fill:"rgb(255, 125, 0)"}},null)]),_("g",{transform:"matrix(0.142968,-0.0825428,-0.207261,0.478709,961.365,493.4)"},[_("rect",{x:"831",y:"1023.79",width:"89.214",height:"89.214",style:{fill:"rgb(248, 248, 248)"}},null)]),_("g",{transform:"matrix(0.142968,-0.0825428,-0.207261,0.478709,992.61,475.361)"},[_("rect",{x:"831",y:"1023.79",width:"89.214",height:"89.214",style:{fill:"rgb(248, 248, 248)"}},null)]),_("g",{transform:"matrix(0.142968,-0.0825428,-0.207261,0.478709,1023.86,457.321)"},[_("rect",{x:"831",y:"1023.79",width:"89.214",height:"89.214",style:{fill:"rgb(248, 248, 248)"}},null)]),_("g",{transform:"matrix(0.142968,-0.0825428,-0.207261,0.478709,1056.25,438.617)"},[_("rect",{x:"831",y:"1023.79",width:"89.214",height:"89.214",style:{fill:"rgb(255, 125, 0)"}},null)]),_("g",{transform:"matrix(0.142968,-0.0825428,-0.207261,0.478709,1085.74,421.589)"},[_("rect",{x:"831",y:"1023.79",width:"89.214",height:"89.214",style:{fill:"rgb(255, 125, 0)"}},null)])]),_("g",{transform:"matrix(0.668111,0,0,0.668111,-123.979,-91.97)"},[_("g",{transform:"matrix(0.0349225,0.0201625,1.81598e-17,0.220789,974.758,729.412)"},[_("rect",{x:"657.012",y:"404.643",width:"198.586",height:"145.08",style:{fill:"rgb(235, 235, 235)"}},null)]),_("g",{transform:"matrix(1.1164,-0.644557,0,0.220789,42.5091,1294.14)"},[_("rect",{x:"657.012",y:"404.643",width:"198.586",height:"145.08",style:{fill:"rgb(235, 235, 235)"}},null)]),_("g",{transform:"matrix(0.0349225,0.0201625,-1.52814,0.882275,1593.11,461.746)"},[_("rect",{x:"657.012",y:"404.643",width:"198.586",height:"145.08",style:{fill:"rgb(102, 102, 102)"}},null)]),_("g",{transform:"matrix(1.1164,-0.644557,0,0.220789,49.4442,1298.14)"},[_("rect",{x:"657.012",y:"404.643",width:"198.586",height:"145.08",style:{fill:"rgb(51, 51, 51)"}},null)]),_("g",{transform:"matrix(0.0349225,0.0201625,1.81598e-17,0.220789,753.056,857.412)"},[_("rect",{x:"657.012",y:"404.643",width:"198.586",height:"145.08",style:{fill:"rgb(34, 34, 34)"}},null)]),_("g",{transform:"matrix(0.142968,-0.0825428,-0.207261,0.478709,898.874,529.479)"},[_("rect",{x:"831",y:"1023.79",width:"89.214",height:"89.214",style:{fill:"rgb(255, 125, 0)"}},null)]),_("g",{transform:"matrix(0.142968,-0.0825428,-0.207261,0.478709,930.12,511.44)"},[_("rect",{x:"831",y:"1023.79",width:"89.214",height:"89.214",style:{fill:"rgb(255, 125, 0)"}},null)]),_("g",{transform:"matrix(0.142968,-0.0825428,-0.207261,0.478709,961.365,493.4)"},[_("rect",{x:"831",y:"1023.79",width:"89.214",height:"89.214",style:{fill:"rgb(248, 248, 248)"}},null)]),_("g",{transform:"matrix(0.142968,-0.0825428,-0.207261,0.478709,992.61,475.361)"},[_("rect",{x:"831",y:"1023.79",width:"89.214",height:"89.214",style:{fill:"rgb(248, 248, 248)"}},null)]),_("g",{transform:"matrix(0.142968,-0.0825428,-0.207261,0.478709,1023.86,457.321)"},[_("rect",{x:"831",y:"1023.79",width:"89.214",height:"89.214",style:{fill:"rgb(248, 248, 248)"}},null)]),_("g",{transform:"matrix(0.142968,-0.0825428,-0.207261,0.478709,1056.25,438.617)"},[_("rect",{x:"831",y:"1023.79",width:"89.214",height:"89.214",style:{fill:"rgb(255, 125, 0)"}},null)]),_("g",{transform:"matrix(0.142968,-0.0825428,-0.207261,0.478709,1085.74,421.589)"},[_("rect",{x:"831",y:"1023.79",width:"89.214",height:"89.214",style:{fill:"rgb(255, 125, 0)"}},null)])]),_("g",{transform:"matrix(0.701585,5.16096e-35,-5.16096e-35,0.701585,-546.219,-21.3487)"},[_("g",{transform:"matrix(0.558202,-0.322278,0,0.882275,1033.27,615.815)"},[_("path",{d:"M855.598,410.446C855.598,407.244 852.515,404.643 848.718,404.643L663.891,404.643C660.094,404.643 657.012,407.244 657.012,410.446L657.012,543.92C657.012,547.123 660.094,549.723 663.891,549.723L848.718,549.723C852.515,549.723 855.598,547.123 855.598,543.92L855.598,410.446Z",style:{fill:"white"}},null)]),_("g",{transform:"matrix(0.558202,-0.322278,0,0.882275,1035.25,616.977)"},[_("path",{d:"M855.598,410.446C855.598,407.244 852.515,404.643 848.718,404.643L663.891,404.643C660.094,404.643 657.012,407.244 657.012,410.446L657.012,543.92C657.012,547.123 660.094,549.723 663.891,549.723L848.718,549.723C852.515,549.723 855.598,547.123 855.598,543.92L855.598,410.446Z",style:{fill:"white"}},null)]),_("g",{transform:"matrix(1,0,0,1,418.673,507.243)"},[_("path",{d:"M1088.34,192.063C1089.79,191.209 1090.78,191.821 1090.78,191.821L1092.71,192.944C1092.71,192.944 1092.29,192.721 1091.7,192.763C1090.99,192.813 1090.34,193.215 1090.34,193.215C1090.34,193.215 1088.85,192.362 1088.34,192.063Z",style:{fill:"rgb(248, 248, 248)"}},null)]),_("g",{transform:"matrix(1,0,0,1,235.984,-39.1315)"},[_("path",{d:"M1164.02,805.247C1164.05,802.517 1165.64,799.379 1167.67,798.118L1169.67,799.272C1167.58,800.648 1166.09,803.702 1166.02,806.402L1164.02,805.247Z",style:{fill:"url(#_Linear1)"}},null)]),_("g",{transform:"matrix(0.396683,0,0,0.396683,1000.22,516.921)"},[_("path",{d:"M1011.2,933.14C1009.31,932.075 1008.05,929.696 1007.83,926.324L1012.87,929.235C1012.87,929.235 1012.96,930.191 1013.04,930.698C1013.16,931.427 1013.42,932.344 1013.62,932.845C1013.79,933.255 1014.59,935.155 1016.22,936.046C1015.83,935.781 1011.19,933.139 1011.19,933.139L1011.2,933.14Z",style:{fill:"rgb(238, 238, 238)"}},null)]),_("g",{transform:"matrix(0.253614,-0.146424,4.87691e-17,0.338152,1209.98,830.02)"},[_("circle",{cx:"975.681",cy:"316.681",r:"113.681",style:{fill:"rgb(245, 63, 63)"}},null),_("g",{transform:"matrix(1.08844,0,0,0.61677,-99.9184,125.436)"},[_("path",{d:"M1062,297.556C1062,296.697 1061.61,296 1061.12,296L915.882,296C915.395,296 915,296.697 915,297.556L915,333.356C915,334.215 915.395,334.912 915.882,334.912L1061.12,334.912C1061.61,334.912 1062,334.215 1062,333.356L1062,297.556Z",style:{fill:"white"}},null)])]),_("g",{transform:"matrix(5.57947,-3.22131,0.306277,0.176829,-6260.71,4938.32)"},[_("rect",{x:"1335.54",y:"694.688",width:"18.525",height:"6.511",style:{fill:"rgb(248, 248, 248)"}},null)]),_("g",{transform:"matrix(0.10726,0.0619268,-1.83335e-14,18.1609,1256.76,-11932.8)"},[_("rect",{x:"1335.54",y:"694.688",width:"18.525",height:"6.511",style:{fill:"rgb(238, 238, 238)"}},null)])])]),_("g",{transform:"matrix(0.316667,0,0,0.316667,269.139,37.8829)"},[_("g",{transform:"matrix(0.989011,-0.571006,1.14201,0.659341,-335.171,81.4498)"},[_("rect",{x:"495.52",y:"1057.87",width:"105.078",height:"91",style:{fill:"rgb(253, 243, 228)"}},null)]),_("g",{transform:"matrix(0.164835,-0.0951676,1.14201,0.659341,116.224,-179.163)"},[_("rect",{x:"495.52",y:"1057.87",width:"105.078",height:"91",style:{fill:"rgb(202, 174, 136)"}},null)]),_("g",{transform:"matrix(0.978261,-0.564799,1.26804e-16,1.30435,-337.046,42.0327)"},[_("rect",{x:"1844.06",y:"1192.54",width:"106.232",height:"92",style:{fill:"rgb(196, 173, 142)"}},null)]),_("g",{transform:"matrix(0.267591,-0.154493,3.46856e-17,0.356787,992.686,475.823)"},[_("rect",{x:"1844.06",y:"1192.54",width:"106.232",height:"92",style:{fill:"rgb(102, 102, 102)"}},null)]),_("g",{transform:"matrix(1.28257,-0.740494,1.23317e-16,1.7101,1501.14,624.071)"},[_("g",{transform:"matrix(1,0,0,1,-6,-6)"},[_("path",{d:"M2.25,10.5C2.25,10.5 1.5,10.5 1.5,9.75C1.5,9 2.25,6.75 6,6.75C9.75,6.75 10.5,9 10.5,9.75C10.5,10.5 9.75,10.5 9.75,10.5L2.25,10.5ZM6,6C7.234,6 8.25,4.984 8.25,3.75C8.25,2.516 7.234,1.5 6,1.5C4.766,1.5 3.75,2.516 3.75,3.75C3.75,4.984 4.766,6 6,6Z",style:{fill:"white"}},null)])]),_("g",{transform:"matrix(0.725806,0.419045,1.75755e-17,1.01444,155.314,212.138)"},[_("rect",{x:"1663.92",y:"-407.511",width:"143.183",height:"118.292",style:{fill:"rgb(240, 218, 183)"}},null)]),_("g",{transform:"matrix(1.58977,-0.917857,1.15976e-16,2.2425,-1270.46,-614.379)"},[_("rect",{x:"1748.87",y:"1226.67",width:"10.895",height:"13.378",style:{fill:"rgb(132, 97, 0)"}},null)])])])])]),_("defs",null,[_("linearGradient",{id:"_Linear1",x1:"0",y1:"0",x2:"1",y2:"0",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(-2.64571,4.04098,-4.04098,-2.64571,1167.67,799.269)"},[_("stop",{offset:"0",style:{stopColor:"rgb(248, 248, 248)",stopOpacity:1}},null),_("stop",{offset:"1",style:{stopColor:"rgb(248, 248, 248)",stopOpacity:1}},null)])])])}}),QK=Ae({name:"ResultNotFound",render(){return _("svg",{width:"100%",height:"100%",viewBox:"0 0 213 213",style:{fillRule:"evenodd",clipRule:"evenodd",strokeLinejoin:"round",strokeMiterlimit:2}},[_("g",{transform:"matrix(1,0,0,1,-1241.95,-445.62)"},[_("g",null,[_("g",{transform:"matrix(1,0,0,1,295.2,-87.3801)"},[_("circle",{cx:"1053.23",cy:"639.477",r:"106.477",style:{fill:"rgb(235, 238, 246)"}},null)]),_("g",{transform:"matrix(0.38223,0,0,0.38223,1126.12,238.549)"},[_("g",{transform:"matrix(0.566536,0.327089,-1.28774,0.74348,763.4,317.171)"},[_("rect",{x:"657.012",y:"404.643",width:"198.586",height:"145.08",style:{fillOpacity:.1}},null)]),_("g",{transform:"matrix(0.29595,0.170867,-0.91077,0.525833,873.797,588.624)"},[_("rect",{x:"657.012",y:"404.643",width:"198.586",height:"145.08",style:{fillOpacity:.1}},null)]),_("g",{transform:"matrix(1,0,0,1,275,-15)"},[_("path",{d:"M262.077,959.012L276.923,959.012L273.388,1004.01C273.388,1004.59 273.009,1005.16 272.25,1005.6C270.732,1006.48 268.268,1006.48 266.75,1005.6C265.991,1005.16 265.612,1004.59 265.612,1004.01L262.077,959.012Z",style:{fill:"rgb(196, 173, 142)"}},null),_("g",{transform:"matrix(0.866025,-0.5,1,0.57735,0,-45)"},[_("ellipse",{cx:"-848.416",cy:"1004.25",rx:"6.062",ry:"5.25",style:{fill:"rgb(255, 125, 0)"}},null)])]),_("g",{transform:"matrix(1,0,0,1,183.952,-67.5665)"},[_("path",{d:"M262.077,959.012L276.923,959.012L273.388,1004.01C273.388,1004.59 273.009,1005.16 272.25,1005.6C270.732,1006.48 268.268,1006.48 266.75,1005.6C265.991,1005.16 265.612,1004.59 265.612,1004.01L262.077,959.012Z",style:{fill:"rgb(196, 173, 142)"}},null),_("g",{transform:"matrix(0.866025,-0.5,1,0.57735,0,-45)"},[_("ellipse",{cx:"-848.416",cy:"1004.25",rx:"6.062",ry:"5.25",style:{fill:"rgb(255, 125, 0)"}},null)])]),_("g",{transform:"matrix(1,0,0,1,414,-95.2517)"},[_("path",{d:"M262.077,959.012L276.923,959.012L273.388,1004.01C273.388,1004.59 273.009,1005.16 272.25,1005.6C270.732,1006.48 268.268,1006.48 266.75,1005.6C265.991,1005.16 265.612,1004.59 265.612,1004.01L262.077,959.012Z",style:{fill:"rgb(196, 173, 142)"}},null),_("g",{transform:"matrix(0.866025,-0.5,1,0.57735,0,-45)"},[_("ellipse",{cx:"-848.416",cy:"1004.25",rx:"6.062",ry:"5.25",style:{fill:"rgb(255, 125, 0)"}},null)])]),_("g",{transform:"matrix(1,0,0,1,322.952,-147.818)"},[_("path",{d:"M262.077,959.012L276.923,959.012L273.388,1004.01C273.388,1004.59 273.009,1005.16 272.25,1005.6C270.732,1006.48 268.268,1006.48 266.75,1005.6C265.991,1005.16 265.612,1004.59 265.612,1004.01L262.077,959.012Z",style:{fill:"rgb(196, 173, 142)"}},null),_("g",{transform:"matrix(0.866025,-0.5,1,0.57735,0,-45)"},[_("ellipse",{cx:"-848.416",cy:"1004.25",rx:"6.062",ry:"5.25",style:{fill:"rgb(255, 125, 0)"}},null)])]),_("g",null,[_("g",{transform:"matrix(1.42334,-0.821763,1.11271,0.642426,-1439.64,459.621)"},[_("rect",{x:"495.52",y:"1057.87",width:"105.078",height:"91",style:{fill:"rgb(253, 243, 228)"}},null)]),_("g",{transform:"matrix(1.40786,-0.812831,6.60237e-16,1.99081,-2052.17,-84.7286)"},[_("rect",{x:"1844.06",y:"1192.54",width:"106.232",height:"92",style:{fill:"rgb(196, 173, 142)"}},null)]),_("g",{transform:"matrix(1.26159,-0.728382,5.91642e-16,1.78397,-1774.67,11.2303)"},[_("path",{d:"M1950.29,1194.38C1950.29,1193.37 1949.41,1192.54 1948.34,1192.54L1846.01,1192.54C1844.93,1192.54 1844.06,1193.37 1844.06,1194.38L1844.06,1282.7C1844.06,1283.72 1844.93,1284.54 1846.01,1284.54L1948.34,1284.54C1949.41,1284.54 1950.29,1283.72 1950.29,1282.7L1950.29,1194.38Z",style:{fill:"rgb(132, 97, 51)"}},null)]),_("g",{transform:"matrix(1.2198,-0.704254,5.72043e-16,1.72488,-1697.6,37.2103)"},[_("path",{d:"M1950.29,1194.38C1950.29,1193.37 1949.41,1192.54 1948.34,1192.54L1846.01,1192.54C1844.93,1192.54 1844.06,1193.37 1844.06,1194.38L1844.06,1282.7C1844.06,1283.72 1844.93,1284.54 1846.01,1284.54L1948.34,1284.54C1949.41,1284.54 1950.29,1283.72 1950.29,1282.7L1950.29,1194.38Z",style:{fill:"rgb(196, 173, 142)"}},null)]),_("g",{transform:"matrix(0.707187,0.408295,9.06119e-17,1.54833,-733.949,683.612)"},[_("rect",{x:"1663.92",y:"-407.511",width:"143.183",height:"118.292",style:{fill:"rgb(240, 218, 183)"}},null)]),_("g",{transform:"matrix(1.64553,-0.950049,1.17482,0.678285,-1632.45,473.879)"},[_("rect",{x:"495.52",y:"1057.87",width:"105.078",height:"91",style:{fill:"rgb(253, 243, 228)"}},null)]),_("g",{transform:"matrix(0.74666,0.431085,2.3583e-17,0.135259,-816.63,57.1397)"},[_("rect",{x:"1663.92",y:"-407.511",width:"143.183",height:"118.292",style:{fill:"rgb(240, 218, 183)"}},null)]),_("g",{transform:"matrix(1.64553,-0.950049,1.17482,0.678285,-1632.45,473.879)"},[_("rect",{x:"495.52",y:"1057.87",width:"105.078",height:"91",style:{fill:"rgb(253, 243, 228)"}},null)]),_("g",{transform:"matrix(0.750082,0,0,0.750082,163.491,354.191)"},[_("g",{transform:"matrix(1.75943,-1.01581,1.75879e-16,0.632893,-2721.54,1876.43)"},[_("rect",{x:"1844.06",y:"1192.54",width:"106.232",height:"92",style:{fill:"rgb(196, 173, 142)"}},null)]),_("g",{transform:"matrix(0.290956,-0.167984,2.90849e-17,0.104661,69.4195,919.311)"},[_("path",{d:"M1950.29,1238.54C1950.29,1213.15 1944.73,1192.54 1937.88,1192.54L1856.47,1192.54C1849.62,1192.54 1844.06,1213.15 1844.06,1238.54C1844.06,1263.93 1849.62,1284.54 1856.47,1284.54L1937.88,1284.54C1944.73,1284.54 1950.29,1263.93 1950.29,1238.54Z",style:{fill:"rgb(132, 97, 51)"}},null)]),_("g",{transform:"matrix(0.262716,-0.151679,8.27418e-18,0.0364999,121.496,970.53)"},[_("path",{d:"M1950.29,1238.54C1950.29,1213.15 1948.14,1192.54 1945.5,1192.54L1848.85,1192.54C1846.2,1192.54 1844.06,1213.15 1844.06,1238.54C1844.06,1263.93 1846.2,1284.54 1848.85,1284.54L1945.5,1284.54C1948.14,1284.54 1950.29,1263.93 1950.29,1238.54Z",style:{fill:"rgb(246, 220, 185)"}},null)]),_("g",{transform:"matrix(1.77877,-1.02697,0.0581765,0.0335882,-425.293,1228.27)"},[_("rect",{x:"495.52",y:"1057.87",width:"105.078",height:"91",style:{fill:"rgb(240, 218, 183)"}},null)]),_("g",{transform:"matrix(0.0369741,0.021347,4.72735e-17,0.492225,456.143,919.985)"},[_("rect",{x:"1663.92",y:"-407.511",width:"143.183",height:"118.292",style:{fill:"rgb(240, 218, 183)"}},null)])]),_("g",{transform:"matrix(0.750082,0,0,0.750082,163.491,309.191)"},[_("g",{transform:"matrix(1.75943,-1.01581,1.75879e-16,0.632893,-2721.54,1876.43)"},[_("rect",{x:"1844.06",y:"1192.54",width:"106.232",height:"92",style:{fill:"rgb(196, 173, 142)"}},null)]),_("g",{transform:"matrix(0.290956,-0.167984,2.90849e-17,0.104661,69.4195,919.311)"},[_("path",{d:"M1950.29,1238.54C1950.29,1213.15 1944.73,1192.54 1937.88,1192.54L1856.47,1192.54C1849.62,1192.54 1844.06,1213.15 1844.06,1238.54C1844.06,1263.93 1849.62,1284.54 1856.47,1284.54L1937.88,1284.54C1944.73,1284.54 1950.29,1263.93 1950.29,1238.54Z",style:{fill:"rgb(132, 97, 51)"}},null)]),_("g",{transform:"matrix(0.262716,-0.151679,8.27418e-18,0.0364999,121.496,970.53)"},[_("path",{d:"M1950.29,1238.54C1950.29,1213.15 1948.14,1192.54 1945.5,1192.54L1848.85,1192.54C1846.2,1192.54 1844.06,1213.15 1844.06,1238.54C1844.06,1263.93 1846.2,1284.54 1848.85,1284.54L1945.5,1284.54C1948.14,1284.54 1950.29,1263.93 1950.29,1238.54Z",style:{fill:"rgb(246, 220, 185)"}},null)]),_("g",{transform:"matrix(1.77877,-1.02697,0.0581765,0.0335882,-425.293,1228.27)"},[_("rect",{x:"495.52",y:"1057.87",width:"105.078",height:"91",style:{fill:"rgb(240, 218, 183)"}},null)]),_("g",{transform:"matrix(0.0369741,0.021347,4.72735e-17,0.492225,456.143,919.985)"},[_("rect",{x:"1663.92",y:"-407.511",width:"143.183",height:"118.292",style:{fill:"rgb(240, 218, 183)"}},null)])]),_("g",{transform:"matrix(0.750082,0,0,0.750082,163.491,263.931)"},[_("g",{transform:"matrix(1.75943,-1.01581,1.75879e-16,0.632893,-2721.54,1876.43)"},[_("rect",{x:"1844.06",y:"1192.54",width:"106.232",height:"92",style:{fill:"rgb(196, 173, 142)"}},null)]),_("g",{transform:"matrix(0.290956,-0.167984,2.90849e-17,0.104661,69.4195,919.311)"},[_("path",{d:"M1950.29,1238.54C1950.29,1213.15 1944.73,1192.54 1937.88,1192.54L1856.47,1192.54C1849.62,1192.54 1844.06,1213.15 1844.06,1238.54C1844.06,1263.93 1849.62,1284.54 1856.47,1284.54L1937.88,1284.54C1944.73,1284.54 1950.29,1263.93 1950.29,1238.54Z",style:{fill:"rgb(132, 97, 51)"}},null)]),_("g",{transform:"matrix(0.262716,-0.151679,8.27418e-18,0.0364999,121.496,970.53)"},[_("path",{d:"M1950.29,1238.54C1950.29,1213.15 1948.14,1192.54 1945.5,1192.54L1848.85,1192.54C1846.2,1192.54 1844.06,1213.15 1844.06,1238.54C1844.06,1263.93 1846.2,1284.54 1848.85,1284.54L1945.5,1284.54C1948.14,1284.54 1950.29,1263.93 1950.29,1238.54Z",style:{fill:"rgb(246, 220, 185)"}},null)]),_("g",{transform:"matrix(1.77877,-1.02697,0.0581765,0.0335882,-425.293,1228.27)"},[_("rect",{x:"495.52",y:"1057.87",width:"105.078",height:"91",style:{fill:"rgb(240, 218, 183)"}},null)]),_("g",{transform:"matrix(0.0369741,0.021347,4.72735e-17,0.492225,456.143,919.985)"},[_("rect",{x:"1663.92",y:"-407.511",width:"143.183",height:"118.292",style:{fill:"rgb(240, 218, 183)"}},null)])]),_("path",{d:"M555.753,832.474L555.753,921.408L630.693,878.141L630.693,789.207L555.753,832.474Z",style:{fillOpacity:.1}},null),_("g",{transform:"matrix(0.750082,0,0,0.750082,236.431,272.852)"},[_("g",{transform:"matrix(1.64553,-0.950049,1.14552,0.661368,-1606.78,467.933)"},[_("rect",{x:"495.52",y:"1057.87",width:"105.078",height:"91",style:{fill:"rgb(253, 243, 228)"}},null)]),_("g",{transform:"matrix(1.54477,-0.891873,1.05847,0.611108,-1456.84,490.734)"},[_("rect",{x:"495.52",y:"1057.87",width:"105.078",height:"91",style:{fill:"rgb(132, 97, 51)"}},null)]),_("g",{transform:"matrix(1.27607,-0.736739,0.751435,0.433841,-970.952,617.519)"},[_("rect",{x:"495.52",y:"1057.87",width:"105.078",height:"91",style:{fill:"rgb(240, 218, 183)"}},null)]),_("g",{transform:"matrix(1.62765,-0.939723,1.42156e-16,0.5,-2476.81,1893.62)"},[_("rect",{x:"1844.06",y:"1192.54",width:"106.232",height:"92",style:{fill:"rgb(196, 173, 142)"}},null)]),_("g",{transform:"matrix(1.62765,-0.939723,1.42156e-16,0.5,-2476.81,1893.62)"},[_("rect",{x:"1844.06",y:"1192.54",width:"106.232",height:"92",style:{fill:"rgb(196, 173, 142)"}},null)]),_("g",{transform:"matrix(0.728038,0.420333,3.52595e-17,0.377589,-790.978,151.274)"},[_("rect",{x:"1663.92",y:"-407.511",width:"143.183",height:"118.292",style:{fill:"rgb(240, 218, 183)"}},null)]),_("g",{transform:"matrix(1.75943,-1.01581,1.75879e-16,0.632893,-2726.83,1873.38)"},[_("rect",{x:"1844.06",y:"1192.54",width:"106.232",height:"92",style:{fill:"rgb(196, 173, 142)"}},null)]),_("g",null,[_("g",{transform:"matrix(1.75943,-1.01581,1.75879e-16,0.632893,-2721.54,1876.43)"},[_("rect",{x:"1844.06",y:"1192.54",width:"106.232",height:"92",style:{fill:"rgb(196, 173, 142)"}},null)]),_("g",{transform:"matrix(0.290956,-0.167984,2.90849e-17,0.104661,69.4195,919.311)"},[_("path",{d:"M1950.29,1238.54C1950.29,1213.15 1944.73,1192.54 1937.88,1192.54L1856.47,1192.54C1849.62,1192.54 1844.06,1213.15 1844.06,1238.54C1844.06,1263.93 1849.62,1284.54 1856.47,1284.54L1937.88,1284.54C1944.73,1284.54 1950.29,1263.93 1950.29,1238.54Z",style:{fill:"rgb(132, 97, 51)"}},null)]),_("g",{transform:"matrix(0.262716,-0.151679,8.27418e-18,0.0364999,121.496,970.53)"},[_("path",{d:"M1950.29,1238.54C1950.29,1213.15 1948.14,1192.54 1945.5,1192.54L1848.85,1192.54C1846.2,1192.54 1844.06,1213.15 1844.06,1238.54C1844.06,1263.93 1846.2,1284.54 1848.85,1284.54L1945.5,1284.54C1948.14,1284.54 1950.29,1263.93 1950.29,1238.54Z",style:{fill:"rgb(246, 220, 185)"}},null)]),_("g",{transform:"matrix(1.77877,-1.02697,0.0581765,0.0335882,-425.293,1228.27)"},[_("rect",{x:"495.52",y:"1057.87",width:"105.078",height:"91",style:{fill:"rgb(240, 218, 183)"}},null)]),_("g",{transform:"matrix(0.0369741,0.021347,4.72735e-17,0.492225,456.143,919.985)"},[_("rect",{x:"1663.92",y:"-407.511",width:"143.183",height:"118.292",style:{fill:"rgb(240, 218, 183)"}},null)])])]),_("g",{transform:"matrix(1.62765,-0.939723,4.80984e-17,0.173913,-2468.81,2307.87)"},[_("rect",{x:"1844.06",y:"1192.54",width:"106.232",height:"92",style:{fill:"rgb(196, 173, 142)"}},null)])]),_("g",null,[_("g",{transform:"matrix(0.479077,0.276595,-0.564376,0.325843,598.357,-129.986)"},[_("path",{d:"M1776.14,1326C1776.14,1321.19 1772.15,1317.28 1767.24,1317.28L1684.37,1317.28C1679.46,1317.28 1675.47,1321.19 1675.47,1326L1675.47,1395.75C1675.47,1400.56 1679.46,1404.46 1684.37,1404.46L1767.24,1404.46C1772.15,1404.46 1776.14,1400.56 1776.14,1395.75L1776.14,1326Z",style:{fill:"white"}},null)]),_("g",{transform:"matrix(2.61622,0,0,2.61622,-2305.73,162.161)"},[_("g",{transform:"matrix(1.09915,-0.634597,1.26919,0.73277,-299.167,-62.4615)"},[_("ellipse",{cx:"412.719",cy:"770.575",rx:"6.303",ry:"5.459",style:{fill:"rgb(255, 125, 0)"}},null)]),_("g",{transform:"matrix(0.238212,-0.137532,0.178659,0.103149,875.064,207.93)"},[_("text",{x:"413.474px",y:"892.067px",style:{fontFamily:"NunitoSans-Bold, Nunito Sans",fontWeight:700,fontSize:41.569,fill:"white"}},[Dt("?")])])])])])])])])}}),qK=Ae({name:"ResultServerError",render(){return _("svg",{width:"100%",height:"100%",viewBox:"0 0 213 213",style:"fill-rule: evenodd; clip-rule: evenodd; stroke-linejoin: round; stroke-miterlimit: 2;"},[_("g",{transform:"matrix(1,0,0,1,-483.054,-445.448)"},[_("g",null,[_("g",{transform:"matrix(1,0,0,1,-463.699,-87.5516)"},[_("circle",{cx:"1053.23",cy:"639.477",r:"106.477",style:"fill: rgb(235, 238, 246);"},null)]),_("g",{transform:"matrix(0.384532,-0.222009,0.444019,0.256354,-0.569781,260.021)"},[_("path",{d:"M84.299,1269.38C84.299,1261.99 78.301,1256 70.913,1256L-56.874,1256C-64.261,1256 -70.259,1261.99 -70.259,1269.38L-70.259,1376.46C-70.259,1383.85 -64.261,1389.85 -56.874,1389.85L70.913,1389.85C78.301,1389.85 84.299,1383.85 84.299,1376.46L84.299,1269.38Z",style:"fill-opacity: 0.1;"},null)]),_("g",{transform:"matrix(0.384532,-0.222009,0.444019,0.256354,-0.569781,218.845)"},[_("path",{d:"M84.299,1269.38C84.299,1261.99 78.301,1256 70.913,1256L-56.874,1256C-64.261,1256 -70.259,1261.99 -70.259,1269.38L-70.259,1376.46C-70.259,1383.85 -64.261,1389.85 -56.874,1389.85L70.913,1389.85C78.301,1389.85 84.299,1383.85 84.299,1376.46L84.299,1269.38Z",style:"fill: rgb(64, 128, 255);"},null)]),_("g",{transform:"matrix(0.361496,-0.20871,0.41742,0.240997,34.7805,238.807)"},[_("path",{d:"M84.299,1269.38C84.299,1261.99 78.301,1256 70.913,1256L-56.874,1256C-64.261,1256 -70.259,1261.99 -70.259,1269.38L-70.259,1376.46C-70.259,1383.85 -64.261,1389.85 -56.874,1389.85L70.913,1389.85C78.301,1389.85 84.299,1383.85 84.299,1376.46L84.299,1269.38Z",style:"fill: rgb(0, 85, 255);"},null)]),_("g",{transform:"matrix(0.341853,-0.197369,0.394738,0.227902,64.9247,257.804)"},[_("path",{d:"M84.299,1269.38C84.299,1261.99 78.301,1256 70.913,1256L-56.874,1256C-64.261,1256 -70.259,1261.99 -70.259,1269.38L-70.259,1376.46C-70.259,1383.85 -64.261,1389.85 -56.874,1389.85L70.913,1389.85C78.301,1389.85 84.299,1383.85 84.299,1376.46L84.299,1269.38Z",style:"fill: rgb(29, 105, 255);"},null)]),_("g",{transform:"matrix(0.428916,0,0,0.428916,19.0588,329.956)"},[_("clipPath",{id:"_clip1"},[_("path",{d:"M1461.07,528.445C1461.07,530.876 1459.6,533.196 1456.6,534.928L1342.04,601.072C1335.41,604.896 1323.83,604.415 1316.18,600L1205.33,536C1201.14,533.585 1199,530.489 1199,527.555L1199,559.555C1199,562.489 1201.14,565.585 1205.33,568L1316.18,632C1323.83,636.415 1335.41,636.896 1342.04,633.072L1456.6,566.928C1459.6,565.196 1461.07,562.876 1461.07,560.445L1461.07,528.445Z"},null)]),_("g",{"clip-path":"url(#_clip1)"},[_("g",{transform:"matrix(2.33146,-0,-0,2.33146,1081.79,269.266)"},[_("use",{href:"#_Image2",x:"50.54",y:"112.301",width:"112.406px",height:"46.365px",transform:"matrix(0.99474,0,0,0.98649,0,0)"},null)])])]),_("g",{transform:"matrix(0.347769,0.200785,3.44852e-18,0.545466,52.0929,265.448)"},[_("path",{d:"M1480.33,34.813C1480.33,34.162 1479.7,33.634 1478.94,33.634L1396.27,33.634C1395.5,33.634 1394.88,34.162 1394.88,34.813C1394.88,35.464 1395.5,35.993 1396.27,35.993L1478.94,35.993C1479.7,35.993 1480.33,35.464 1480.33,34.813Z",style:"fill: white;"},null)]),_("g",{transform:"matrix(0.347769,0.200785,3.44852e-18,0.545466,52.0929,268.45)"},[_("path",{d:"M1480.33,34.813C1480.33,34.162 1479.7,33.634 1478.94,33.634L1396.27,33.634C1395.5,33.634 1394.88,34.162 1394.88,34.813C1394.88,35.464 1395.5,35.993 1396.27,35.993L1478.94,35.993C1479.7,35.993 1480.33,35.464 1480.33,34.813Z",style:"fill: white;"},null)]),_("g",{transform:"matrix(0.347769,0.200785,3.44852e-18,0.545466,52.0929,271.452)"},[_("path",{d:"M1480.33,34.813C1480.33,34.162 1479.7,33.634 1478.94,33.634L1396.27,33.634C1395.5,33.634 1394.88,34.162 1394.88,34.813C1394.88,35.464 1395.5,35.993 1396.27,35.993L1478.94,35.993C1479.7,35.993 1480.33,35.464 1480.33,34.813Z",style:"fill: white;"},null)]),_("g",{transform:"matrix(0.360289,-0.208013,-4.39887e-18,0.576941,37.5847,124.262)"},[_("rect",{x:"1621.2",y:"1370.57",width:"57.735",height:"5.947",style:"fill: rgb(106, 161, 255);"},null)]),_("g",{transform:"matrix(0.185726,-0.107229,-1.84168e-18,0.247635,307.505,420.796)"},[_("ellipse",{cx:"1566.31",cy:"1372.3",rx:"4",ry:"3.464",style:"fill: rgb(64, 128, 255);"},null)]),_("g",{transform:"matrix(0.185726,-0.107229,-1.84168e-18,0.247635,310.507,419.062)"},[_("ellipse",{cx:"1566.31",cy:"1372.3",rx:"4",ry:"3.464",style:"fill: rgb(64, 128, 255);"},null)]),_("g",{transform:"matrix(0.185726,-0.107229,-1.84168e-18,0.247635,313.509,417.329)"},[_("ellipse",{cx:"1566.31",cy:"1372.3",rx:"4",ry:"3.464",style:"fill: white;"},null)]),_("g",{transform:"matrix(0.185726,-0.107229,-1.84168e-18,0.247635,316.512,415.595)"},[_("ellipse",{cx:"1566.31",cy:"1372.3",rx:"4",ry:"3.464",style:"fill: rgb(64, 128, 255);"},null)]),_("g",{transform:"matrix(0.185726,-0.107229,-1.84168e-18,0.247635,319.514,413.862)"},[_("ellipse",{cx:"1566.31",cy:"1372.3",rx:"4",ry:"3.464",style:"fill: rgb(64, 128, 255);"},null)]),_("g",{transform:"matrix(0.384532,-0.222009,0.444019,0.256354,-0.569781,196.542)"},[_("clipPath",{id:"_clip3"},[_("path",{d:"M84.299,1269.38C84.299,1261.99 78.301,1256 70.913,1256L-56.874,1256C-64.261,1256 -70.259,1261.99 -70.259,1269.38L-70.259,1376.46C-70.259,1383.85 -64.261,1389.85 -56.874,1389.85L70.913,1389.85C78.301,1389.85 84.299,1383.85 84.299,1376.46L84.299,1269.38Z"},null)]),_("g",{"clip-path":"url(#_clip3)"},[_("g",{transform:"matrix(1.30028,1.12608,-2.25216,1.95042,68.2716,1030.07)"},[_("use",{href:"#_Image4",x:"50.54",y:"56.312",width:"112.406px",height:"64.897px",transform:"matrix(0.99474,0,0,0.998422,0,0)"},null)])])]),_("g",{transform:"matrix(0.361496,-0.20871,0.41742,0.240997,34.7805,216.764)"},[_("path",{d:"M84.299,1269.38C84.299,1261.99 78.301,1256 70.913,1256L-56.874,1256C-64.261,1256 -70.259,1261.99 -70.259,1269.38L-70.259,1376.46C-70.259,1383.85 -64.261,1389.85 -56.874,1389.85L70.913,1389.85C78.301,1389.85 84.299,1383.85 84.299,1376.46L84.299,1269.38Z",style:"fill: rgb(0, 85, 255);"},null)]),_("g",{transform:"matrix(0.341853,-0.197369,0.394738,0.227902,64.9247,235.762)"},[_("path",{d:"M84.299,1269.38C84.299,1261.99 78.301,1256 70.913,1256L-56.874,1256C-64.261,1256 -70.259,1261.99 -70.259,1269.38L-70.259,1376.46C-70.259,1383.85 -64.261,1389.85 -56.874,1389.85L70.913,1389.85C78.301,1389.85 84.299,1383.85 84.299,1376.46L84.299,1269.38Z",style:"fill: rgb(29, 105, 255);"},null)]),_("g",{transform:"matrix(0.428916,0,0,0.428916,19.0588,307.652)"},[_("clipPath",{id:"_clip5"},[_("path",{d:"M1461.07,528.445C1461.07,530.876 1459.6,533.196 1456.6,534.928L1342.04,601.072C1335.41,604.896 1323.83,604.415 1316.18,600L1205.33,536C1201.14,533.585 1199,530.489 1199,527.555L1199,559.555C1199,562.489 1201.14,565.585 1205.33,568L1316.18,632C1323.83,636.415 1335.41,636.896 1342.04,633.072L1456.6,566.928C1459.6,565.196 1461.07,562.876 1461.07,560.445L1461.07,528.445Z"},null)]),_("g",{"clip-path":"url(#_clip5)"},[_("g",{transform:"matrix(2.33146,-0,-0,2.33146,1081.79,321.266)"},[_("use",{href:"#_Image2",x:"50.54",y:"89.692",width:"112.406px",height:"46.365px",transform:"matrix(0.99474,0,0,0.98649,0,0)"},null)])])]),_("g",{transform:"matrix(0.347769,0.200785,3.44852e-18,0.545466,52.0929,243.144)"},[_("path",{d:"M1480.33,34.813C1480.33,34.162 1479.7,33.634 1478.94,33.634L1396.27,33.634C1395.5,33.634 1394.88,34.162 1394.88,34.813C1394.88,35.464 1395.5,35.993 1396.27,35.993L1478.94,35.993C1479.7,35.993 1480.33,35.464 1480.33,34.813Z",style:"fill: white;"},null)]),_("g",{transform:"matrix(0.347769,0.200785,3.44852e-18,0.545466,52.0929,246.146)"},[_("path",{d:"M1480.33,34.813C1480.33,34.162 1479.7,33.634 1478.94,33.634L1396.27,33.634C1395.5,33.634 1394.88,34.162 1394.88,34.813C1394.88,35.464 1395.5,35.993 1396.27,35.993L1478.94,35.993C1479.7,35.993 1480.33,35.464 1480.33,34.813Z",style:"fill: white;"},null)]),_("g",{transform:"matrix(0.347769,0.200785,3.44852e-18,0.545466,52.0929,249.149)"},[_("path",{d:"M1480.33,34.813C1480.33,34.162 1479.7,33.634 1478.94,33.634L1396.27,33.634C1395.5,33.634 1394.88,34.162 1394.88,34.813C1394.88,35.464 1395.5,35.993 1396.27,35.993L1478.94,35.993C1479.7,35.993 1480.33,35.464 1480.33,34.813Z",style:"fill: white;"},null)]),_("g",{transform:"matrix(0.360289,-0.208013,-4.39887e-18,0.576941,37.5847,101.958)"},[_("rect",{x:"1621.2",y:"1370.57",width:"57.735",height:"5.947",style:"fill: rgb(106, 161, 255);"},null)]),_("g",{transform:"matrix(0.185726,-0.107229,-1.84168e-18,0.247635,307.505,398.492)"},[_("ellipse",{cx:"1566.31",cy:"1372.3",rx:"4",ry:"3.464",style:"fill: rgb(64, 128, 255);"},null)]),_("g",{transform:"matrix(0.185726,-0.107229,-1.84168e-18,0.247635,310.507,396.759)"},[_("ellipse",{cx:"1566.31",cy:"1372.3",rx:"4",ry:"3.464",style:"fill: white;"},null)]),_("g",{transform:"matrix(0.185726,-0.107229,-1.84168e-18,0.247635,313.509,395.025)"},[_("ellipse",{cx:"1566.31",cy:"1372.3",rx:"4",ry:"3.464",style:"fill: rgb(64, 128, 255);"},null)]),_("g",{transform:"matrix(0.185726,-0.107229,-1.84168e-18,0.247635,316.512,393.292)"},[_("ellipse",{cx:"1566.31",cy:"1372.3",rx:"4",ry:"3.464",style:"fill: rgb(64, 128, 255);"},null)]),_("g",{transform:"matrix(0.185726,-0.107229,-1.84168e-18,0.247635,319.514,391.558)"},[_("ellipse",{cx:"1566.31",cy:"1372.3",rx:"4",ry:"3.464",style:"fill: rgb(64, 128, 255);"},null)]),_("g",{transform:"matrix(0.384532,-0.222009,0.444019,0.256354,-0.569781,171.832)"},[_("clipPath",{id:"_clip6"},[_("path",{d:"M84.299,1269.38C84.299,1261.99 78.301,1256 70.913,1256L-56.874,1256C-64.261,1256 -70.259,1261.99 -70.259,1269.38L-70.259,1376.46C-70.259,1383.85 -64.261,1389.85 -56.874,1389.85L70.913,1389.85C78.301,1389.85 84.299,1383.85 84.299,1376.46L84.299,1269.38Z"},null)]),_("g",{"clip-path":"url(#_clip6)"},[_("g",{transform:"matrix(1.30028,1.12608,-2.25216,1.95042,12.6215,1078.27)"},[_("use",{href:"#_Image7",x:"50.54",y:"31.563",width:"112.406px",height:"64.897px",transform:"matrix(0.99474,0,0,0.998422,0,0)"},null)])])]),_("g",{transform:"matrix(0.361496,-0.20871,0.41742,0.240997,34.7805,192.055)"},[_("path",{d:"M84.299,1269.38C84.299,1261.99 78.301,1256 70.913,1256L-56.874,1256C-64.261,1256 -70.259,1261.99 -70.259,1269.38L-70.259,1376.46C-70.259,1383.85 -64.261,1389.85 -56.874,1389.85L70.913,1389.85C78.301,1389.85 84.299,1383.85 84.299,1376.46L84.299,1269.38Z",style:"fill: rgb(0, 85, 255);"},null)]),_("g",{transform:"matrix(0.341853,-0.197369,0.394738,0.227902,64.9247,211.052)"},[_("path",{d:"M84.299,1269.38C84.299,1261.99 78.301,1256 70.913,1256L-56.874,1256C-64.261,1256 -70.259,1261.99 -70.259,1269.38L-70.259,1376.46C-70.259,1383.85 -64.261,1389.85 -56.874,1389.85L70.913,1389.85C78.301,1389.85 84.299,1383.85 84.299,1376.46L84.299,1269.38Z",style:"fill: rgb(29, 105, 255);"},null)]),_("g",{transform:"matrix(0.428916,0,0,0.428916,19.0588,282.943)"},[_("clipPath",{id:"_clip8"},[_("path",{d:"M1461.07,528.445C1461.07,530.876 1459.6,533.196 1456.6,534.928L1342.04,601.072C1335.41,604.896 1323.83,604.415 1316.18,600L1205.33,536C1201.14,533.585 1199,530.489 1199,527.555L1199,559.555C1199,562.489 1201.14,565.585 1205.33,568L1316.18,632C1323.83,636.415 1335.41,636.896 1342.04,633.072L1456.6,566.928C1459.6,565.196 1461.07,562.876 1461.07,560.445L1461.07,528.445Z"},null)]),_("g",{"clip-path":"url(#_clip8)"},[_("g",{transform:"matrix(2.33146,-0,-0,2.33146,1081.79,378.876)"},[_("use",{href:"#_Image2",x:"50.54",y:"64.644",width:"112.406px",height:"46.365px",transform:"matrix(0.99474,0,0,0.98649,0,0)"},null)])])]),_("g",{transform:"matrix(0.347769,0.200785,3.44852e-18,0.545466,52.0929,218.434)"},[_("path",{d:"M1480.33,34.813C1480.33,34.162 1479.7,33.634 1478.94,33.634L1396.27,33.634C1395.5,33.634 1394.88,34.162 1394.88,34.813C1394.88,35.464 1395.5,35.993 1396.27,35.993L1478.94,35.993C1479.7,35.993 1480.33,35.464 1480.33,34.813Z",style:"fill: white;"},null)]),_("g",{transform:"matrix(0.347769,0.200785,3.44852e-18,0.545466,52.0929,221.437)"},[_("path",{d:"M1480.33,34.813C1480.33,34.162 1479.7,33.634 1478.94,33.634L1396.27,33.634C1395.5,33.634 1394.88,34.162 1394.88,34.813C1394.88,35.464 1395.5,35.993 1396.27,35.993L1478.94,35.993C1479.7,35.993 1480.33,35.464 1480.33,34.813Z",style:"fill: white;"},null)]),_("g",{transform:"matrix(0.347769,0.200785,3.44852e-18,0.545466,52.0929,224.439)"},[_("path",{d:"M1480.33,34.813C1480.33,34.162 1479.7,33.634 1478.94,33.634L1396.27,33.634C1395.5,33.634 1394.88,34.162 1394.88,34.813C1394.88,35.464 1395.5,35.993 1396.27,35.993L1478.94,35.993C1479.7,35.993 1480.33,35.464 1480.33,34.813Z",style:"fill: white;"},null)]),_("g",{transform:"matrix(0.360289,-0.208013,-4.39887e-18,0.576941,37.5847,77.2484)"},[_("rect",{x:"1621.2",y:"1370.57",width:"57.735",height:"5.947",style:"fill: rgb(106, 161, 255);"},null)]),_("g",{transform:"matrix(0.185726,-0.107229,-1.84168e-18,0.247635,307.505,373.782)"},[_("ellipse",{cx:"1566.31",cy:"1372.3",rx:"4",ry:"3.464",style:"fill: white;"},null)]),_("g",{transform:"matrix(0.185726,-0.107229,-1.84168e-18,0.247635,310.507,372.049)"},[_("ellipse",{cx:"1566.31",cy:"1372.3",rx:"4",ry:"3.464",style:"fill: rgb(64, 128, 255);"},null)]),_("g",{transform:"matrix(0.185726,-0.107229,-1.84168e-18,0.247635,313.509,370.316)"},[_("ellipse",{cx:"1566.31",cy:"1372.3",rx:"4",ry:"3.464",style:"fill: rgb(64, 128, 255);"},null)]),_("g",{transform:"matrix(0.185726,-0.107229,-1.84168e-18,0.247635,316.512,368.582)"},[_("ellipse",{cx:"1566.31",cy:"1372.3",rx:"4",ry:"3.464",style:"fill: rgb(64, 128, 255);"},null)]),_("g",{transform:"matrix(0.185726,-0.107229,-1.84168e-18,0.247635,319.514,366.849)"},[_("ellipse",{cx:"1566.31",cy:"1372.3",rx:"4",ry:"3.464",style:"fill: rgb(64, 128, 255);"},null)]),_("g",{transform:"matrix(0.365442,-0.210988,0.421976,0.243628,28.7259,185.45)"},[_("clipPath",{id:"_clip9"},[_("path",{d:"M84.299,1269.38C84.299,1261.99 78.301,1256 70.913,1256L-56.874,1256C-64.261,1256 -70.259,1261.99 -70.259,1269.38L-70.259,1376.46C-70.259,1383.85 -64.261,1389.85 -56.874,1389.85L70.913,1389.85C78.301,1389.85 84.299,1383.85 84.299,1376.46L84.299,1269.38Z"},null)]),_("g",{"clip-path":"url(#_clip9)"},[_("g",{transform:"matrix(1.36821,1.1849,-2.36981,2.05231,5.46929,1071.93)"},[_("use",{href:"#_Image10",x:"53.151",y:"30.14",width:"106.825px",height:"61.676px",transform:"matrix(0.998367,0,0,0.994768,0,0)"},null)])])]),_("g",{transform:"matrix(0.365442,-0.210988,0.421976,0.243628,28.7259,183.729)"},[_("path",{d:"M84.299,1269.38C84.299,1261.99 78.301,1256 70.913,1256L-56.874,1256C-64.261,1256 -70.259,1261.99 -70.259,1269.38L-70.259,1376.46C-70.259,1383.85 -64.261,1389.85 -56.874,1389.85L70.913,1389.85C78.301,1389.85 84.299,1383.85 84.299,1376.46L84.299,1269.38Z",style:'fill: url("#_Linear11");'},null)]),_("g",{transform:"matrix(0.407622,0,0,0.407622,47.38,278)"},[_("clipPath",{id:"_clip12"},[_("path",{d:"M1461.07,554.317C1461.07,556.747 1459.6,559.067 1456.6,560.8L1342.04,626.943C1335.41,630.767 1323.83,630.287 1316.18,625.871L1205.33,561.871C1201.14,559.456 1199,556.361 1199,553.426L1199,559.555C1199,562.489 1201.14,565.585 1205.33,568L1316.18,632C1323.83,636.415 1335.41,636.896 1342.04,633.072L1456.6,566.928C1459.6,565.196 1461.07,562.876 1461.07,560.445L1461.07,554.317Z"},null)]),_("g",{"clip-path":"url(#_clip12)"},[_("g",{transform:"matrix(2.45325,-0,-0,2.45325,1068.82,410.793)"},[_("use",{href:"#_Image13",x:"53.151",y:"58.978",width:"106.825px",height:"33.517px",transform:"matrix(0.998367,0,0,0.985808,0,0)"},null)])])]),_("g",{transform:"matrix(0.371452,-0.214458,2.38096e-17,0.495269,-19.3677,248.256)"},[_("clipPath",{id:"_clip14"},[_("path",{d:"M1776.14,1326C1776.14,1321.19 1772.23,1317.28 1767.42,1317.28L1684.19,1317.28C1679.38,1317.28 1675.47,1321.19 1675.47,1326L1675.47,1395.75C1675.47,1400.56 1679.38,1404.46 1684.19,1404.46L1767.42,1404.46C1772.23,1404.46 1776.14,1400.56 1776.14,1395.75L1776.14,1326Z"},null)]),_("g",{"clip-path":"url(#_clip14)"},[_("g",{transform:"matrix(2.69214,1.16573,-1.29422e-16,2.0191,1352.59,983.841)"},[_("use",{href:"#_Image15",x:"121.882",y:"76.034",width:"37.393px",height:"61.803px",transform:"matrix(0.984021,0,0,0.996825,0,0)"},null)])])]),_("g",{transform:"matrix(0.371452,-0.214458,2.38096e-17,0.495269,-15.0786,249.972)"},[_("path",{d:"M1776.14,1326C1776.14,1321.19 1772.23,1317.28 1767.42,1317.28L1684.19,1317.28C1679.38,1317.28 1675.47,1321.19 1675.47,1326L1675.47,1395.75C1675.47,1400.56 1679.38,1404.46 1684.19,1404.46L1767.42,1404.46C1772.23,1404.46 1776.14,1400.56 1776.14,1395.75L1776.14,1326Z",style:"fill: white; stop-opacity: 0.9;"},null)]),_("g",{transform:"matrix(0.220199,-0.127132,1.41145e-17,0.293599,339.708,327.53)"},[_("path",{d:"M1306.5,1286.73C1307.09,1285.72 1308.6,1285.48 1310.36,1286.12C1312.13,1286.76 1313.84,1288.16 1314.73,1289.7C1326.44,1309.98 1355.4,1360.15 1363.73,1374.57C1364.33,1375.61 1364.49,1376.61 1364.18,1377.35C1363.87,1378.09 1363.11,1378.5 1362.07,1378.5C1346.41,1378.5 1288.17,1378.5 1264.07,1378.5C1262.42,1378.5 1260.37,1377.48 1258.9,1375.94C1257.44,1374.41 1256.88,1372.67 1257.5,1371.6C1268.1,1353.25 1296.8,1303.53 1306.5,1286.73Z"},null)]),_("g",{transform:"matrix(0.254264,-0.1468,1.22235e-17,0.254264,329.57,364.144)"},[_("text",{x:"1170.88px",y:"1451.42px",style:'font-family: NunitoSans-Bold, "Nunito Sans"; font-weight: 700; font-size: 41.569px; fill: white; fill-opacity: 0.9;'},[Dt("!")])])])]),_("defs",null,[_("image",{id:"_Image2",width:"113px",height:"47px",href:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHEAAAAvCAYAAADU+iVXAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABVUlEQVR4nO2aQRKCMAxFxUN4O+9/DNw4CoiTliZN8vPfQlm00ykvP3aQ5fFc11sjy/L+/nx8r3ffm7Fn845jz+aJa23XOJvfs9Zh7NBawv3YrSGtdbj+x10egkFzpRrNt+SSxMgbqkiZJCJDiQDoSmSfdYFJ3JD18GMmcXhDTHUzNZIIXhA1JIJDib0MptqiKbhKzHqQiAaT6IlSFVIiAJQIACUGpLfLhpfIw49Ml8T2v4/JTPySyIJQI3w7JTIYEp2fong3FXWJ3huqCEYSNUlYhZRoyaSCoEQAKHESlqF0kZj9NBgNJhEASgSAEgNx9WfCTmLxpygzYRIBmCORsTIlXxJZED/kk0h+KC1x9E2FKG86qEkMsh8/HG9A6SSGYqAIKDEinUIpUSDDYXiqxAw3JCNMIgDXJTIWYdBJIvukK2ynARit4XASUZ6izCScRFWKCH0BfLM84oTw1Z8AAAAASUVORK5CYII="},null),_("image",{id:"_Image4",width:"113px",height:"65px",href:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHEAAABBCAYAAADmBEt9AAAACXBIWXMAAA7EAAAOxAGVKw4bAAASeElEQVR4nN2d6ZbcNpKFL5cs9UN1W5bntWxr6XmsWTzLQ7mSJDA/gh/iApWyLalUy+AcnypVJkEAsd24EaQn/T8Yb9+XKknrOuk4pOM4tCyLpkkqpWpZJu170TzPKqVoWWZJUq3Sbx+m6VkX/wjjVW/gH7/sdZ5nTacc5lkqJT6rtWqaJtVaVUrRNE26XGbd3+9alkW1Vi3LrFKq/uvj/KrP4dUu/t3HWkupmuepWVspIcjrddc8z1qWWcdRTusLwc3z3Cz1OA5dLouOo+o4Dv3vv15e5Xm8ukX//eetTtOkdV20bWFVkrQsk+ZZOo74Xq3SNMVPqXextYal1lq1rrNqlfb90LrGXP/5/nW52Fez2B8/1FpPiSxLLLsUaV2lfZdKiZiHkHCtuFWPj/73cvpfLDQseNJxvB43++IX+cOvR5WkZQkBbdsh4uCySNtWWkxEuLVKx1HOuLecFjdp3/NnWiYKUbSuAXiOIwR8HIf+55/riz+jF73Anz7VWkq4RSkEI+m0Fun+ftflsra/r+usfY/fATVY3DzP2ratCe3Nm7UhWawv3KzO69PtllJetDBf5MJ++hRHWWu4QCkOm1h4HH2agJuVpHme2ufHUXS5zLpeQ1B8Ns9zu2ZdU3gAJdwxFh3zxjUv0cW+qAX9+KFWhMV/Urg6kCUWcxzpRvlsmno3ehwBVhDKcWRMZQ6uQ4D7HsgI1MrcDIT/koT5IhaC28T17fuudV0bWAmhTJ0QpN56ti1cq4MXSR1wiWv6+ChJ12ukGpJaunG5rJpnad9rm+NyWVRKgqiXQhQ8+yI87pEicDQIRApAg3US60gvPPYhbBceqYTH17DEo8VLSVqWTFGmKdKOZVm0LDKlqIaEQ+GeO798tpu/fV/qPE+nCwwLiwNVi1FhCaUJIFxbury7uxAiwrled0k6Dz6F78J2FgcBk2qs66J9T/QrpRt2MoH7RX6ZXuO/Py3Pcp5PftMffj0qdBeHF4AlXJwU4ETSGavUMSsAD1AlqYDHvut1P61y6QRPMg/g2bbSudnJvCNCgmsFQKEE8Z2p+1x6Hi72SW/47mPk6/u+txwNa4vfpw4hYi3Lok7AHBiHCfjArTr6ZE4Sfr+W+aVAqQgVpUCJJBQq1kas7FFxAqTLZdK//fx0wnySG/3LP2sl1uEKU4uX9r1Siu7uliYwhHwctR0y1zmz4gwO80gp3OM4dHe3NqIAy3R36kjX4yvVj31P4OR0HYJluPVOk/Qfv35/YX7XG/z4IVSVQ8d11lp1ucydsNxlLsukbQth4zLnWQ8sA85zWZYm7LCiiFEp7J6O477rOul6TU5VUpdHjgJmL4QDKiGxzmSP3OqJ8d+Tj/0uE//w61EBI57jSWldUk+hxWc9OR1Wk+4WYWNNaD2jlNKsxdMOEnZJ7dC3bTcFmZpQSimNzXHl81ok7tndvAOlW8KXvl9u+eiTAlyoIozuB4DhrAt/w6qkdL3kb1Jymli0xzSH/Vi153QcLqmJX0t6c70erTqyrusfKhPEggOjmGvqANAIxNZ10r//8rhW+WiTkTI4iCDuOGAZ+U8osXWddH+/twMn5iEIeFEswasRkroir49l4cDVhM/Bcshc44LwCkcKZD6tfW75JHN6jRJlQnld+NzzOB4vJfnmSd59rHWMTwEkFh3HeDBxDVaIwB1JjlxofhZCj0pG7bQ9508rIH+bJq6JU/eaYsybaczd3dJVRXCZpajVLhEMua2j5VueIeZxAqNXnlrrNwvzqy/+6VP1s+6Sdnpd/LAYxJ1lWbTv+2mpc8ekeOz5XJINkPEknbSABN/dIfFrniddr9uZm65tPudsGS4gLyqzX9ZTSgIq9iipoWfQKyGm1qyDxn2+DcV+1YU/faqVxbEZL8Iy3AURV0Z2Bgjv8aPW2iyJgbDcejk4YiCQnwEH6gpGuuHxknV5GAApe+rhjBIM0Zs362dJAwTM2uNzNWAnPQRtX1Py+qILEJ4kXS6Tfv89ER6D2ITLjEPpSWjiCL8DXvhezrO0eIhuJILNQ6IqUUqS2lJAfikQKWi01tq5enJBXKQn/SiK57LO3XrvDvdxZgfSAC+xbXvjat3K2a+fyZe42L/0RfI94sO+H11S7ptzwDFCbQcKHuTTitVZhR+g/x13u+/HGaPWJtBucwZOGNQXmddjl9cYr9fjjIlzQ6EolO9vjIHM4Yo65o6+L1CuK76j2b+SlvzhF959rBWEySY9r/IWBxeapJsxgs9gP9y6cHlj99q+9zwow8tRzIFr4l4jqHJkPOaAzOFzOnjy3z3ZZw73HJwRQM/PZZzLz5bwdH+/6e7ucirDnxeiP/shqPN63U1rMo5J6nI/YgiaD9IbUahX19mwI1dHp+6SRvDgBzIWbaHvIu7VB4dIHCwly09es8TF46JZH6AJl4i18H2KyMuS83tbpSvXuk4nKs70ybGBnwWe4XPx8sEf//7zVtd17YAKNJgjPrSNSjqCy5bBjBmx+FyUC5IxghyPM1w75nMIxF0v6yVmjqzQmJT7YaKYYdUJtCQ1ZaKjwNMPZ4ig+dwlxv6mdi2CJm0ZvYafnYcg1jNWSto/3r4v9ZZms/HRlTjKQ0ggMQcCXhPctiwZObr0+7iC8D0npEHCgBuGu0f+/ebN2oTh1ZFQjhAUwvBiMMriB+kpTwi1z1P9++wF0OSAB4HggpkDz+WKFF6uV2z3fljm5IgTM0ZjRqQ2ukKPDSzO3aa7orHhyGONI8FsR8wD8Prfus5dh/donX4PDjYtZ+q8ixecHUl6l/jIf8LYcOC33Dnu2lOQEEAqsKPymPchNnDBj/2yDnwmmnK9h2WEzLhWhifcnvDimm5B5xH0eFwZEah/lw2wMdryuX6sMKTVBnrl87E7oFZ1uagDHPZIDuzC2/eoF+57368z5pPUTDGMUaHhjdnPSNXhacbvO4BrBoNWQEthUQ7NXSNCcHHQYSnxtzjgZFxG7eU+6S5n0856WmJfaOXacKHTef/ZWJ4ERB4BYv0xN4IJ96fu4CC5Y/299W7b3pRx33cdx9GUwKszpFnpVQL8ZQpTT4XILvTLJWuRtVZdLuvpcY4GchAg3wnsQdf7fLJiZ7nucoleTvpViEfRbLurlKJ9P0R9zjcQ2l5PTcxDpIgaLjc/QFvRqlLKqWW90gSY6asBbNoJ5/QYcd3lMneQnYNIIAQhjkLoTAVK21+eQWrF5bI2yO9rZB8BpNxT8GwITExt3kuKpmcPJft+nCEj8QHnOU2TLpelU7JQdhR60gzHSWCPw4kvRNse6Cpb58NNhN/3+MXNp4lmpfk8uIxzjiyzWiCt63JuPONcBPjpVCSaoJhrOQ+otPgUrj3dZ+ynnGWp0lkTQMsbo6KaklYFmYBFuXsOoKS2/rT+uSl74Ae8SQhynjPnDYusZwpVTmFmTJXCC4T7zHXFd0u754zv9aQ6hJDawE1i0nrGtNHNzp3Gx3dDMwJKT6ebqJ2WpSstLb5SPkLYcbhrs66Ma7W7p1sdG5+mqeV2d3f5eFsp0UcKp5nxWuf9lnbYXjCutbbQwz7dK3C4t/7tqBdwlLhj7lgkUheUi/RlXRMLtNDkQuDQ2EwejE6Txh0Gyrpe9xYj0MrrdWtaFDeSKcbcDrBPvp2P7BXBlQPrgtlY16nrYNu2ox22K1Ek7rV5m5hD5uZAxulmM16lN7hcLlpXd9mJavEarBe37fGbGOasUn/mx2mpkPJHM6DoWCgNaHEPSZoxSQIrpr8sKcTQjocVgiAFKPMEyPnb3y7NbXiciU7qkTlJITT/PmM5STaQNzn4Oo6qbStdyoOg2XgSErWzOD+MzHOnM/bXbn2wOl4uC1DUK7S7PI/5/MTL8W/iIvdGwblH/7SXt3hSgMjcc/7twzQFsKhnHOu7zxws3mIWvM/kONRATghy7jbM4XBAaDNaz+/ExQQ2vav0DjMs7+5ubRZfStWbN+tpFRmTwhVu56GGJUfYANpHQTs9TD1jYW3MET2trCNqolCEEXe3bX8Q23wsy3KS9tNZ2chqTICsuB8MkbNEefY6UfCUjA09oeR+TjPBRDhMJj/yZHesQLjvHvnDyHcOcz+525HKg3DgQBB23BNSvafFXPHCivdWe/T0BCKBkEDO5wfrMZ690k7iBLfv2+/Nnih3ZZqVzV6eQ2ca1VOfyAVlpYPuAXf6w69HRTDOSUJ1OUODK4VJyUCftUQqERRnnTz3p47CctON4Ipo9/BnIjzPQ3mc2+WQ6d9hH5DiHJz37XDIsf5UNhTTFQY35uuE4QqFedgoxVhX6f4+FS7z2KPjSsdaLGSF9Afc6Tho+B0tKm6Q7A6jTzN6rXRqzVGVL9gZDRTBm4wkDe0cbm09COO7zsZwyM6lIhj3QOMenT1yxiisI1MtUD50JHO612B/sz04RGbg/UCu3G6lnytJfVaIDIhxKUtPvmkHFH6QuLVbLfmOEhGCF0bd/2MJY/u+Wyqbj8/yIFAsn+9WYXp0b27NiQbVXR/INSx726L+xx5w3azLH/Rx78Y8biBO03nnwB/VFP9UiFI+N4/b+1wNzA8AV0Tux8K8y8sJdCeV4T1HlwPmwn07F+oCxI17DB3LQAyvdXa51/A01Gjld3fe/9P3lUaumUqO1/E+G+ZBuM6fEo+lv9Zw/JeEyHj7vtSE6KW5tlhYDwhwB+5SvGDsKYs3XAVK7J+7cMDi7i0P0d9Tk4/Lcf3Y+uCIGqGS81FZGEEE8SnnDJxwf7+1RN2TeI+3faGgXzfM0RiyvqRb/IuEyPAne/0gvGbn8XAM0qNFjMjSEaWDFag7Ns3fYo5wYR5fODzosh6mZ58se0iXP3VKABd8qyls7FCgQoM38aIwrvXubhXPjYT1hiAvl+WrWhe/SoiMdx9r3ba9FYcdsPATq0MLSV04SEeCoE93yxyAIzxHjMsy6XpNAQaAWdr3cYNYqb/ACEXyZzWSe+1flcKAfPBWjFt9SCPwGoGUdyIg/K99Q8c3CVFK4DPmiuNz8xRzqbGND7k4MMFyvJHJEWBel+4JZcLaoarI/WLusWUkrdJDgIMdVybAjyNp0iLQqgvM+2K5npqkM1ff+qDNNwuRwZNQkiO51OQR+IyFUM+r+mfk+2Ymb5kYXVm3MQMitxDo+HQVa/Jiredmjh79+35fqvUoknce4GkgSEopj/as/6MJkfH2faluhYAF75qT+ke66TDzxByXOLpD4qbnpWPq4vkWvUDjsxOOHhGw9w8FNTbdtGLefeO4AKtjnW6hxHvW+tiPhD+6EBkgWafi0NxMqLMxV1JzO/nSvRDMSGUx3NW5sBwZ8293Y2Mvq6PbsbKQCHlurNDIEI05rOefTliU8n3eTPXdhCipPXQDqPEOs/FgsB7i3mGMgLfCe46aaDIZfY9rntLwaJv0UHnGFAIheC+QP3rnDE78VKsNEoOdTqz1+76Q4bsKkfHjh3z8jYP2eIF78u4zb8N482bV/X0++CllY7ET0t7z6k1bWA6oOL4TPz2mpkt/yBG7O7/VsXeLbXqqF/w9iRAZvCk4qyL9YUk9HUZMcsAwHhYgyHNCrMU5Tql3dQjM06Jb77FhjZ97xM4JArzIND3tO1OfVIgM3tntVsWIikc0JXkJa3y2A+33vM+tydkbKd359Rrm+rlccryPs0kjIxPr7b2HpCd/KdGzCFGKlCRLTA9fTuSVhs/1nYIo/ZAdaY6v9fL6IDVLYh41O3JcrIoOB2I3aQgx1K99ited3BrPJkSGv0k/QU1SXaBIJwPGOOYpRyLTqfs+sdObgD1l8WqL1yoldUwQXgHhS8//xsVnFyLjxw+13mJn/O1Okk5O9eGrouuNup2/+MgRqZeaHAzxXQTtL2tAOUh7njru/dG40QHyPOO3D9ME6EGAPUUWLvH337cmJBJorwyEi0xrTlaIZuVDNCtfr4fot6EXKB9Xyw6+7FxLxXopApRekCX6ePexVtzc+MZhSc1KnEgAzUpZb/SHVp3IdvLZLXPsOhgrM4/Bc36P8eIW5IP/9wWW5+S354hSz6z4+25IJ2BzmCuuiZ+AFn9x4EiKv5QX1N4aL3ZhPqDwvN/H63vENqe6kgbrCXAHObcq+k504w1eovX5eNGL8/GPX4KJBpXi4oh/lLrGd7tRdIUsx7L89SjEv/EFuS9deIxXsUgf8LF9p3a+o3TsO3UOk1eQSLQY5iulqXpIz58yfOl4VYv14awPeZ0XpEnE+Y7Hwuw4ry33k16f8BivctE+/H8/5IBkfLmfv2Wf3NIF/ZKBy5+NV7twH2OVRPJH1fp3vsG0IMTnevn6Y47/AxX1K5XSf237AAAAAElFTkSuQmCC"},null),_("image",{id:"_Image7",width:"113px",height:"65px",href:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHEAAABBCAYAAADmBEt9AAAACXBIWXMAAA7EAAAOxAGVKw4bAAAMrklEQVR4nOVdW2LbNhAcUD5Xkl4scXqxpr0XiX7AQwwGu7Rj2RLV7o8lknjtc3YBygX/Afr2XOu2bQCAZVkAALVWlFJQClAr9mvLUrBt7R4A/Hp++fDA9NAL+PpjqwBQSkF9kVQkOBIFx2vLUlDr4wvyYSf/7blJghanglFLc9q2DZfLgnXddqvl9X/+vDwkPx5u0l9/bFWtTf+q8Hidwt22DaWUXYCtj3H5bPNolvkwk2Xc05hHcjep1yk8Fy4tksSmfH5ZCv768RjCPP0k3W3ysxKFtSwLaq0vAGYZXC2vtefHmKn9Lkv7TKt+BKs89QT/+FnrtnVECYwghuRukfcpOL1N4fgzrZ/umgHsbvfsVnnKiX35vlYFHUpMJQAMwMQtqpSCdV3x9HTBujbXSUUAZmVQa876A84ZL081oS/f1+qAQwGLusx+vz/rSNUtbk5FZvccpSuOdmut+PvnchrenWIidJvAKJRIaPpZY6B+Z/6nAlBrisjjp4KezKWfRZB3n8QfP2tlKuBWAHS0SMZqOFSAwu+R1QA9sVdhupA5riNapUjY946Xdxv823OtHnfIFGp+lv+pZSiaZH/e1gVIlmseCXRBk1SBFO26i6fA7xUvbz4oS2UABoaua699ZjFK25CJ/NzajukBgMmNerzUNuyD1Rw2U6XR/ihAzhu4D/C56YDM+QAMDMqScrUiYMzjiDjVmjT2aTLvlhtZLeOvI9RufWWyRCUt9906Xt5kIFpf5uaUKarlR0jUy2p+X2Nh62+2bi3faaxz1JoBInf1nr/WWm9Sj/3UAb7+2KrHo6hC4gJ0kAOMwMSf0RwwSgu8isNrDpSU1KIVBY9zX+Rz9xAaP3n/My3zUzrWOqdbhLpGPqMuFMhjkGu8pxZRKuE5H0ljYFaC0z60b8ZNutllAbatC1PdcxurPftZgvzwTnWDFuhJdSlzHFOozudGsHBsxeMYc5xiHxm6jdyx11mVojHVkt2zaJ/6+aOF+WGdffm+7hu0zrB9sCC2ULiRNUUF6fa5l9H0GjCX4nRsF9BRPsj2kVC8fyofx88KC5/lYq/uhPt7zni6FFoetZaCjQU2okPgWBBqtXrfXbczmP2qmz7a5oqAVwR6Mkv1Zz3eXpuWvLux7jBwog7bIyKTNaboEjQ+7ZMUl+RQnvdVYTKE6S48AiD6LOepwMmVTfs6Qsw+P1/XNVb5roaa7wFjzIqAgloHidaoRyUiVOruz9MOIE4ZpoVapcfben9ODpAyC9M+dc1UWmCuDGnb9wjztxqo65wXNqcNUVDXeBmdc4kWqsKLQBL78zIcx6U71aMZfa6xW86uOeKOarU6R3fZ6n2y3Bj4vcrPmx789lyrx7QsH9OFXC4F6xqnGBHo0aqJCihzpa+hV33OEWpk/ZGFkJWeh0YVI953ZSU+UIGyzeVSQDDvHgF4m2UePsAiNRmoNUXX9NcOIDkTyJhs0R782/PxZzLAtZ3XNYXxeKhMzRivfbW1XlKX/1oakn3XsVyxXtslSW+q61QNjayv1oqnp+VlMnGVxRnnwEKFQAaocFQx9BkHPWSIV1OyfUUfb2KQeRnPL13wJHWrkedyZY3auSfKrHK6mIEW7YyTd2txbVbw0vuL9/1GxvXPtG510W3xs6X4wtXyiJo9Trml6jo1vqqCaHvOVcd1AWdgz/FFBu6cTx4v9y9R3BsZO2uPCkM1Xl1vhvwi16j967PKKP0cxTMFFC4k9umxl8r2lvlmTPa4TXIBet+RG414wvbqrVhcL9xZ10Hcuo6OO0QD8/MoiNnqdIKZ4pB8AY4ql4VKNQ0zzU3XGrlgjdk6F80ds3VxHd6vto3G8fyTc4x2ftimlLYRXfx9Bg/+RxoRAYMIYUX3IxfdJz6fOHPGt+8Yis9jSjDHnAzRcj56cDg686NziEALKQNdLhQKg89oKVHvR25+2BPVCXECOvkuVGWyl7fmZF7jUCljfNB2nem8P277aIzhuG0BdJ0ag0bm6PEKlQX7dNR6uSwTCGLb7gEU0I0xMFJQzoHt13Xb16BEdE8Z1NpPOyiPW1/kbVOUJy6+MaUMGuaW1jvE3hlJNYptIhfZJ6CId0aL/XhEmdqy7yjuRrlnmz+ZU3amKVCJ5sO+lZlRESFCvbyuSuHgiXzkGN3tLnt7kuIN9zBPFIpqfktkL4NAI4TlVRXVDk6ScYBMIXEBbMt9RUd8ruVdaGXoT4Wsa1ENZ36nCkjk7IwZ4/Wcv+l1pVHZ66R4kZtuAtKxxudU4I7qSylYdHK8p9pNBvRFjh3rgtpkutvRwTtYKnJPraYrQ3OF82I5R3V1zlB3b02Rln1MjtUtYi4ucA0zSi7Wd//chD4K0EOClyL7sx2YqWA7Nhnz4a7kbdyFDSh9jxMx7MYuMHdZFAQnNrYru4A4MQBD+SqD8XroieMrc3Ujms9qfFXLJwP6urcpduv8KVi9766xucMYuLkSjC61DoqrMX/Mr0fF7Ir24k5ZBxy1I/bxbn1uGRHkBub9ui60Lnx+VjfJ/hXWKyR3N6fITZmpcZ9/+wszfc9ThcM41ePQnMwreFJBUYk0DXIBdtc5sGxYp7r+plTtu26PLb+eS9Fis1pes6hZc2gFZEhHq8s+GLWTWtMtaazAaL9kJEmhvgZ7R6M9PleJf8uLhVe48ilq1O+cqwqBHqqHmrIrjzJdleNy6crl6+acPZy4B+S6xnl2DzEAOH7gyywKWrzyoaiwI7h8OyY6/qBWM2rtnJvRerLjGGOs7Qm0H0T2Z9RiIytRiqzHrU7bRWiXbfnXT+dpH17A8KOd6g32io1PmoVvAFjX1VxbXAgYAUpvq2hQ6WhfLXc5M9DxcSOXFjGabfW6CjUqcGTz8XU3IY3u1wERkKc4vn72rWN6IXxWvRfSQngWrFWjfTG+aPZ2lFtFWsrJ6zjqLbQUxTFG1DimGmq97hK1LRALVj2HMz1atyuok3o8XU+0qZ5tFKdCJOm7EzqZyGqUGdGiIgaxjbpMzS3VYltfnEd3tRq7FOFqnOHzylivZWZzzcKB3su8hc5TQ4saQOQu3WCOdvpfFSLQD0VlKCsThPrvvtjxJRqPmd6nMydihraL4mAkkGynnVbrrjD6q3OLGD8x+6AvnyObv+W1uTcJkcSd/sjslZFR3Iqq+srQ6Liiotr2fY4vc/yMT75pm+hsaCk9pXDhZ3E5U+bIUx3FPi+8v2U3X+m3hEji9pW6uKOJRxpHxmg88A1gXfDR+ZouiDnuaLw8iu0TY4LrPjb78L5UOTxsRHxQPr3nDOq7hEjyHwaKDjpFsTJzJZGL3Cdaeo7Fw1fRM1FKQWUBxkIC73Hu0Y8zeExrfcRbVUcuNVN4Heu9h4ivEiLQUawDhkAOALRgsEzxTZ9xrScz94kbkFGA47sb6g5Lab+q0Sw9Pi7ZxxjzP68kqTVyHvxOPmTHULgPClz/YurVQiTpu/fDAAkQcMa6Fkcbq15XVQFGxwd53wGIx0udBxAXFzxdorJkz+kcVMBt7e3vR73r/2FCJPm7GRkgIJGpwJhAq9D8tJ3qicdHLbpHqNaF6CAt3hQe88kIWPn61KXrXwAf/uLphwuR5O/mAzEIUe1u17XwO8Y1t1rdQPb+dQwlzw0jhJmVHCNAlYGkTMCf8U7/pwkRGH+XDRhztAhgROhTBaUC8SqNWjzHygBTlgY4ZejV+1aX6aiT1x7uTWGn6PW3iMmkjBEeWzLk6y7TyWObu9YobrZ2CEt3fN7jfa23+TWNmwiRpL9dE0HwaOdbGeIC6e44P2LpVSG3IHePfiSQlBUAVNDX5nvvpZsKkURhZpYF5AXpKN3gcx6TFDkeKU0Elvg3eukGiBWOz9/6t2zuIkRgfFknQoJRhUaL4wo6nDKAEVWAvBzom9aRq492VIDrXhS9hu4mRJL+LKaDE1IE+9vz84azu9hIgBHAigCOWqgKj6+j8dr/9rfdnHzLi+Qul9eAectHD3rpfbf43maOi442gX5kg5vcFOZZfmUx/mXYO5AyRC3MXWP0mbLUE3BKUWrCds1ix+OPHLe3WXC5XNL53ptOMxElLaz7ybUsufadBY9/fu4mugZgf7vZx6SQz/hvF043ISX/Mdsoz9QYmCX8fMYL0hEqzXLWM1me02knpuRbXsC8tdM+x7vmWmrrQh/P7mgMVGU4A3B5jU49OaXX/i8Gy3N+iizKEbPKkVvsma1P6SEmqeRVH2U8CwGa/wHjXqG++KPWrHniGePeET3UZJX05VhgLouR/H526uxWdc7PoIectBJ/a8B3872yoxvHwHxu51EFCPwHhAjMv/gBzNUYIP5duEeJe0f0L+D749HrhKeLAAAAAElFTkSuQmCC"},null),_("image",{id:"_Image10",width:"107px",height:"62px",href:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGsAAAA+CAYAAAAs/OVIAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAgAElEQVR4nN2dWa8saXaWn5jnzMjMPZ5T1V3tsrGR+TNIvjAgC+y2uw22bIONzB/gBgkEAowZJbiBCyR+CzdIIHDX0Gfvs4fMjHmO+LhYEbGrrabdQw2nCKl0ztlDROQ3rPWu933XVxpf0+vn/0CpplEAeJ7G83MBQByHmCaczzVx7GEYMI7QtjAMA/f/1tK+yvf+Wa6v5Yt/4+8olWU5YRgCYJoawyATZxgargtVBZoGZVlhWRamaeJ5Gl0HRVFx/I/B1+6zf61e+Ju/o1TXDTw/P3N7e4NhQN8rbFujaUY0TSMMdU6nhjh2GUfoezBN+a/rIM9LLi8DHh8LNpuQj/+l9rUZg6/Fi17+eq00TaNpGjabDZ6noesyEY4jk2BZUBQKTdPQNIgiyHMYx4lpmnh+fiaKIq6vAz799MxmsyEMDboOlOJrMWnv9Au++s6gLMvgeDxzc7Pj+Tnn4iICIElqLMvCMAxcV2MYoOtGdF0HoOs6NhuH47HAMAw8z0PXIQyhruHx8cwHH+zo+2Wi4aN/8W5P2Dv7cq+/OyrL0jFNAQhl2RIEDtMEwzDRNA2GYWCaJrZtcDwm7PcxVdXQdR37/Ya2HTFNg7bt6LqOi4uQpoEggGGQnFYUA45jzvcdiWOD//GP3s1Je+de6uf/QKkkqXFdlzDUyLKR/d7g+bmfJ0Yjy+T7fd8DEAQ2AIYhIbGqGkzTpCxLttstcSwTrhSk6YjrGuS5THZZllxcxOg6uK6EzjiWifzv//DdmrR35mVuf6tXlmUyTYqqqthuAwxDBm0YBCBoGjw9CURXSrHbRUyT/P4wTLiujq5DWY4YhsHbt2/58MMbHh4KXr8OOZ8nlFJM04TnWVRVh67r6LqO7+u8fZsQxzGGAUVREwTeO5XL3okX+cU/VCpNe7quw3VdbNtgmmQnBAGkqYSq5+czV1e7dVeM40gQuOuEdV2P61r0vXzBsnSaRnZkVVVomkbXdWiaxmazwTDk44+jQinFOI64rkXXCbLUdZ0ggKendwPqf6Uv8Oo7gxrHkf3eJk0FHBiGhmVJ2Hp6EmBR1xPavMCTJMGyLDRNIwgC6rpmHEeUUmy3EXXdst87VBV4HhTFhOPo1PVAFJn0Pei63B9kxyoFeS45sW1Hmqbh/fcD2lZ28+Njxe2tT5Iovv+n+lc2Zl/Jg3e/lisAwzC4ufFmiK0wTY2qahnHEd/3sSxBba7rMk0Tr14FVJUMcF0LPO86uWffy78fH1s8z1mfVVWyC+PYommgrjtc10bXwbbh+bnC932qqsLzPDRNI0kSwjDEtk0sS+6tafJf3yt8X+N//ZMvPzx+qQ/8xt9RCgR1WZZBVTW4rouuQ123dF3H9XXE+dxydeXQdTIxaTphWfoKApJEQMfpNLLdSsh8fq4YxxHLstjvXepaQmieK6JIo65hGGRBLGiwaWQyHcdhGAa2W4tpetl1SVLiui5ZlrHb7VBKYRgamw0cjyN3/8b8UsdP/7IedPG3KrXdwjQp2ralLGvC0GW3g+0WqqqawxlomsbxOFCWE30vNVPT9HSdoq5hszE4HgeCwJjBwIRpmrx+HXFx4ZIkHY4jfGDXdYyj1FKGIbTU+TzO7MbIxYVLHGsMw0Cej+i6TFLfw/vvB2y3Bo7jEEl5R5YVvH3bSH77lUe1/Rup+rLG8AtfGX/p7yk1jpAkFWHoM00CsR1HcsfjY0UQ+KRpNoceHcOQHVUUijjWqCqYJil6o8jANOGTTxLeey+maaDrJrquw/Nc2rbDcWyKouT6OkDTIMvkPkmi2Gw0jsduDXv7vUNZQlEUbLchj49HXr8+rCVA27YEQYBpmozjOIdUeHrqmaYJy7IA2G71L7w++8Ju/kt/pFTfQ12P9H2PruvEsY1SMlF3dxWvXvlkGWw28uGVUvi+jWHA8SiDl+cVjiM5KAyNleuzrIVOGpkmgeS2bWOazPBdBvPyUn738VFyl6ZpuK5J3yssS8P3hfRdCuhpUniexjRBUXQz+2GsTMeSv2ybmd3vsW2ZsGGQ+PlFhcfPPQxef7tVv/zHStU1pGlNFBlEkQtInkjTjrKE/d7n/r7G8+D+vp4LXpthgKoaiaKQYVDouo6maWy3BgB13VPXik8+OdO2LUmSsNtZTJNwgAtpOwwDYejQNHA6DTPMt+j7nr5XpGmK5wlQUUrAjiwkYebbVhFFNk3ToJSE7+MxZxwnum7g/v5MVUEUWXRdTxDAdmuQ5znv/231hYTGz3WyXn93VI5j07ZwOiV4nkdZKrKsZr+3CUPwfZtxhDzvKYqC47HB9z0MQxJ/FMlAx7Hcs65r+r7n8bECIAyteSJCuk6K2rKUwfZ9naIYaBrwfY++l/DbdR1RFOA4cH3tsdlInfX01OD7EpYNQ547DLKDhmGgaRS+73M+SyE+DAOapnE4mDNDUtP3cHtr0XWQJAPvvy9F9eavJ+qD3/18J+1z2a7X324VgOMI7XM6nQHQdZ3NZoNlCYL63vdSXr3aUlUSMmzboGl6qqpis9lgmhpJkq/E636vkabQdVIUN00/k7fQNBJa27YlDP0VtpumCcjAWpZFGOqkac9mYzEMzEVuz25nUZbQNO2aj2zbRinZdZeX8VqTLXVf0wwYhuxw09RwHAmhris5tW0VYaiRJBLSlVJ4nkPTdDz8e+dnHuuf6Qa7X8vV9XWIZcFHHyVzYbrFdfWVfTif1YzIRnY7n7aVAQCJ/a4Lb9/mRFFEXdd4nkdVCejoup793sKy4HhU6LrIH6dTwqtXMVk24Lom4whFUc7PD9E0Zgguz7ZtG8PQqKqGvu85HCK6DsqyxDRNHMdZ0eMCfJoG+n7g6srk6UlykYANH5CclSQ1tm0TBAZv30qxHscBXSclwgI3TFNy3c/K6v/Uv3z567WKY3fl4ZqmIQhc6rrjcLDpe3h4SLm93a4F7MIqZJmiLEssS0Ka7/szoRry9JQTx4KTpwnqull3y7ID0jTl9es9b9+m2LaNZVl0XUcY+tR1y/W1gIqylHukqYSxzSZkHBXDMNC27TyJBpZlcDolXF7GaJrsEAmJA77vEYbyzn3fs9lImJ8m+bfr2uu7Sn6THRVFPmEoIGgYhIGxLA3DgP/9T3+6SfuJc1b0187qm7+j1OWly/lcs9sJlHYchywrVz2p72G/3zIM8nt5Ln+ezwNxrKGUwjRN4jjgcNB4770Qz4M4juYBG5gmNSNEk67r6Pue3c7A9/05pAXYto1tm/PPQRg6HI8jeS7vUNcdnucRxyF9/8L5tW3LdmvTdR2GARcXMVXVUxQdti1j+eqVx/Pzcf3sSikeHzMA0jRlu7Vpmo7n5xOmCRcXLlHkYZomeV5xOo0YhnCURVHg+/JOr74zqJvf7H7ifPZjz/B7vz0ppdScrF2Uku3dNPIhNE2jqiouLnzGUVZaWUrN07YdFxf2al4ZRzgeG4Zh4OYm5OGhJAwDxlF4vDR9get5nrPbCdooipKLi4Dz+QWGT9PEdmtTlhNBoK9C4kIPCZID3xdC+HAwub+v5h1lEQQ6SdLOSHSYw6KEsK57uUfbdrNtwMJx5BllKWHQ9405Cgzouo5t63TdRBjKwjVNuL8v8TyPpmnWksVxZPw++ZMfb6f9hTvrw99X6hf+rlJZlqFpGp7nkqYVVdXx9JSTpikguSeKfE6nBtuWiYoim74fmKaJuoaHh448Z4buAufrGrbbYKaREspSapv9XuqbwyGmKEpME3zfp2nkd7MsI45Ntlt7DrM6x2PFOC6c4Uhd9+i6TPLjY8luZ/LxxwkAlmWRpum8++p5UGWH6jo8PCSM40RZ1ozjRBjKLpSwquj7kcPBmxeMLEDPM2fKC8JQ5/4+pSwVaarYbAKqShbhQoVlWU/X9T821P+Rk/X6u6MaR6mPvvWtLbouRSSI4HdzExGGIaapMY4yQI7j8OmnCZqmEUWsVX8Uwc2NvSZw4flcum6kbUf6njnW27RtS9+/cHSO49A0I0GgMU2KcYT9fr8O0jAMdB3Ytk3XQZoKEnVdi6YZub2VcFmWsNvFXF0Jcbvb7ajrnutr2bmbjYZl6bQt3N7GGIbOxYXH4aBTliK1TJP8XF3XGIY8p+tk8ppmxLYtzueGuoY43hIEkqvO52z+2W7O5xVKKW5vLTQNfu73lFpQ9f/r+qHbz/qr9+rDD28YBkE8mqZxdeVyd1dwcRFi27K6hmHAcSzOZwESDw9iD3McDaUkPrvuwihIQnYcG8+TuibLFK6rkeeyC7tOVNokEUjteQ6nk8j1SskOCYIAXRdEeDjEKyNSVeJyenqS+s5xnJmyknDrui5RZFJVijzP2W43lGU112cOeV6x3/v0vYTMtoXHxwTf99ls7DXcPzw88OrVDUVRYds24zhS1zWHQzwvnhc5x/MEUCyFN8i96/olvC6k8v19MpcvOn3/w0niH/hC+KsntdvtZugrDPM4KrZbjTyXAZYQJ1SNhBjxN3zwQcgwvEB1WTUuZSmUU1EU7HbbFY3VdU0cb6iqBt93KQqB63kuyO2zxpcoivB9g2GQiX96+qym5dP3gmIOB5OyhCQRm5llQV1PxLHO42OzcodRZK8KdJIUKKUIw5BhGFZRU9O0dZJlMQitFcfCzJ9O9fw9bd79gnYXrWwcX+ist28rdjt//nvLdisLqSwlFwpQkXquqiRvRpF8/7NKtQbwwe8q5TiQpsJzaZo8XOCo1AwgyEoEQgPL0lY+7XxOuLqKSdMa3xcXkePA8VgzTRPX18G6A85ncRgdjx2bjXCFCwgYBlkMS6gcR7i/zzFNk7Zt8TyP16+FQioKIV89z8OyjHWVlqXcbwm/4ziuueLy0uajj8SGJpKIQ12rVb8KQ4u2lR0kphsHTRP+b7+3yHN5pmVZc8h2sW1517Zd0GdDXYvzStd1HMdhuzXWiWzbkTA0SFPR1dq2xzAM0jTl1asdZTlhmjrjqKjrGsdx1l2m/ZV/oFSWsdq08lyI1ft7QTq6rs+eBYHowj4M+L6JbcPp1BEENlUlrECWTUSRzt1dShxvGQZRgPu+ZxxHwtADpPa5vAxnmkaK4jiGLBPpQrg84Qo9j3kXy4TI7pYdGwQGeS6DWZby/U8/TbBtmzj2ybKGsizZ7/fzhLtkmTwvyzJev96QptOsWcV0nZhwltJCPBpwPqdcX285nSo2G5++V+tOdBydthXH1cWFT1lKydE0DTc3AooELcoY6LrOMAwcDj739xJql5C6eBkXt1YQyOe2bdAXo6Ss4oq6btcJCQKDYRjYbAzGcVFoayzLpK7HWSey6Hvh7N68STEMna4Tri7LcnRdRylFENhEkYemycDHcbjunu02IgzhdJrWWmgphA1DVm2ajmgavHmT8NFHKboutU6evyT+/V5W99VVjO/7KAW+73I4HCjLcg1pcRyhlMJxnBnF6ViWhW0LMXt5abHbCdAR24Di8nJLnvdcXvqcz1I0TtOEbctkmqbObuevoXu71TkcfO7uCqZJFGZRqxtcVxaSbcN778WM40iWZRiGweOj3PvqKp69IRIeTRP0slQUxTCHPmf2IahVCGya5geS7n7vMU0KxzE4nxsBJJaEy/1+S98PZFm91jGyKwUxDQNkWUWeN2voEGGx43zu15eWUKtTlt2cv8A0DYZhJIoibm+3WBYcDvsZTWmczx2nk8T2cZQoIQ0JPZoGFxfhCsuXLOB5Ds/PFedzRRAEPD1l1LWi70VLMwyDIBB4Lova4ulJgIXjaBwODsMgu2ah0IZBFnRdy9d3u5CybHFdjdOp5fXreJVXJMf3OI6DrutEkcyBUswLRyPLJpSSn9Vlpk08T1ZKkkiCD8OQtpU/01TY5b6XxBqGGk0zcHUl3ogXWM3skHWpqgrXdbm8NGYxUQrNqyufw8FlGCR+L+Kd48ifu91uDpkTrmtTVR1ZVmNZsNsJrVUUE3kOux3c3QmYsSwLz5OFs4Tn8znFdS2mSdgNIWtllSdJQt+PRJE/85Adt7cbgkCjKCRP931P2/Zst3A+J2ga3Nz4aJpGWfZzflQURTtrW6IMbLfbWcHuOR4z4tjh8VGose9//8zpVJGm/ZyrRYv7xjdC7u8lH55OCXUNd3fZLP0IwNEOf7NUC+sgtY7krDRlVVOXLg2ZWBddXxjnabV3Lbxd3/c0TUMcx0SRwfEoqElW3UCWZWw2G+LY4nwWVsC2rRni9mRZNsvoIUEgFb5hvDAiS/ja7eDP/uzFmqaU4vra4/m5m8OnQd/3DMMw+wJ9np6eME0TTdP45jdjigKyTJiFKNLpe1nBS+gRH7wiy7LZpxjT98PMZBjc3yfz38MZlhtomoyLMBmSb9++fSF8FyI7z8Woo2lSpvR9z8VFyPlcz5KRLOZpmnAcWYjaYlNumn71zJ1OJ25uLgHW9plFUZWXkUnbbGQwxxEeH4/s93tsW3ZQmopJMgjg7dty5vVi6loMKotnT9fh+VlI1CU0+v4LU11VkqzP5zOO43A4hOS5wF0pxGVAl8vztJmz9DidxEL25k1BEAT4vsbxWBFF/uqL3++1Wf4QdTkIRErx/UUsbZmmadbHBmzbZBgkVzXNsOZWXWeWbsY53ztUVTfbDTxc18B1hRsVf6KzSi+uK97EIPDRdXn2w0M1q+sueT4DE8PQGQaF686zp2lcXFzQNBLrP/nkiK7LRNV1MwuELuM4znWCmgFDPPsbsjlceLRtP/Nr2oy+cm5uXA4Hjb4fqev2MywFc64oSJKONFWzu0m6R0zTxHVdDEPYk9Oppm3VHIYbDEPD8zSSRMwsAqV7qkpCeRRpFMU452XZBV3XkSSyQNpWEQQWx2NOlhXzTh7nWs6b84hJ28rAdd1EURQ4juSoMISuU+vC6bppLTeapqHrFEky4jgmwzBg26xCZ9PA7a1ocraQ+Fxe+nPBrdjvLbZbV+imzUabfd6KoijQdY3NxqIoGl6/PpDn1Sp9C3qCKDJ4fj6jaRrPz+lniladp6eMqoI4lrpFaKBOaoa7isfHgSgy2G4lmb56FVOWzDkkpKoqTFOjrru5PnN49WqLpmmzaRMuLz0cR4jc3c7j6em4vuP1tWha2+2WPJe6pyjAsowZaUqxfH3tEMfw+Jiy2Whz2PJo23ZGlwKSzueUNE1xXbBtsQbYtr7SW+M48sknCXGsURTFHLrElp1l2Spquq4xRzB3DrkTRTFwPCYkiXCIadpxPIr14fY2mEsIyX9rdfxLf6RUUYjOdHkZkiQtUeTMiGrAssw11CxajoQRk/N5XF9sAQy7nb+WBOKulXadZcX7vkWaVtzc+PNASjhI08U2JtJ/HFsoBff36YzCHJqmYZomwjCc2fF+VYa3W5MkEfV5yVXDMHBxIS7d+fVoGoH+oiZL7ghDef5CChyPJZtNQBiymkvzfFhFUssyOZ3OxHFMWZa8ehXy8CAOYc/z8H2Dh4eE29uYtoWm6fA8e65XpUYUEfOFohJ0LX+vKvn5PBf79g/QTe/99qQ8TyPP+1WgE1len7sw1JwIhR5ZFFnPg48/lmTfdWrt/kiShIuLA1mWc3sbUVXC6d3cxNS18ILCM76Ic54nAzkMwp6/fSsTKsWyTHKSlPK+7wWzfCE5482bZGYWIjYbE8OA+/uCOA5n4CBq89L8YNs2fd/jeR5ZlnF1teV0KmeNzJpRsZhKNxuDspR8soAe8XgkXFzEFIV0W3adjIfY7xr2e5eqkp/b72NcVxbMxx9L4f76tc+bNxXTNHE4hLMFrub62qMsf1Bd/qFE7vW3W3VxYfPxx0LNyPaVVhmxNBe4rsswDFxfuzw8CL8nu47ZFqZxPhc4joPrWivddDxWbLc+VSXU1uKB2O8NkkTNZpiXnxeXVMnNTUCWiXVZdkU2W6xNsixnv49WC/WnnyazsBnSNOJxf3jIuLraoGmQJC23tw53d/Le0/RS4I6jLELDWDzwNZuNmG+macIw9BURGoZBXQuYEZpKJsX3fS4v7bWrsusk5IHoc9/85pb7e6lFw9CmbcX+JjRagW3bP9Sz8SNFL/dXHtXFxcUqyi3EbpIk3N7ueHrKORwimuZlGxuGwPrvfe8tH3xwQ1VJK87iim0aOJ/Pcy2i43mQJB2WZeE4Ur9EkbUW0GHoE8fw/Cwf1vd1hmGRRl6oLN+3aZqBvu8JAo9xlETvuhpFIQtjATFSZE6z1yOY/YUG9/fC9KephOyFXpP7QFGM+L6B5wlhLbltWkGI9IcpLi+liBZ7tlBISdICzKDE4fY2pCggzwt0Xef2VqLHjxIif6Se1fzXK+37f6prCyEq6rA228BEjxKI3X8GlS3o5oY8l0Q8lyFzp2GBaZr0fc/5nJDnQrhO08T5XHJxYVHXiq6bCAIfzxOzzOEgWlBRDKRpObMZxsyE27guM1vt0TQdbdtSVRVVNVKW5QyH09nvLjWk7/trC1CaCqMxjmr2lKjZONNiGHB3dyYM5et3dxVBoLHdujiOQxx7zAgeXdf45JNqNd90XUdVKaLImZVpcfem6UTX9VxdhbP/Uf2FivGPLevf/lavxnEkihzqesRxDLpOGOKlvgBmuf1Fspa6TAq9um6wLIu2bbm99TmdFh5Q53xOef16uxLBDw/CpARBgKaJ1CCrmzVESn0npGwQQJL0lGXJbhdTltXqbNrv/dVSIMy/7Ib9XuPTTyWnWZaE8PNZdvMwCPQW86m1cppZJnJHUfT0fc9+768O3cfHdmbahWfsOmZILwtFhFoBFVnWcnHhkKYTb/618WPNw0/ssvm531OqqiRUSfErjMF2a/P0VHB9HfL8XHN15VFVUFXtHJqCub5Y6jl4eCjm5jkhYpcicRzVGtocB56f61lM1ElTETiXGL+gvsUDcn29o20FvLx9K/1dWSbhCiCOPaZJNDEhdh1cV6Np1ErcfvjhjtNJ7h2GPlXVEIYuWVZxOPgUxThbD2TXAytRvKgLi3NqYdilTpTnOI5GXf/kXSg/tRXt6jcatds5ZNlAGJorKmuaht3OpW2XLvh+RjpCej495VxeRiRJQxRJu8/xWLDbhZzPBVEkMdOy4HyWMytAEr4UlQZl2a4OJSmUDYpCWArD0EnTjJubzbxYRNJYitRhGNjtIvJcdjvIbhP/vRhy7u7On+EoRzzPJQzh6amZuU/xMmZZtxpbF5/7QjjbtsEwCHBoW1G5bdvm+tr6qXuVf2aX6F/++0rJJEnyrSoRJIXYlGTq+xZdJ6v9fK7mVWYTRfDmjfzMxYXFRx+d125GOadCm3WrmosLj/NZtLOuU7MPQpiCpTkhihzKsl9lGYA4Nueww9pDLMYWKcLD0FgprbaVRSCuX52yrFYuse97osinqgRJns/LCTYiNEoXypY0TWeUKnLI5aXH83OzaoOf/quf3uj5udinf/mPpWPk6Unif5IUvP9+SJqKRLEgSduWvJAkFXHs0zQCl/v+Bbm1LatAB5Kg5XvCNhgGPD2p2e+3AB9h3S3LWOX052epa8TTCHd3+SxDBKv7Vu4riK8opEl8IV2X0LrbidD58HAmiiK6ruPmxl89KEFgzfodlKUYXZUS/tTz3PUZn0en5OfamvLeb09KQp5BnktCXpqzP2tpLsuSzSbkdEpm352P677UJGUpk1nXUowuRPLiUxgGGYAsm6jrmv0+4HgsOBzEzHN/L+1Ci1IQRUIoPz8LUfvmzRO6rnN9fZhbTyXnSDuQuy6WIDBWqJ9lEqIti1VvWkJ9WU6cz2cuLw+AfEbZ6Qb/8x9/fj1bX0gf0TJpfd8Thu6aH3xfEJthGGuN9fwsSXwcpZAWL4bi+fmZ/X6PruszMdtyOATkeT9bzPrZhLOjLKVoXgjZaRKJ4nQ68fr1AcuSfKfrOufzmffe2895pCaKPBwH8nyakZzk0JubkDwXXUuUXmHcXfflqIdPPz3yC79w4O5OdpGgYvHfT9Pnf8TQF9ZMd/UbjdpuRQZ4eKhm+O3N/cPdipSyLOP997eMI5zP3bqq+75fm+kuLvx1hy6QuG1lwNp2YrvV5w5IxX4vH0kpePtWlOzt1uXhQSxqfd/zjW9IiO77ic1G5/m54fLS5XTqubiw1ibyYZAdE8/9R8LMmPT9uDq0ttvt6nHf7Xy67sd32P6k1xfepvr6u6NaTCdNs8j0+io3RJGF6wqt1PfM9ZI0iKdpznYrTQrL15cmiO3W5XgsaNuWq6vDLOP0q74kjXVyFBC85MHbW4ePP5b7iggou35RbTVNI4417u7KuRbzSVOZvLIUoFOWi7G0WwXEsvziz8r40rrNlxNklILj8cirV4f1WATTlB2T5xO+r5PnPYeDWL/O5wTDMNhsIoZhXLs0tltr3lmsNdrzsyjbck9Rt4W81Wcm5AWJ1nWL4zgrk7H0MS8uX8mfPZ5n0bbjeqCKlCbe7NUQ0+oXtZP+/PWln+Xw4e8rlSQyQHVdz40A1mxFlhDXdf0s95ukqdRlZSmtPldX+zUkLpY1zxPTpijHclLNe+8Fs2AquXMxhcqgO6sBaJFFhkHAzCITXV+Hs/dBmPoFVb55I7LK0qZ0+k/hlzaGX8mhJT//B0qlabNyi0tH4vEo0FfafWRGgsBeqaCyHFe/uFILdA6wLI00FWu1uGuFSLVtGVzf9/E8a0Wjcp6FPnNzFlUFed4xTRP7vYvrwsODyDHLwsiyksMhIE2lFnv77+z/vw8t+fNX+Ksntd/vVmtY2/azVGHjujLgi4zuOA6bjRTJYfiieS1HNeS5eBjKUsBM0zR861s7zmcpxstSjKnzQWozky8F/HYr/vqlt3ix4rVtSxQFNE1HGNqUZf+VTNJyfWmHlvywq/gve+2TP9E0yQ8DRVGsO0aI4A7ft9ak//QkHpCPPz7PTW/Mztd+1paa+SxcjziOOZ/FmZTn3Xw24dLoPc4yy4jvC7sh8jucTvIOeZ6vB0q6rs3/+Wea9lVOFLwjp6It1y/+oTzw8moAAAHYSURBVFJl+cJOLBrZZmOQ52IWTVOxQ4vxJVhdUkqJoadtWyzL4nDw1zZWOWjEnk+gfhH6kkSOrNM0+V3fd9fifQE9bQvf++df/jlNP+x6J17is9f1t1slsNtc/eJRFK2+jEWUXPyMy0Eii31rYfhBmtsk1y07zqTr5J6CEB36fmS3M+beXykZyrKmbVvy/7x7p8bnnXqZz17f/B2lmqabpXRhuhf6yLZt8jxns9ng+8I6LKzC6TSujLznuSuh7Hketm3MLMo4d+2LMzjPO4ZhmPWp7Tt7Vu47+VKfvV59Z1B1Xa/Iz/etGVio9biE5aihpVuy7wWG17XkvcPB5u4un21rW5qmY7ezubtL567MkGmSXPlV56Ufdb2zL/bZ6+Y3O+W6FmXZrAJfFFkUxbDmryhyZxVYWAyhgnyaZlxNKLe3Huezms0uL4eN/CRN2F/l9c6/4GevX/ojpapKitMX1gPyXDjA5WyLxUMoNmWXzcbg8bFkuw3WBkA5zvXLPzPwZ7m+Ni/62Wv5/5Asx4W7rs3pJK2rV1fB3GB9nifKo22Fxlr8hVXV8vgf3K/dZ//avfBnr8tfr9UC1a+u/PXM9udnYc+zbPH+vfx/Sx4eHuj/2+3X8nP/X8+jjAy2QdiEAAAAAElFTkSuQmCC"},null),_("linearGradient",{id:"_Linear11",x1:"0",y1:"0",x2:"1",y2:"0",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(-118.47,-106.79,210.785,-180.125,69.2121,1372.7)"},[_("stop",{offset:"0",style:"stop-color: rgb(64, 128, 255); stop-opacity: 1;"},null),_("stop",{offset:"1",style:"stop-color: rgb(64, 128, 255); stop-opacity: 1;"},null)]),_("image",{id:"_Image13",width:"107px",height:"34px",href:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGsAAAAiCAYAAABY6CeoAAAACXBIWXMAAA7EAAAOxAGVKw4bAAABFElEQVRoge2aQRKDMAhFmx6it/P+x7Ab64xOmaAG8vnwFnWhiOGFOG3TPsu6vpS0djpuH61zXoz5F3s6r4rRxipiftddeUbp3t18QozEu3/JfdSzgCy5VWpTWcVYSlaPqcvDEUpZQPUdCqUsSAbMoJIViJIVCBNZrO+MHtbjrs4KRMkKBJUs9uXXTxZ7JR2g6ix27sly6BIxReIOHdpZWevoNe68y2DAmTVXFmDBAB9pJ29nBYRCln5jgkVyv1QUsrIAJyvtvg1F7iGykF/KlniPG66zKDCyWLI2IqwOJSsQz2URbqZEpTorEDCypn6xnciVYT+SlbS+08Zt01lJfv7xBmYZLPpgy6p/pA9gyxIArKMLXxexLNiBCThLAAAAAElFTkSuQmCC"},null),_("image",{id:"_Image15",width:"38px",height:"62px",href:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAA+CAYAAABHuGlYAAAACXBIWXMAAA7EAAAOxAGVKw4bAAAGaElEQVRogcVZSWLjOAwsblIu+oD+/zZ/YC4di8sc7IKLsJzJdCdpXGxLXIACUADpgL8oIYR9jKG/wd/hL+m080uMEb33pwHpR9UBkFLaU7ptW0rBGAOKGgAsy/KjiO3Aw105Z4wx0FpDSgmtNVPqer0if7c2Oee91oqUEsYY5rZaK5ZlQYwRx3HY+J+IsSmOQghPqKhwTO8dIYRvU8yU0kzzEmPEGGNSiGO/Ovh3ABtwQ4UI5ZxRSjEFKBprYwyUUtB7v6H3hQqhlGIb1loRY0RKCcdxIKWE3rshUkqZYsvLHykWQthjjJZZGtwqpRS01ia3MaZCCKi1cj2MMZBS+n1XhhB2brKuK2qtj/hIyeJHkVEypft678g5I+c8uf53FNsBbLoJF6RwU800kirjinM18HXcpxULIewANi5KyDWT1nWd3KquXZbF5tGVmq2qXO/9UzG2f/SSyK3rivf395e1T5/TmBAClmXB+/u7AnBD+7NK5fwoEiE822OM7d7lnBFjtIwlmkSMga97hBBelqRdraTf1SIvnsm1/gEwVBgCfMfPpwQ6UWgj0XGQxgrfeUWJFIO7tYacs20WYzRDPbqkDcZs790U25dl2ai9xoKK+V+oQFEhspzvWZ4kC2DKTK6tCRBjjDtd4RVZlgVvb2/T4lqMj+Ow9yRaRU/Xi/E5nIkUjWLMpZSQxhibn8C6dhyHlRZa6Ru73jtKKbYgDeBmWor8PN2LLmf8JdyLrsKrlV7hp+XeRa01G+/jjaj4hGE49N6ngm/vVakQgqU1N9c2uPc+pTdLjyqpn7qOFz6PMU48RjBsVcaHr/hqPZVZ13XKMn3v+U4zmiWKhur6mpm994diDDwN2BDCxD80wD9TZWqttimfE1lPQYyndV2n32OMW4xp6jI7vGi80CqSr48PRZGGkttSShO/sV9b19XHcjSkmEWKmP5mcKsiipaXs/hjCFCUO1ncASDFGLdXmxJBjRFFk4VbfxNVpRi6h/F2tgfBoRdiaw3LshifeCGPsW3hQsCj/lER5T1SCN3nWd76rhehk0IIGxVQC7iAh3xZlmksUVQC1eMaS5gqRve/OoXXWm/Br0jwANFas3aFStFNuomlt7iZ2aeErUox8Espxp9U1GomgJ0WTec6l23+HcvIWWPIHoytkM7lfYWi7ue21hBZ/9TiUsqUPWcMT746U6rWOvVnOvdVJaAYjeScNwYorSeFeDL0LO838W5WQ/S7ZZ4klc/4eL1eLViZsrVW8z39f9a2eKR8u8Mg93NpZGsNx3FMBxTzEoDt7KCqCcFNtTNVK1+dK1trljxKEWyVfDfLLM05I7Fz1c191tVarbPwLlXOMjecKKWbMtEo/s6s945IjWutBq1apxbpUR94JAkX00Kv8aSuZDZynWVZTCltNs2VHikN/DP+okvOEsCHA68BPFLa3XoujZqFKlqctRx5BfQsSI7iHACWeeoySmvt6eDDsmaIeSF18PbPu5ZjtCroe7+mP01pS+T3tZM4G7uzWGCvpNZpdhExZqx2ptpRKPX47oJoszMG7j2/xoIqx8DU1oYLcxwTxbfkPl5jjFN4MAP53p8nIsmV15G+9yICXIyKcNHjOKY5KjqXY6kc6yzXbK0ZkjFGhFLKzoH2UG75xIIP6xzT3X8HHg3B2TGOzabe+/PiblOfn8UEn3MToqnI6R0GjfOJoOXNcx7r552CLmmMsem1NjdX7uGiSqa6IUWPa2eZzoOtntBVeu8XAP8AuF1D5ZytmKoVFH/0OpNX79St/lMo5uLnJdzvUzXwpk5SiFTpwlv9qnfXYm8F+jHPEPJiaUR21gzTf8fUytba1E2Qw/TcSdECzaS6U8sTShPS/MKOk27T9FXxqKirSBetNby9veHXr182XrL0Q4UokVdInnO0vj1Zc+ciJUV2HloVXON4+axSAJDJ2F4Bn+p6tD9rhbkGkZee//JR0rySlHPelLfOWhUqqH966gFFKYRz7p+fRuhJsRDCaWtNJf1JiJvqkf6E4y6999Ns+6xkbVtIE2enZ0XKX4VzPP5HDP2XGI8B81W5lhTlOZYiV3YuY4w/QshLVJeR/TVOBA0TF49fhpJKptXaT/mSoZlLRa/X67coRAkAdt+OnP2ZLvKtClEy8Bz4L5T6EYUoU2utqGm9+2mlAMz/vunfxHda+HGFKP8C6wW6ett+DK8AAAAASUVORK5CYII="},null)])])}});const ZK=["info","success","warning","error","403","404","500",null],JK=Ae({name:"Result",components:{IconInfo:KK,IconCheck:w1,IconExclamation:wL,IconClose:zr,ResultForbidden:YK,ResultNotFound:QK,ResultServerError:qK},props:{status:{type:String,default:"info",validator:e=>ZK.includes(e)},title:String,subtitle:String},setup(){return{prefixCls:Ge("result")}}});function eY(e,o,n,i,l,u){const a=Pe("icon-info"),h=Pe("icon-check"),p=Pe("icon-exclamation"),m=Pe("icon-close"),$=Pe("result-forbidden"),T=Pe("result-not-found"),w=Pe("result-server-error");return W(),fe("div",{class:Z(e.prefixCls)},[De("div",{class:Z([`${e.prefixCls}-icon`,{[`${e.prefixCls}-icon-${e.status}`]:e.status,[`${e.prefixCls}-icon-custom`]:e.status===null}])},[De("div",{class:Z(`${e.prefixCls}-icon-tip`)},[Ue(e.$slots,"icon",{},()=>[e.status==="info"?(W(),Ze(a,{key:0})):e.status==="success"?(W(),Ze(h,{key:1})):e.status==="warning"?(W(),Ze(p,{key:2})):e.status==="error"?(W(),Ze(m,{key:3})):e.status==="403"?(W(),Ze($,{key:4})):e.status==="404"?(W(),Ze(T,{key:5})):e.status==="500"?(W(),Ze(w,{key:6})):We("v-if",!0)])],2)],2),e.title||e.$slots.title?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-title`)},[Ue(e.$slots,"title",{},()=>[Dt(Mt(e.title),1)])],2)):We("v-if",!0),e.subtitle||e.$slots.subtitle?(W(),fe("div",{key:1,class:Z(`${e.prefixCls}-subtitle`)},[Ue(e.$slots,"subtitle",{},()=>[Dt(Mt(e.subtitle),1)])],2)):We("v-if",!0),e.$slots.extra?(W(),fe("div",{key:2,class:Z(`${e.prefixCls}-extra`)},[Ue(e.$slots,"extra")],2)):We("v-if",!0),e.$slots.default?(W(),fe("div",{key:3,class:Z(`${e.prefixCls}-content`)},[Ue(e.$slots,"default")],2)):We("v-if",!0)],2)}var $E=ot(JK,[["render",eY]]);const tY=Object.assign($E,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+$E.name,$E)}}),nY=Ae({name:"Skeleton",props:{loading:{type:Boolean,default:!0},animation:{type:Boolean,default:!1}},setup(e){const o=Ge("skeleton"),n=O(()=>[o,{[`${o}-animation`]:e.animation}]);return{prefixCls:o,cls:n}}});function oY(e,o,n,i,l,u){return W(),fe("div",{class:Z(e.cls)},[e.loading?Ue(e.$slots,"default",{key:0}):Ue(e.$slots,"content",{key:1})],2)}var vE=ot(nY,[["render",oY]]);const rY=Ae({name:"SkeletonLine",props:{rows:{type:Number,default:1},widths:{type:Array,default:()=>[]},lineHeight:{type:Number,default:20},lineSpacing:{type:Number,default:15}},setup(e){const o=Ge("skeleton-line"),n=[];for(let i=0;i<e.rows;i++){const l={};_t(e.widths[i])?l.width=`${e.widths[i]}px`:ir(e.widths[i])&&(l.width=String(e.widths[i])),l.height=`${e.lineHeight}px`,i>0&&(l.marginTop=`${e.lineSpacing}px`),n.push(l)}return{prefixCls:o,lines:n}}});function iY(e,o,n,i,l,u){return W(!0),fe(Lt,null,Ko(e.lines,(a,h)=>(W(),fe("ul",{key:h,class:Z(e.prefixCls)},[De("li",{class:Z(`${e.prefixCls}-row`),style:yt(a)},null,6)],2))),128)}var hb=ot(rY,[["render",iY]]);const sY=Ae({name:"SkeletonShape",props:{shape:{type:String,default:"square"},size:{type:String,default:"medium"}},setup(e){const o=Ge("skeleton-shape"),n=O(()=>[o,`${o}-${e.shape}`,`${o}-${e.size}`]);return{prefixCls:o,cls:n}}});function lY(e,o,n,i,l,u){return W(),fe("div",{class:Z(e.cls)},null,2)}var pb=ot(sY,[["render",lY]]);const aY=Object.assign(vE,{Line:hb,Shape:pb,install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+vE.name,vE),e.component(n+hb.name,hb),e.component(n+pb.name,pb)}}),uY=Ae({name:"SliderButton",components:{Tooltip:el},inheritAttrs:!1,props:{direction:{type:String,default:"horizontal"},disabled:{type:Boolean,default:!1},min:{type:Number,required:!0},max:{type:Number,required:!0},formatTooltip:{type:Function},value:[String,Number],tooltipPosition:{type:String},showTooltip:{type:Boolean,default:!0}},emits:["movestart","moving","moveend"],setup(e,{emit:o}){const n=Ge("slider-btn"),i=ve(!1),l=T=>{e.disabled||(T.preventDefault(),i.value=!0,Jn(window,"mousemove",u),Jn(window,"mouseup",a),Jn(window,"contextmenu",a),o("movestart"))},u=T=>{o("moving",T.clientX,T.clientY)},a=()=>{i.value=!1,$o(window,"mousemove",u),$o(window,"mouseup",a),o("moveend")},h=O(()=>[n]),p=O(()=>{var T;return((T=e.tooltipPosition)!=null?T:e.direction==="vertical")?"right":"top"}),m=O(()=>{var T,w;return(w=(T=e.formatTooltip)==null?void 0:T.call(e,e.value))!=null?w:`${e.value}`}),$=O(()=>e.showTooltip?i.value?!0:void 0:!1);return{prefixCls:n,cls:h,tooltipContent:m,mergedTooltipPosition:p,popupVisible:$,handleMouseDown:l}}}),cY=["aria-disabled","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"];function dY(e,o,n,i,l,u){const a=Pe("tooltip");return W(),Ze(a,{"popup-visible":e.popupVisible,position:e.mergedTooltipPosition,content:e.tooltipContent},{default:Je(()=>[De("div",lt(e.$attrs,{tabindex:"0",role:"slider","aria-disabled":e.disabled,"aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":e.value,"aria-valuetext":e.tooltipContent,class:e.cls,onMousedown:o[0]||(o[0]=(...h)=>e.handleMouseDown&&e.handleMouseDown(...h)),onClick:o[1]||(o[1]=qs(()=>{},["stop"]))}),null,16,cY)]),_:1},8,["popup-visible","position","content"])}var hY=ot(uY,[["render",dY]]);const Yc=(e,[o,n])=>{const i=Math.max((e-o)/(n-o),0);return`${Pi.round(i*100,2)}%`},N1=(e,o)=>o==="vertical"?{bottom:e}:{left:e},pY=Ae({name:"SliderDots",props:{data:{type:Array,required:!0},min:{type:Number,required:!0},max:{type:Number,required:!0},direction:{type:String,default:"horizontal"}},setup(e){return{prefixCls:Ge("slider"),getStyle:i=>N1(Yc(i,[e.min,e.max]),e.direction)}}});function fY(e,o,n,i,l,u){return W(),fe("div",{class:Z(`${e.prefixCls}-dots`)},[(W(!0),fe(Lt,null,Ko(e.data,(a,h)=>(W(),fe("div",{key:h,class:Z(`${e.prefixCls}-dot-wrapper`),style:yt(e.getStyle(a.key))},[De("div",{class:Z([`${e.prefixCls}-dot`,{[`${e.prefixCls}-dot-active`]:a.isActive}])},null,2)],6))),128))],2)}var gY=ot(pY,[["render",fY]]);const mY=Ae({name:"SliderMarks",props:{data:{type:Array,required:!0},min:{type:Number,required:!0},max:{type:Number,required:!0},direction:{type:String,default:"horizontal"}},setup(e){return{prefixCls:Ge("slider"),getStyle:i=>N1(Yc(i,[e.min,e.max]),e.direction)}}});function $Y(e,o,n,i,l,u){return W(),fe("div",{class:Z(`${e.prefixCls}-marks`)},[(W(!0),fe(Lt,null,Ko(e.data,(a,h)=>(W(),fe("div",{key:h,"aria-hidden":"true",class:Z(`${e.prefixCls}-mark`),style:yt(e.getStyle(a.key))},Mt(a.content),7))),128))],2)}var vY=ot(mY,[["render",$Y]]);const _Y=Ae({name:"SliderTicks",props:{value:{type:Array,required:!0},step:{type:Number,required:!0},min:{type:Number,required:!0},max:{type:Number,required:!0},direction:{type:String,default:"horizontal"}},setup(e){const o=Ge("slider"),n=O(()=>{const l=[],u=Math.floor((e.max-e.min)/e.step);for(let a=0;a<=u;a++){const h=Pi.plus(a*e.step,e.min);h<=e.min||h>=e.max||l.push({key:h,isActive:h>=e.value[0]&&h<=e.value[1]})}return l});return{prefixCls:o,steps:n,getStyle:l=>N1(Yc(l,[e.min,e.max]),e.direction)}}});function bY(e,o,n,i,l,u){return W(),fe("div",{class:Z(`${e.prefixCls}-ticks`)},[(W(!0),fe(Lt,null,Ko(e.steps,(a,h)=>(W(),fe("div",{key:h,class:Z([`${e.prefixCls}-tick`,{[`${e.prefixCls}-tick-active`]:a.isActive}]),style:yt(e.getStyle(a.key))},null,6))),128))],2)}var TY=ot(_Y,[["render",bY]]);const yY=Ae({name:"SliderInput",components:{InputNumber:qI},props:{modelValue:{type:Array,required:!0},min:{type:Number},max:{type:Number},step:{type:Number},disabled:{type:Boolean},range:{type:Boolean}},emits:["startChange","endChange"],setup(e,{emit:o}){return{prefixCls:Ge("slider")}}});function EY(e,o,n,i,l,u){const a=Pe("input-number");return W(),fe("div",{class:Z(`${e.prefixCls}-input`)},[e.range?(W(),fe(Lt,{key:0},[_(a,{min:e.min,max:e.max,step:e.step,disabled:e.disabled,"model-value":e.modelValue[0],"hide-button":"",onChange:o[0]||(o[0]=h=>e.$emit("startChange",h))},null,8,["min","max","step","disabled","model-value"]),De("div",{class:Z(`${e.prefixCls}-input-hyphens`)},null,2)],64)):We("v-if",!0),_(a,{min:e.min,max:e.max,step:e.step,disabled:e.disabled,"model-value":e.modelValue[1],"hide-button":"",onChange:o[1]||(o[1]=h=>e.$emit("endChange",h))},null,8,["min","max","step","disabled","model-value"])],2)}var CY=ot(yY,[["render",EY]]);const IY=Ae({name:"Slider",components:{SliderButton:hY,SliderDots:gY,SliderMarks:vY,SliderTicks:TY,SliderInput:CY},props:{modelValue:{type:[Number,Array],default:void 0},defaultValue:{type:[Number,Array],default:0},step:{type:Number,default:1},min:{type:Number,default:0},marks:{type:Object},max:{type:Number,default:100},direction:{type:String,default:"horizontal"},disabled:{type:Boolean,default:!1},showTicks:{type:Boolean,default:!1},showInput:{type:Boolean,default:!1},range:{type:Boolean,default:!1},formatTooltip:{type:Function},showTooltip:{type:Boolean,default:!0}},emits:{"update:modelValue":e=>!0,change:e=>!0},setup(e,{emit:o}){const{modelValue:n}=mt(e),i=Ge("slider"),{mergedDisabled:l,eventHandlers:u}=Eo({disabled:Os(e,"disabled")}),a=ve(null),h=ve(),p=e.modelValue?e.modelValue:e.defaultValue,m=ve(nn(p)?p[0]:0),$=ve(nn(p)?p[1]:p);At(n,ee=>{var ue,oe,X,K,q;nn(ee)?(m.value=(oe=(ue=ee[0])!=null?ue:e.min)!=null?oe:0,$.value=(K=(X=ee[1])!=null?X:e.min)!=null?K:0):$.value=(q=ee??e.min)!=null?q:0});const T=()=>{var ee,ue;e.range?(o("update:modelValue",[m.value,$.value]),o("change",[m.value,$.value])):(o("update:modelValue",$.value),o("change",$.value)),(ue=(ee=u.value)==null?void 0:ee.onChange)==null||ue.call(ee)},w=ee=>{ee=ee??e.min,m.value=ee,T()},A=ee=>{ee=ee??e.min,$.value=ee,T()},R=O(()=>{var ee,ue,oe;return e.range?nn(e.modelValue)?e.modelValue:[m.value,(ee=e.modelValue)!=null?ee:$.value]:Gt(e.modelValue)?[m.value,$.value]:nn(e.modelValue)?[(ue=e.min)!=null?ue:0,e.modelValue[1]]:[(oe=e.min)!=null?oe:0,e.modelValue]}),L=O(()=>Object.keys(e.marks||{}).map(ee=>{var ue;const oe=Number(ee);return{key:oe,content:(ue=e.marks)==null?void 0:ue[oe],isActive:oe>=R.value[0]&&oe<=R.value[1]}})),M=ee=>N1(Yc(ee,[e.min,e.max]),e.direction),B=ve(!1),G=()=>{B.value=!0,a.value&&(h.value=a.value.getBoundingClientRect())};function j(ee,ue){if(!h.value)return 0;const{left:oe,top:X,width:K,height:q}=h.value,z=e.direction==="horizontal"?K:q,ne=z*e.step/(e.max-e.min);let ge=e.direction==="horizontal"?ee-oe:X+q-ue;ge<0&&(ge=0),ge>z&&(ge=z);const Q=Math.round(ge/ne);return Pi.plus(e.min,Pi.times(Q,e.step))}const F=(ee,ue)=>{$.value=j(ee,ue),T()},x=ee=>{if(l.value)return;const{clientX:ue,clientY:oe}=ee;a.value&&(h.value=a.value.getBoundingClientRect()),$.value=j(ue,oe),T()};function D([ee,ue]){return ee>ue&&([ee,ue]=[ue,ee]),e.direction==="vertical"?{bottom:Yc(ee,[e.min,e.max]),top:Yc(e.max+e.min-ue,[e.min,e.max])}:{left:Yc(ee,[e.min,e.max]),right:Yc(e.max+e.min-ue,[e.min,e.max])}}const U=(ee,ue)=>{m.value=j(ee,ue),T()},te=()=>{B.value=!1},Y=O(()=>[i,{[`${i}-vertical`]:e.direction==="vertical",[`${i}-with-marks`]:!!e.marks}]),J=O(()=>[`${i}-track`,{[`${i}-track-disabled`]:l.value,[`${i}-track-vertical`]:e.direction==="vertical"}]);return{prefixCls:i,cls:Y,trackCls:J,trackRef:a,computedValue:R,mergedDisabled:l,markList:L,getBtnStyle:M,getBarStyle:D,handleClick:x,handleMoveStart:G,handleEndMoving:F,handleMoveEnd:te,handleStartMoving:U,handleStartChange:w,handleEndChange:A}}});function SY(e,o,n,i,l,u){const a=Pe("slider-ticks"),h=Pe("slider-dots"),p=Pe("slider-marks"),m=Pe("slider-button"),$=Pe("slider-input");return W(),fe("div",{class:Z(e.cls)},[De("div",{ref:"trackRef",class:Z(e.trackCls),onClick:o[0]||(o[0]=(...T)=>e.handleClick&&e.handleClick(...T))},[De("div",{class:Z(`${e.prefixCls}-bar`),style:yt(e.getBarStyle(e.computedValue))},null,6),e.showTicks?(W(),Ze(a,{key:0,value:e.computedValue,step:e.step,min:e.min,max:e.max,direction:e.direction},null,8,["value","step","min","max","direction"])):We("v-if",!0),e.marks?(W(),Ze(h,{key:1,data:e.markList,min:e.min,max:e.max,direction:e.direction},null,8,["data","min","max","direction"])):We("v-if",!0),e.marks?(W(),Ze(p,{key:2,data:e.markList,min:e.min,max:e.max,direction:e.direction},null,8,["data","min","max","direction"])):We("v-if",!0),e.range?(W(),Ze(m,{key:3,style:yt(e.getBtnStyle(e.computedValue[0])),value:e.computedValue[0],direction:e.direction,disabled:e.mergedDisabled,min:e.min,max:e.max,"format-tooltip":e.formatTooltip,"show-tooltip":e.showTooltip,onMovestart:e.handleMoveStart,onMoving:e.handleStartMoving,onMoveend:e.handleMoveEnd},null,8,["style","value","direction","disabled","min","max","format-tooltip","show-tooltip","onMovestart","onMoving","onMoveend"])):We("v-if",!0),_(m,{style:yt(e.getBtnStyle(e.computedValue[1])),value:e.computedValue[1],direction:e.direction,disabled:e.mergedDisabled,min:e.min,max:e.max,"format-tooltip":e.formatTooltip,"show-tooltip":e.showTooltip,onMovestart:e.handleMoveStart,onMoving:e.handleEndMoving,onMoveend:e.handleMoveEnd},null,8,["style","value","direction","disabled","min","max","format-tooltip","show-tooltip","onMovestart","onMoving","onMoveend"])],2),e.showInput?(W(),Ze($,{key:0,"model-value":e.computedValue,min:e.min,max:e.max,step:e.step,range:e.range,disabled:e.disabled,onStartChange:e.handleStartChange,onEndChange:e.handleEndChange},null,8,["model-value","min","max","step","range","disabled","onStartChange","onEndChange"])):We("v-if",!0)],2)}var _E=ot(IY,[["render",SY]]);const OY=Object.assign(_E,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+_E.name,_E)}});var bE=Ae({name:"Space",props:{align:{type:String},direction:{type:String,default:"horizontal"},size:{type:[Number,String,Array],default:"small"},wrap:{type:Boolean},fill:{type:Boolean}},setup(e,{slots:o}){const n=Ge("space"),i=O(()=>{var h;return(h=e.align)!=null?h:e.direction==="horizontal"?"center":""}),l=O(()=>[n,{[`${n}-${e.direction}`]:e.direction,[`${n}-align-${i.value}`]:i.value,[`${n}-wrap`]:e.wrap,[`${n}-fill`]:e.fill}]);function u(h){if(_t(h))return h;switch(h){case"mini":return 4;case"small":return 8;case"medium":return 16;case"large":return 24;default:return 8}}const a=h=>{const p={},m=`${u(nn(e.size)?e.size[0]:e.size)}px`,$=`${u(nn(e.size)?e.size[1]:e.size)}px`;return h?e.wrap?{marginBottom:$}:{}:(e.direction==="horizontal"&&(p.marginRight=m),(e.direction==="vertical"||e.wrap)&&(p.marginBottom=$),p)};return()=>{var h;const p=Oa((h=o.default)==null?void 0:h.call(o),!0).filter(m=>m.type!==Is);return _("div",{class:l.value},[p.map((m,$)=>{var T,w;const A=o.split&&$>0;return _(Lt,{key:(T=m.key)!=null?T:`item-${$}`},[A&&_("div",{class:`${n}-item-split`,style:a(!1)},[(w=o.split)==null?void 0:w.call(o)]),_("div",{class:`${n}-item`,style:a($===p.length-1)},[m])])})])}}});const kY=Object.assign(bE,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+bE.name,bE)}});function AL(e){const o=ir(e)?parseFloat(e):e;let n="";return _t(e)||String(o)===e?n=o>1?"px":"%":n="px",{size:o,unit:n,isPx:n==="px"}}function $0({size:e,defaultSize:o,containerSize:n}){const i=AL(e??o);return i.isPx?i.size:i.size*n}function wY(e,o){return parseFloat(e)/parseFloat(o)}const NY=Ae({name:"Split",components:{ResizeTrigger:fL},props:{component:{type:String,default:"div"},direction:{type:String,default:"horizontal"},size:{type:[Number,String],default:void 0},defaultSize:{type:[Number,String],default:.5},min:{type:[Number,String]},max:{type:[Number,String]},disabled:{type:Boolean,default:!1}},emits:{moveStart:e=>!0,moving:e=>!0,moveEnd:e=>!0,"update:size":e=>!0},setup(e,{emit:o}){const{direction:n,size:i,defaultSize:l,min:u,max:a}=mt(e),h=ve(0),p=ve(),m=Ge("split"),[$,T]=kr(l.value,ft({value:i})),w=O(()=>AL($.value)),A=O(()=>n.value==="horizontal"),R=O(()=>[m,{[`${m}-horizontal`]:A.value,[`${m}-vertical`]:!A.value}]),L=O(()=>{const{size:Y,unit:J,isPx:ee}=w.value;return{flex:`0 0 calc(${ee?Y:Y*100}${J} - ${h.value/2}px)`}}),M={startPageX:0,startPageY:0,startContainerSize:0,startSize:0};async function B(){const Y=()=>{var J,ee;return A.value?(J=p.value)==null?void 0:J.clientWidth:((ee=p.value)==null?void 0:ee.clientHeight)||0};return(!p.value||Y())&&await Un(),Y()}function G(Y,J){if(!J)return;const ee=w.value.isPx?`${Y}px`:wY(Y,J);$.value!==ee&&(T(ee),o("update:size",ee))}function j(Y,J){const ee=$0({size:Y,containerSize:J}),ue=$0({size:u.value,defaultSize:"0px",containerSize:J}),oe=$0({size:a.value,defaultSize:`${J}px`,containerSize:J});let X=ee;return X=Math.max(X,ue),X=Math.min(X,oe),X}function F({startContainerSize:Y,startSize:J,startPosition:ee,endPosition:ue}){const oe=$0({size:J,containerSize:Y});return j(`${oe+(ue-ee)}px`,Y)}function x(Y){o("moving",Y);const J=A.value?F({startContainerSize:M.startContainerSize,startSize:M.startSize,startPosition:M.startPageX,endPosition:Y.pageX}):F({startContainerSize:M.startContainerSize,startSize:M.startSize,startPosition:M.startPageY,endPosition:Y.pageY});G(J,M.startContainerSize)}function D(Y){$o(window,"mousemove",x),$o(window,"mouseup",D),$o(window,"contextmenu",D),document.body.style.cursor="default",o("moveEnd",Y)}async function U(Y){o("moveStart",Y),M.startPageX=Y.pageX,M.startPageY=Y.pageY,M.startContainerSize=await B(),M.startSize=$.value,Jn(window,"mousemove",x),Jn(window,"mouseup",D),Jn(window,"contextmenu",D),document.body.style.cursor=A.value?"col-resize":"row-resize"}function te(Y){const{width:J,height:ee}=Y.contentRect;h.value=A.value?J:ee}return fn(async()=>{const Y=await B(),J=j($.value,Y);G(J,Y)}),{prefixCls:m,classNames:R,isHorizontal:A,wrapperRef:p,onMoveStart:U,onTriggerResize:te,firstPaneStyles:L}}});function AY(e,o,n,i,l,u){const a=Pe("ResizeTrigger");return W(),Ze(ts(e.component),{ref:"wrapperRef",class:Z(e.classNames)},{default:Je(()=>[De("div",{class:Z([`${e.prefixCls}-pane`,`${e.prefixCls}-pane-first`]),style:yt(e.firstPaneStyles)},[Ue(e.$slots,"first")],6),e.disabled?We("v-if",!0):(W(),Ze(a,{key:0,"prefix-cls":`${e.prefixCls}-trigger`,direction:e.isHorizontal?"vertical":"horizontal",onMousedown:e.onMoveStart,onResize:e.onTriggerResize},{default:Je(()=>[Ue(e.$slots,"resize-trigger")]),icon:Je(()=>[Ue(e.$slots,"resize-trigger-icon")]),_:3},8,["prefix-cls","direction","onMousedown","onResize"])),De("div",{class:Z([`${e.prefixCls}-pane`,`${e.prefixCls}-pane-second`])},[Ue(e.$slots,"second")],2)]),_:3},8,["class"])}var TE=ot(NY,[["render",AY]]);const RY=Object.assign(TE,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+TE.name,TE)}}),LY=Ae({name:"Statistic",props:{title:String,value:{type:[Number,Object]},format:{type:String,default:"HH:mm:ss"},extra:String,start:{type:Boolean,default:!0},precision:{type:Number,default:0},separator:String,showGroupSeparator:{type:Boolean,default:!1},animation:{type:Boolean,default:!1},animationDuration:{type:Number,default:2e3},valueFrom:{type:Number,default:void 0},placeholder:{type:String},valueStyle:{type:Object}},setup(e){var o;const n=Ge("statistic"),i=O(()=>_t(e.value)?e.value:0),l=ve((o=e.valueFrom)!=null?o:e.value),u=ve(null),{value:a}=mt(e),h=O(()=>Gt(e.value)),p=($=(w=>(w=e.valueFrom)!=null?w:0)(),T=i.value)=>{var w;$!==T&&(u.value=new jh({from:{value:$},to:{value:T},duration:e.animationDuration,easing:"quartOut",onUpdate:A=>{l.value=A.value},onFinish:()=>{l.value=T}}),(w=u.value)==null||w.start())},m=O(()=>{let $=l.value;if(_t($)){_t(e.precision)&&($=Pi.round($,e.precision).toFixed(e.precision));const T=String($).split("."),w=e.showGroupSeparator?Number(T[0]).toLocaleString("en-US"):T[0],A=T[1];return{isNumber:!0,integer:w,decimal:A}}return e.format&&($=hi($).format(e.format)),{isNumber:!1,value:$}});return fn(()=>{e.animation&&e.start&&p()}),At(()=>e.start,$=>{$&&e.animation&&!u.value&&p()}),At(a,$=>{var T;u.value&&((T=u.value)==null||T.stop(),u.value=null),l.value=$,e.animation&&e.start&&p()}),{prefixCls:n,showPlaceholder:h,formatValue:m}}}),MY={key:0};function PY(e,o,n,i,l,u){return W(),fe("div",{class:Z(e.prefixCls)},[e.title||e.$slots.title?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-title`)},[Ue(e.$slots,"title",{},()=>[Dt(Mt(e.title),1)])],2)):We("v-if",!0),De("div",{class:Z(`${e.prefixCls}-content`)},[De("div",{class:Z(`${e.prefixCls}-value`),style:yt(e.valueStyle)},[e.showPlaceholder?(W(),fe("span",MY,Mt(e.placeholder),1)):(W(),fe(Lt,{key:1},[e.$slots.prefix?(W(),fe("span",{key:0,class:Z(`${e.prefixCls}-prefix`)},[Ue(e.$slots,"prefix")],2)):We("v-if",!0),e.formatValue.isNumber?(W(),fe(Lt,{key:1},[De("span",{class:Z(`${e.prefixCls}-value-integer`)},Mt(e.formatValue.integer),3),e.formatValue.decimal?(W(),fe("span",{key:0,class:Z(`${e.prefixCls}-value-decimal`)}," ."+Mt(e.formatValue.decimal),3)):We("v-if",!0)],64)):(W(),fe(Lt,{key:2},[Dt(Mt(e.formatValue.value),1)],2112)),e.$slots.suffix?(W(),fe("span",{key:3,class:Z(`${e.prefixCls}-suffix`)},[Ue(e.$slots,"suffix")],2)):We("v-if",!0)],64))],6),e.extra||e.$slots.extra?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-extra`)},[Ue(e.$slots,"extra",{},()=>[Dt(Mt(e.extra),1)])],2)):We("v-if",!0)],2)],2)}var yE=ot(LY,[["render",PY]]);const DY=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]];function EE(e,o){let n=e;return DY.reduce((i,[l,u])=>{if(i.indexOf(l)!==-1){const a=Math.floor(n/u);return n-=a*u,i.replace(new RegExp(`${l}+`,"g"),h=>{const p=h.length;return String(a).padStart(p,"0")})}return i},o)}const xY=Ae({name:"Countdown",props:{title:String,value:{type:Number,default:()=>Date.now()+3e5},now:{type:Number,default:()=>Date.now()},format:{type:String,default:"HH:mm:ss"},start:{type:Boolean,default:!0},valueStyle:{type:Object}},emits:{finish:()=>!0},setup(e,{emit:o}){const n=Ge("statistic"),{start:i,value:l,now:u,format:a}=mt(e),h=ve(EE(Math.max(hi(e.value).diff(hi(e.now),"millisecond"),0),e.format));At([l,u,a],()=>{const T=EE(Math.max(hi(e.value).diff(hi(e.now),"millisecond"),0),e.format);T!==h.value&&(h.value=T)});const p=ve(0),m=()=>{p.value&&(window.clearInterval(p.value),p.value=0)},$=()=>{hi(e.value).valueOf()<Date.now()||(p.value=window.setInterval(()=>{const T=hi(e.value).diff(hi(),"millisecond");T<=0&&(m(),o("finish")),h.value=EE(Math.max(T,0),e.format)},1e3/30))};return fn(()=>{e.start&&$()}),wr(()=>{m()}),At(i,T=>{T&&!p.value&&$()}),{prefixCls:n,displayValue:h}}});function BY(e,o,n,i,l,u){return W(),fe("div",{class:Z([`${e.prefixCls}`,`${e.prefixCls}-countdown`])},[e.title||e.$slots.title?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-title`)},[Ue(e.$slots,"title",{},()=>[Dt(Mt(e.title),1)])],2)):We("v-if",!0),De("div",{class:Z(`${e.prefixCls}-content`)},[De("div",{class:Z(`${e.prefixCls}-value`),style:yt(e.valueStyle)},Mt(e.displayValue),7)],2)],2)}var fb=ot(xY,[["render",BY]]);const FY=Object.assign(yE,{Countdown:fb,install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+yE.name,yE),e.component(n+fb.name,fb)}}),RL=Symbol("ArcoSteps"),VY=Ae({name:"Steps",props:{type:{type:String,default:"default"},direction:{type:String,default:"horizontal"},labelPlacement:{type:String,default:"horizontal"},current:{type:Number,default:void 0},defaultCurrent:{type:Number,default:1},status:{type:String,default:"process"},lineLess:{type:Boolean,default:!1},small:{type:Boolean,default:!1},changeable:{type:Boolean,default:!1}},emits:{"update:current":e=>!0,change:(e,o)=>!0},setup(e,{emit:o,slots:n}){const{type:i,lineLess:l}=mt(e),u=Ge("steps"),a=ve(e.defaultCurrent),h=O(()=>{var B;return(B=e.current)!=null?B:a.value}),p=O(()=>["navigation","arrow"].includes(e.type)?"horizontal":e.direction),m=O(()=>e.type==="dot"?p.value==="vertical"?"horizontal":"vertical":e.type==="navigation"?"horizontal":e.labelPlacement),$=B=>B<h.value?"finish":B>h.value?"wait":e.status,T=(B,G)=>{e.changeable&&(a.value=B,o("update:current",B),o("change",B,G))},w=ft(new Map),A=O(()=>Array.from(w.values()).filter(B=>B.status==="error").map(B=>B.step)),R=(B,G)=>{w.set(B,G)},L=B=>{w.delete(B)},M=O(()=>[u,`${u}-${p.value}`,`${u}-label-${m.value}`,`${u}-mode-${i.value}`,{[`${u}-changeable`]:e.changeable,[`${u}-size-small`]:e.small&&e.type!=="dot",[`${u}-line-less`]:l.value}]);return Ln(RL,ft({type:i,direction:p,labelPlacement:m,lineLess:l,current:h,errorSteps:A,getStatus:$,addItem:R,removeItem:L,onClick:T,parentCls:u})),{cls:M}}});function UY(e,o,n,i,l,u){return W(),fe("div",{class:Z(e.cls)},[Ue(e.$slots,"default")],2)}var CE=ot(VY,[["render",UY]]);const HY=Ae({name:"Step",components:{IconCheck:w1,IconClose:zr},props:{title:String,description:String,status:{type:String},disabled:{type:Boolean,default:!1}},setup(e){const o=Ge("steps-item"),n=vi(),i=Ge("steps-icon"),l=on(RL,void 0),u=O(()=>{var R;return(R=l==null?void 0:l.type)!=null?R:"default"}),a=ve(),{computedIndex:h}=b1({itemRef:a,selector:`.${o}`,parentClassName:l==null?void 0:l.parentCls}),p=O(()=>h.value+1),m=O(()=>{var R,L;return(L=(R=e.status)!=null?R:l==null?void 0:l.getStatus(p.value))!=null?L:"process"}),$=O(()=>{var R;return(R=l==null?void 0:l.errorSteps.includes(p.value+1))!=null?R:!1});n&&(l==null||l.addItem(n.uid,ft({step:p,status:m}))),wr(()=>{n&&(l==null||l.removeItem(n.uid))});const T=O(()=>!(l!=null&&l.lineLess)&&((l==null?void 0:l.labelPlacement)==="vertical"||(l==null?void 0:l.direction)==="vertical")),w=R=>{e.disabled||l==null||l.onClick(p.value,R)},A=O(()=>[o,`${o}-${m.value}`,{[`${o}-active`]:p.value===(l==null?void 0:l.current),[`${o}-next-error`]:$.value,[`${o}-disabled`]:e.disabled}]);return{prefixCls:o,iconCls:i,cls:A,itemRef:a,showTail:T,stepNumber:p,computedStatus:m,type:u,handleClick:w}}});function GY(e,o,n,i,l,u){const a=Pe("icon-check"),h=Pe("icon-close");return W(),fe("div",{ref:"itemRef",class:Z(e.cls),onClick:o[0]||(o[0]=(...p)=>e.handleClick&&e.handleClick(...p))},[e.showTail?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-tail`)},null,2)):We("v-if",!0),e.type!=="arrow"?(W(),fe("div",{key:1,class:Z(`${e.prefixCls}-node`)},[Ue(e.$slots,"node",{step:e.stepNumber,status:e.computedStatus},()=>[e.type!=="dot"?(W(),fe("div",{key:0,class:Z(e.iconCls)},[Ue(e.$slots,"icon",{step:e.stepNumber,status:e.computedStatus},()=>[e.computedStatus==="finish"?(W(),Ze(a,{key:0})):e.computedStatus==="error"?(W(),Ze(h,{key:1})):(W(),fe(Lt,{key:2},[Dt(Mt(e.stepNumber),1)],2112))])],2)):We("v-if",!0)])],2)):We("v-if",!0),De("div",{class:Z(`${e.prefixCls}-content`)},[De("div",{class:Z(`${e.prefixCls}-title`)},[Ue(e.$slots,"default",{},()=>[Dt(Mt(e.title),1)])],2),e.description||e.$slots.description?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-description`)},[Ue(e.$slots,"description",{},()=>[Dt(Mt(e.description),1)])],2)):We("v-if",!0)],2)],2)}var gb=ot(HY,[["render",GY]]);const zY=Object.assign(CE,{Step:gb,install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+CE.name,CE),e.component(n+gb.name,gb)}}),WY=Ae({name:"Switch",components:{IconLoading:gi},props:{modelValue:{type:[String,Number,Boolean],default:void 0},defaultChecked:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},type:{type:String,default:"circle"},size:{type:String},checkedValue:{type:[String,Number,Boolean],default:!0},uncheckedValue:{type:[String,Number,Boolean],default:!1},checkedColor:{type:String},uncheckedColor:{type:String},beforeChange:{type:Function},checkedText:{type:String},uncheckedText:{type:String}},emits:{"update:modelValue":e=>!0,change:(e,o)=>!0,focus:e=>!0,blur:e=>!0},setup(e,{emit:o}){const{disabled:n,size:i}=mt(e),l=Ge("switch"),{mergedSize:u}=Wr(i),{mergedDisabled:a,mergedSize:h,eventHandlers:p}=Eo({disabled:n,size:u}),m=ve(e.defaultChecked?e.checkedValue:e.uncheckedValue),$=O(()=>{var j;return((j=e.modelValue)!=null?j:m.value)===e.checkedValue}),T=ve(e.loading),w=O(()=>T.value||e.loading),A=(j,F)=>{var x,D;m.value=j?e.checkedValue:e.uncheckedValue,o("update:modelValue",m.value),o("change",m.value,F),(D=(x=p.value)==null?void 0:x.onChange)==null||D.call(x,F)},R=async j=>{if(w.value||a.value)return;const F=!$.value,x=F?e.checkedValue:e.uncheckedValue,D=e.beforeChange;if(Ut(D)){T.value=!0;try{const U=await D(x);(U??!0)&&A(F,j)}finally{T.value=!1}}else A(F,j)},L=j=>{var F,x;o("focus",j),(x=(F=p.value)==null?void 0:F.onFocus)==null||x.call(F,j)},M=j=>{var F,x;o("blur",j),(x=(F=p.value)==null?void 0:F.onBlur)==null||x.call(F,j)},B=O(()=>[l,`${l}-type-${e.type}`,{[`${l}-small`]:h.value==="small"||h.value==="mini",[`${l}-checked`]:$.value,[`${l}-disabled`]:a.value,[`${l}-loading`]:w.value,[`${l}-custom-color`]:e.type==="line"&&(e.checkedColor||e.uncheckedColor)}]),G=O(()=>{if($.value&&e.checkedColor)return e.type==="line"?{"--custom-color":e.checkedColor}:{backgroundColor:e.checkedColor};if(!$.value&&e.uncheckedColor)return e.type==="line"?{"--custom-color":e.uncheckedColor}:{backgroundColor:e.uncheckedColor}});return{prefixCls:l,cls:B,mergedDisabled:a,buttonStyle:G,computedCheck:$,computedLoading:w,handleClick:R,handleFocus:L,handleBlur:M}}}),jY=["aria-checked","disabled"];function XY(e,o,n,i,l,u){const a=Pe("icon-loading");return W(),fe("button",{type:"button",role:"switch","aria-checked":e.computedCheck,class:Z(e.cls),style:yt(e.buttonStyle),disabled:e.mergedDisabled,onClick:o[0]||(o[0]=(...h)=>e.handleClick&&e.handleClick(...h)),onFocus:o[1]||(o[1]=(...h)=>e.handleFocus&&e.handleFocus(...h)),onBlur:o[2]||(o[2]=(...h)=>e.handleBlur&&e.handleBlur(...h))},[De("span",{class:Z(`${e.prefixCls}-handle`)},[De("span",{class:Z(`${e.prefixCls}-handle-icon`)},[e.computedLoading?(W(),Ze(a,{key:0})):(W(),fe(Lt,{key:1},[e.computedCheck?Ue(e.$slots,"checked-icon",{key:0}):Ue(e.$slots,"unchecked-icon",{key:1})],2112))],2)],2),We("  prettier-ignore  "),e.type!=="line"&&e.size!=="small"&&(e.$slots.checked||e.checkedText||e.$slots.unchecked||e.uncheckedText)?(W(),fe(Lt,{key:0},[De("span",{class:Z(`${e.prefixCls}-text-holder`)},[e.computedCheck?Ue(e.$slots,"checked",{key:0},()=>[Dt(Mt(e.checkedText),1)]):Ue(e.$slots,"unchecked",{key:1},()=>[Dt(Mt(e.uncheckedText),1)])],2),De("span",{class:Z(`${e.prefixCls}-text`)},[e.computedCheck?Ue(e.$slots,"checked",{key:0},()=>[Dt(Mt(e.checkedText),1)]):Ue(e.$slots,"unchecked",{key:1},()=>[Dt(Mt(e.uncheckedText),1)])],2)],64)):We("v-if",!0)],46,jY)}var IE=ot(WY,[["render",XY]]);const KY=Object.assign(IE,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+IE.name,IE)}});var YY=Object.defineProperty,QY=Object.defineProperties,qY=Object.getOwnPropertyDescriptors,uw=Object.getOwnPropertySymbols,ZY=Object.prototype.hasOwnProperty,JY=Object.prototype.propertyIsEnumerable,cw=(e,o,n)=>o in e?YY(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,LL=(e,o)=>{for(var n in o||(o={}))ZY.call(o,n)&&cw(e,n,o[n]);if(uw)for(var n of uw(o))JY.call(o,n)&&cw(e,n,o[n]);return e},eQ=(e,o)=>QY(e,qY(o));const tQ=e=>{let o=0;const n=i=>{if(nn(i)&&i.length>0)for(const l of i)l.children?n(l.children):o+=1};return n(e),o},ML=e=>{let o=0;if(nn(e)&&e.length>0){o=1;for(const n of e)if(n.children){const i=ML(n.children);i>0&&(o=Math.max(o,i+1))}}return o},dw=(e,o)=>{let{parent:n}=e;for(;n;)n.fixed===o&&(o==="left"?n.isLastLeftFixed=!0:n.isFirstRightFixed=!0),n=n.parent},nQ=(e,o,n)=>{const i=ML(e);o.clear();const l=[],u=[...Array(i)].map(()=>[]);let a,h;const p=(m,{level:$=0,parent:T,fixed:w}={})=>{var A;for(const R of m){const L=eQ(LL({},R),{parent:T});if(nn(L.children)){const M=tQ(L.children);M>1&&(L.colSpan=M),u[$].push(L),p(L.children,{level:$+1,parent:L,fixed:L.fixed})}else{const M=i-$;M>1&&(L.rowSpan=M),(w||L.fixed)&&(L.fixed=(A=L.fixed)!=null?A:w,L.fixed==="left"?a=l.length:Gt(h)&&(h=l.length)),(Gt(L.dataIndex)||Di(L.dataIndex))&&(L.dataIndex=`__arco_data_index_${l.length}`),n[L.dataIndex]&&(L._resizeWidth=n[L.dataIndex]),o.set(L.dataIndex,L),l.push(L),u[$].push(L)}}};return p(e),Gt(a)||(l[a].isLastLeftFixed=!0,dw(l[a],"left")),Gt(h)||(l[h].isFirstRightFixed=!0,dw(l[h],"right")),{dataColumns:l,groupColumns:u}},oQ=(e,o)=>{for(let n=0;n<e.length;n++)if(e[n].name===o)return n;return-1},rQ=(e,o)=>{var n;const i=oQ(o,e.name);if(i<=0)return 0;let l=0;const u=o.slice(0,i);for(const a of u)l+=(n=a.width)!=null?n:0;return l},iS=e=>e.children&&e.children.length>0?iS(e.children[0]):e,iQ=e=>e.children&&e.children.length>0?iS(e.children[e.children.length-1]):e,sQ=(e,{dataColumns:o,operations:n})=>{var i,l,u;let a=0;if(e.fixed==="left"){for(const m of n)a+=(i=m.width)!=null?i:40;const p=iS(e);for(const m of o){if(p.dataIndex===m.dataIndex)break;a+=(u=(l=m._resizeWidth)!=null?l:m.width)!=null?u:0}return a}const h=iQ(e);for(let p=o.length-1;p>0;p--){const m=o[p];if(h.dataIndex===m.dataIndex)break;m.fixed==="right"&&(a+=m.width)}return a},PL=(e,o)=>o.fixed?[`${e}-col-fixed-left`,{[`${e}-col-fixed-left-last`]:o.isLastLeftFixed}]:[],DL=(e,o)=>o.fixed==="left"?[`${e}-col-fixed-left`,{[`${e}-col-fixed-left-last`]:o.isLastLeftFixed}]:o.fixed==="right"?[`${e}-col-fixed-right`,{[`${e}-col-fixed-right-first`]:o.isFirstRightFixed}]:[],xL=(e,{dataColumns:o,operations:n})=>{if(e.fixed){const i=`${sQ(e,{dataColumns:o,operations:n})}px`;return e.fixed==="left"?{left:i}:{right:i}}return{}},BL=(e,o)=>e.fixed?{left:`${rQ(e,o)}px`}:{};function FL(e){return e.map(o=>{const n=LL({},o);return n.children&&(n.children=FL(n.children)),n})}function VL(e){return e.map(o=>{const n=o.raw;return o.children&&n.children&&(n.children=VL(o.children)),o.raw})}const sS=e=>{const o=[];if(e.children)for(const n of e.children)n.isLeaf?o.push(n.key):o.push(...sS(n));return o},lQ=(e,o)=>{let n=!1,i=!1;const l=o.filter(u=>e.includes(u));return l.length>0&&(l.length>=o.length?n=!0:i=!0),{checked:n,indeterminate:i}},T$=(e,o,n=!1)=>n?e.filter(i=>!o.includes(i)):Array.from(new Set(e.concat(o))),aQ=e=>{const o=[];for(let n=0;n<e.length;n++)o[n]=e[e.length-1-n];return o},uQ=({selectedKeys:e,defaultSelectedKeys:o,rowSelection:n,currentAllRowKeys:i,currentAllEnabledRowKeys:l,emit:u})=>{var a,h,p;const m=O(()=>{var j;return((j=n.value)==null?void 0:j.type)==="radio"}),$=ve((p=(h=o.value)!=null?h:(a=n.value)==null?void 0:a.defaultSelectedRowKeys)!=null?p:[]),T=O(()=>{var j,F,x;return(x=(F=e.value)!=null?F:(j=n.value)==null?void 0:j.selectedRowKeys)!=null?x:$.value}),w=O(()=>T.value.filter(j=>i.value.includes(j)));return{isRadio:m,selectedRowKeys:T,currentSelectedRowKeys:w,handleSelectAll:j=>{const F=T$(T.value,l.value,!j);$.value=F,u("selectAll",j),u("selectionChange",F),u("update:selectedKeys",F)},handleSelect:(j,F)=>{const x=m.value?[F.key]:T$(T.value,[F.key],!j);$.value=x,u("select",x,F.key,F.raw),u("selectionChange",x),u("update:selectedKeys",x)},handleSelectAllLeafs:(j,F)=>{const x=T$(T.value,sS(j),!F);$.value=x,u("select",x,j.key,j.raw),u("selectionChange",x),u("update:selectedKeys",x)},select:(j,F=!0)=>{const x=[].concat(j),D=m.value?x:T$(T.value,x,!F);$.value=D,u("selectionChange",D),u("update:selectedKeys",D)},selectAll:(j=!0)=>{const F=T$(T.value,l.value,!j);$.value=F,u("selectionChange",F),u("update:selectedKeys",F)},clearSelected:()=>{$.value=[],u("selectionChange",[]),u("update:selectedKeys",[])}}},cQ=({expandedKeys:e,defaultExpandedKeys:o,defaultExpandAllRows:n,expandable:i,allRowKeys:l,emit:u})=>{const h=ve((()=>{var w,A;return o.value?o.value:(w=i.value)!=null&&w.defaultExpandedRowKeys?i.value.defaultExpandedRowKeys:n.value||(A=i.value)!=null&&A.defaultExpandAllRows?[...l.value]:[]})()),p=O(()=>{var w,A,R;return(R=(A=e.value)!=null?A:(w=i.value)==null?void 0:w.expandedRowKeys)!=null?R:h.value});return{expandedRowKeys:p,handleExpand:(w,A)=>{const L=p.value.includes(w)?p.value.filter(M=>w!==M):p.value.concat(w);h.value=L,u("expand",w,A),u("expandedChange",L),u("update:expandedKeys",L)},expand:(w,A=!0)=>{const R=[].concat(w),L=A?p.value.concat(R):p.value.filter(M=>!R.includes(M));h.value=L,u("expandedChange",L),u("update:expandedKeys",L)},expandAll:(w=!0)=>{const A=w?[...l.value]:[];h.value=A,u("expandedChange",A),u("update:expandedKeys",A)}}},dQ=(e,o)=>{var n,i;const l=ve(cn(e.pagination)&&(n=e.pagination.defaultCurrent)!=null?n:1),u=ve(cn(e.pagination)&&(i=e.pagination.defaultPageSize)!=null?i:10),a=O(()=>{var $;return cn(e.pagination)&&($=e.pagination.pageSize)!=null?$:u.value});return{page:O(()=>{var $;return cn(e.pagination)&&($=e.pagination.current)!=null?$:l.value}),pageSize:a,handlePageChange:$=>{l.value=$,o("pageChange",$)},handlePageSizeChange:$=>{u.value=$,o("pageSizeChange",$)}}},hQ=Ae({name:"ColGroup",props:{dataColumns:{type:Array,required:!0},operations:{type:Array,required:!0},columnWidth:{type:Object}},setup(){return{fixedWidth:o=>{if(o)return{width:`${o}px`,minWidth:`${o}px`,maxWidth:`${o}px`}}}}});function pQ(e,o,n,i,l,u){return W(),fe("colgroup",null,[(W(!0),fe(Lt,null,Ko(e.operations,a=>(W(),fe("col",{key:`arco-col-${a.name}`,class:Z(`arco-table-${a.name}-col`),style:yt(e.fixedWidth(a.width))},null,6))),128)),(W(!0),fe(Lt,null,Ko(e.dataColumns,a=>(W(),fe("col",{key:`arco-col-${a.dataIndex}`,style:yt(e.fixedWidth(e.columnWidth&&a.dataIndex&&e.columnWidth[a.dataIndex]||a.width))},null,4))),128))])}var v0=ot(hQ,[["render",pQ]]),H$=Ae({name:"Thead",setup(e,{slots:o}){return()=>{var n,i;return _((i=(n=o.thead)==null?void 0:n.call(o)[0])!=null?i:"thead",null,{default:o.default})}}}),G$=Ae({name:"Tbody",setup(e,{slots:o}){return()=>{var n,i;return _((i=(n=o.tbody)==null?void 0:n.call(o)[0])!=null?i:"tbody",null,{default:o.default})}}}),Pu=Ae({name:"Tr",props:{expand:{type:Boolean},empty:{type:Boolean},checked:{type:Boolean},rowIndex:Number,record:{type:Object,default:()=>({})}},setup(e,{slots:o}){const n=Ge("table"),i=O(()=>[`${n}-tr`,{[`${n}-tr-expand`]:e.expand,[`${n}-tr-empty`]:e.empty,[`${n}-tr-checked`]:e.checked}]);return()=>{var l,u,a;return _((a=(u=o.tr)==null?void 0:u.call(o,{rowIndex:e.rowIndex,record:(l=e.record)==null?void 0:l.raw})[0])!=null?a:"tr",{class:i.value},{default:o.default})}}});const fQ=Ae({name:"IconCaretDown",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-caret-down`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),gQ=["stroke-width","stroke-linecap","stroke-linejoin"],mQ=De("path",{d:"M24.938 34.829a1.2 1.2 0 0 1-1.875 0L9.56 17.949c-.628-.785-.069-1.949.937-1.949h27.007c1.006 0 1.565 1.164.937 1.95L24.937 34.829Z",fill:"currentColor",stroke:"none"},null,-1),$Q=[mQ];function vQ(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},$Q,14,gQ)}var SE=ot(fQ,[["render",vQ]]);const UL=Object.assign(SE,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+SE.name,SE)}}),_Q=Ae({name:"IconCaretUp",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-caret-up`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),bQ=["stroke-width","stroke-linecap","stroke-linejoin"],TQ=De("path",{d:"M23.063 13.171a1.2 1.2 0 0 1 1.875 0l13.503 16.88c.628.785.069 1.949-.937 1.949H10.497c-1.006 0-1.565-1.164-.937-1.95l13.503-16.879Z",fill:"currentColor",stroke:"none"},null,-1),yQ=[TQ];function EQ(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},yQ,14,bQ)}var OE=ot(_Q,[["render",EQ]]);const CQ=Object.assign(OE,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+OE.name,OE)}}),IQ=Ae({name:"IconFilter",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-filter`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),SQ=["stroke-width","stroke-linecap","stroke-linejoin"],OQ=De("path",{d:"M30 42V22.549a1 1 0 0 1 .463-.844l10.074-6.41A1 1 0 0 0 41 14.45V8a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v6.451a1 1 0 0 0 .463.844l10.074 6.41a1 1 0 0 1 .463.844V37"},null,-1),kQ=[OQ];function wQ(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},kQ,14,SQ)}var kE=ot(IQ,[["render",wQ]]);const NQ=Object.assign(kE,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+kE.name,kE)}}),AQ=({column:e,tableCtx:o})=>{const n=O(()=>{var m;if(e.value.dataIndex&&e.value.dataIndex===((m=o.sorter)==null?void 0:m.field))return o.sorter.direction}),i=O(()=>{var m,$,T;return(T=($=(m=e.value)==null?void 0:m.sortable)==null?void 0:$.sortDirections)!=null?T:[]}),l=O(()=>i.value.length>0),u=O(()=>i.value.includes("ascend")),a=O(()=>i.value.includes("descend")),h=O(()=>{var m,$;return n.value?n.value===i.value[0]&&($=i.value[1])!=null?$:"":(m=i.value[0])!=null?m:""});return{sortOrder:n,hasSorter:l,hasAscendBtn:u,hasDescendBtn:a,nextSortOrder:h,handleClickSorter:m=>{var $;e.value.dataIndex&&(($=o.onSorterChange)==null||$.call(o,e.value.dataIndex,h.value,m))}}},RQ=({column:e,tableCtx:o})=>{const n=O(()=>{var A;return e.value.dataIndex&&((A=o.filters)!=null&&A[e.value.dataIndex])?o.filters[e.value.dataIndex]:[]}),i=ve(!1),l=O(()=>n.value.length>0),u=O(()=>{var A;return!!((A=e.value.filterable)!=null&&A.multiple)}),a=ve(n.value);At(n,A=>{nn(A)&&String(A)!==String(a.value)&&(a.value=A)});const h=A=>{i.value=A},p=A=>{a.value=A};return{filterPopupVisible:i,isFilterActive:l,isMultipleFilter:u,columnFilterValue:a,handleFilterPopupVisibleChange:h,setFilterValue:p,handleCheckboxFilterChange:A=>{p(A)},handleRadioFilterChange:A=>{p([A])},handleFilterConfirm:A=>{var R;e.value.dataIndex&&((R=o.onFilterChange)==null||R.call(o,e.value.dataIndex,a.value,A)),h(!1)},handleFilterReset:A=>{var R;p([]),e.value.dataIndex&&((R=o.onFilterChange)==null||R.call(o,e.value.dataIndex,a.value,A)),h(!1)}}},_g=Symbol("ArcoTable"),hw=Symbol("ArcoTableColumn");function pw(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!vo(e)}var HL=Ae({name:"AutoTooltip",inheritAttrs:!1,props:{tooltipProps:{type:Object}},setup(e,{attrs:o,slots:n}){const i=Ge("auto-tooltip"),l=ve(),u=ve(),a=ve(""),h=ve(!1),p=()=>{if(l.value&&u.value){const w=u.value.offsetWidth>l.value.offsetWidth;w!==h.value&&(h.value=w)}},m=()=>{var w;(w=u.value)!=null&&w.textContent&&u.value.textContent!==a.value&&(a.value=u.value.textContent)},$=()=>{m(),p()};fn(()=>{m(),p()}),$i(()=>{m(),p()});const T=()=>_("span",lt({ref:l,class:i},o),[_(od,{onResize:$},{default:()=>{var w;return[_("span",{ref:u,class:`${i}-content`},[(w=n.default)==null?void 0:w.call(n)])]}})]);return()=>{let w;if(h.value){let A;return _(el,lt({content:a.value,onResize:$},e.tooltipProps),pw(A=T())?A:{default:()=>[A]})}return _(od,{onResize:$},pw(w=T())?w:{default:()=>[w]})}}}),LQ=Object.defineProperty,fw=Object.getOwnPropertySymbols,MQ=Object.prototype.hasOwnProperty,PQ=Object.prototype.propertyIsEnumerable,gw=(e,o,n)=>o in e?LQ(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,wE=(e,o)=>{for(var n in o||(o={}))MQ.call(o,n)&&gw(e,n,o[n]);if(fw)for(var n of fw(o))PQ.call(o,n)&&gw(e,n,o[n]);return e};function NE(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!vo(e)}var z$=Ae({name:"Th",props:{column:{type:Object,default:()=>({})},operations:{type:Array,default:()=>[]},dataColumns:{type:Array,default:()=>[]},resizable:Boolean},setup(e,{slots:o}){const{column:n}=mt(e),i=Ge("table"),{t:l}=Lo(),u=on(_g,{}),a=O(()=>{var z;return((z=e.column)==null?void 0:z.dataIndex)&&u.resizingColumn===e.column.dataIndex}),h=O(()=>{var z;if(cn((z=e.column)==null?void 0:z.tooltip))return e.column.tooltip}),p=O(()=>{var z;return(z=e.column)!=null&&z.filterable&&ks(e.column.filterable.alignLeft)?e.column.filterable.alignLeft:u.filterIconAlignLeft}),{sortOrder:m,hasSorter:$,hasAscendBtn:T,hasDescendBtn:w,nextSortOrder:A,handleClickSorter:R}=AQ({column:n,tableCtx:u}),{filterPopupVisible:L,isFilterActive:M,isMultipleFilter:B,columnFilterValue:G,handleFilterPopupVisibleChange:j,setFilterValue:F,handleCheckboxFilterChange:x,handleRadioFilterChange:D,handleFilterConfirm:U,handleFilterReset:te}=RQ({column:n,tableCtx:u}),Y=()=>{var z,ne,ge,Q,Oe;let Re,_e;const{filterable:se}=e.column;return(z=e.column.slots)!=null&&z["filter-content"]?(ne=e.column.slots)==null?void 0:ne["filter-content"]({filterValue:G.value,setFilterValue:F,handleFilterConfirm:U,handleFilterReset:te}):se!=null&&se.slotName?(Q=(ge=u==null?void 0:u.slots)==null?void 0:ge[se==null?void 0:se.slotName])==null?void 0:Q.call(ge,{filterValue:G.value,setFilterValue:F,handleFilterConfirm:U,handleFilterReset:te}):se!=null&&se.renderContent?se.renderContent({filterValue:G.value,setFilterValue:F,handleFilterConfirm:U,handleFilterReset:te}):_("div",{class:`${i}-filters-content`},[_("ul",{class:`${i}-filters-list`},[(Oe=se==null?void 0:se.filters)==null?void 0:Oe.map((ke,Be)=>{var et;return _("li",{class:`${i}-filters-item`,key:Be},[B.value?_(Ml,{value:ke.value,modelValue:G.value,uninjectGroupContext:!0,onChange:x},{default:()=>[ke.text]}):_(sg,{value:ke.value,modelValue:(et=G.value[0])!=null?et:"",uninjectGroupContext:!0,onChange:D},{default:()=>[ke.text]})])})]),_("div",{class:`${i}-filters-bottom`},[_(mi,{size:"mini",onClick:te},NE(Re=l("table.resetText"))?Re:{default:()=>[Re]}),_(mi,{type:"primary",size:"mini",onClick:U},NE(_e=l("table.okText"))?_e:{default:()=>[_e]})])])},J=()=>{const{filterable:z}=e.column;return z?_(Or,lt({popupVisible:L.value,trigger:"click",autoFitPosition:!0,popupOffset:p.value?4:0,onPopupVisibleChange:j},z.triggerProps),{default:()=>[_(yo,{class:[`${i}-filters`,{[`${i}-filters-active`]:M.value,[`${i}-filters-open`]:L.value,[`${i}-filters-align-left`]:p.value}],disabled:!p.value,onClick:ne=>ne.stopPropagation()},{default:()=>{var ne,ge,Q,Oe,Re;return[(Re=(Oe=(ge=(ne=e.column.slots)==null?void 0:ne["filter-icon"])==null?void 0:ge.call(ne))!=null?Oe:(Q=z.icon)==null?void 0:Q.call(z))!=null?Re:_(NQ,null,null)]}})],content:Y}):null},ee=O(()=>{var z,ne;const ge=[`${i}-cell`,`${i}-cell-align-${(ne=(z=e.column)==null?void 0:z.align)!=null?ne:e.column.children?"center":"left"}`];return $.value&&ge.push(`${i}-cell-with-sorter`,{[`${i}-cell-next-ascend`]:A.value==="ascend",[`${i}-cell-next-descend`]:A.value==="descend"}),p.value&&ge.push(`${i}-cell-with-filter`),ge}),ue=()=>{var z,ne,ge,Q,Oe,Re;return o.default?o.default():(z=e.column)!=null&&z.titleSlotName&&((ne=u.slots)!=null&&ne[e.column.titleSlotName])?(Q=(ge=u.slots)[e.column.titleSlotName])==null?void 0:Q.call(ge,{column:e.column}):(Re=(Oe=e.column)==null?void 0:Oe.slots)!=null&&Re.title?e.column.slots.title():Ut(e.column.title)?e.column.title():e.column.title},oe=()=>{var z,ne,ge;let Q;return _("span",{class:ee.value,onClick:$.value?R:void 0},[(z=e.column)!=null&&z.ellipsis&&((ne=e.column)!=null&&ne.tooltip)?_(HL,{class:`${i}-th-title`,tooltipProps:h.value},NE(Q=ue())?Q:{default:()=>[Q]}):_("span",{class:[`${i}-th-title`,{[`${i}-text-ellipsis`]:(ge=e.column)==null?void 0:ge.ellipsis}]},[ue()]),$.value&&_("span",{class:`${i}-sorter`},[T.value&&_("div",{class:[`${i}-sorter-icon`,{[`${i}-sorter-icon-active`]:m.value==="ascend"}]},[_(CQ,null,null)]),w.value&&_("div",{class:[`${i}-sorter-icon`,{[`${i}-sorter-icon-active`]:m.value==="descend"}]},[_(UL,null,null)])]),p.value&&J()])},X=O(()=>{var z,ne;return wE(wE(wE({},xL(e.column,{dataColumns:e.dataColumns,operations:e.operations})),(z=e.column)==null?void 0:z.cellStyle),(ne=e.column)==null?void 0:ne.headerCellStyle)}),K=O(()=>{var z,ne;return[`${i}-th`,{[`${i}-col-sorted`]:!!m.value,[`${i}-th-resizing`]:a.value},...DL(i,e.column),(z=e.column)==null?void 0:z.cellClass,(ne=e.column)==null?void 0:ne.headerCellClass]}),q=z=>{var ne,ge,Q;(ne=e.column)!=null&&ne.dataIndex&&((Q=u.onThMouseDown)==null||Q.call(u,(ge=e.column)==null?void 0:ge.dataIndex,z))};return()=>{var z,ne,ge,Q;const Oe=(z=e.column.colSpan)!=null?z:1,Re=(ne=e.column.rowSpan)!=null?ne:1;return _((Q=(ge=o.th)==null?void 0:ge.call(o,{column:e.column})[0])!=null?Q:"th",{class:K.value,style:X.value,colspan:Oe>1?Oe:void 0,rowspan:Re>1?Re:void 0},{default:()=>[oe(),!p.value&&J(),e.resizable&&_("span",{class:`${i}-column-handle`,onMousedown:q},null)]})}}}),DQ=Object.defineProperty,mw=Object.getOwnPropertySymbols,xQ=Object.prototype.hasOwnProperty,BQ=Object.prototype.propertyIsEnumerable,$w=(e,o,n)=>o in e?DQ(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,AE=(e,o)=>{for(var n in o||(o={}))xQ.call(o,n)&&$w(e,n,o[n]);if(mw)for(var n of mw(o))BQ.call(o,n)&&$w(e,n,o[n]);return e};function FQ(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!vo(e)}var Qc=Ae({name:"Td",props:{rowIndex:Number,record:{type:Object,default:()=>({})},column:{type:Object,default:()=>({})},type:{type:String,default:"normal"},operations:{type:Array,default:()=>[]},dataColumns:{type:Array,default:()=>[]},colSpan:{type:Number,default:1},rowSpan:{type:Number,default:1},isFixedExpand:{type:Boolean,default:!1},containerWidth:{type:Number},showExpandBtn:{type:Boolean,default:!1},indentSize:{type:Number,default:0},renderExpandBtn:{type:Function},summary:{type:Boolean,default:!1}},setup(e,{slots:o}){const n=Ge("table"),i=O(()=>{var M;if(cn((M=e.column)==null?void 0:M.tooltip))return e.column.tooltip}),l=O(()=>{var M,B;return((M=e.column)==null?void 0:M.dataIndex)&&((B=T.sorter)==null?void 0:B.field)===e.column.dataIndex}),u=O(()=>{var M;return((M=e.column)==null?void 0:M.dataIndex)&&T.resizingColumn===e.column.dataIndex}),a=()=>{var M,B,G,j,F,x;return e.summary?Ut((M=e.column)==null?void 0:M.summaryCellClass)?e.column.summaryCellClass((B=e.record)==null?void 0:B.raw):(G=e.column)==null?void 0:G.summaryCellClass:Ut((j=e.column)==null?void 0:j.bodyCellClass)?e.column.bodyCellClass((F=e.record)==null?void 0:F.raw):(x=e.column)==null?void 0:x.bodyCellClass},h=O(()=>{var M;return[`${n}-td`,{[`${n}-col-sorted`]:l.value,[`${n}-td-resizing`]:u.value},...DL(n,e.column),(M=e.column)==null?void 0:M.cellClass,a()]}),p=()=>{var M,B,G,j,F,x;return e.summary?Ut((M=e.column)==null?void 0:M.summaryCellStyle)?e.column.summaryCellStyle((B=e.record)==null?void 0:B.raw):(G=e.column)==null?void 0:G.summaryCellStyle:Ut((j=e.column)==null?void 0:j.bodyCellStyle)?e.column.bodyCellStyle((F=e.record)==null?void 0:F.raw):(x=e.column)==null?void 0:x.bodyCellStyle},m=O(()=>{var M;const B=xL(e.column,{dataColumns:e.dataColumns,operations:e.operations}),G=p();return AE(AE(AE({},B),(M=e.column)==null?void 0:M.cellStyle),G)}),$=O(()=>{if(e.isFixedExpand&&e.containerWidth)return{width:`${e.containerWidth}px`}}),T=on(_g,{}),w=()=>{var M,B,G,j,F,x,D,U;if(o.default)return o.default();const te={record:(M=e.record)==null?void 0:M.raw,column:e.column,rowIndex:(B=e.rowIndex)!=null?B:-1};return o.cell?o.cell(te):(G=e.column.slots)!=null&&G.cell?e.column.slots.cell(te):e.column.render?e.column.render(te):e.column.slotName&&((j=T.slots)!=null&&j[e.column.slotName])?(x=(F=T.slots)[e.column.slotName])==null?void 0:x.call(F,te):String((U=Ph((D=e.record)==null?void 0:D.raw,e.column.dataIndex))!=null?U:"")},A=ve(!1),R=M=>{var B,G;Ut(T.loadMore)&&!((B=e.record)!=null&&B.isLeaf)&&!((G=e.record)!=null&&G.children)&&(A.value=!0,new Promise(j=>{var F;(F=T.loadMore)==null||F.call(T,e.record.raw,j)}).then(j=>{var F;(F=T.addLazyLoadData)==null||F.call(T,j,e.record),A.value=!1})),M.stopPropagation()},L=()=>{var M,B,G,j,F,x;let D;return _("span",{class:[`${n}-cell`,`${n}-cell-align-${(B=(M=e.column)==null?void 0:M.align)!=null?B:"left"}`,{[`${n}-cell-fixed-expand`]:e.isFixedExpand,[`${n}-cell-expand-icon`]:e.showExpandBtn}],style:$.value},[e.indentSize>0&&_("span",{style:{paddingLeft:`${e.indentSize}px`}},null),e.showExpandBtn&&_("span",{class:`${n}-cell-inline-icon`,onClick:R},[A.value?_(gi,null,null):(G=e.renderExpandBtn)==null?void 0:G.call(e,e.record,!1)]),(j=e.column)!=null&&j.ellipsis&&((F=e.column)!=null&&F.tooltip)?_(HL,{class:`${n}-td-content`,tooltipProps:i.value},FQ(D=w())?D:{default:()=>[D]}):_("span",{class:[`${n}-td-content`,{[`${n}-text-ellipsis`]:(x=e.column)==null?void 0:x.ellipsis}]},[w()])])};return()=>{var M,B,G,j;return _((j=(G=o.td)==null?void 0:G.call(o,{record:(M=e.record)==null?void 0:M.raw,column:e.column,rowIndex:(B=e.rowIndex)!=null?B:-1})[0])!=null?j:"td",{class:h.value,style:m.value,rowspan:e.rowSpan>1?e.rowSpan:void 0,colspan:e.colSpan>1?e.colSpan:void 0},{default:()=>[L()]})}}}),VQ=Ae({name:"OperationTh",props:{operationColumn:{type:Object,required:!0},operations:{type:Array,required:!0},rowSpan:{type:Number,default:1},selectAll:{type:Boolean,default:!1}},setup(e){const o=Ge("table"),n=on(_g,{}),i=O(()=>{var h,p,m,$;let T=!1,w=!1;const R=((p=(h=n.currentSelectedRowKeys)==null?void 0:h.filter(M=>{var B,G;return(G=(B=n.currentAllEnabledRowKeys)==null?void 0:B.includes(M))!=null?G:!0}))!=null?p:[]).length,L=($=(m=n.currentAllEnabledRowKeys)==null?void 0:m.length)!=null?$:0;return R>0&&(R>=L?T=!0:w=!0),{checked:T,indeterminate:w}}),l=()=>e.selectAll?_(Ml,{modelValue:i.value.checked,indeterminate:i.value.indeterminate,uninjectGroupContext:!0,onChange:h=>{var p;(p=n.onSelectAll)==null||p.call(n,h)}},{default:Ut(e.operationColumn.title)?e.operationColumn.title():e.operationColumn.title}):e.operationColumn.title?Ut(e.operationColumn.title)?e.operationColumn.title():e.operationColumn.title:null,u=O(()=>BL(e.operationColumn,e.operations)),a=O(()=>[`${o}-th`,`${o}-operation`,{[`${o}-checkbox`]:e.selectAll},...PL(o,e.operationColumn)]);return()=>_("th",{class:a.value,style:u.value,rowspan:e.rowSpan>1?e.rowSpan:void 0},[_("span",{class:`${o}-cell`},[l()])])}}),vw=Ae({name:"OperationTd",components:{Checkbox:Ml,Radio:sg,IconPlus:ag,IconMinus:QI},props:{operationColumn:{type:Object,required:!0},operations:{type:Array,required:!0},record:{type:Object,required:!0},hasExpand:{type:Boolean,default:!1},selectedRowKeys:{type:Array},renderExpandBtn:{type:Function},colSpan:{type:Number,default:1},rowSpan:{type:Number,default:1},summary:{type:Boolean,default:!1}},emits:["select"],setup(e,{emit:o,slots:n}){const i=Ge("table"),l=on(_g,{}),u=O(()=>BL(e.operationColumn,e.operations)),a=O(()=>[`${i}-td`,`${i}-operation`,{[`${i}-checkbox`]:e.operationColumn.name==="selection-checkbox",[`${i}-radio`]:e.operationColumn.name==="selection-radio",[`${i}-expand`]:e.operationColumn.name==="expand",[`${i}-drag-handle`]:e.operationColumn.name==="drag-handle"},...PL(i,e.operationColumn)]),h=O(()=>sS(e.record)),p=O(()=>{var $;return lQ(($=l.currentSelectedRowKeys)!=null?$:[],h.value)}),m=()=>{var $,T,w,A,R,L;if(e.summary)return null;if(e.operationColumn.render)return e.operationColumn.render(e.record.raw);if(e.operationColumn.name==="selection-checkbox"){const M=e.record.key;return!l.checkStrictly&&!e.record.isLeaf?_(Ml,{modelValue:p.value.checked,indeterminate:p.value.indeterminate,disabled:!!e.record.disabled,uninjectGroupContext:!0,onChange:B=>{var G;return(G=l.onSelectAllLeafs)==null?void 0:G.call(l,e.record,B)},onClick:B=>B.stopPropagation()},null):_(Ml,{modelValue:(T=($=e.selectedRowKeys)==null?void 0:$.includes(M))!=null?T:!1,disabled:!!e.record.disabled,uninjectGroupContext:!0,onChange:B=>{var G;return(G=l.onSelect)==null?void 0:G.call(l,B,e.record)},onClick:B=>B.stopPropagation()},null)}if(e.operationColumn.name==="selection-radio"){const M=e.record.key;return _(sg,{modelValue:(A=(w=e.selectedRowKeys)==null?void 0:w.includes(M))!=null?A:!1,disabled:!!e.record.disabled,uninjectGroupContext:!0,onChange:B=>{var G;return(G=l.onSelect)==null?void 0:G.call(l,B,e.record)},onClick:B=>B.stopPropagation()},null)}return e.operationColumn.name==="expand"?e.hasExpand&&e.renderExpandBtn?e.renderExpandBtn(e.record):null:e.operationColumn.name==="drag-handle"?(L=(R=n["drag-handle-icon"])==null?void 0:R.call(n))!=null?L:_(ZI,null,null):null};return()=>_("td",{class:a.value,style:u.value,rowspan:e.rowSpan>1?e.rowSpan:void 0,colspan:e.colSpan>1?e.colSpan:void 0},[_("span",{class:`${i}-cell`},[m()])])}});const UQ=e=>{const o=O(()=>{if(e.value)return e.value.type==="handle"?"handle":"row"}),n=ft({dragging:!1,sourceKey:"",sourcePath:[],targetPath:[],data:{}}),i=()=>{n.dragging=!1,n.sourceKey="",n.sourcePath=[],n.targetPath=[],n.data={}};return{dragType:o,dragState:n,handleDragStart:($,T,w,A)=>{if($.dataTransfer&&($.dataTransfer.effectAllowed="move",$.target&&$.target.tagName==="TD")){const{parentElement:R}=$.target;R&&R.tagName==="TR"&&$.dataTransfer.setDragImage(R,0,0)}n.dragging=!0,n.sourceKey=T,n.sourcePath=w,n.targetPath=[...w],n.data=A},handleDragEnter:($,T)=>{$.dataTransfer&&($.dataTransfer.dropEffect="move"),n.targetPath.toString()!==T.toString()&&(n.targetPath=T),$.preventDefault()},handleDragLeave:$=>{},handleDragover:$=>{$.dataTransfer&&($.dataTransfer.dropEffect="move"),$.preventDefault()},handleDragEnd:$=>{var T;((T=$.dataTransfer)==null?void 0:T.dropEffect)==="none"&&i()},handleDrop:$=>{i(),$.preventDefault()}}},HQ=(e,o)=>{const n=ve(""),i=ft({}),l=(h,p)=>{p.preventDefault(),n.value=h,Jn(window,"mousemove",a),Jn(window,"mouseup",u),Jn(window,"contextmenu",u)},u=()=>{n.value="",$o(window,"mousemove",a),$o(window,"mouseup",u),$o(window,"contextmenu",u)},a=h=>{const p=e.value[n.value];if(p){const{clientX:m}=h,{x:$}=p.getBoundingClientRect();let T=Math.ceil(m-$);T<40&&(T=40),i[n.value]=T,o("columnResize",n.value,T)}};return{resizingColumn:n,columnWidth:i,handleThMouseDown:l,handleThMouseUp:u}},GQ=({columns:e,onFilterChange:o})=>{const n=ve(_w(e.value));At(e,a=>{const h=_w(a);mg(h,n.value)||(n.value=h)});const i=O(()=>{var a,h;const p={};for(const m of e.value)if(m.dataIndex){const $=(h=(a=m.filterable)==null?void 0:a.filteredValue)!=null?h:n.value[m.dataIndex];$&&(p[m.dataIndex]=$)}return p});return{_filters:n,computedFilters:i,resetFilters:a=>{var h;const p=a?[].concat(a):[],m={};for(const $ of e.value)if($.dataIndex&&$.filterable&&(p.length===0||p.includes($.dataIndex))){const T=(h=$.filterable.defaultFilteredValue)!=null?h:[];m[$.dataIndex]=T,o($.dataIndex,T)}n.value=m},clearFilters:a=>{const h=a?[].concat(a):[],p={};for(const m of e.value)if(m.dataIndex&&m.filterable&&(h.length===0||h.includes(m.dataIndex))){const $=[];p[m.dataIndex]=$,o(m.dataIndex,$)}n.value=p}}},_w=e=>{var o;const n={};for(const i of e)i.dataIndex&&((o=i.filterable)!=null&&o.defaultFilteredValue)&&(n[i.dataIndex]=i.filterable.defaultFilteredValue);return n},zQ=({columns:e,onSorterChange:o})=>{const n=ve(bw(e.value));At(e,a=>{const h=bw(a);mg(h,n.value)||(n.value=h)});const i=O(()=>{var a;for(const h of e.value)if(h.dataIndex&&h.sortable){const p=ir(h.sortable.sortOrder)?h.sortable.sortOrder:((a=n.value)==null?void 0:a.field)===h.dataIndex?n.value.direction:"";if(p)return{field:h.dataIndex,direction:p}}});return{_sorter:n,computedSorter:i,resetSorters:()=>{var a;let h;for(const p of e.value)p.dataIndex&&p.sortable&&(!h&&p.sortable.defaultSortOrder&&(h={field:p.dataIndex,direction:p.sortable.defaultSortOrder}),o(p.dataIndex,(a=p.sortable.defaultSortOrder)!=null?a:""));n.value=h},clearSorters:()=>{for(const a of e.value)a.dataIndex&&a.sortable&&o(a.dataIndex,"")}}},bw=e=>{var o;for(const n of e)if(n.dataIndex&&((o=n.sortable)!=null&&o.defaultSortOrder))return{field:n.dataIndex,direction:n.sortable.defaultSortOrder}},Tw=({spanMethod:e,data:o,columns:n})=>{const i=(h,p)=>{h==null||h.forEach((m,$)=>{var T;m.hasSubtree&&((T=m.children)!=null&&T.length)&&i(m.children||[],p),n.value.forEach((w,A)=>{var R,L;const{rowspan:M=1,colspan:B=1}=(L=(R=e.value)==null?void 0:R.call(e,{record:m.raw,column:w,rowIndex:$,columnIndex:A}))!=null?L:{};(M>1||B>1)&&(p[`${$}-${A}-${m.key}`]=[M,B],Array.from({length:M}).forEach((G,j)=>{const F=h==null?void 0:h[$+j].key;Array.from({length:B}).forEach((x,D)=>{`${$}-${A}-${m.key}`!=`${$+j}-${A+D}-${F}`&&(l.value[`${$+j}-${A+D}-${F}`]=[0,0])})}))})})};let l=ve({});const u=O(()=>{const h={};return l.value={},e.value&&i(o.value,h),h}),a=O(()=>{const h=[];for(const p of Object.keys(l.value))h.push(p);return h});return{tableSpan:u,removedCells:a}};var WQ=Object.defineProperty,jQ=Object.defineProperties,XQ=Object.getOwnPropertyDescriptors,yw=Object.getOwnPropertySymbols,KQ=Object.prototype.hasOwnProperty,YQ=Object.prototype.propertyIsEnumerable,Ew=(e,o,n)=>o in e?WQ(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,Ih=(e,o)=>{for(var n in o||(o={}))KQ.call(o,n)&&Ew(e,n,o[n]);if(yw)for(var n of yw(o))YQ.call(o,n)&&Ew(e,n,o[n]);return e},Cw=(e,o)=>jQ(e,XQ(o));function QQ(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!vo(e)}const Iw={wrapper:!0,cell:!1,headerCell:!1,bodyCell:!1};var RE=Ae({name:"Table",props:{columns:{type:Array,default:()=>[]},data:{type:Array,default:()=>[]},bordered:{type:[Boolean,Object],default:!0},hoverable:{type:Boolean,default:!0},stripe:{type:Boolean,default:!1},size:{type:String,default:()=>{var e,o;return(o=(e=on(Gr,void 0))==null?void 0:e.size)!=null?o:"large"}},tableLayoutFixed:{type:Boolean,default:!1},loading:{type:[Boolean,Object],default:!1},rowSelection:{type:Object},expandable:{type:Object},scroll:{type:Object},pagination:{type:[Boolean,Object],default:!0},pagePosition:{type:String,default:"br"},indentSize:{type:Number,default:16},rowKey:{type:String,default:"key"},showHeader:{type:Boolean,default:!0},virtualListProps:{type:Object},spanMethod:{type:Function},spanAll:{type:Boolean,default:!1},components:{type:Object},loadMore:{type:Function},filterIconAlignLeft:{type:Boolean,default:!1},hideExpandButtonOnEmpty:{type:Boolean,default:!1},rowClass:{type:[String,Array,Object,Function]},draggable:{type:Object},rowNumber:{type:[Boolean,Object]},columnResizable:{type:Boolean},summary:{type:[Boolean,Function]},summaryText:{type:String,default:"Summary"},summarySpanMethod:{type:Function},selectedKeys:{type:Array},defaultSelectedKeys:{type:Array},expandedKeys:{type:Array},defaultExpandedKeys:{type:Array},defaultExpandAllRows:{type:Boolean,default:!1},stickyHeader:{type:[Boolean,Number],default:!1},scrollbar:{type:[Object,Boolean],default:!0}},emits:{"update:selectedKeys":e=>!0,"update:expandedKeys":e=>!0,expand:(e,o)=>!0,expandedChange:e=>!0,select:(e,o,n)=>!0,selectAll:e=>!0,selectionChange:e=>!0,sorterChange:(e,o)=>!0,filterChange:(e,o)=>!0,pageChange:e=>!0,pageSizeChange:e=>!0,change:(e,o,n)=>!0,cellMouseEnter:(e,o,n)=>!0,cellMouseLeave:(e,o,n)=>!0,cellClick:(e,o,n)=>!0,rowClick:(e,o)=>!0,headerClick:(e,o)=>!0,columnResize:(e,o)=>!0,rowDblclick:(e,o)=>!0,cellDblclick:(e,o,n)=>!0,rowContextmenu:(e,o)=>!0,cellContextmenu:(e,o,n)=>!0},setup(e,{emit:o,slots:n}){const{columns:i,rowKey:l,rowSelection:u,expandable:a,loadMore:h,filterIconAlignLeft:p,selectedKeys:m,defaultSelectedKeys:$,expandedKeys:T,defaultExpandedKeys:w,defaultExpandAllRows:A,spanMethod:R,draggable:L,summarySpanMethod:M,scrollbar:B}=mt(e),G=Ge("table"),j=on(Gr,void 0),F=O(()=>cn(e.bordered)?Ih(Ih({},Iw),e.bordered):Cw(Ih({},Iw),{wrapper:e.bordered})),{children:x,components:D}=hv("TableColumn"),U=O(()=>{var je,pt;return(pt=(je=u.value)==null?void 0:je.checkStrictly)!=null?pt:!0}),{displayScrollbar:te,scrollbarProps:Y}=$1(B),J=O(()=>{var je,pt,Ot,xt;const Ht=!!((je=e.scroll)!=null&&je.x||(pt=e.scroll)!=null&&pt.minWidth),en=!!((Ot=e.scroll)!=null&&Ot.y||(xt=e.scroll)!=null&&xt.maxHeight);return{x:Ht,y:en}}),ee=ve(),ue=ve({}),{componentRef:oe,elementRef:X}=Wf("containerRef"),{componentRef:K,elementRef:q}=Wf("containerRef"),{componentRef:z,elementRef:ne}=Wf("viewportRef"),{componentRef:ge,elementRef:Q}=Wf("containerRef"),Oe=O(()=>Re.value?tl.value?ne.value:q.value:X.value),Re=O(()=>J.value.y||e.stickyHeader||tl.value||J.value.x&&Yn.value.length===0),_e=ft(new Map),se=ve();At([D,_e],([je,pt])=>{if(je.length>0){const Ot=[];je.forEach(xt=>{const Ht=pt.get(xt);Ht&&Ot.push(Ht)}),se.value=Ot}else se.value=void 0});const ke=new Map,Be=ve([]),et=ve([]),{resizingColumn:ut,columnWidth:dt,handleThMouseDown:gt}=HQ(ue,o);At([i,se,dt],([je,pt])=>{var Ot;const xt=nQ((Ot=pt??je)!=null?Ot:[],ke,dt);Be.value=xt.dataColumns,et.value=xt.groupColumns},{immediate:!0,deep:!0});const we=O(()=>["tl","top","tr"].includes(e.pagePosition)),le=ve(!1),ce=ve(!1),re=ve(!1);Cr(()=>{var je,pt,Ot;let xt=!1,Ht=!1,en=!1;((je=e.rowSelection)!=null&&je.fixed||(pt=e.expandable)!=null&&pt.fixed||(Ot=e.draggable)!=null&&Ot.fixed)&&(xt=!0);for(const hn of Be.value)hn.fixed==="left"?(xt=!0,en=!0):hn.fixed==="right"&&(Ht=!0);xt!==le.value&&(le.value=xt),Ht!==ce.value&&(ce.value=Ht),en!==re.value&&(re.value=en)});const Me=O(()=>{for(const je of Be.value)if(je.ellipsis)return!0;return!1}),Ne=je=>{const pt={type:je,page:On.value,pageSize:hr.value,sorter:Ie.value,filters:qe.value,dragTarget:je==="drag"?I.data:void 0};o("change",Vl.value,pt,En.value)},$e=(je,pt)=>{Le.value=Cw(Ih({},qe.value),{[je]:pt}),o("filterChange",je,pt),Ne("filter")},Fe=(je,pt)=>{Ee.value=pt?{field:je,direction:pt}:void 0,o("sorterChange",je,pt),Ne("sorter")},{_filters:Le,computedFilters:qe,resetFilters:Xe,clearFilters:at}=GQ({columns:Be,onFilterChange:$e}),{_sorter:Ee,computedSorter:Ie,resetSorters:he,clearSorters:me}=zQ({columns:Be,onSorterChange:Fe}),Se=new Set,xe=O(()=>{const je=[];Se.clear();const pt=Ot=>{if(nn(Ot)&&Ot.length>0)for(const xt of Ot)je.push(xt[l.value]),xt.disabled&&Se.add(xt[l.value]),xt.children&&pt(xt.children)};return pt(e.data),je}),Ke=O(()=>{const je=[],pt=Ot=>{for(const xt of Ot)je.push(xt.key),xt.children&&pt(xt.children)};return pt(Yn.value),je}),C=O(()=>{const je=[],pt=Ot=>{for(const xt of Ot)xt.disabled||je.push(xt.key),xt.children&&pt(xt.children)};return pt(Yn.value),je}),{isRadio:k,selectedRowKeys:de,currentSelectedRowKeys:Ce,handleSelect:Te,handleSelectAllLeafs:Ve,handleSelectAll:tt,select:Et,selectAll:St,clearSelected:Bt}=uQ({selectedKeys:m,defaultSelectedKeys:$,rowSelection:u,currentAllRowKeys:Ke,currentAllEnabledRowKeys:C,emit:o}),{expandedRowKeys:qt,handleExpand:sn,expand:dn,expandAll:y}=cQ({expandedKeys:T,defaultExpandedKeys:w,defaultExpandAllRows:A,expandable:a,allRowKeys:xe,emit:o}),N=ft({}),S=(je,pt)=>{je&&(N[pt.key]=je)},b=je=>{var pt,Ot;for(const xt of Object.keys(qe.value)){const Ht=qe.value[xt],en=ke.get(xt);if(en&&((pt=en.filterable)!=null&&pt.filter)&&Ht.length>0){const hn=(Ot=en.filterable)==null?void 0:Ot.filter(Ht,je.raw);if(!hn)return hn}}return!0},{dragType:v,dragState:I,handleDragStart:H,handleDragEnter:pe,handleDragLeave:rt,handleDragover:bt,handleDragEnd:Ft,handleDrop:ln}=UQ(L),Hn=O(()=>{var je;const pt=Ot=>{const xt=[];for(const Ht of Ot){const en={raw:Ht,key:Ht[e.rowKey],disabled:Ht.disabled,expand:Ht.expand,isLeaf:Ht.isLeaf};Ht.children?(en.isLeaf=!1,en.children=pt(Ht.children)):e.loadMore&&!Ht.isLeaf?(en.isLeaf=!1,N[en.key]&&(en.children=pt(N[en.key]))):en.isLeaf=!0,en.hasSubtree=!!(en.children?!e.hideExpandButtonOnEmpty||en.children.length>0:e.loadMore&&!en.isLeaf),xt.push(en)}return xt};return pt((je=e.data)!=null?je:[])}),kt=O(()=>{const je=pt=>pt.filter(Ot=>b(Ot)?(Ot.children&&(Ot.children=je(Ot.children)),!0):!1);return Object.keys(qe.value).length>0?je(Hn.value):Hn.value}),En=O(()=>{var je,pt,Ot;const xt=FL(kt.value);if(xt.length>0){if((je=Ie.value)!=null&&je.field){const hn=ke.get(Ie.value.field);if(hn&&((pt=hn.sortable)==null?void 0:pt.sorter)!==!0){const{field:eo,direction:Mo}=Ie.value;xt.sort((Mn,fr)=>{var qo;const ls=Ph(Mn.raw,eo),xn=Ph(fr.raw,eo);if((qo=hn.sortable)!=null&&qo.sorter&&Ut(hn.sortable.sorter))return hn.sortable.sorter(Mn.raw,fr.raw,{dataIndex:eo,direction:Mo});const _o=ls>xn?1:-1;return Mo==="descend"?-_o:_o})}}const{sourcePath:Ht,targetPath:en}=I;if(I.dragging&&en.length&&en.toString()!==Ht.toString()&&Ht.length===en.length&&Ht.slice(0,-1).toString()===en.slice(0,-1).toString()){let hn=xt;for(let eo=0;eo<Ht.length;eo++){const Mo=Ht[eo];if(eo>=Ht.length-1){const fr=hn[Mo],qo=en[eo];qo>Mo?(hn.splice(qo+1,0,fr),hn.splice(Mo,1)):(hn.splice(qo,0,fr),hn.splice(Mo+1,1))}else hn=(Ot=hn[Mo].children)!=null?Ot:[]}}}return xt}),{page:On,pageSize:hr,handlePageChange:br,handlePageSizeChange:jr}=dQ(e,o),xi=O(()=>{var je,pt;return(pt=(je=u.value)==null?void 0:je.onlyCurrent)!=null?pt:!1});At(On,(je,pt)=>{je!==pt&&xi.value&&Bt()});const Yn=O(()=>e.pagination&&En.value.length>hr.value?En.value.slice((On.value-1)*hr.value,On.value*hr.value):En.value),Vl=O(()=>VL(Yn.value)),Ns=()=>Be.value.reduce((je,pt,Ot)=>{if(pt.dataIndex)if(Ot===0)xb(je,pt.dataIndex,e.summaryText,{addPath:!0});else{let xt=0,Ht=!1;Yn.value.forEach(en=>{if(pt.dataIndex){const hn=Ph(en.raw,pt.dataIndex);_t(hn)?xt+=hn:!Gt(hn)&&!Di(hn)&&(Ht=!0)}}),xb(je,pt.dataIndex,Ht?"":xt,{addPath:!0})}return je},{}),Ra=je=>je&&je.length>0?je.map(pt=>({raw:pt,key:pt[e.rowKey]})):[],Xr=O(()=>e.summary?Ut(e.summary)?Ra(e.summary({columns:Be.value,data:Vl.value})):Ra([Ns()]):[]),pr=ve(0),wt=ve(!0),Xt=ve(!0),Pn=()=>{let je=!0,pt=!0;const Ot=Oe.value;Ot&&(je=pr.value===0,pt=Math.ceil(pr.value+Ot.offsetWidth)>=Ot.scrollWidth),je!==wt.value&&(wt.value=je),pt!==Xt.value&&(Xt.value=pt)},uo=()=>wt.value&&Xt.value?`${G}-scroll-position-both`:wt.value?`${G}-scroll-position-left`:Xt.value?`${G}-scroll-position-right`:`${G}-scroll-position-middle`,Ho=()=>{const je=[];return le.value&&je.push(`${G}-has-fixed-col-left`),ce.value&&je.push(`${G}-has-fixed-col-right`),je},Yo=je=>{je.target.scrollLeft!==pr.value&&(pr.value=je.target.scrollLeft),Pn()},rs=je=>{Yo(je);const{scrollLeft:pt}=je.target;Q.value&&(Q.value.scrollLeft=pt),ee.value&&(ee.value.scrollLeft=pt)},La=(je,pt)=>{o("rowClick",je.raw,pt)},zu=(je,pt)=>{o("rowDblclick",je.raw,pt)},Qh=(je,pt)=>{o("rowContextmenu",je.raw,pt)},ld=(je,pt,Ot)=>{o("cellClick",je.raw,pt,Ot)},Wu=ev((je,pt,Ot)=>{o("cellMouseEnter",je.raw,pt,Ot)},30),Ul=ev((je,pt,Ot)=>{o("cellMouseLeave",je.raw,pt,Ot)},30),ju=(je,pt,Ot)=>{o("cellDblclick",je.raw,pt,Ot)},Xu=(je,pt,Ot)=>{o("cellContextmenu",je.raw,pt,Ot)},is=(je,pt)=>{o("headerClick",je,pt)},Co=O(()=>{var je,pt;const Ot=[],xt=le.value||ce.value;let Ht,en,hn;((je=e.draggable)==null?void 0:je.type)==="handle"&&(Ht={name:"drag-handle",title:e.draggable.title,width:e.draggable.width,fixed:e.draggable.fixed||xt},Ot.push(Ht)),e.expandable&&(en={name:"expand",title:e.expandable.title,width:e.expandable.width,fixed:e.expandable.fixed||xt},Ot.push(en)),e.rowSelection&&(hn={name:e.rowSelection.type==="radio"?"selection-radio":"selection-checkbox",title:e.rowSelection.title,width:e.rowSelection.width,fixed:e.rowSelection.fixed||xt},Ot.push(hn)),!re.value&&Ot.length>0&&Ot[Ot.length-1].fixed&&(Ot[Ot.length-1].isLastLeftFixed=!0);const eo=(pt=e.components)==null?void 0:pt.operations;return Ut(eo)?eo({dragHandle:Ht,expand:en,selection:hn}):Ot}),Bi=O(()=>{var je,pt,Ot,xt;if(J.value.x){const Ht={width:_t((je=e.scroll)==null?void 0:je.x)?`${(pt=e.scroll)==null?void 0:pt.x}px`:(Ot=e.scroll)==null?void 0:Ot.x};return(xt=e.scroll)!=null&&xt.minWidth&&(Ht.minWidth=_t(e.scroll.minWidth)?`${e.scroll.minWidth}px`:e.scroll.minWidth),Ht}}),Hl=O(()=>{var je,pt,Ot,xt;if(J.value.x&&Yn.value.length>0){const Ht={width:_t((je=e.scroll)==null?void 0:je.x)?`${(pt=e.scroll)==null?void 0:pt.x}px`:(Ot=e.scroll)==null?void 0:Ot.x};return(xt=e.scroll)!=null&&xt.minWidth&&(Ht.minWidth=_t(e.scroll.minWidth)?`${e.scroll.minWidth}px`:e.scroll.minWidth),Ht}});Ln(_g,ft({loadMore:h,addLazyLoadData:S,slots:n,sorter:Ie,filters:qe,filterIconAlignLeft:p,resizingColumn:ut,checkStrictly:U,currentAllEnabledRowKeys:C,currentSelectedRowKeys:Ce,addColumn:(je,pt)=>{_e.set(je,pt)},removeColumn:je=>{_e.delete(je)},onSelectAll:tt,onSelect:Te,onSelectAllLeafs:Ve,onSorterChange:Fe,onFilterChange:$e,onThMouseDown:gt}));const Yu=O(()=>[G,`${G}-size-${e.size}`,{[`${G}-border`]:F.value.wrapper,[`${G}-border-cell`]:F.value.cell,[`${G}-border-header-cell`]:!F.value.cell&&F.value.headerCell,[`${G}-border-body-cell`]:!F.value.cell&&F.value.bodyCell,[`${G}-stripe`]:e.stripe,[`${G}-hover`]:e.hoverable,[`${G}-dragging`]:I.dragging,[`${G}-type-selection`]:!!e.rowSelection,[`${G}-empty`]:e.data&&Yn.value.length===0,[`${G}-layout-fixed`]:e.tableLayoutFixed||J.value.x||Re.value||Me.value}]),ad=O(()=>[`${G}-pagination`,{[`${G}-pagination-left`]:e.pagePosition==="tl"||e.pagePosition==="bl",[`${G}-pagination-center`]:e.pagePosition==="top"||e.pagePosition==="bottom",[`${G}-pagination-right`]:e.pagePosition==="tr"||e.pagePosition==="br",[`${G}-pagination-top`]:we.value}]),ud=O(()=>{const je=Ho();return J.value.x&&je.push(uo()),Re.value&&je.push(`${G}-scroll-y`),je}),tl=O(()=>!!e.virtualListProps),Qu=ve({}),qu=()=>{const je={};for(const pt of Object.keys(ue.value))je[pt]=ue.value[pt].offsetWidth;Qu.value=je},ss=ve(!1),Ma=()=>q.value?q.value.offsetWidth>q.value.clientWidth:!1,nl=()=>{const je=Ma();ss.value!==je&&(ss.value=je),Pn(),qu()};fn(()=>{ss.value=Ma(),qu()});const Pa=O(()=>cn(e.loading)?e.loading:{loading:e.loading}),cd=()=>_(Pu,{empty:!0},{default:()=>[_(Qc,{colSpan:Be.value.length+Co.value.length},{default:()=>{var je,pt,Ot,xt,Ht;return[(Ht=(xt=(je=n.empty)==null?void 0:je.call(n))!=null?xt:(Ot=j==null?void 0:(pt=j.slots).empty)==null?void 0:Ot.call(pt,{component:"table"}))!=null?Ht:_(Uu,null,null)]}})]}),Zh=je=>{var pt;if(je.expand)return Ut(je.expand)?je.expand():je.expand;if(n["expand-row"])return n["expand-row"]({record:je.raw});if((pt=e.expandable)!=null&&pt.expandedRowRender)return e.expandable.expandedRowRender(je.raw)},Da=O(()=>[].concat(Co.value,Be.value)),xa=O(()=>e.spanAll?Da.value:Be.value),{tableSpan:Zu,removedCells:Kr}=Tw({spanMethod:R,data:Yn,columns:xa}),{tableSpan:dd,removedCells:hd}=Tw({spanMethod:M,data:Xr,columns:Da}),Ba=je=>{if(!(!tl.value||!je||!Qu.value[je]))return{width:`${Qu.value[je]}px`}},pd=(je,pt)=>_(Pu,{key:`table-summary-${pt}`,class:[`${G}-tr-summary`,Ut(e.rowClass)?e.rowClass(je.raw,pt):e.rowClass],onClick:Ot=>La(je,Ot)},{default:()=>[Co.value.map((Ot,xt)=>{var Ht;const en=`${pt}-${xt}-${je.key}`,[hn,eo]=(Ht=dd.value[en])!=null?Ht:[1,1];if(hd.value.includes(en))return null;const Mo=Ba(Ot.name);return _(vw,{style:Mo,operationColumn:Ot,operations:Co.value,record:je,rowSpan:hn,colSpan:eo,summary:!0},null)}),Be.value.map((Ot,xt)=>{var Ht;const en=`${pt}-${Co.value.length+xt}-${je.key}`,[hn,eo]=(Ht=dd.value[en])!=null?Ht:[1,1];if(hd.value.includes(en))return null;const Mo=Ba(Ot.dataIndex);return _(Qc,{key:`td-${en}`,style:Mo,rowIndex:pt,record:je,column:Ot,operations:Co.value,dataColumns:Be.value,rowSpan:hn,colSpan:eo,summary:!0,onClick:Mn=>ld(je,Ot,Mn),onDblclick:Mn=>ju(je,Ot,Mn),onMouseenter:Mn=>Wu(je,Ot,Mn),onMouseleave:Mn=>Ul(je,Ot,Mn),onContextmenu:Mn=>Xu(je,Ot,Mn)},{td:n.td,cell:n["summary-cell"]})})],tr:n.tr}),fd=()=>Xr.value&&Xr.value.length>0?_("tfoot",null,[Xr.value.map((je,pt)=>pd(je,pt))]):null,gd=(je,pt=!0)=>{var Ot,xt,Ht,en,hn;const eo=je.key,Mo=qt.value.includes(eo);return _("button",{type:"button",class:`${G}-expand-btn`,onClick:Mn=>{sn(eo,je.raw),pt&&Mn.stopPropagation()}},[(hn=(en=(Ot=n["expand-icon"])==null?void 0:Ot.call(n,{expanded:Mo,record:je.raw}))!=null?en:(Ht=(xt=e.expandable)==null?void 0:xt.icon)==null?void 0:Ht.call(xt,Mo,je.raw))!=null?hn:_(Mo?QI:ag,null,null)])},Jh=(je,{indentSize:pt,indexPath:Ot,allowDrag:xt,expandContent:Ht})=>{var en;if(je.hasSubtree)return(en=je.children)==null?void 0:en.map((hn,eo)=>Fa(hn,eo,{indentSize:pt,indexPath:Ot,allowDrag:xt}));if(Ht){const hn=Oe.value;return _(Pu,{key:`${je.key}-expand`,expand:!0},{default:()=>[_(Qc,{isFixedExpand:le.value||ce.value,containerWidth:hn==null?void 0:hn.clientWidth,colSpan:Be.value.length+Co.value.length},QQ(Ht)?Ht:{default:()=>[Ht]})]})}return null},Fa=(je,pt,{indentSize:Ot=0,indexPath:xt,allowDrag:Ht=!0}={})=>{var en;const hn=je.key,eo=(xt??[]).concat(pt),Mo=Zh(je),Mn=qt.value.includes(hn),fr=I.sourceKey===je.key,qo=v.value?{draggable:Ht,onDragstart:xn=>{Ht&&H(xn,je.key,eo,je.raw)},onDragend:xn=>{Ht&&Ft(xn)}}:{},ls=v.value?{onDragenter:xn=>{Ht&&pe(xn,eo)},onDragover:xn=>{Ht&&bt(xn)},onDrop:xn=>{Ht&&(Ne("drag"),ln(xn))}}:{};return _(Lt,null,[_(Pu,lt({key:hn,class:[{[`${G}-tr-draggable`]:v.value==="row",[`${G}-tr-drag`]:fr},Ut(e.rowClass)?e.rowClass(je.raw,pt):e.rowClass],rowIndex:pt,record:je,checked:(en=de.value)==null?void 0:en.includes(hn),onClick:xn=>La(je,xn),onDblclick:xn=>zu(je,xn),onContextmenu:xn=>Qh(je,xn)},v.value==="row"?qo:{},ls),{default:()=>[Co.value.map((xn,_o)=>{var As;const bi=`${pt}-${_o}-${je.key}`,[ol,rl]=e.spanAll?(As=Zu.value[bi])!=null?As:[1,1]:[1,1];if(e.spanAll&&Kr.value.includes(bi))return null;const Ua=Ba(xn.name);return _(vw,lt({key:`operation-td-${_o}`,style:Ua,operationColumn:xn,operations:Co.value,record:je,hasExpand:!!Mo,selectedRowKeys:Ce.value,rowSpan:ol,colSpan:rl,renderExpandBtn:gd},v.value==="handle"?qo:{}),{"drag-handle-icon":n["drag-handle-icon"]})}),Be.value.map((xn,_o)=>{var As;const bi=`${pt}-${e.spanAll?Co.value.length+_o:_o}-${je.key}`,[ol,rl]=(As=Zu.value[bi])!=null?As:[1,1];if(Kr.value.includes(bi))return null;const Ua=_o===0?{showExpandBtn:je.hasSubtree,indentSize:je.hasSubtree?Ot-20:Ot}:{},Gl=Ba(xn.dataIndex);return _(Qc,lt({key:`td-${_o}`,style:Gl,rowIndex:pt,record:je,column:xn,operations:Co.value,dataColumns:Be.value,rowSpan:ol,renderExpandBtn:gd,colSpan:rl},Ua,{onClick:bo=>ld(je,xn,bo),onDblclick:bo=>ju(je,xn,bo),onMouseenter:bo=>Wu(je,xn,bo),onMouseleave:bo=>Ul(je,xn,bo),onContextmenu:bo=>Xu(je,xn,bo)}),{td:n.td})})],tr:n.tr}),Mn&&Jh(je,{indentSize:Ot+e.indentSize,indexPath:eo,allowDrag:Ht&&!fr,expandContent:Mo})])},_i=()=>{const je=Yn.value.some(pt=>!!pt.hasSubtree);return _(G$,null,{default:()=>[Yn.value.length>0?Yn.value.map((pt,Ot)=>Fa(pt,Ot,{indentSize:je?20:0})):cd()],tbody:n.tbody})},Va=()=>_(H$,null,{default:()=>[et.value.map((je,pt)=>_(Pu,{key:`header-row-${pt}`},{default:()=>[pt===0&&Co.value.map((Ot,xt)=>{var Ht;return _(VQ,{key:`operation-th-${xt}`,ref:en=>{en!=null&&en.$el&&Ot.name&&(ue.value[Ot.name]=en.$el)},operationColumn:Ot,operations:Co.value,selectAll:!!(Ot.name==="selection-checkbox"&&((Ht=e.rowSelection)!=null&&Ht.showCheckedAll)),rowSpan:et.value.length},null)}),je.map((Ot,xt)=>{const Ht=e.columnResizable&&!!Ot.dataIndex&&xt<je.length-1;return _(z$,{key:`th-${xt}`,ref:en=>{en!=null&&en.$el&&Ot.dataIndex&&(ue.value[Ot.dataIndex]=en.$el)},column:Ot,operations:Co.value,dataColumns:Be.value,resizable:Ht,onClick:en=>is(Ot,en)},{th:n.th})})]}))],thead:n.thead}),md=()=>{if(Re.value){const je={};ss.value&&(je.overflowY="scroll"),_t(e.stickyHeader)&&(je.top=`${e.stickyHeader}px`);const pt=te.value?Na:"div";return _(Lt,null,[e.showHeader&&_(pt,lt({ref:ge,class:[`${G}-header`,{[`${G}-header-sticky`]:e.stickyHeader}],style:je},B.value?Ih({hide:Yn.value.length!==0,disableVertical:!0},Y.value):void 0),{default:()=>[_("table",{class:`${G}-element`,style:Bi.value,cellpadding:0,cellspacing:0},[_(v0,{dataColumns:Be.value,operations:Co.value,columnWidth:dt},null),Va()])]}),_(Pl,{onResize:nl},{default:()=>{var Ot,xt;return[tl.value?_(dv,lt({ref:Ht=>{Ht!=null&&Ht.$el&&(q.value=Ht.$el)},class:`${G}-body`,data:Yn.value,itemKey:"_key",component:{list:"table",content:"tbody"},listAttrs:{class:`${G}-element`,style:Hl.value},paddingPosition:"list"},e.virtualListProps,{onScroll:rs}),{item:({item:Ht,index:en})=>Fa(Ht,en)}):_(pt,lt({ref:K,class:`${G}-body`,style:{maxHeight:_t((Ot=e.scroll)==null?void 0:Ot.y)?`${(xt=e.scroll)==null?void 0:xt.y}px`:"100%"}},B.value?Ih({outerStyle:{display:"flex",minHeight:"0"}},Y.value):void 0,{onScroll:rs}),{default:()=>[_("table",{class:`${G}-element`,style:Hl.value,cellpadding:0,cellspacing:0},[Yn.value.length!==0&&_(v0,{dataColumns:Be.value,operations:Co.value,columnWidth:dt},null),_i()])]})]}}),Xr.value&&Xr.value.length>0&&_("div",{ref:ee,class:`${G}-tfoot`,style:{overflowY:ss.value?"scroll":"hidden"}},[_("table",{class:`${G}-element`,style:Hl.value,cellpadding:0,cellspacing:0},[_(v0,{dataColumns:Be.value,operations:Co.value,columnWidth:dt},null),fd()])])])}return _(Pl,{onResize:()=>Pn()},{default:()=>[_("table",{class:`${G}-element`,cellpadding:0,cellspacing:0,style:Hl.value},[_(v0,{dataColumns:Be.value,operations:Co.value,columnWidth:dt},null),e.showHeader&&Va(),_i(),Xr.value&&Xr.value.length>0&&fd()])]})},$d=je=>{var pt;const Ot=(pt=e.scroll)!=null&&pt.maxHeight?{maxHeight:e.scroll.maxHeight}:void 0,xt=te.value?Na:"div";return _(Lt,null,[_("div",{class:[`${G}-container`,ud.value]},[_(xt,lt({ref:oe,class:[`${G}-content`,{[`${G}-content-scroll-x`]:!Re.value}],style:Ot},B.value?Ih({outerStyle:{height:"100%"}},Y.value):void 0,{onScroll:Yo}),{default:()=>[je?_("table",{class:`${G}-element`,cellpadding:0,cellspacing:0},[je()]):md()]})]),n.footer&&_("div",{class:`${G}-footer`},[n.footer()])])},vd=()=>{var je,pt;const Ot=cn(e.pagination)?Sr(e.pagination,["current","pageSize","defaultCurrent","defaultPageSize"]):{};return _("div",{class:ad.value},[(je=n["pagination-left"])==null?void 0:je.call(n),_(tS,lt({total:kt.value.length,current:On.value,pageSize:hr.value,onChange:xt=>{br(xt),Ne("pagination")},onPageSizeChange:xt=>{jr(xt),Ne("pagination")}},Ot),null),(pt=n["pagination-right"])==null?void 0:pt.call(n)])},ep=O(()=>{var je,pt;if(ir((je=e.scroll)==null?void 0:je.y))return{height:(pt=e.scroll)==null?void 0:pt.y}});return{render:()=>{var je;return n.default?_("div",{class:Yu.value},[$d(n.default)]):(x.value=(je=n.columns)==null?void 0:je.call(n),_("div",{class:Yu.value,style:ep.value},[x.value,_(Dl,Pa.value,{default:()=>[e.pagination!==!1&&(Yn.value.length>0||En.value.length>0)&&we.value&&vd(),$d(),e.pagination!==!1&&(Yn.value.length>0||En.value.length>0)&&!we.value&&vd()]})]))},selfExpand:dn,selfExpandAll:y,selfSelect:Et,selfSelectAll:St,selfResetFilters:Xe,selfClearFilters:at,selfResetSorters:he,selfClearSorters:me}},methods:{selectAll(e){return this.selfSelectAll(e)},select(e,o){return this.selfSelect(e,o)},expandAll(e){return this.selfExpandAll(e)},expand(e,o){return this.selfExpand(e,o)},resetFilters(e){return this.selfResetFilters(e)},clearFilters(e){return this.selfClearFilters(e)},resetSorters(){return this.selfResetSorters()},clearSorters(){return this.selfClearSorters()}},render(){return this.render()}});const Ol=(e,o)=>{const n=Os(e,o),i=ve(n.value);return At(n,(l,u)=>{mg(l,u)||(i.value=l)}),i};var mb=Ae({name:"TableColumn",props:{dataIndex:String,title:String,width:Number,align:{type:String},fixed:{type:String},ellipsis:{type:Boolean,default:!1},sortable:{type:Object,default:void 0},filterable:{type:Object,default:void 0},cellClass:{type:[String,Array,Object]},headerCellClass:{type:[String,Array,Object]},bodyCellClass:{type:[String,Array,Object,Function]},summaryCellClass:{type:[String,Array,Object,Function]},cellStyle:{type:Object},headerCellStyle:{type:Object},bodyCellStyle:{type:[Object,Function]},summaryCellStyle:{type:[Object,Function]},index:{type:Number},tooltip:{type:[Boolean,Object],default:!1}},setup(e,{slots:o}){var n;const{dataIndex:i,title:l,width:u,align:a,fixed:h,ellipsis:p,index:m}=mt(e),$=Ol(e,"sortable"),T=Ol(e,"filterable"),w=Ol(e,"cellClass"),A=Ol(e,"headerCellClass"),R=Ol(e,"bodyCellClass"),L=Ol(e,"summaryCellClass"),M=Ol(e,"cellStyle"),B=Ol(e,"headerCellStyle"),G=Ol(e,"bodyCellStyle"),j=Ol(e,"summaryCellStyle"),F=Ol(e,"tooltip"),x=vi(),D=on(_g,{}),U=on(hw,void 0),{children:te,components:Y}=hv("TableColumn"),J=ft(new Map);Ln(hw,{addChild:(K,q)=>{J.set(K,q)},removeChild:K=>{J.delete(K)}});const oe=ve();At([Y,J],([K,q])=>{if(K.length>0){const z=[];K.forEach(ne=>{const ge=q.get(ne);ge&&z.push(ge)}),oe.value=z}else oe.value=void 0});const X=ft({dataIndex:i,title:l,width:u,align:a,fixed:h,ellipsis:p,sortable:$,filterable:T,cellClass:w,headerCellClass:A,bodyCellClass:R,summaryCellClass:L,cellStyle:M,headerCellStyle:B,bodyCellStyle:G,summaryCellStyle:j,index:m,tooltip:F,children:oe,slots:o});return x&&(U?U.addChild(x.uid,X):(n=D.addColumn)==null||n.call(D,x.uid,X)),wr(()=>{var K;x&&(U?U.removeChild(x.uid):(K=D.removeColumn)==null||K.call(D,x.uid))}),()=>{var K;return te.value=(K=o.default)==null?void 0:K.call(o),te.value}}});const qQ=Object.assign(RE,{Thead:H$,Tbody:G$,Tr:Pu,Th:z$,Td:Qc,Column:mb,install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+RE.name,RE),e.component(n+H$.name,H$),e.component(n+G$.name,G$),e.component(n+Pu.name,Pu),e.component(n+z$.name,z$),e.component(n+Qc.name,Qc),e.component(n+mb.name,mb)}}),ZQ=({direction:e,type:o,offset:n})=>e==="vertical"?{transform:`translateY(${-n}px)`}:{transform:`translateX(${-n}px)`},lS=Symbol("ArcoTabs"),JQ=Ae({name:"TabsTab",components:{IconHover:yo,IconClose:zr},props:{tab:{type:Object,required:!0},active:Boolean,editable:Boolean},emits:["click","delete"],setup(e,{emit:o}){const n=Ge("tabs-tab"),i=on(lS,{}),l=m=>{e.tab.disabled||o("click",e.tab.key,m)},u=m=>{m.key==="Enter"&&l(m)},a=O(()=>Object.assign(i.trigger==="click"?{onClick:l}:{onMouseover:l},{onKeydown:u})),h=m=>{e.tab.disabled||o("delete",e.tab.key,m)},p=O(()=>[n,{[`${n}-active`]:e.active,[`${n}-closable`]:e.editable&&e.tab.closable,[`${n}-disabled`]:e.tab.disabled}]);return{prefixCls:n,cls:p,eventHandlers:a,handleDelete:h}}});function eq(e,o,n,i,l,u){const a=Pe("icon-close"),h=Pe("icon-hover");return W(),fe("div",lt({tabindex:"0",class:e.cls},e.eventHandlers),[De("span",{class:Z(`${e.prefixCls}-title`)},[Ue(e.$slots,"default")],2),e.editable&&e.tab.closable?(W(),Ze(h,{key:0,class:Z(`${e.prefixCls}-close-btn`),onClick:qs(e.handleDelete,["stop"])},{default:Je(()=>[_(a)]),_:1},8,["class","onClick"])):We("v-if",!0)],16)}var tq=ot(JQ,[["render",eq]]);function nq(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!vo(e)}var Sw=Ae({name:"TabsButton",props:{type:{type:String,default:"next"},direction:{type:String,default:"horizontal"},disabled:{type:Boolean,default:!1},onClick:{type:Function}},emits:["click"],setup(e,{emit:o}){const n=Ge("tabs-nav-button"),i=a=>{e.disabled||o("click",e.type,a)},l=()=>e.direction==="horizontal"?e.type==="next"?_(Bl,null,null):_(Hu,null,null):e.type==="next"?_($g,null,null):_(BI,null,null),u=O(()=>[n,{[`${n}-disabled`]:e.disabled,[`${n}-left`]:e.direction==="horizontal"&&e.type==="previous",[`${n}-right`]:e.direction==="horizontal"&&e.type==="next",[`${n}-up`]:e.direction==="vertical"&&e.type==="previous",[`${n}-down`]:e.direction==="vertical"&&e.type==="next"}]);return()=>{let a;return _("div",{class:u.value,onClick:i},[_(yo,{disabled:e.disabled},nq(a=l())?a:{default:()=>[a]})])}}});const oq=Ae({name:"TabsNavInk",props:{activeTabRef:{type:Object},direction:{type:String},disabled:Boolean,animation:Boolean},setup(e){const{activeTabRef:o}=mt(e),n=Ge("tabs-nav-ink"),i=ve(0),l=ve(0),u=O(()=>e.direction==="vertical"?{top:`${i.value}px`,height:`${l.value}px`}:{left:`${i.value}px`,width:`${l.value}px`}),a=()=>{if(o.value){const p=e.direction==="vertical"?o.value.offsetTop:o.value.offsetLeft,m=e.direction==="vertical"?o.value.offsetHeight:o.value.offsetWidth;(p!==i.value||m!==l.value)&&(i.value=p,l.value=m)}};fn(()=>{Un(()=>a())}),$i(()=>{a()});const h=O(()=>[n,{[`${n}-animation`]:e.animation,[`${n}-disabled`]:e.disabled}]);return{prefixCls:n,cls:h,style:u}}});function rq(e,o,n,i,l,u){return W(),fe("div",{class:Z(e.cls),style:yt(e.style)},null,6)}var iq=ot(oq,[["render",rq]]),sq=Ae({name:"TabsNav",props:{tabs:{type:Array,required:!0},direction:{type:String,required:!0},type:{type:String,required:!0},activeKey:{type:[String,Number]},activeIndex:{type:Number,required:!0},position:{type:String,required:!0},size:{type:String,required:!0},showAddButton:{type:Boolean,default:!1},editable:{type:Boolean,default:!1},animation:{type:Boolean,required:!0},headerPadding:{type:Boolean,default:!0}},emits:["click","add","delete"],setup(e,{emit:o,slots:n}){const{tabs:i,activeKey:l,activeIndex:u,direction:a}=mt(e),h=Ge("tabs-nav"),p=ve(),m=ve(),$=ve({}),T=O(()=>{if(!Gt(l.value))return $.value[l.value]}),w=ve(),A=O(()=>e.editable&&["line","card","card-gutter"].includes(e.type)),R=ve(!1),L=ve(0),M=ve(0),B=ve([]),G=ve(0),j=()=>{var Q,Oe,Re;return(Re=a.value==="vertical"?(Q=p.value)==null?void 0:Q.offsetHeight:(Oe=p.value)==null?void 0:Oe.offsetWidth)!=null?Re:0},F=()=>!m.value||!p.value?0:a.value==="vertical"?m.value.offsetHeight-p.value.offsetHeight:m.value.offsetWidth-p.value.offsetWidth,x=()=>i.value.map(Q=>{const Oe=$.value[Q.key];return a.value==="vertical"?Oe.offsetTop+Oe.offsetHeight:Oe.offsetLeft+Oe.offsetWidth}),D=()=>{R.value=U(),R.value?(L.value=j(),M.value=F(),B.value=x(),G.value>M.value&&(G.value=M.value)):G.value=0},U=()=>p.value&&m.value?e.direction==="vertical"?m.value.offsetHeight>p.value.offsetHeight:m.value.offsetWidth>p.value.offsetWidth:!1,te=Q=>{var Oe;return((Oe=B.value[Q-1])!=null?Oe:0)>=G.value&&B.value[Q]<=G.value+L.value},Y=Q=>p.value?Q==="previous"?G.value-L.value:G.value+L.value:0,J=Q=>!p.value||!m.value||Q<0?0:Q>M.value?M.value:Q,ee=(Q,Oe)=>{o("click",Q,Oe)},ue=(Q,Oe)=>{o("delete",Q,Oe)},oe=Q=>{G.value=J(Y(Q))},X=()=>{D(),w.value&&w.value.$forceUpdate()};At(i,()=>{Un(()=>{D()})}),At(u,(Q,Oe)=>{Un(()=>{var Re;if(R.value)if(Q>=Oe){const _e=Q<B.value.length-1?Q+1:Q;te(_e)||(G.value=B.value[_e]-L.value)}else{const _e=Q>0?Q-1:Q;te(_e)||(G.value=(Re=B.value[_e-1])!=null?Re:0)}})}),fn(()=>{D()});const K=()=>!A.value||!e.showAddButton?null:_("div",{class:`${h}-add-btn`,onClick:Q=>o("add",Q)},[_(yo,null,{default:()=>[_(ag,null,null)]})]),q=O(()=>[h,`${h}-${e.direction}`,`${h}-${e.position}`,`${h}-size-${e.size}`,`${h}-type-${e.type}`]),z=O(()=>[`${h}-tab-list`,{[`${h}-tab-list-no-padding`]:!e.headerPadding&&["line","text"].includes(e.type)&&e.direction==="horizontal"}]),ne=O(()=>ZQ({direction:e.direction,type:e.type,offset:G.value})),ge=O(()=>[`${h}-tab`,{[`${h}-tab-scroll`]:R.value}]);return()=>{var Q;return _("div",{class:q.value},[R.value&&_(Sw,{type:"previous",direction:e.direction,disabled:G.value<=0,onClick:oe},null),_(Pl,{onResize:()=>D()},{default:()=>[_("div",{class:ge.value,ref:p},[_(Pl,{onResize:X},{default:()=>[_("div",{ref:m,class:z.value,style:ne.value},[e.tabs.map((Oe,Re)=>_(tq,{key:Oe.key,ref:_e=>{_e!=null&&_e.$el&&($.value[Oe.key]=_e.$el)},active:Oe.key===l.value,tab:Oe,editable:e.editable,onClick:ee,onDelete:ue},{default:()=>{var _e,se,ke;return[(ke=(se=(_e=Oe.slots).title)==null?void 0:se.call(_e))!=null?ke:Oe.title]}})),e.type==="line"&&T.value&&_(iq,{ref:w,activeTabRef:T.value,direction:e.direction,disabled:!1,animation:e.animation},null)])]}),!R.value&&K()])]}),R.value&&_(Sw,{type:"next",direction:e.direction,disabled:G.value>=M.value,onClick:oe},null),_("div",{class:`${h}-extra`},[R.value&&K(),(Q=n.extra)==null?void 0:Q.call(n)])])}}}),LE=Ae({name:"Tabs",props:{activeKey:{type:[String,Number],default:void 0},defaultActiveKey:{type:[String,Number],default:void 0},position:{type:String,default:"top"},size:{type:String},type:{type:String,default:"line"},direction:{type:String,default:"horizontal"},editable:{type:Boolean,default:!1},showAddButton:{type:Boolean,default:!1},destroyOnHide:{type:Boolean,default:!1},lazyLoad:{type:Boolean,default:!1},justify:{type:Boolean,default:!1},animation:{type:Boolean,default:!1},headerPadding:{type:Boolean,default:!0},autoSwitch:{type:Boolean,default:!1},hideContent:{type:Boolean,default:!1},trigger:{type:String,default:"click"}},emits:{"update:activeKey":e=>!0,change:e=>!0,tabClick:(e,o)=>!0,add:e=>!0,delete:(e,o)=>!0},setup(e,{emit:o,slots:n}){const{size:i,lazyLoad:l,destroyOnHide:u,trigger:a}=mt(e),h=Ge("tabs"),{mergedSize:p}=Wr(i),m=O(()=>e.direction==="vertical"?"left":e.position),$=O(()=>["left","right"].includes(m.value)?"vertical":"horizontal"),{children:T,components:w}=hv("TabPane"),A=ft(new Map),R=O(()=>{const ee=[];return w.value.forEach(ue=>{const oe=A.get(ue);oe&&ee.push(oe)}),ee}),L=O(()=>R.value.map(ee=>ee.key)),M=(ee,ue)=>{A.set(ee,ue)},B=ee=>{A.delete(ee)},G=ve(e.defaultActiveKey),j=O(()=>{var ee;const ue=(ee=e.activeKey)!=null?ee:G.value;return Gt(ue)?L.value[0]:ue}),F=O(()=>{const ee=L.value.indexOf(j.value);return ee===-1?0:ee});Ln(lS,ft({lazyLoad:l,destroyOnHide:u,activeKey:j,addItem:M,removeItem:B,trigger:a}));const x=ee=>{ee!==j.value&&(G.value=ee,o("update:activeKey",ee),o("change",ee))},D=(ee,ue)=>{x(ee),o("tabClick",ee,ue)},U=ee=>{o("add",ee),e.autoSwitch&&Un(()=>{const ue=L.value[L.value.length-1];x(ue)})},te=(ee,ue)=>{o("delete",ee,ue)},Y=()=>_("div",{class:[`${h}-content`,{[`${h}-content-hide`]:e.hideContent}]},[_("div",{class:[`${h}-content-list`,{[`${h}-content-animation`]:e.animation}],style:{marginLeft:`-${F.value*100}%`}},[T.value])]),J=O(()=>[h,`${h}-${$.value}`,`${h}-${m.value}`,`${h}-type-${e.type}`,`${h}-size-${p.value}`,{[`${h}-justify`]:e.justify}]);return()=>{var ee;return T.value=(ee=n.default)==null?void 0:ee.call(n),_("div",{class:J.value},[m.value==="bottom"&&Y(),_(sq,{tabs:R.value,activeKey:j.value,activeIndex:F.value,direction:$.value,position:m.value,editable:e.editable,animation:e.animation,showAddButton:e.showAddButton,headerPadding:e.headerPadding,size:p.value,type:e.type,onClick:D,onAdd:U,onDelete:te},{extra:n.extra}),m.value!=="bottom"&&Y()])}}}),lq=Object.defineProperty,Ow=Object.getOwnPropertySymbols,aq=Object.prototype.hasOwnProperty,uq=Object.prototype.propertyIsEnumerable,kw=(e,o,n)=>o in e?lq(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,cq=(e,o)=>{for(var n in o||(o={}))aq.call(o,n)&&kw(e,n,o[n]);if(Ow)for(var n of Ow(o))uq.call(o,n)&&kw(e,n,o[n]);return e};const dq=Ae({name:"TabPane",props:{title:String,disabled:{type:Boolean,default:!1},closable:{type:Boolean,default:!0},destroyOnHide:{type:Boolean,default:!1}},setup(e,{slots:o}){var n;const{title:i,disabled:l,closable:u}=mt(e),a=vi(),h=Ge("tabs"),p=on(lS,{}),m=ve(),$=O(()=>a==null?void 0:a.vnode.key),T=O(()=>$.value===p.activeKey),w=ve(p.lazyLoad?T.value:!0),A=ft({key:$,title:i,disabled:l,closable:u,slots:o});return a!=null&&a.uid&&((n=p.addItem)==null||n.call(p,a.uid,A)),wr(()=>{var R;a!=null&&a.uid&&((R=p.removeItem)==null||R.call(p,a.uid))}),At(T,R=>{R?w.value||(w.value=!0):(e.destroyOnHide||p.destroyOnHide)&&(w.value=!1)}),$i(()=>{A.slots=cq({},o)}),{prefixCls:h,active:T,itemRef:m,mounted:w}}});function hq(e,o,n,i,l,u){return W(),fe("div",{ref:"itemRef",class:Z([`${e.prefixCls}-content-item`,{[`${e.prefixCls}-content-item-active`]:e.active}])},[e.mounted?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-pane`)},[Ue(e.$slots,"default")],2)):We("v-if",!0)],2)}var $b=ot(dq,[["render",hq]]);const pq=Object.assign(LE,{TabPane:$b,install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+LE.name,LE),e.component(n+$b.name,$b)}});function fq(e){const{modelValue:o,defaultValue:n,format:i,isRange:l}=mt(e);function u(){return l.value?[]:void 0}function a(M){if(!Gt(M))return l.value?nn(M)?M:[M,void 0]:M}const h=O(()=>{const M=a(o.value);return ws(M,i.value)}),p=O(()=>{const M=a(n.value);return ws(M,i.value)}),[m,$]=Ss(Gt(h.value)?Gt(p.value)?u():p.value:h.value);At(h,()=>{Gt(h.value)&&$(u())});const T=O(()=>h.value||m.value),[w,A]=Ss(T.value);At([T],()=>{A(T.value)});const[R,L]=Ss();return At([w],()=>{L(void 0)}),{computedValue:T,panelValue:w,inputValue:R,setValue:$,setPanelValue:A,setInputValue:L}}var gq=Object.defineProperty,mq=Object.defineProperties,$q=Object.getOwnPropertyDescriptors,ww=Object.getOwnPropertySymbols,vq=Object.prototype.hasOwnProperty,_q=Object.prototype.propertyIsEnumerable,Nw=(e,o,n)=>o in e?gq(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,bq=(e,o)=>{for(var n in o||(o={}))vq.call(o,n)&&Nw(e,n,o[n]);if(ww)for(var n of ww(o))_q.call(o,n)&&Nw(e,n,o[n]);return e},Tq=(e,o)=>mq(e,$q(o)),yq=Ae({name:"TimePickerRangePanel",components:{Panel:Pb},props:{value:{type:Array},displayIndex:{type:Number,default:0}},emits:["select","confirm","update:displayIndex","display-index-change"],setup(e,{emit:o}){const{value:n,displayIndex:i}=mt(e),l=ve(i.value);At(i,()=>{l.value=i.value});const u=O(()=>n!=null&&n.value?n.value[l.value]:void 0);function a(p){const m=Gt(n)||Gt(n==null?void 0:n.value)?[]:[...n.value];m[l.value]=p,o("select",m)}function h(){if(O$(n==null?void 0:n.value))o("confirm",n==null?void 0:n.value);else{const p=(l.value+1)%2;l.value=p,o("display-index-change",p),o("update:displayIndex",p)}}return{displayValue:u,onSelect:a,onConfirm:h}},render(){const e=Tq(bq({},this.$attrs),{isRange:!0,value:this.displayValue,onSelect:this.onSelect,onConfirm:this.onConfirm});return _(Pb,e,this.$slots)}}),Eq=Object.defineProperty,Aw=Object.getOwnPropertySymbols,Cq=Object.prototype.hasOwnProperty,Iq=Object.prototype.propertyIsEnumerable,Rw=(e,o,n)=>o in e?Eq(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,Lw=(e,o)=>{for(var n in o||(o={}))Cq.call(o,n)&&Rw(e,n,o[n]);if(Aw)for(var n of Aw(o))Iq.call(o,n)&&Rw(e,n,o[n]);return e};const Sq=Ae({name:"TimePicker",components:{Trigger:Or,DateInput:LR,DateRangeInput:ZR,Panel:Pb,RangePanel:yq,IconClockCircle:BR},inheritAttrs:!1,props:{type:{type:String,default:"time"},modelValue:{type:[String,Number,Date,Array]},defaultValue:{type:[String,Number,Date,Array]},disabled:{type:Boolean},allowClear:{type:Boolean,default:!0},readonly:{type:Boolean},error:{type:Boolean},format:{type:String,default:"HH:mm:ss"},placeholder:{type:String},size:{type:String},popupContainer:{type:[String,Object]},use12Hours:{type:Boolean},step:{type:Object},disabledHours:{type:Function},disabledMinutes:{type:Function},disabledSeconds:{type:Function},hideDisabledOptions:{type:Boolean},disableConfirm:{type:Boolean},position:{type:String,default:"bl"},popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean,default:!1},triggerProps:{type:Object},unmountOnClose:{type:Boolean}},emits:{change:(e,o)=>!0,"update:modelValue":e=>!0,select:(e,o)=>!0,clear:()=>!0,"popup-visible-change":e=>!0,"update:popupVisible":e=>!0},setup(e,{emit:o}){const{type:n,format:i,use12Hours:l,modelValue:u,defaultValue:a,popupVisible:h,defaultPopupVisible:p,disabled:m,placeholder:$,disableConfirm:T,disabledHours:w,disabledMinutes:A,disabledSeconds:R}=mt(e),{mergedDisabled:L,eventHandlers:M}=Eo({disabled:m}),B=O(()=>n.value==="time-range"),G=Ge("timepicker"),j=ve(),{format:F,use12Hours:x}=GI(ft({format:i,use12Hours:l})),{computedValue:D,panelValue:U,inputValue:te,setValue:Y,setPanelValue:J,setInputValue:ee}=fq(ft({modelValue:u,defaultValue:a,isRange:B,format:F})),[ue,oe]=kr(p.value,ft({value:h})),X=re=>{re!==ue.value&&(oe(re),o("popup-visible-change",re),o("update:popupVisible",re))},{t:K}=Lo(),[q,z]=Ss(0),ne=O(()=>{const re=$==null?void 0:$.value;return B.value?Gt(re)?K("datePicker.rangePlaceholder.time"):nn(re)?re:[re,re]:Gt(re)?K("datePicker.placeholder.time"):re}),ge=xR(ft({disabledHours:w,disabledMinutes:A,disabledSeconds:R}));function Q(re){var Me,Ne;if(PI(re,D.value)){const $e=Sa(re,F.value),Fe=es(re);o("update:modelValue",$e),o("change",$e,Fe),(Ne=(Me=M.value)==null?void 0:Me.onChange)==null||Ne.call(Me)}}function Oe(re,Me){if(ge(re))return;let Ne=re;if(nn(re)){const $e=or();Ne=re.map(Fe=>(Fe&&(Fe=Fe.year($e.year()),Fe=Fe.month($e.month()),Fe=Fe.date($e.date())),Fe)),O$(Ne)&&(Ne=J$(Ne)),(Ne==null?void 0:Ne.length)===0&&(Ne=void 0)}Q(Ne),Y(Ne),Me!==ue.value&&X(Me)}function Re(re,Me){J(re),Me!==ue.value&&X(Me)}function _e(re){j.value&&j.value.focus&&j.value.focus(re)}function se(re){L.value||(X(re),re&&Un(()=>{_e(q.value)}))}function ke(re){const Me=Sa(re,F.value),Ne=es(re);o("select",Me,Ne),T.value&&(!B.value||O$(re))?Oe(re,!0):(Re(re,!0),ee(void 0))}function Be(re){Oe(re,!1)}function et(){Oe(U.value||D.value,!1)}function ut(){if(O$(U.value))Oe(U.value,!1);else{const re=(q.value+1)%2;z(re),_e(re)}}function dt(re){X(!0);const Me=re.target.value;if(ee(Me),!Mb(Me,F.value))return;const Ne=or(Me,F.value);ge(Ne)||(T.value?Oe(Ne,!0):Re(Ne,!0))}function gt(re){X(!0);const Me=re.target.value,Ne=nn(te.value)?[...te.value]:nn(U.value)&&Sa(U.value,F.value)||[];if(Ne[q.value]=Me,ee(Ne),!Mb(Me,F.value))return;const $e=or(Me,F.value);if(ge($e))return;const Fe=nn(U.value)?[...U.value]:[];Fe[q.value]=$e,T.value&&O$(Fe)?Oe(Fe,!0):Re(Fe,!0)}function we(re){re.stopPropagation(),J(void 0),Oe(void 0,B.value)}At(ue,(re,Me)=>{re!==Me&&J(D.value),re||ee(void 0)});const le=O(()=>B.value?{focusedIndex:q.value,onFocusedIndexChange:re=>{z(re)},onChange:gt,onPressEnter:ut}:{onChange:dt,onPressEnter:et}),ce=O(()=>B.value?{displayIndex:q.value,onDisplayIndexChange:re=>{z(re),_e(re)}}:{});return{refInput:j,isRange:B,prefixCls:G,panelVisible:ue,focusedInputIndex:q,computedPlaceholder:ne,panelValue:U,inputValue:te,computedFormat:F,computedUse12Hours:x,inputProps:le,panelProps:ce,mergedDisabled:L,onPanelVisibleChange:se,onInputClear:we,onPanelSelect:ke,onPanelConfirm:Be,onPanelClick:()=>{_e(q.value)}}}});function Oq(e,o,n,i,l,u){const a=Pe("IconClockCircle"),h=Pe("Trigger");return W(),Ze(h,{trigger:"click","animation-name":"slide-dynamic-origin","auto-fit-transform-origin":"","click-to-close":!1,position:e.position,disabled:e.mergedDisabled||e.readonly,"popup-offset":4,"popup-visible":e.panelVisible,"prevent-focus":!0,"unmount-on-close":e.unmountOnClose,"popup-container":e.popupContainer,onPopupVisibleChange:e.onPanelVisibleChange},{content:Je(()=>[De("div",{class:Z(`${e.prefixCls}-container`),onClick:o[0]||(o[0]=(...p)=>e.onPanelClick&&e.onPanelClick(...p))},[(W(),Ze(ts(e.isRange?"RangePanel":"Panel"),lt(e.panelProps,{value:e.panelValue,visible:e.panelVisible,format:e.computedFormat,"use12-hours":e.computedUse12Hours,step:e.step,"disabled-hours":e.disabledHours,"disabled-minutes":e.disabledMinutes,"disabled-seconds":e.disabledSeconds,"hide-disabled-options":e.hideDisabledOptions,"hide-footer":e.disableConfirm,onSelect:e.onPanelSelect,onConfirm:e.onPanelConfirm}),Oo({_:2},[e.$slots.extra?{name:"extra-footer",fn:Je(()=>[Ue(e.$slots,"extra")])}:void 0]),1040,["value","visible","format","use12-hours","step","disabled-hours","disabled-minutes","disabled-seconds","hide-disabled-options","hide-footer","onSelect","onConfirm"]))],2)]),default:Je(()=>[(W(),Ze(ts(e.isRange?"DateRangeInput":"DateInput"),lt(Lw(Lw({},e.$attrs),e.inputProps),{ref:"refInput","input-value":e.inputValue,value:e.panelValue,size:e.size,focused:e.panelVisible,format:e.computedFormat,visible:e.panelVisible,disabled:e.mergedDisabled,error:e.error,editable:!e.readonly,"allow-clear":e.allowClear&&!e.readonly,placeholder:e.computedPlaceholder,onClear:e.onInputClear}),Oo({"suffix-icon":Je(()=>[Ue(e.$slots,"suffix-icon",{},()=>[_(a)])]),_:2},[e.$slots.prefix?{name:"prefix",fn:Je(()=>[Ue(e.$slots,"prefix")])}:void 0]),1040,["input-value","value","size","focused","format","visible","disabled","error","editable","allow-clear","placeholder","onClear"]))]),_:3},8,["position","disabled","popup-visible","unmount-on-close","popup-container","onPopupVisibleChange"])}var ME=ot(Sq,[["render",Oq]]);const kq=Object.assign(ME,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+ME.name,ME)}}),GL=Symbol("ArcoTimeline");var wq=Object.defineProperty,Mw=Object.getOwnPropertySymbols,Nq=Object.prototype.hasOwnProperty,Aq=Object.prototype.propertyIsEnumerable,Pw=(e,o,n)=>o in e?wq(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,Rq=(e,o)=>{for(var n in o||(o={}))Nq.call(o,n)&&Pw(e,n,o[n]);if(Mw)for(var n of Mw(o))Aq.call(o,n)&&Pw(e,n,o[n]);return e};const Lq=(e,o,n,i)=>{let l=["left","right"];n==="horizontal"&&(l=["top","bottom"]);const u=o==="alternate"?i||l[e%2]:o;return l.indexOf(u)>-1?u:l[0]},Mq=Ae({name:"TimelineItem",props:{dotColor:{type:String},dotType:{type:String,default:"solid"},lineType:{type:String,default:"solid"},lineColor:{type:String},label:{type:String},position:{type:String}},setup(e){const o=Ge("timeline-item"),n=vi(),i=on(GL,{}),l=O(()=>{var w,A,R;return(R=(A=i.items)==null?void 0:A.indexOf((w=n==null?void 0:n.uid)!=null?w:-1))!=null?R:-1}),u=O(()=>{var w;return(w=i==null?void 0:i.direction)!=null?w:"vertical"}),a=O(()=>{var w;return(w=i==null?void 0:i.labelPosition)!=null?w:"same"}),h=O(()=>{const{items:w=[],reverse:A,labelPosition:R,mode:L="left"}=i,M=u.value,B=Lq(l.value,L,M,e.position);return[o,{[`${o}-${M}-${B}`]:M,[`${o}-label-${R}`]:R,[`${o}-last`]:l.value===(A===!0?0:w.length-1)}]}),p=O(()=>[`${o}-dot-line`,`${o}-dot-line-is-${u.value}`]),m=O(()=>{const{direction:w}=i||{};return Rq({[w==="horizontal"?"borderTopStyle":"borderLeftStyle"]:e.lineType},e.lineColor?{borderColor:e.lineColor}:{})}),$=O(()=>[`${o}-dot`,`${o}-dot-${e.dotType}`]),T=O(()=>({[e.dotType==="solid"?"backgroundColor":"borderColor"]:e.dotColor}));return{cls:h,dotLineCls:p,dotTypeCls:$,prefixCls:o,computedDotLineStyle:m,computedDotStyle:T,labelPosition:a}}});function Pq(e,o,n,i,l,u){return W(),fe("div",{role:"listitem",class:Z(e.cls)},[De("div",{class:Z(`${e.prefixCls}-dot-wrapper`)},[De("div",{class:Z(e.dotLineCls),style:yt(e.computedDotLineStyle)},null,6),De("div",{class:Z(`${e.prefixCls}-dot-content`)},[e.$slots.dot?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-dot-custom`)},[Ue(e.$slots,"dot")],2)):(W(),fe("div",{key:1,class:Z(e.dotTypeCls),style:yt(e.computedDotStyle)},null,6))],2)],2),De("div",{class:Z(`${e.prefixCls}-content-wrapper`)},[e.$slots.default?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-content`)},[Ue(e.$slots,"default")],2)):We("v-if",!0),e.labelPosition!=="relative"?(W(),fe("div",{key:1,class:Z(`${e.prefixCls}-label`)},Mt(e.label),3)):We("v-if",!0)],2),e.labelPosition==="relative"?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-label`)},Mt(e.label),3)):We("v-if",!0)],2)}var tg=ot(Mq,[["render",Pq]]),PE=Ae({name:"Timeline",components:{Item:tg,Spin:Dl},props:{reverse:{type:Boolean},direction:{type:String,default:"vertical"},mode:{type:String,default:"left"},pending:{type:[Boolean,String]},labelPosition:{type:String,default:"same"}},setup(e,{slots:o}){const n=Ge("timeline"),i=O(()=>e.pending||o.pending),{children:l,components:u}=hv("TimelineItem"),{reverse:a,direction:h,labelPosition:p,mode:m}=mt(e),$=ft({items:u,direction:h,reverse:a,labelPosition:p,mode:m});Ln(GL,$);const T=O(()=>[n,`${n}-${e.mode}`,`${n}-direction-${e.direction}`,{[`${n}-is-reverse`]:e.reverse}]);return()=>{var w,A;return i.value?l.value=(w=o.default)==null?void 0:w.call(o).concat(_(tg,{lineType:"dashed"},{default:()=>[e.pending!==!0&&_("div",null,[e.pending])],dot:()=>{var R,L;return(L=(R=o.dot)==null?void 0:R.call(o))!=null?L:_(Dl,{size:12},null)}})):l.value=(A=o.default)==null?void 0:A.call(o),_("div",{role:"list",class:T.value},[l.value])}}});const Dq=Object.assign(PE,{Item:tg,install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+PE.name,PE),e.component(n+tg.name,tg)}}),xq=Ae({name:"IconDelete",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-delete`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),Bq=["stroke-width","stroke-linecap","stroke-linejoin"],Fq=De("path",{d:"M5 11h5.5m0 0v29a1 1 0 0 0 1 1h25a1 1 0 0 0 1-1V11m-27 0H16m21.5 0H43m-5.5 0H32m-16 0V7h16v4m-16 0h16M20 18v15m8-15v15"},null,-1),Vq=[Fq];function Uq(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},Vq,14,Bq)}var DE=ot(xq,[["render",Uq]]);const aS=Object.assign(DE,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+DE.name,DE)}}),uS=Symbol("ArcoTransfer");var Hq=Ae({name:"TransferListItem",props:{type:{type:String},data:{type:Object,required:!0},allowClear:{type:Boolean},disabled:{type:Boolean},draggable:{type:Boolean},simple:Boolean},setup(e){const o=Ge("transfer-list-item"),n=on(uS,void 0),i=()=>{e.simple&&(n==null||n.moveTo([e.data.value],e.type==="target"?"source":"target"))},l=O(()=>[o,{[`${o}-disabled`]:e.disabled,[`${o}-draggable`]:e.draggable}]),u=()=>{n==null||n.moveTo([e.data.value],"source")};return()=>{var a,h,p;return _("div",{class:l.value,onClick:i},[e.allowClear||e.simple?_("span",{class:`${o}-content`},[(p=(h=n==null?void 0:(a=n.slots).item)==null?void 0:h.call(a,{label:e.data.label,value:e.data.value}))!=null?p:e.data.label]):_(Ml,{class:[`${o}-content`,`${o}-checkbox`],modelValue:n==null?void 0:n.selected,value:e.data.value,onChange:m=>n==null?void 0:n.onSelect(m),uninjectGroupContext:!0,disabled:e.disabled},{default:()=>{var m,$,T;return[(T=($=n==null?void 0:(m=n.slots).item)==null?void 0:$.call(m,{label:e.data.label,value:e.data.value}))!=null?T:e.data.label]}}),e.allowClear&&!e.disabled&&_(yo,{class:`${o}-remove-btn`,onClick:u},{default:()=>[_(zr,null,null)]})])}}});const Gq=Ae({name:"TransferView",components:{Empty:k0,Checkbox:Ml,IconHover:yo,IconDelete:aS,InputSearch:Xh.Search,List:bL,TransferListItem:Hq,Scrollbar:Na},props:{type:{type:String},dataInfo:{type:Object,required:!0},title:String,data:{type:Array,required:!0},allowClear:Boolean,selected:{type:Array,required:!0},showSearch:Boolean,showSelectAll:Boolean,simple:Boolean},emits:["search"],setup(e,{emit:o}){const n=Ge("transfer-view"),i=ve(""),l=on(uS,void 0),u=O(()=>e.dataInfo.selected.length),a=O(()=>e.dataInfo.data.length),h=O(()=>e.dataInfo.selected.length>0&&e.dataInfo.selected.length===e.dataInfo.allValidValues.length),p=O(()=>e.dataInfo.selected.length>0&&e.dataInfo.selected.length<e.dataInfo.allValidValues.length),m=A=>{A?l==null||l.onSelect([...e.selected,...e.dataInfo.allValidValues]):l==null||l.onSelect(e.selected.filter(R=>!e.dataInfo.allValidValues.includes(R)))},$=O(()=>e.dataInfo.data.filter(A=>i.value?A.label.includes(i.value):!0));return{prefixCls:n,filteredData:$,filter:i,checked:h,indeterminate:p,countSelected:u,countRendered:a,handleSelectAllChange:m,handleSearch:A=>{o("search",A,e.type)},handleClear:()=>{l==null||l.moveTo(e.dataInfo.allValidValues,"source")},transferCtx:l}}});function zq(e,o,n,i,l,u){const a=Pe("checkbox"),h=Pe("icon-delete"),p=Pe("icon-hover"),m=Pe("input-search"),$=Pe("transfer-list-item"),T=Pe("list"),w=Pe("Scrollbar"),A=Pe("Empty");return W(),fe("div",{class:Z(e.prefixCls)},[De("div",{class:Z(`${e.prefixCls}-header`)},[Ue(e.$slots,"title",{countTotal:e.dataInfo.data.length,countSelected:e.dataInfo.selected.length,searchValue:e.filter,checked:e.checked,indeterminate:e.indeterminate,onSelectAllChange:e.handleSelectAllChange,onClear:e.handleClear},()=>[De("span",{class:Z(`${e.prefixCls}-header-title`)},[e.allowClear||e.simple||!e.showSelectAll?(W(),fe("span",{key:0,class:Z(`${e.prefixCls}-header-title-simple`)},Mt(e.title),3)):(W(),Ze(a,{key:1,"model-value":e.checked,indeterminate:e.indeterminate,"uninject-group-context":"",onChange:e.handleSelectAllChange},{default:Je(()=>[Dt(Mt(e.title),1)]),_:1},8,["model-value","indeterminate","onChange"]))],2),e.allowClear?(W(),Ze(p,{key:0,class:Z(`${e.prefixCls}-header-clear-btn`),onClick:e.handleClear},{default:Je(()=>[_(h)]),_:1},8,["class","onClick"])):e.simple?We("v-if",!0):(W(),fe("span",{key:1,class:Z(`${e.prefixCls}-header-count`)},Mt(e.dataInfo.selected.length)+" / "+Mt(e.dataInfo.data.length),3))])],2),e.showSearch?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-search`)},[_(m,{modelValue:e.filter,"onUpdate:modelValue":o[0]||(o[0]=R=>e.filter=R),onChange:e.handleSearch},null,8,["modelValue","onChange"])],2)):We("v-if",!0),De("div",{class:Z(`${e.prefixCls}-body`)},[e.filteredData.length>0?(W(),Ze(w,{key:0},{default:Je(()=>{var R,L;return[Ue(e.$slots,"default",{data:e.filteredData,selectedKeys:(R=e.transferCtx)==null?void 0:R.selected,onSelect:(L=e.transferCtx)==null?void 0:L.onSelect},()=>[_(T,{class:Z(`${e.prefixCls}-list`),bordered:!1,scrollbar:!1},{default:Je(()=>[(W(!0),fe(Lt,null,Ko(e.filteredData,M=>(W(),Ze($,{key:M.value,type:e.type,data:M,simple:e.simple,"allow-clear":e.allowClear,disabled:M.disabled},null,8,["type","data","simple","allow-clear","disabled"]))),128))]),_:1},8,["class"])])]}),_:3})):(W(),Ze(A,{key:1,class:Z(`${e.prefixCls}-empty`)},null,8,["class"]))],2)],2)}var Wq=ot(Gq,[["render",zq]]);const jq=Ae({name:"Transfer",components:{ArcoButton:mi,TransferView:Wq,IconLeft:Hu,IconRight:Bl},props:{data:{type:Array,default:()=>[]},modelValue:{type:Array,default:void 0},defaultValue:{type:Array,default:()=>[]},selected:{type:Array,default:void 0},defaultSelected:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},simple:{type:Boolean,default:!1},oneWay:{type:Boolean,default:!1},showSearch:{type:Boolean,default:!1},showSelectAll:{type:Boolean,default:!0},title:{type:Array,default:()=>["Source","Target"]}},emits:{"update:modelValue":e=>!0,"update:selected":e=>!0,change:e=>!0,select:e=>!0,search:(e,o)=>!0},setup(e,{emit:o,slots:n}){const{mergedDisabled:i,eventHandlers:l}=Eo({disabled:Os(e,"disabled")}),u=Ge("transfer"),a=ve(e.defaultValue),h=O(()=>{var G;return(G=e.modelValue)!=null?G:a.value}),p=ve(e.defaultSelected),m=O(()=>{var G;return(G=e.selected)!=null?G:p.value}),$=O(()=>{var G;return(G=e.title)==null?void 0:G[0]}),T=O(()=>{var G;return(G=e.title)==null?void 0:G[1]}),w=O(()=>{const G={data:[],allValidValues:[],selected:[],validSelected:[]},j={data:[],allValidValues:[],selected:[],validSelected:[]};for(const F of e.data)h.value.includes(F.value)?(j.data.push(F),F.disabled||j.allValidValues.push(F.value),m.value.includes(F.value)&&(j.selected.push(F.value),F.disabled||j.validSelected.push(F.value))):(G.data.push(F),F.disabled||G.allValidValues.push(F.value),m.value.includes(F.value)&&(G.selected.push(F.value),F.disabled||G.validSelected.push(F.value)));return{sourceInfo:G,targetInfo:j}}),A=(G,j)=>{o("search",G,j)},R=(G,j)=>{var F,x;const D=j==="target"?[...h.value,...G]:h.value.filter(U=>!G.includes(U));M(w.value[j==="target"?"targetInfo":"sourceInfo"].selected),a.value=D,o("update:modelValue",D),o("change",D),(x=(F=l.value)==null?void 0:F.onChange)==null||x.call(F)},L=G=>{const j=G==="target"?w.value.sourceInfo.validSelected:w.value.targetInfo.validSelected;R(j,G)},M=G=>{p.value=G,o("update:selected",G),o("select",G)};Ln(uS,ft({selected:m,slots:n,moveTo:R,onSelect:M}));const B=O(()=>[u,{[`${u}-simple`]:e.simple,[`${u}-disabled`]:i.value}]);return{prefixCls:u,cls:B,dataInfo:w,computedSelected:m,sourceTitle:$,targetTitle:T,handleClick:L,handleSearch:A}}});function Xq(e,o,n,i,l,u){const a=Pe("transfer-view"),h=Pe("icon-right"),p=Pe("arco-button"),m=Pe("icon-left");return W(),fe("div",{class:Z(e.cls)},[_(a,{type:"source",class:Z(`${e.prefixCls}-view-source`),title:e.sourceTitle,"data-info":e.dataInfo.sourceInfo,data:e.dataInfo.sourceInfo.data,selected:e.computedSelected,"show-search":e.showSearch,"show-select-all":e.showSelectAll,simple:e.simple,onSearch:e.handleSearch},Oo({_:2},[e.$slots.source?{name:"default",fn:Je($=>[Ue(e.$slots,"source",ao(Fr($)))])}:void 0,e.$slots["source-title"]?{name:"title",fn:Je($=>[Ue(e.$slots,"source-title",ao(Fr($)))])}:void 0]),1032,["class","title","data-info","data","selected","show-search","show-select-all","simple","onSearch"]),e.simple?We("v-if",!0):(W(),fe("div",{key:0,class:Z([`${e.prefixCls}-operations`])},[_(p,{tabindex:"-1","aria-label":"Move selected right",size:"small",shape:"round",disabled:e.dataInfo.sourceInfo.validSelected.length===0,onClick:o[0]||(o[0]=$=>e.handleClick("target"))},{icon:Je(()=>[_(h)]),_:1},8,["disabled"]),e.oneWay?We("v-if",!0):(W(),Ze(p,{key:0,tabindex:"-1","aria-label":"Move selected left",size:"small",shape:"round",disabled:e.dataInfo.targetInfo.validSelected.length===0,onClick:o[1]||(o[1]=$=>e.handleClick("source"))},{icon:Je(()=>[_(m)]),_:1},8,["disabled"]))],2)),_(a,{type:"target",class:Z(`${e.prefixCls}-view-target`),title:e.targetTitle,"data-info":e.dataInfo.targetInfo,data:e.dataInfo.targetInfo.data,selected:e.computedSelected,"allow-clear":e.oneWay,"show-search":e.showSearch,"show-select-all":e.showSelectAll,simple:e.simple,onSearch:e.handleSearch},Oo({_:2},[e.$slots.target?{name:"default",fn:Je($=>[Ue(e.$slots,"target",ao(Fr($)))])}:void 0,e.$slots["target-title"]?{name:"title",fn:Je($=>[Ue(e.$slots,"target-title",ao(Fr($)))])}:void 0]),1032,["class","title","data-info","data","selected","allow-clear","show-search","show-select-all","simple","onSearch"])],2)}var xE=ot(jq,[["render",Xq]]);const Kq=Object.assign(xE,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+xE.name,xE)}}),zL=Symbol("TreeInjectionKey");function Yq(e){const o=[];function n(i){i&&i.forEach(l=>{o.push(l),n(l.children)})}return n(e),o}function Qq(e){const o=new Map;return e.forEach(n=>{o.set(n.key,n)}),o}function BC(e){return e.selectable&&!e.disabled}function Dw(e){return!e.isLeaf&&e.children}function qq(e){return ks(e.isLeaf)?e.isLeaf:!e.children}function FC(e){return Set.prototype.add.bind(e)}function VC(e){return Set.prototype.delete.bind(e)}function Bh(e){return e.disabled||e.disableCheckbox?!1:!!e.checkable}function cS(e){var o;const n=[];return(o=e.children)==null||o.forEach(i=>{Bh(i)&&n.push(i.key,...cS(i))}),n}function WL(e){var o;const{node:n,checkedKeySet:i,indeterminateKeySet:l}=e;let u=n.parent;for(;u;){if(Bh(u)){const a=u.key,h=((o=u.children)==null?void 0:o.filter(Bh))||[];let p=0;const m=h.length;h.some(({key:$})=>{if(i.has($))p+=1;else if(l.has($))return p+=.5,!0;return!1}),p&&p!==m?l.add(a):l.delete(a),p&&p===m?i.add(a):i.delete(a)}u=u.parent}}function UC(e){const{node:o,checked:n,checkedKeys:i,indeterminateKeys:l,checkStrictly:u=!1}=e,{key:a}=o,h=new Set(i),p=new Set(l);if(n?h.add(a):h.delete(a),p.delete(a),!u){const m=cS(o);n?m.forEach(FC(h)):m.forEach(VC(h)),m.forEach(VC(p)),WL({node:o,checkedKeySet:h,indeterminateKeySet:p})}return[[...h],[...p]]}function Zq(e){const{initCheckedKeys:o,key2TreeNode:n,checkStrictly:i,onlyCheckLeaf:l}=e,u=new Set,a=new Set,h=new Set;return i?o.forEach(FC(u)):o.forEach(p=>{var m;const $=n.get(p);if(!$||a.has(p)||l&&((m=$.children)!=null&&m.length))return;const T=cS($);T.forEach(FC(a)),T.forEach(VC(h)),u.add(p),h.delete(p),WL({node:$,checkedKeySet:u,indeterminateKeySet:h})}),[[...u,...a],[...h]]}function A1(){return on(zL)||{}}const Jq=Ae({name:"IconFile",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-file`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),eZ=["stroke-width","stroke-linecap","stroke-linejoin"],tZ=De("path",{d:"M16 21h16m-16 8h10m11 13H11a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h21l7 7v27a2 2 0 0 1-2 2Z"},null,-1),nZ=[tZ];function oZ(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},nZ,14,eZ)}var BE=ot(Jq,[["render",oZ]]);const jL=Object.assign(BE,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+BE.name,BE)}});var rZ=Ae({name:"TreeNodeSwitcher",components:{IconLoading:gi,RenderFunction:Gu},props:{prefixCls:String,loading:Boolean,showLine:Boolean,treeNodeData:{type:Object},icons:{type:Object},nodeStatus:{type:Object}},emits:["click"],setup(e,{slots:o,emit:n}){const{icons:i,nodeStatus:l,treeNodeData:u}=mt(e),a=A1(),h=wl(o,"switcher-icon"),p=wl(o,"loading-icon");return{getSwitcherIcon:()=>{var m,$,T;const w=($=(m=i==null?void 0:i.value)==null?void 0:m.switcherIcon)!=null?$:h.value;return w?w(l.value):(T=a.switcherIcon)==null?void 0:T.call(a,u.value,l.value)},getLoadingIcon:()=>{var m,$,T;const w=($=(m=i==null?void 0:i.value)==null?void 0:m.loadingIcon)!=null?$:p.value;return w?w(l.value):(T=a.loadingIcon)==null?void 0:T.call(a,u.value,l.value)},onClick(m){n("click",m)}}},render(){var e,o,n;const{prefixCls:i,getSwitcherIcon:l,getLoadingIcon:u,onClick:a,nodeStatus:h={},loading:p,showLine:m}=this,{expanded:$,isLeaf:T}=h;if(p)return(e=u())!=null?e:pi(gi);let w=null,A=!1;if(T)m&&(w=(n=l())!=null?n:pi(jL));else{const L=m?pi("span",{class:`${i}-${$?"minus":"plus"}-icon`}):pi(UL);w=(o=l())!=null?o:L,A=!m}if(!w)return null;const R=pi("span",{class:`${i}-switcher-icon`,onClick:a},w);return A?pi(yo,{class:`${i}-icon-hover`},()=>R):R}}),iZ=Object.defineProperty,sZ=Object.defineProperties,lZ=Object.getOwnPropertyDescriptors,xw=Object.getOwnPropertySymbols,aZ=Object.prototype.hasOwnProperty,uZ=Object.prototype.propertyIsEnumerable,Bw=(e,o,n)=>o in e?iZ(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,HC=(e,o)=>{for(var n in o||(o={}))aZ.call(o,n)&&Bw(e,n,o[n]);if(xw)for(var n of xw(o))uZ.call(o,n)&&Bw(e,n,o[n]);return e},Fw=(e,o)=>sZ(e,lZ(o));const XL=(()=>{let e=0;return()=>(e+=1,`__arco_tree${e}`)})();function cZ(e,o){return!!(Gt(e)?o:e)}function dZ(e,o){const n=HC({},e);return o&&Object.keys(o).forEach(l=>{const u=o[l];u!==l&&(n[l]=e[u],delete n[u])}),n}function Vw({subEnable:e,superEnable:o,isLeaf:n,treeNodeData:i,level:l}){return Gt(e)?Ut(o)?o(i,{isLeaf:n,level:l}):o??!1:e}function hZ(e){var o,n;const{treeNodeData:i,parentNode:l,isTail:u=!0,treeProps:a}=e,{fieldNames:h}=a||{},p=dZ(i,h),m=a.loadMore?!!p.isLeaf:!((o=p.children)!=null&&o.length),$=l?l.level+1:0,T=Fw(HC({},Sr(p,["children"])),{key:(n=p.key)!=null?n:XL(),selectable:Vw({subEnable:p.selectable,superEnable:a==null?void 0:a.selectable,isLeaf:m,level:$,treeNodeData:i}),disabled:!!p.disabled,disableCheckbox:!!p.disableCheckbox,checkable:Vw({subEnable:p.checkable,superEnable:a==null?void 0:a.checkable,isLeaf:m,level:$,treeNodeData:i}),isLeaf:m,isTail:u,blockNode:!!(a!=null&&a.blockNode),showLine:!!(a!=null&&a.showLine),level:$,lineless:l?[...l.lineless,l.isTail]:[],draggable:cZ(p.draggable,a==null?void 0:a.draggable)});return Fw(HC({},T),{treeNodeProps:T,treeNodeData:i,parent:l,parentKey:l==null?void 0:l.key,pathParentKeys:l?[...l.pathParentKeys,l.key]:[]})}function pZ(e,o){function n(i,l){if(!i)return;const{fieldNames:u}=o,a=[];return i.forEach((h,p)=>{const m=hZ({treeNodeData:h,treeProps:o,parentNode:l,isTail:p===i.length-1});m.children=n(h[(u==null?void 0:u.children)||"children"],m),a.push(m)}),a}return n(e)}function KL(){const e=vi(),o=()=>{var i;return(i=e==null?void 0:e.vnode.key)!=null?i:XL()},n=ve(o());return $i(()=>{n.value=o()}),n}function fZ(e){const{key:o,refTitle:n}=mt(e),i=A1(),l=ve(!1),u=ve(!1),a=ve(!1),h=ve(0),p=ig(m=>{if(!n.value)return;const $=n.value.getBoundingClientRect(),T=window.pageYOffset+$.top,{pageY:w}=m,A=$.height/4,R=w-T;h.value=R<A?-1:R<$.height-A?0:1,a.value=i.allowDrop?i.allowDrop(o.value,h.value):!0});return{isDragOver:l,isDragging:u,isAllowDrop:a,dropPosition:h,setDragStatus(m,$){switch(m){case"dragStart":u.value=!0,h.value=0,i.onDragStart&&i.onDragStart(o.value,$);break;case"dragEnd":u.value=!1,l.value=!1,h.value=0,p.cancel(),i.onDragEnd&&i.onDragEnd(o.value,$);break;case"dragOver":l.value=!0,p($),i.onDragOver&&i.onDragOver(o.value,$);break;case"dragLeave":l.value=!1,h.value=0,p.cancel(),i.onDragLeave&&i.onDragLeave(o.value,$);break;case"drop":i.onDrop&&i.onDrop(o.value,h.value,$),l.value=!1,h.value=0,p.cancel();break}}}}function gZ(e){return nn(e)?e:[e]}const mZ=Ae({name:"BaseTreeNode",components:{NodeSwitcher:rZ,Checkbox:Ml,RenderFunction:Gu,IconDragDotVertical:ZI},props:{key:{type:[String,Number]},title:{type:String},selectable:{type:Boolean},disabled:{type:Boolean},disableCheckbox:{type:Boolean},checkable:{type:Boolean},draggable:{type:Boolean},isLeaf:{type:Boolean},icon:{type:Function},switcherIcon:{type:Function},loadingIcon:{type:Function},dragIcon:{type:Function},isTail:{type:Boolean},blockNode:{type:Boolean},showLine:{type:Boolean},level:{type:Number,default:0},lineless:{type:Array,default:()=>[]}},setup(e){const o=KL(),n=Ge("tree-node"),i=A1(),l=O(()=>{var z;return(z=i.key2TreeNode)==null?void 0:z.get(o.value)}),u=O(()=>l.value.treeNodeData),a=O(()=>l.value.children),h=O(()=>{var z;const ne=(z=i.treeProps)==null?void 0:z.actionOnNodeClick;return ne?gZ(ne):[]}),{isLeaf:p,isTail:m,selectable:$,disabled:T,disableCheckbox:w,draggable:A}=mt(e),R=O(()=>{var z;return[`${n}`,{[`${n}-selected`]:te.value,[`${n}-is-leaf`]:p.value,[`${n}-is-tail`]:m.value,[`${n}-expanded`]:Y.value,[`${n}-disabled-selectable`]:!$.value&&!((z=i.treeProps)!=null&&z.disableSelectActionOnly),[`${n}-disabled`]:T.value}]}),L=ve(),{isDragOver:M,isDragging:B,isAllowDrop:G,dropPosition:j,setDragStatus:F}=fZ(ft({key:o,refTitle:L})),x=O(()=>[`${n}-title`,{[`${n}-title-draggable`]:A.value,[`${n}-title-gap-top`]:M.value&&G.value&&j.value<0,[`${n}-title-gap-bottom`]:M.value&&G.value&&j.value>0,[`${n}-title-highlight`]:!B.value&&M.value&&G.value&&j.value===0,[`${n}-title-dragging`]:B.value,[`${n}-title-block`]:l.value.blockNode}]),D=O(()=>{var z,ne;return(ne=(z=i.checkedKeys)==null?void 0:z.includes)==null?void 0:ne.call(z,o.value)}),U=O(()=>{var z,ne;return(ne=(z=i.indeterminateKeys)==null?void 0:z.includes)==null?void 0:ne.call(z,o.value)}),te=O(()=>{var z,ne;return(ne=(z=i.selectedKeys)==null?void 0:z.includes)==null?void 0:ne.call(z,o.value)}),Y=O(()=>{var z,ne;return(ne=(z=i.expandedKeys)==null?void 0:z.includes)==null?void 0:ne.call(z,o.value)}),J=O(()=>{var z,ne;return(ne=(z=i.loadingKeys)==null?void 0:z.includes)==null?void 0:ne.call(z,o.value)}),ee=O(()=>i.dragIcon),ue=O(()=>i.nodeIcon);function oe(z){var ne,ge;p.value||(!((ne=a.value)!=null&&ne.length)&&Ut(i.onLoadMore)?i.onLoadMore(o.value):(ge=i==null?void 0:i.onExpand)==null||ge.call(i,!Y.value,o.value,z))}const X=ft({loading:J,checked:D,selected:te,indeterminate:U,expanded:Y,isLeaf:p}),K=O(()=>i.nodeTitle?()=>{var z;return(z=i.nodeTitle)==null?void 0:z.call(i,u.value,X)}:void 0),q=O(()=>i.nodeExtra?()=>{var z;return(z=i.nodeExtra)==null?void 0:z.call(i,u.value,X)}:void 0);return{nodekey:o,refTitle:L,prefixCls:n,classNames:R,titleClassNames:x,indeterminate:U,checked:D,expanded:Y,selected:te,treeTitle:K,treeNodeData:u,loading:J,treeDragIcon:ee,treeNodeIcon:ue,extra:q,nodeStatus:X,onCheckboxChange(z,ne){var ge;w.value||T.value||(ge=i.onCheck)==null||ge.call(i,z,o.value,ne)},onTitleClick(z){var ne;h.value.includes("expand")&&oe(z),!(!$.value||T.value)&&((ne=i.onSelect)==null||ne.call(i,o.value,z))},onSwitcherClick:oe,onDragStart(z){var ne;if(A.value){z.stopPropagation(),F("dragStart",z);try{(ne=z.dataTransfer)==null||ne.setData("text/plain","")}catch{}}},onDragEnd(z){A.value&&(z.stopPropagation(),F("dragEnd",z))},onDragOver(z){A&&(z.stopPropagation(),z.preventDefault(),F("dragOver",z))},onDragLeave(z){A.value&&(z.stopPropagation(),F("dragLeave",z))},onDrop(z){!A.value||!G.value||(z.stopPropagation(),z.preventDefault(),F("drop",z))}}}}),$Z=["data-level","data-key"],vZ=["draggable"];function _Z(e,o,n,i,l,u){const a=Pe("NodeSwitcher"),h=Pe("Checkbox"),p=Pe("RenderFunction"),m=Pe("IconDragDotVertical");return W(),fe("div",{class:Z(e.classNames),"data-level":e.level,"data-key":e.nodekey},[We(" 缩进 "),De("span",{class:Z(`${e.prefixCls}-indent`)},[(W(!0),fe(Lt,null,Ko(e.level,$=>(W(),fe("span",{key:$,class:Z([`${e.prefixCls}-indent-block`,{[`${e.prefixCls}-indent-block-lineless`]:e.lineless[$-1]}])},null,2))),128))],2),We(" switcher "),De("span",{class:Z([`${e.prefixCls}-switcher`,{[`${e.prefixCls}-switcher-expanded`]:e.expanded}])},[_(a,{"prefix-cls":e.prefixCls,loading:e.loading,"show-line":e.showLine,"tree-node-data":e.treeNodeData,icons:{switcherIcon:e.switcherIcon,loadingIcon:e.loadingIcon},"node-status":e.nodeStatus,onClick:e.onSwitcherClick},Oo({_:2},[e.$slots["switcher-icon"]?{name:"switcher-icon",fn:Je(()=>[We(" @slot 定制 switcher 图标，会覆盖 Tree 的配置 "),Ue(e.$slots,"switcher-icon")])}:void 0,e.$slots["loading-icon"]?{name:"loading-icon",fn:Je(()=>[We(" @slot 定制 loading 图标，会覆盖 Tree 的配置 "),Ue(e.$slots,"loading-icon")])}:void 0]),1032,["prefix-cls","loading","show-line","tree-node-data","icons","node-status","onClick"])],2),We(" checkbox "),e.checkable?(W(),Ze(h,{key:0,disabled:e.disableCheckbox||e.disabled,"model-value":e.checked,indeterminate:e.indeterminate,"uninject-group-context":"",onChange:e.onCheckboxChange},null,8,["disabled","model-value","indeterminate","onChange"])):We("v-if",!0),We(" 内容 "),De("span",{ref:"refTitle",class:Z(e.titleClassNames),draggable:e.draggable,onDragstart:o[0]||(o[0]=(...$)=>e.onDragStart&&e.onDragStart(...$)),onDragend:o[1]||(o[1]=(...$)=>e.onDragEnd&&e.onDragEnd(...$)),onDragover:o[2]||(o[2]=(...$)=>e.onDragOver&&e.onDragOver(...$)),onDragleave:o[3]||(o[3]=(...$)=>e.onDragLeave&&e.onDragLeave(...$)),onDrop:o[4]||(o[4]=(...$)=>e.onDrop&&e.onDrop(...$)),onClick:o[5]||(o[5]=(...$)=>e.onTitleClick&&e.onTitleClick(...$))},[e.$slots.icon||e.icon||e.treeNodeIcon?(W(),fe("span",{key:0,class:Z([`${e.prefixCls}-icon`,`${e.prefixCls}-custom-icon`])},[We(" 节点图标 "),e.$slots.icon?Ue(e.$slots,"icon",ao(lt({key:0},e.nodeStatus))):e.icon?(W(),Ze(p,lt({key:1,"render-func":e.icon},e.nodeStatus),null,16,["render-func"])):e.treeNodeIcon?(W(),Ze(p,lt({key:2,"render-func":e.treeNodeIcon,node:e.treeNodeData},e.nodeStatus),null,16,["render-func","node"])):We("v-if",!0)],2)):We("v-if",!0),De("span",{class:Z(`${e.prefixCls}-title-text`)},[e.treeTitle?(W(),Ze(p,{key:0,"render-func":e.treeTitle},null,8,["render-func"])):(W(),fe(Lt,{key:1},[We(" 标题，treeTitle 优先级高于节点的 title "),Ue(e.$slots,"title",{},()=>[Dt(Mt(e.title),1)])],2112)),e.draggable?(W(),fe("span",{key:2,class:Z([`${e.prefixCls}-icon`,`${e.prefixCls}-drag-icon`])},[We(" 拖拽图标 "),e.$slots["drag-icon"]?Ue(e.$slots,"drag-icon",ao(lt({key:0},e.nodeStatus))):e.dragIcon?(W(),Ze(p,lt({key:1,"render-func":e.dragIcon},e.nodeStatus),null,16,["render-func"])):e.treeDragIcon?(W(),Ze(p,lt({key:2,"render-func":e.treeDragIcon,node:e.treeNodeData},e.nodeStatus),null,16,["render-func","node"])):(W(),Ze(m,{key:3}))],2)):We("v-if",!0)],2)],42,vZ),We(" 额外 "),e.extra?(W(),Ze(p,{key:1,"render-func":e.extra},null,8,["render-func"])):We("v-if",!0)],10,$Z)}var GC=ot(mZ,[["render",_Z]]);const bZ=Ae({name:"ExpandTransition",props:{expanded:Boolean},emits:["end"],setup(e,{emit:o}){return{onBeforeEnter(n){n.style.height=e.expanded?"0":`${n.scrollHeight}px`},onEnter(n){n.style.height=e.expanded?`${n.scrollHeight}px`:"0"},onAfterEnter(n){n.style.height=e.expanded?"":"0",o("end")},onBeforeLeave(n){n.style.display="none"}}}});function TZ(e,o,n,i,l,u){return W(),Ze(Hr,{onBeforeEnter:e.onBeforeEnter,onEnter:e.onEnter,onAfterEnter:e.onAfterEnter,onBeforeLeave:e.onBeforeLeave},{default:Je(()=>[Ue(e.$slots,"default")]),_:3},8,["onBeforeEnter","onEnter","onAfterEnter","onBeforeLeave"])}var yZ=ot(bZ,[["render",TZ]]);const EZ=Ae({name:"TransitionNodeList",components:{ExpandTransition:yZ,BaseTreeNode:GC},props:{nodeKey:{type:[String,Number],required:!0}},setup(e){const n=[`${Ge("tree")}-node-list`],i=A1(),{nodeKey:l}=mt(e),u=O(()=>{var p,m;return(m=(p=i.expandedKeys)==null?void 0:p.includes)==null?void 0:m.call(p,l.value)}),a=O(()=>{var p;const m=new Set(i.expandedKeys||[]),$=(p=i.flattenTreeData)==null?void 0:p.filter(T=>{var w,A;return(w=T.pathParentKeys)!=null&&w.includes(l.value)?!i.filterTreeNode||((A=i.filterTreeNode)==null?void 0:A.call(i,T.treeNodeData)):!1});return $==null?void 0:$.filter(T=>{var w;if(u.value)return(w=T.pathParentKeys)==null?void 0:w.every(R=>m.has(R));const A=T.pathParentKeys.indexOf(l.value);return T.pathParentKeys.slice(A+1).every(R=>m.has(R))})}),h=O(()=>{var p,m;return((p=i.currentExpandKeys)==null?void 0:p.includes(l.value))&&((m=a.value)==null?void 0:m.length)});return{classNames:n,visibleNodeList:a,show:h,expanded:u,onTransitionEnd(){var p;(p=i.onExpandEnd)==null||p.call(i,l.value)}}}});function CZ(e,o,n,i,l,u){const a=Pe("BaseTreeNode"),h=Pe("ExpandTransition");return W(),Ze(h,{expanded:e.expanded,onEnd:e.onTransitionEnd},{default:Je(()=>[e.show?(W(),fe("div",{key:0,class:Z(e.classNames)},[(W(!0),fe(Lt,null,Ko(e.visibleNodeList,p=>(W(),Ze(a,lt({key:p.key},p.treeNodeProps),null,16))),128))],2)):We("v-if",!0)]),_:1},8,["expanded","onEnd"])}var IZ=ot(EZ,[["render",CZ]]),SZ=Object.defineProperty,Uw=Object.getOwnPropertySymbols,OZ=Object.prototype.hasOwnProperty,kZ=Object.prototype.propertyIsEnumerable,Hw=(e,o,n)=>o in e?SZ(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,wZ=(e,o)=>{for(var n in o||(o={}))OZ.call(o,n)&&Hw(e,n,o[n]);if(Uw)for(var n of Uw(o))kZ.call(o,n)&&Hw(e,n,o[n]);return e},NZ=Ae({name:"TreeNode",inheritAttrs:!1,props:wZ({},GC.props),setup(e,{slots:o,attrs:n}){const i=KL();return()=>_(Lt,null,[_(GC,lt(e,n,{key:i.value}),o),_(IZ,{key:i.value,nodeKey:i.value},null)])}});function AZ(e){const{defaultCheckedKeys:o,checkedKeys:n,key2TreeNode:i,checkStrictly:l,halfCheckedKeys:u,onlyCheckLeaf:a}=mt(e),h=ve(!1),p=ve([]),m=ve([]),$=ve(),T=ve(),w=R=>Zq({initCheckedKeys:R,key2TreeNode:i.value,checkStrictly:l.value,onlyCheckLeaf:a.value}),A=R=>{const L=w(R);[p.value,m.value]=L};return A(n.value||(o==null?void 0:o.value)||[]),Cr(()=>{n.value?[$.value,T.value]=w(n.value):h.value&&($.value=void 0,T.value=void 0,p.value=[],m.value=[]),h.value||(h.value=!0)}),{checkedKeys:O(()=>$.value||p.value),indeterminateKeys:O(()=>l.value&&u.value?u.value:T.value||m.value),setCheckedState(R,L,M=!1){return M?A(R):(p.value=R,m.value=L),[p.value,m.value]}}}function YL(e){const{treeData:o,fieldNames:n,selectable:i,showLine:l,blockNode:u,checkable:a,loadMore:h,draggable:p}=mt(e),m=ve([]);Cr(()=>{var w,A;m.value=pZ(o.value||[],{selectable:(w=i==null?void 0:i.value)!=null?w:!1,showLine:!!(l!=null&&l.value),blockNode:!!(u!=null&&u.value),checkable:(A=a==null?void 0:a.value)!=null?A:!1,fieldNames:n==null?void 0:n.value,loadMore:!!(h!=null&&h.value),draggable:!!(p!=null&&p.value)})});const $=O(()=>Yq(m.value)),T=O(()=>Qq($.value));return{treeData:m,flattenTreeData:$,key2TreeNode:T}}const RZ=Ae({name:"Tree",components:{VirtualList:dv,TreeNode:NZ},props:{size:{type:String,default:"medium"},blockNode:{type:Boolean},defaultExpandAll:{type:Boolean,default:!0},multiple:{type:Boolean},checkable:{type:[Boolean,String,Function],default:!1},selectable:{type:[Boolean,Function],default:!0},checkStrictly:{type:Boolean},checkedStrategy:{type:String,default:"all"},defaultSelectedKeys:{type:Array},selectedKeys:{type:Array},defaultCheckedKeys:{type:Array},checkedKeys:{type:Array},defaultExpandedKeys:{type:Array},expandedKeys:{type:Array},data:{type:Array,default:()=>[]},fieldNames:{type:Object},showLine:{type:Boolean},loadMore:{type:Function},draggable:{type:Boolean},allowDrop:{type:Function},filterTreeNode:{type:Function},searchValue:{type:String,default:""},virtualListProps:{type:Object},defaultExpandSelected:{type:Boolean},defaultExpandChecked:{type:Boolean},autoExpandParent:{type:Boolean,default:!0},halfCheckedKeys:{type:Array},onlyCheckLeaf:{type:Boolean,default:!1},animation:{type:Boolean,default:!0},actionOnNodeClick:{type:String},disableSelectActionOnly:{type:Boolean,default:!1}},emits:{select:(e,o)=>!0,"update:selectedKeys":e=>!0,check:(e,o)=>!0,"update:checkedKeys":e=>!0,"update:halfCheckedKeys":e=>!0,expand:(e,o)=>!0,"update:expandedKeys":e=>!0,dragStart:(e,o)=>!0,dragEnd:(e,o)=>!0,dragOver:(e,o)=>!0,dragLeave:(e,o)=>!0,drop:e=>!0},setup(e,{emit:o,slots:n}){const{data:i,showLine:l,multiple:u,loadMore:a,checkStrictly:h,checkedKeys:p,defaultCheckedKeys:m,selectedKeys:$,defaultSelectedKeys:T,expandedKeys:w,defaultExpandedKeys:A,checkedStrategy:R,selectable:L,checkable:M,blockNode:B,fieldNames:G,size:j,defaultExpandAll:F,filterTreeNode:x,draggable:D,allowDrop:U,defaultExpandSelected:te,defaultExpandChecked:Y,autoExpandParent:J,halfCheckedKeys:ee,onlyCheckLeaf:ue,animation:oe}=mt(e),X=Ge("tree"),K=O(()=>[`${X}`,{[`${X}-checkable`]:M.value,[`${X}-show-line`]:l.value},`${X}-size-${j.value}`]),q=wl(n,"switcher-icon"),z=wl(n,"loading-icon"),ne=wl(n,"drag-icon"),ge=wl(n,"icon"),Q=wl(n,"title"),Oe=wl(n,"extra"),{treeData:Re,flattenTreeData:_e,key2TreeNode:se}=YL(ft({treeData:i,selectable:L,showLine:l,blockNode:B,checkable:M,fieldNames:G,loadMore:a,draggable:D})),{checkedKeys:ke,indeterminateKeys:Be,setCheckedState:et}=AZ(ft({defaultCheckedKeys:m,checkedKeys:p,checkStrictly:h,key2TreeNode:se,halfCheckedKeys:ee,onlyCheckLeaf:ue})),[ut,dt]=kr((T==null?void 0:T.value)||[],ft({value:$})),gt=ve([]),we=ve();function le(){if(A!=null&&A.value){const Te=new Set([]);return A.value.forEach(Ve=>{if(Te.has(Ve))return;const tt=se.value.get(Ve);tt&&[...J.value?tt.pathParentKeys:[],Ve].forEach(Et=>Te.add(Et))}),[...Te]}if(F.value)return _e.value.filter(Te=>Te.children&&Te.children.length).map(Te=>Te.key);if(te.value||Y.value){const Te=new Set([]),Ve=tt=>{tt.forEach(Et=>{const St=se.value.get(Et);St&&(St.pathParentKeys||[]).forEach(Bt=>Te.add(Bt))})};return te.value&&Ve(ut.value),Y.value&&Ve(ke.value),[...Te]}return[]}const[ce,re]=kr(le(),ft({value:w})),Me=ve([]),Ne=O(()=>{const Te=new Set(ce.value),Ve=new Set(Me.value);return _e.value.filter(tt=>{var Et;if(!(!x||!x.value||(x==null?void 0:x.value(tt.treeNodeData))))return!1;const Bt=Gt(tt.parentKey),qt=(Et=tt.pathParentKeys)==null?void 0:Et.every(sn=>Te.has(sn)&&!Ve.has(sn));return Bt||qt})});function $e(Te,Ve=R.value){let tt=[...Te];return Ve==="parent"?tt=Te.filter(Et=>{const St=se.value.get(Et);return St&&!(!Gt(St.parentKey)&&Te.includes(St.parentKey))}):Ve==="child"&&(tt=Te.filter(Et=>{var St,Bt;return!((Bt=(St=se.value.get(Et))==null?void 0:St.children)!=null&&Bt.length)})),tt}function Fe(Te){return Te.map(Ve=>{var tt;return((tt=se.value.get(Ve))==null?void 0:tt.treeNodeData)||void 0}).filter(Boolean)}function Le(Te){const{targetKey:Ve,targetChecked:tt,newCheckedKeys:Et,newIndeterminateKeys:St,event:Bt}=Te,qt=Ve?se.value.get(Ve):void 0,sn=$e(Et);o("update:checkedKeys",sn),o("update:halfCheckedKeys",St),o("check",sn,{checked:tt,node:qt==null?void 0:qt.treeNodeData,checkedNodes:Fe(sn),halfCheckedKeys:St,halfCheckedNodes:Fe(St),e:Bt})}function qe(Te){const{targetKey:Ve,targetSelected:tt,newSelectedKeys:Et,event:St}=Te,Bt=Ve?se.value.get(Ve):void 0;o("update:selectedKeys",Et),o("select",Et,{selected:tt,node:Bt==null?void 0:Bt.treeNodeData,selectedNodes:Fe(Et),e:St})}function Xe(Te){const{targetKey:Ve,targetExpanded:tt,newExpandedKeys:Et,event:St}=Te,Bt=Ve?se.value.get(Ve):void 0;o("expand",Et,{expanded:tt,node:Bt==null?void 0:Bt.treeNodeData,expandedNodes:Fe(Et),e:St}),o("update:expandedKeys",Et)}function at(Te){const[Ve,tt]=et(Te,[],!0);Le({newCheckedKeys:Ve,newIndeterminateKeys:tt})}function Ee(Te){let Ve=Te;!u.value&&Te.length>1&&(Ve=[Te[0]]),dt(Ve),qe({newSelectedKeys:Ve})}function Ie(Te){Me.value=[],re(Te),Xe({newExpandedKeys:Te})}function he(Te,Ve,tt){if(!Te.length)return;let Et=[...ke.value],St=[...Be.value];Te.forEach(Bt=>{const qt=se.value.get(Bt);qt&&([Et,St]=UC({node:qt,checked:Ve,checkedKeys:[...Et],indeterminateKeys:[...St],checkStrictly:h.value}))}),et(Et,St),Le({targetKey:tt,targetChecked:Gt(tt)?void 0:Ve,newCheckedKeys:Et,newIndeterminateKeys:St})}function me(Te,Ve,tt){if(!Te.length)return;let Et;if(u.value){const St=new Set(ut.value);Te.forEach(Bt=>{Ve?St.add(Bt):St.delete(Bt)}),Et=[...St]}else Et=Ve?[Te[0]]:[];dt(Et),qe({targetKey:tt,targetSelected:Gt(tt)?void 0:Ve,newSelectedKeys:Et})}function Se(Te,Ve,tt){const Et=new Set(ce.value);Te.forEach(Bt=>{Ve?Et.add(Bt):Et.delete(Bt),k(Bt)});const St=[...Et];re(St),Xe({targetKey:tt,targetExpanded:Gt(tt)?void 0:Ve,newExpandedKeys:St})}function xe(Te,Ve,tt){const Et=se.value.get(Ve);if(!Et)return;const[St,Bt]=UC({node:Et,checked:Te,checkedKeys:ke.value,indeterminateKeys:Be.value,checkStrictly:h.value});et(St,Bt),Le({targetKey:Ve,targetChecked:Te,newCheckedKeys:St,newIndeterminateKeys:Bt,event:tt})}function Ke(Te,Ve){if(!se.value.get(Te))return;let Et,St;if(u.value){const Bt=new Set(ut.value);St=!Bt.has(Te),St?Bt.add(Te):Bt.delete(Te),Et=[...Bt]}else St=!0,Et=[Te];dt(Et),qe({targetKey:Te,targetSelected:St,newSelectedKeys:Et,event:Ve})}function C(Te,Ve,tt){if(Me.value.includes(Ve)||!se.value.get(Ve))return;const St=new Set(ce.value);Te?St.add(Ve):St.delete(Ve);const Bt=[...St];re(Bt),oe.value&&Me.value.push(Ve),Xe({targetKey:Ve,targetExpanded:Te,newExpandedKeys:Bt,event:tt})}function k(Te){const Ve=Me.value.indexOf(Te);Me.value.splice(Ve,1)}const de=O(()=>a!=null&&a.value?async Te=>{if(!Ut(a.value))return;const Ve=se.value.get(Te);if(!Ve)return;const{treeNodeData:tt}=Ve;gt.value=[...new Set([...gt.value,Te])];try{await a.value(tt),gt.value=gt.value.filter(Et=>Et!==Te),C(!0,Te),ke.value.includes(Te)&&xe(!0,Te)}catch(Et){gt.value=gt.value.filter(St=>St!==Te),console.error("[tree]load data error: ",Et)}}:void 0),Ce=ft({treeProps:e,switcherIcon:q,loadingIcon:z,dragIcon:ne,nodeIcon:ge,nodeTitle:Q,nodeExtra:Oe,treeData:Re,flattenTreeData:_e,key2TreeNode:se,checkedKeys:ke,indeterminateKeys:Be,selectedKeys:ut,expandedKeys:ce,loadingKeys:gt,currentExpandKeys:Me,onLoadMore:de,filterTreeNode:x,onCheck:xe,onSelect:Ke,onExpand:C,onExpandEnd:k,allowDrop(Te,Ve){const tt=se.value.get(Te);return tt&&Ut(U.value)?!!U.value({dropNode:tt.treeNodeData,dropPosition:Ve}):!0},onDragStart(Te,Ve){const tt=se.value.get(Te);we.value=tt,tt&&o("dragStart",Ve,tt.treeNodeData)},onDragEnd(Te,Ve){const tt=se.value.get(Te);we.value=void 0,tt&&o("dragEnd",Ve,tt.treeNodeData)},onDragOver(Te,Ve){const tt=se.value.get(Te);tt&&o("dragOver",Ve,tt.treeNodeData)},onDragLeave(Te,Ve){const tt=se.value.get(Te);tt&&o("dragLeave",Ve,tt.treeNodeData)},onDrop(Te,Ve,tt){const Et=se.value.get(Te);we.value&&Et&&!(Et.key===we.value.key||Et.pathParentKeys.includes(we.value.key||""))&&o("drop",{e:tt,dragNode:we.value.treeNodeData,dropNode:Et.treeNodeData,dropPosition:Ve})}});return Ln(zL,Ce),{classNames:K,visibleTreeNodeList:Ne,treeContext:Ce,virtualListRef:ve(),computedSelectedKeys:ut,computedExpandedKeys:ce,computedCheckedKeys:ke,computedIndeterminateKeys:Be,getPublicCheckedKeys:$e,getNodes:Fe,internalCheckNodes:he,internalSetCheckedKeys:at,internalSelectNodes:me,internalSetSelectedKeys:Ee,internalExpandNodes:Se,internalSetExpandedKeys:Ie}},methods:{toggleCheck(e,o){const{key2TreeNode:n,onCheck:i,checkedKeys:l}=this.treeContext,u=!l.includes(e),a=n.get(e);a&&Bh(a)&&i(u,e,o)},scrollIntoView(e){this.virtualListRef&&this.virtualListRef.scrollTo(e)},getSelectedNodes(){return this.getNodes(this.computedSelectedKeys)},getCheckedNodes(e={}){const{checkedStrategy:o,includeHalfChecked:n}=e,i=this.getPublicCheckedKeys(this.computedCheckedKeys,o);return[...this.getNodes(i),...n?this.getHalfCheckedNodes():[]]},getHalfCheckedNodes(){return this.getNodes(this.computedIndeterminateKeys)},getExpandedNodes(){return this.getNodes(this.computedExpandedKeys)},checkAll(e=!0){const{key2TreeNode:o}=this.treeContext,n=e?[...o.keys()].filter(i=>{const l=o.get(i);return l&&Bh(l)}):[];this.internalSetCheckedKeys(n)},checkNode(e,o=!0,n=!1){const{checkStrictly:i,treeContext:l}=this,{key2TreeNode:u}=l,a=nn(e),h=(a?e:[e]).filter(p=>{const m=u.get(p);return m&&Bh(m)&&(i||!n||qq(m))});this.internalCheckNodes(h,o,a?void 0:e)},selectAll(e=!0){const{key2TreeNode:o}=this.treeContext,n=e?[...o.keys()].filter(i=>{const l=o.get(i);return l&&BC(l)}):[];this.internalSetSelectedKeys(n)},selectNode(e,o=!0){const{key2TreeNode:n}=this.treeContext,i=nn(e),l=(i?e:[e]).filter(u=>{const a=n.get(u);return a&&BC(a)});this.internalSelectNodes(l,o,i?void 0:e)},expandAll(e=!0){const{key2TreeNode:o}=this.treeContext,n=e?[...o.keys()].filter(i=>{const l=o.get(i);return l&&Dw(l)}):[];this.internalSetExpandedKeys(n)},expandNode(e,o=!0){const{key2TreeNode:n}=this.treeContext,i=nn(e),l=(i?e:[e]).filter(u=>{const a=n.get(u);return a&&Dw(a)});this.internalExpandNodes(l,o,i?void 0:e)}}});function LZ(e,o,n,i,l,u){const a=Pe("TreeNode"),h=Pe("VirtualList");return W(),fe("div",{class:Z(e.classNames)},[e.virtualListProps?(W(),Ze(h,lt({key:0,ref:"virtualListRef"},e.virtualListProps,{data:e.visibleTreeNodeList}),{item:Je(({item:p})=>[_(a,lt({key:`${e.searchValue}-${p.key}`},p.treeNodeProps),null,16)]),_:1},16,["data"])):(W(!0),fe(Lt,{key:1},Ko(e.visibleTreeNodeList,p=>(W(),Ze(a,lt({key:p.key},p.treeNodeProps),null,16))),128))],2)}var FE=ot(RZ,[["render",LZ]]);const zC=Object.assign(FE,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+FE.name,FE)}}),MZ=Ae({name:"Typography",setup(){return{classNames:[Ge("typography")]}}});function PZ(e,o,n,i,l,u){return W(),fe("article",{class:Z(e.classNames)},[Ue(e.$slots,"default")],2)}var VE=ot(MZ,[["render",PZ]]);const DZ=Ae({name:"TypographyEditContent",components:{Input:Xh},props:{text:{type:String,required:!0}},emits:["change","end","update:text"],setup(e,{emit:o}){const i=[`${Ge("typography")}-edit-content`],l=ve();function u(h){o("update:text",h),o("change",h)}function a(){o("end")}return fn(()=>{if(!l.value||!l.value.$el)return;const h=l.value.$el.querySelector("input");if(!h)return;h.focus&&h.focus();const{length:p}=h.value;h.setSelectionRange(p,p)}),{classNames:i,inputRef:l,onBlur:a,onChange:u,onEnd:a}}});function xZ(e,o,n,i,l,u){const a=Pe("Input");return W(),fe("div",{class:Z(e.classNames)},[_(a,{ref:"inputRef","auto-size":"","model-value":e.text,onBlur:e.onBlur,onInput:e.onChange,onKeydown:zf(e.onEnd,["enter"])},null,8,["model-value","onBlur","onInput","onKeydown"])],2)}var BZ=ot(DZ,[["render",xZ]]);const FZ=Ae({name:"IconCopy",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-copy`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),VZ=["stroke-width","stroke-linecap","stroke-linejoin"],UZ=De("path",{d:"M20 6h18a2 2 0 0 1 2 2v22M8 16v24c0 1.105.891 2 1.996 2h20.007A1.99 1.99 0 0 0 32 40.008V15.997A1.997 1.997 0 0 0 30 14H10a2 2 0 0 0-2 2Z"},null,-1),HZ=[UZ];function GZ(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},HZ,14,VZ)}var UE=ot(FZ,[["render",GZ]]);const zZ=Object.assign(UE,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+UE.name,UE)}}),WZ=Ae({name:"IconEdit",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-edit`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),jZ=["stroke-width","stroke-linecap","stroke-linejoin"],XZ=De("path",{d:"m30.48 19.038 5.733-5.734a1 1 0 0 0 0-1.414l-5.586-5.586a1 1 0 0 0-1.414 0l-5.734 5.734m7 7L15.763 33.754a1 1 0 0 1-.59.286l-6.048.708a1 1 0 0 1-1.113-1.069l.477-6.31a1 1 0 0 1 .29-.631l14.7-14.7m7 7-7-7M6 42h36"},null,-1),KZ=[XZ];function YZ(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},KZ,14,jZ)}var HE=ot(WZ,[["render",YZ]]);const QZ=Object.assign(HE,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+HE.name,HE)}}),qZ=Ae({name:"TypographyOperations",components:{Tooltip:el,IconCheckCircleFill:Wh,IconCopy:zZ,IconEdit:QZ},props:{editable:Boolean,copyable:Boolean,expandable:Boolean,isCopied:Boolean,isEllipsis:Boolean,expanded:Boolean,forceRenderExpand:Boolean,editTooltipProps:Object,copyTooltipProps:Object},emits:{edit:()=>!0,copy:()=>!0,expand:()=>!0},setup(e,{emit:o}){const n=Ge("typography"),i=O(()=>e.forceRenderExpand||e.expandable&&e.isEllipsis),{t:l}=Lo();return{prefixCls:n,showExpand:i,t:l,onEditClick(){o("edit")},onCopyClick(){o("copy")},onExpandClick(){o("expand")}}}});function ZZ(e,o,n,i,l,u){const a=Pe("IconEdit"),h=Pe("Tooltip"),p=Pe("IconCheckCircleFill"),m=Pe("IconCopy");return W(),fe(Lt,null,[e.editable?(W(),Ze(h,lt({key:0,content:e.t("typography.edit")},e.editTooltipProps),{default:Je(()=>[De("span",{class:Z(`${e.prefixCls}-operation-edit`),onClick:o[0]||(o[0]=qs((...$)=>e.onEditClick&&e.onEditClick(...$),["stop"]))},[_(a)],2)]),_:1},16,["content"])):We("v-if",!0),e.copyable?(W(),Ze(h,ao(lt({key:1},e.copyTooltipProps)),{content:Je(()=>[Ue(e.$slots,"copy-tooltip",{copied:e.isCopied},()=>[Dt(Mt(e.isCopied?e.t("typography.copied"):e.t("typography.copy")),1)])]),default:Je(()=>[De("span",{class:Z({[`${e.prefixCls}-operation-copied`]:e.isCopied,[`${e.prefixCls}-operation-copy`]:!e.isCopied}),onClick:o[1]||(o[1]=qs((...$)=>e.onCopyClick&&e.onCopyClick(...$),["stop"]))},[Ue(e.$slots,"copy-icon",{copied:e.isCopied},()=>[e.isCopied?(W(),Ze(p,{key:0})):(W(),Ze(m,{key:1}))])],2)]),_:3},16)):We("v-if",!0),e.showExpand?(W(),fe("a",{key:2,class:Z(`${e.prefixCls}-operation-expand`),onClick:o[2]||(o[2]=qs((...$)=>e.onExpandClick&&e.onExpandClick(...$),["stop"]))},[Ue(e.$slots,"expand-node",{expanded:e.expanded},()=>[Dt(Mt(e.expanded?e.t("typography.collapse"):e.t("typography.expand")),1)])],2)):We("v-if",!0)],64)}var Gw=ot(qZ,[["render",ZZ]]);let cr;function JZ(e){return Array.prototype.slice.apply(e).map(n=>`${n}: ${e.getPropertyValue(n)};`).join("")}function GE(e){if(!e)return 0;const o=e.match(/^\d*(\.\d*)?/);return o?Number(o[0]):0}var eJ=(e,o,n,i)=>{cr||(cr=document.createElement("div"),document.body.appendChild(cr));const{rows:l,suffix:u,ellipsisStr:a}=o,h=window.getComputedStyle(e),p=JZ(h),m=GE(h.lineHeight),$=Math.round(m*l+GE(h.paddingTop)+GE(h.paddingBottom));cr.setAttribute("style",p),cr.setAttribute("aria-hidden","true"),cr.style.height="auto",cr.style.minHeight="auto",cr.style.maxHeight="auto",cr.style.position="fixed",cr.style.left="0",cr.style.top="-99999999px",cr.style.zIndex="-200",cr.style.whiteSpace="normal";const T=bI({render(){return _("span",null,[n])}});T.mount(cr);const w=Array.prototype.slice.apply(cr.childNodes[0].cloneNode(!0).childNodes);T.unmount(),cr.innerHTML="";const A=document.createTextNode(`${a}${u}`);cr.appendChild(A),w.forEach(B=>{cr.appendChild(B)});const R=document.createTextNode(i);cr.insertBefore(R,A);function L(){return cr.offsetHeight<=$}if(L())return{ellipsis:!1,text:i};function M(B,G=0,j=i.length,F=0){const x=Math.floor((G+j)/2),D=i.slice(0,x);if(B.textContent=D,G>=j-1)for(let U=j;U>=G;U-=1){const te=i.slice(0,U);if(B.textContent=te,L()||!te)return}L()?M(B,x,j,x):M(B,G,x,F)}return M(R),{text:R.textContent,ellipsis:!0}};const tJ=async e=>{var o;if((o=navigator.clipboard)!=null&&o.writeText)try{await navigator.clipboard.writeText(e);return}catch(u){console.error(u??new DOMException("The request is not allowed","NotAllowedError"))}const n=document.createElement("span");n.textContent=e,n.style.whiteSpace="pre",document.body.appendChild(n);const i=window.getSelection(),l=window.document.createRange();i==null||i.removeAllRanges(),l.selectNode(n),i==null||i.addRange(l);try{window.document.execCommand("copy")}catch(u){console.error(`execCommand Error: ${u}`)}i==null||i.removeAllRanges(),window.document.body.removeChild(n)};let Hf;function nJ(e){if(!e)return"";Hf||(Hf=document.createElement("div"),Hf.setAttribute("aria-hidden","true"),document.body.appendChild(Hf));const o=bI({render(){return _("div",null,[e])}});o.mount(Hf);const n=Hf.innerText;return o.unmount(),n}var oJ=Object.defineProperty,rJ=Object.defineProperties,iJ=Object.getOwnPropertyDescriptors,zw=Object.getOwnPropertySymbols,sJ=Object.prototype.hasOwnProperty,lJ=Object.prototype.propertyIsEnumerable,Ww=(e,o,n)=>o in e?oJ(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,aJ=(e,o)=>{for(var n in o||(o={}))sJ.call(o,n)&&Ww(e,n,o[n]);if(zw)for(var n of zw(o))lJ.call(o,n)&&Ww(e,n,o[n]);return e},uJ=(e,o)=>rJ(e,iJ(o));function QL(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!vo(e)}function cJ(e){const{bold:o,mark:n,underline:i,delete:l,code:u}=e,a=[];return o&&a.push("b"),i&&a.push("u"),l&&a.push("del"),u&&a.push("code"),n&&a.push("mark"),a}function jw(e,o){const{mark:n}=e,i=cJ(e),l=cn(n)&&n.color?{backgroundColor:n.color}:{};return i.reduce((u,a)=>_(a,a==="mark"?{style:l}:{},QL(u)?u:{default:()=>[u]}),o)}function dJ(e){const o=!!e.showTooltip,n=cn(e.showTooltip)&&e.showTooltip.type==="popover"?RI:el,i=cn(e.showTooltip)&&e.showTooltip.props||{};return uJ(aJ({rows:1,suffix:"",ellipsisStr:"...",expandable:!1,css:!1},Sr(e,["showTooltip"])),{showTooltip:o,TooltipComponent:n,tooltipProps:i})}var dS=Ae({name:"TypographyBase",inheritAttrs:!1,props:{component:{type:String,required:!0},type:{type:String},bold:{type:Boolean},mark:{type:[Boolean,Object],default:!1},underline:{type:Boolean},delete:{type:Boolean},code:{type:Boolean},disabled:{type:Boolean},editable:{type:Boolean},editing:{type:Boolean,default:void 0},defaultEditing:{type:Boolean},editText:{type:String},copyable:{type:Boolean},copyText:{type:String},copyDelay:{type:Number,default:3e3},ellipsis:{type:[Boolean,Object],default:!1},editTooltipProps:{type:Object},copyTooltipProps:{type:Object}},emits:{editStart:()=>!0,change:e=>!0,"update:editText":e=>!0,editEnd:()=>!0,"update:editing":e=>!0,copy:e=>!0,ellipsis:e=>!0,expand:e=>!0},setup(e,{slots:o,emit:n,attrs:i}){const{editing:l,defaultEditing:u,ellipsis:a,copyable:h,editable:p,copyText:m,editText:$,copyDelay:T,component:w}=mt(e),A=Ge("typography"),R=O(()=>[A,{[`${A}-${e.type}`]:e.type,[`${A}-disabled`]:e.disabled}]),L=ve(),M=ve(""),[B,G]=kr(u.value,ft({value:l})),j=O(()=>p.value&&B.value);function F(){n("update:editing",!0),n("editStart"),G(!0)}function x(ke){n("update:editText",ke),n("change",ke)}function D(){B.value&&(n("update:editing",!1),n("editEnd"),G(!1))}const U=ve(!1);let te=null;function Y(){var ke;const Be=(ke=m.value)!=null?ke:M.value;tJ(Be||""),U.value=!0,n("copy",Be),te=setTimeout(()=>{U.value=!1},T.value)}Ir(()=>{te&&clearTimeout(te),te=null});const J=ve(!1),ee=ve(!1),ue=ve(""),oe=O(()=>dJ(cn(a.value)&&a.value||{}));let X=null;function K(){const ke=!ee.value;ee.value=ke,n("expand",ke)}function q(ke=!1){return oe.value.css?_(Gw,{editable:p.value,copyable:h.value,expandable:oe.value.expandable,isCopied:U.value,isEllipsis:Re.value,expanded:ee.value,forceRenderExpand:ke||ee.value,editTooltipProps:e.editTooltipProps,copyTooltipProps:e.copyTooltipProps,onEdit:F,onCopy:Y,onExpand:K},{"copy-tooltip":o["copy-tooltip"],"copy-icon":o["copy-icon"],"expand-node":o["expand-node"]}):_(Gw,{editable:p.value,copyable:h.value,expandable:oe.value.expandable,isCopied:U.value,isEllipsis:J.value,expanded:ee.value,forceRenderExpand:ke,editTooltipProps:e.editTooltipProps,copyTooltipProps:e.copyTooltipProps,onEdit:F,onCopy:Y,onExpand:K},{"copy-tooltip":o["copy-tooltip"],"copy-icon":o["copy-icon"],"expand-node":o["expand-node"]})}function z(){if(!L.value)return;const{ellipsis:ke,text:Be}=eJ(L.value,oe.value,q(!!oe.value.expandable),M.value);J.value!==ke&&(J.value=ke,oe.value.css||n("ellipsis",ke)),ue.value!==Be&&(ue.value=Be||"")}function ne(){a.value&&!ee.value&&(Nb(X),X=HA(()=>{z()}))}Ir(()=>{Nb(X)}),At(()=>oe.value.rows,()=>{ne()}),At(a,ke=>{ke?ne():J.value=!1});let ge=[];const Q=()=>{if(a.value||h.value||p.value){const ke=nJ(ge);ke!==M.value&&(M.value=ke,ne())}};fn(Q),$i(Q);const Oe=ve(),Re=ve(!1),_e=()=>{if(L.value&&Oe.value){const ke=Oe.value.offsetHeight>L.value.offsetHeight;ke!==Re.value&&(Re.value=ke,n("ellipsis",ke))}},se=O(()=>ee.value?{}:{overflow:"hidden","text-overflow":"ellipsis",display:"-webkit-box","-webkit-line-clamp":oe.value.rows,"-webkit-box-orient":"vertical"});return()=>{var ke,Be;if(ge=((ke=o.default)==null?void 0:ke.call(o))||[],j.value){const Ne=(Be=$.value)!=null?Be:M.value;return _(BZ,{text:Ne,onChange:$e=>{$e!==Ne&&x($e)},onEnd:D},null)}const{suffix:et,ellipsisStr:ut,showTooltip:dt,tooltipProps:gt,TooltipComponent:we}=oe.value,le=J.value&&!ee.value,ce=le&&!dt?{title:M.value}:{},re=w.value;if(oe.value.css){const Ne=jw(e,ge),$e=_(re,lt({class:R.value,ref:L,style:se.value},ce,i),{default:()=>[_("span",{ref:Oe},[Ne])]});return Re.value?_(we,lt(gt,{onResize:()=>_e()}),{default:()=>[$e],content:()=>M.value}):_(Pl,{onResize:()=>{_e()}},QL($e)?$e:{default:()=>[$e]})}const Me=jw(e,le?ue.value:ge);return _(Pl,{onResize:()=>ne()},{default:()=>[_(re,lt({class:R.value,ref:L},ce,i),{default:()=>[le&&dt?_(we,gt,{default:()=>[_("span",null,[Me])],content:()=>M.value}):Me,le?ut:null,et,q()]})]})}}}),vb=Ae({name:"TypographyParagraph",inheritAttrs:!1,props:{blockquote:{type:Boolean},spacing:{type:String,default:"default"}},setup(e){const{blockquote:o,spacing:n}=mt(e),i=Ge("typography"),l=O(()=>o!=null&&o.value?"blockquote":"div"),u=O(()=>[{[`${i}-spacing-close`]:(n==null?void 0:n.value)==="close"}]);return{component:l,classNames:u}},render(){const{component:e,classNames:o}=this;return _(dS,lt({class:o},this.$attrs,{component:e}),this.$slots)}}),_b=Ae({name:"TypographyTitle",inheritAttrs:!1,props:{heading:{type:Number,default:1}},setup(e){const{heading:o}=mt(e);return{component:O(()=>`h${o==null?void 0:o.value}`)}},render(){const{component:e}=this;return _(dS,lt(this.$attrs,{component:e}),this.$slots)}}),bb=Ae({name:"TypographyText",inheritAttrs:!1,props:{ellipsis:{type:[Boolean,Object],default:!1}},setup(e){const{ellipsis:o}=mt(e);return{component:O(()=>o!=null&&o.value?"div":"span")}},render(){const{ellipsis:e,component:o}=this;return _(dS,lt(this.$attrs,{ellipsis:e,component:o}),this.$slots)}});const hJ=Object.assign(VE,{Paragraph:vb,Title:_b,Text:bb,install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+VE.name,VE),e.component(n+vb.name,vb),e.component(n+_b.name,_b),e.component(n+bb.name,bb)}}),Xw=e=>{const o=e.responseText||e.response;if(!o)return;const n=e.getResponseHeader("Content-Type");if(n&&n.includes("json"))try{return JSON.parse(o)}catch{return o}return o},pJ=e=>{switch(e){case"done":return"success";case"error":return"danger";default:return"normal"}},Kw=(e,o)=>Ut(e)?e(o):e,fJ=({fileItem:e,action:o,name:n,data:i,headers:l={},withCredentials:u=!1,onProgress:a=qf,onSuccess:h=qf,onError:p=qf})=>{const m=Kw(n,e)||"file",$=Kw(i,e),T=new XMLHttpRequest;u&&(T.withCredentials=!0),T.upload.onprogress=A=>{const R=A.total>0?Pi.round(A.loaded/A.total,2):0;a(R,A)},T.onerror=function(R){p(R)},T.onload=()=>{if(T.status<200||T.status>=300){p(Xw(T));return}h(Xw(T))};const w=new FormData;if($)for(const A of Object.keys($))w.append(A,$[A]);e.file&&w.append(m,e.file),T.open("post",o??"",!0);for(const A of Object.keys(l))T.setRequestHeader(A,l[A]);return T.send(w),{abort(){T.abort()}}},qL=(e,o)=>{if(o&&e){const n=nn(o)?o:o.split(",").map(l=>l.trim()).filter(l=>l),i=(e.name.indexOf(".")>-1?`.${e.name.split(".").pop()}`:"").toLowerCase();return n.some(l=>{const u=l&&l.toLowerCase(),a=(e.type||"").toLowerCase(),h=a.split("/")[0];if(u===a||`${h}${i.replace(".","/")}`===u||/^\*(\/\*)?$/.test(u))return!0;if(/\/\*/.test(u))return a.replace(/\/.*$/,"")===u.replace(/\/.*$/,"");if(/\..*/.test(u)){let p=[u];return(u===".jpg"||u===".jpeg")&&(p=[".jpg",".jpeg"]),p.indexOf(i)>-1}return!1})}return!!e},gJ=(e,o,n)=>{const i=[];let l=0;const u=()=>{!l&&n(i)},a=h=>{if(l+=1,h!=null&&h.isFile){h.file(p=>{l-=1,qL(p,o)&&(Object.defineProperty(p,"webkitRelativePath",{value:h.fullPath.replace(/^\//,"")}),i.push(p)),u()});return}if(h!=null&&h.isDirectory){const p=h.createReader();let m=!1;const $=()=>{p.readEntries(T=>{m||(l-=1,m=!0),T.length===0?u():($(),T.forEach(a))})};$();return}l-=1,u()};[].slice.call(e).forEach(h=>h.webkitGetAsEntry&&a(h.webkitGetAsEntry()))},mJ=e=>{var o;return(o=e.type)==null?void 0:o.includes("image")},zE=(e,o)=>{if(!e)return[];const n=Array.from(e);return o?n.filter(i=>qL(i,o)):n},$J=Ae({name:"IconUpload",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-upload`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),vJ=["stroke-width","stroke-linecap","stroke-linejoin"],_J=De("path",{d:"M14.93 17.071 24.001 8l9.071 9.071m-9.07 16.071v-25M40 35v6H8v-6"},null,-1),bJ=[_J];function TJ(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},bJ,14,vJ)}var WE=ot($J,[["render",TJ]]);const hS=Object.assign(WE,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+WE.name,WE)}});var yJ=Ae({name:"UploadButton",props:{disabled:{type:Boolean,default:!1},directory:{type:Boolean,default:!1},accept:String,listType:{type:String},tip:String,draggable:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},uploadFiles:{type:Function,required:!0},hide:Boolean,onButtonClick:{type:Function}},setup(e,{slots:o}){const n=Ge("upload"),{t:i}=Lo(),l=ve(!1),u=ve(null),a=ve(null),h=ve(0),p=M=>{M==="subtract"?h.value-=1:M==="add"?h.value+=1:M==="reset"&&(h.value=0)},m=M=>{if(!e.disabled){if(Ut(e.onButtonClick)){const B=e.onButtonClick(M);if(Vh(B)){B.then(G=>{e.uploadFiles(zE(G))});return}}u.value&&u.value.click()}},$=M=>{const B=M.target;B.files&&e.uploadFiles(zE(B.files)),B.value=""},T=M=>{var B,G;if(M.preventDefault(),l.value=!1,p("reset"),!e.disabled)if(e.directory&&((B=M.dataTransfer)!=null&&B.items))gJ(M.dataTransfer.items,e.accept,j=>{e.uploadFiles(j)});else{const j=zE((G=M.dataTransfer)==null?void 0:G.files,e.accept);e.uploadFiles(e.multiple?j:j.slice(0,1))}},w=M=>{M.preventDefault(),p("subtract"),h.value===0&&(l.value=!1,p("reset"))},A=M=>{M.preventDefault(),!e.disabled&&!l.value&&(l.value=!0)},R=()=>o.default?_("span",null,[o.default()]):e.listType==="picture-card"?_("div",{class:`${n}-picture-card`},[_("div",{class:`${n}-picture-card-text`},[_(ag,null,null)]),e.tip&&_("div",{class:`${n}-tip`},[e.tip])]):e.draggable?_("div",{class:[`${n}-drag`,{[`${n}-drag-active`]:l.value}]},[_("div",null,[_(ag,null,null)]),_("div",{class:`${n}-drag-text`},[l.value?i("upload.dragHover"):i("upload.drag")]),e.tip&&_("div",{class:`${n}-tip`},[e.tip])]):_(mi,{type:"primary",disabled:e.disabled},{default:()=>[i("upload.buttonText")],icon:()=>_(hS,null,null)}),L=O(()=>[n,{[`${n}-type-picture-card`]:e.listType==="picture-card",[`${n}-draggable`]:e.draggable,[`${n}-disabled`]:e.disabled,[`${n}-hide`]:e.hide}]);return()=>_("span",{ref:a,class:L.value,onClick:m,onDragenter:()=>{p("add")},onDrop:T,onDragover:A,onDragleave:w},[_("input",lt({ref:u,type:"file",style:{display:"none"},disabled:e.disabled,accept:e.accept,multiple:e.multiple},e.directory?{webkitdirectory:"webkitdirectory"}:{},{onChange:$}),null),R()])}});const EJ=Ae({name:"IconPause",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-pause`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),CJ=["stroke-width","stroke-linecap","stroke-linejoin"],IJ=De("path",{d:"M14 12h4v24h-4zM30 12h4v24h-4z"},null,-1),SJ=De("path",{fill:"currentColor",stroke:"none",d:"M14 12h4v24h-4zM30 12h4v24h-4z"},null,-1),OJ=[IJ,SJ];function kJ(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},OJ,14,CJ)}var jE=ot(EJ,[["render",kJ]]);const wJ=Object.assign(jE,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+jE.name,jE)}}),NJ=Ae({name:"IconPlayArrowFill",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-play-arrow-fill`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),AJ=["stroke-width","stroke-linecap","stroke-linejoin"],RJ=De("path",{d:"M17.533 10.974a1 1 0 0 0-1.537.844v24.356a1 1 0 0 0 1.537.844L36.67 24.84a1 1 0 0 0 0-1.688L17.533 10.974Z",fill:"currentColor",stroke:"none"},null,-1),LJ=[RJ];function MJ(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},LJ,14,AJ)}var XE=ot(NJ,[["render",MJ]]);const PJ=Object.assign(XE,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+XE.name,XE)}}),R1=Symbol("ArcoUpload");var ZL=Ae({name:"UploadProgress",props:{file:{type:Object,required:!0},listType:{type:String,required:!0}},setup(e){const o=Ge("upload-progress"),{t:n}=Lo(),i=on(R1,void 0),l=()=>{var a,h,p,m,$,T,w,A,R,L,M;return e.file.status==="error"?_("span",{class:[i==null?void 0:i.iconCls,`${i==null?void 0:i.iconCls}-upload`],onClick:()=>i==null?void 0:i.onUpload(e.file)},[i!=null&&i.showRetryButton&&(($=(h=i==null?void 0:(a=i.slots)["retry-icon"])==null?void 0:h.call(a))!=null?$:(m=(p=i==null?void 0:i.customIcon)==null?void 0:p.retryIcon)!=null&&m.call(p))||e.listType==="picture-card"?_(hS,null,null):n("upload.retry")]):e.file.status==="done"?_("span",{class:[i==null?void 0:i.iconCls,`${i==null?void 0:i.iconCls}-success`]},[(M=(L=(w=i==null?void 0:(T=i.slots)["success-icon"])==null?void 0:w.call(T))!=null?L:(R=(A=i==null?void 0:i.customIcon)==null?void 0:A.successIcon)==null?void 0:R.call(A))!=null?M:_(w1,null,null)]):e.file.status==="init"?_(el,{content:n("upload.start")},{default:()=>{var B,G,j,F,x,D;return[_("span",{class:[i==null?void 0:i.iconCls,`${i==null?void 0:i.iconCls}-start`],onClick:()=>i==null?void 0:i.onUpload(e.file)},[(D=(x=(G=i==null?void 0:(B=i.slots)["start-icon"])==null?void 0:G.call(B))!=null?x:(F=(j=i==null?void 0:i.customIcon)==null?void 0:j.startIcon)==null?void 0:F.call(j))!=null?D:_(PJ,null,null)])]}}):(i==null?void 0:i.showCancelButton)&&_(el,{content:n("upload.cancel")},{default:()=>{var B,G,j,F,x,D;return[_("span",{class:[i==null?void 0:i.iconCls,`${i==null?void 0:i.iconCls}-cancel`],onClick:()=>i==null?void 0:i.onAbort(e.file)},[(D=(x=(G=i==null?void 0:(B=i.slots)["cancel-icon"])==null?void 0:G.call(B))!=null?x:(F=(j=i==null?void 0:i.customIcon)==null?void 0:j.cancelIcon)==null?void 0:F.call(j))!=null?D:_(wJ,null,null)])]}})},u=()=>{var a;if(["init","uploading"].includes((a=e.file.status)!=null?a:"")){const h=pJ(e.file.status);return _(NL,{type:"circle",size:"mini",showText:!1,status:h,percent:e.file.percent},null)}return null};return()=>_("span",{class:o},[u(),l()])}});const DJ=Ae({name:"IconFilePdf",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-file-pdf`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),xJ=["stroke-width","stroke-linecap","stroke-linejoin"],BJ=De("path",{d:"M11 42h26a2 2 0 0 0 2-2V13.828a2 2 0 0 0-.586-1.414l-5.828-5.828A2 2 0 0 0 31.172 6H11a2 2 0 0 0-2 2v32a2 2 0 0 0 2 2Z"},null,-1),FJ=De("path",{d:"M22.305 21.028c.874 1.939 3.506 6.265 4.903 8.055 1.747 2.237 3.494 2.685 4.368 2.237.873-.447 1.21-4.548-7.425-2.685-7.523 1.623-7.424 3.58-6.988 4.476.728 1.193 2.522 2.627 5.678-6.266C25.699 18.79 24.489 17 23.277 17c-1.409 0-2.538.805-.972 4.028Z"},null,-1),VJ=[BJ,FJ];function UJ(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},VJ,14,xJ)}var KE=ot(DJ,[["render",UJ]]);const HJ=Object.assign(KE,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+KE.name,KE)}}),GJ=Ae({name:"IconFileImage",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-file-image`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),zJ=["stroke-width","stroke-linecap","stroke-linejoin"],WJ=De("path",{d:"m26 33 5-6v6h-5Zm0 0-3-4-4 4h7Zm11 9H11a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h21l7 7v27a2 2 0 0 1-2 2ZM17 19h1v1h-1v-1Z"},null,-1),jJ=[WJ];function XJ(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},jJ,14,zJ)}var YE=ot(GJ,[["render",XJ]]);const KJ=Object.assign(YE,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+YE.name,YE)}}),YJ=Ae({name:"IconFileVideo",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-file-video`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),QJ=["stroke-width","stroke-linecap","stroke-linejoin"],qJ=De("path",{d:"M37 42H11a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h21l7 7v27a2 2 0 0 1-2 2Z"},null,-1),ZJ=De("path",{d:"M22 27.796v-6l5 3-5 3Z"},null,-1),JJ=[qJ,ZJ];function eee(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},JJ,14,QJ)}var QE=ot(YJ,[["render",eee]]);const tee=Object.assign(QE,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+QE.name,QE)}}),nee=Ae({name:"IconFileAudio",props:{size:{type:[Number,String]},strokeWidth:{type:Number,default:4},strokeLinecap:{type:String,default:"butt",validator:e=>["butt","round","square"].includes(e)},strokeLinejoin:{type:String,default:"miter",validator:e=>["arcs","bevel","miter","miter-clip","round"].includes(e)},rotate:Number,spin:Boolean},emits:{click:e=>!0},setup(e,{emit:o}){const n=Ge("icon"),i=O(()=>[n,`${n}-file-audio`,{[`${n}-spin`]:e.spin}]),l=O(()=>{const a={};return e.size&&(a.fontSize=_t(e.size)?`${e.size}px`:e.size),e.rotate&&(a.transform=`rotate(${e.rotate}deg)`),a});return{cls:i,innerStyle:l,onClick:a=>{o("click",a)}}}}),oee=["stroke-width","stroke-linecap","stroke-linejoin"],ree=De("path",{d:"M37 42H11a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h21l7 7v27a2 2 0 0 1-2 2Z"},null,-1),iee=De("path",{d:"M25 30a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z",fill:"currentColor",stroke:"none"},null,-1),see=De("path",{d:"M25 30a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm0 0-.951-12.363a.5.5 0 0 1 .58-.532L30 18"},null,-1),lee=[ree,iee,see];function aee(e,o,n,i,l,u){return W(),fe("svg",{viewBox:"0 0 48 48",fill:"none",xmlns:"http://www.w3.org/2000/svg",stroke:"currentColor",class:Z(e.cls),style:yt(e.innerStyle),"stroke-width":e.strokeWidth,"stroke-linecap":e.strokeLinecap,"stroke-linejoin":e.strokeLinejoin,onClick:o[0]||(o[0]=(...a)=>e.onClick&&e.onClick(...a))},lee,14,oee)}var qE=ot(nee,[["render",aee]]);const uee=Object.assign(qE,{install:(e,o)=>{var n;const i=(n=o==null?void 0:o.iconPrefix)!=null?n:"";e.component(i+qE.name,qE)}});var Yw=Ae({name:"UploadListItem",props:{file:{type:Object,required:!0},listType:{type:String,required:!0}},setup(e){const n=`${Ge("upload-list")}-item`,{t:i}=Lo(),l=on(R1,void 0),u=()=>{var a,h;let p="";if(e.file.file&&e.file.file.type)p=e.file.file.type;else{const m=(h=(a=e.file.name)==null?void 0:a.split(".")[1])!=null?h:"";["png","jpg","jpeg","bmp","gif","webp"].includes(m)?p="image":["mp4","m2v","mkv","m4v","mov"].includes(m)?p="video":["mp3","wav","wmv","m4a","acc","flac"].includes(m)&&(p="audio")}return p.includes("image")?_(KJ,null,null):p.includes("pdf")?_(HJ,null,null):p.includes("audio")?_(uee,null,null):p.includes("video")?_(tee,null,null):_(jL,null,null)};return()=>{var a,h,p,m,$,T,w,A,R,L,M,B,G,j,F,x,D,U,te,Y,J,ee,ue;return _("div",{class:[n,`${n}-${e.file.status}`]},[_("div",{class:`${n}-content`},[(l==null?void 0:l.listType)==="picture"&&_("span",{class:`${n}-thumbnail`},[(p=(h=l==null?void 0:(a=l.slots).image)==null?void 0:h.call(a,{fileItem:e.file}))!=null?p:_("img",lt({src:e.file.url,alt:e.file.name},l!=null&&l.imageLoading?{loading:l.imageLoading}:void 0),null)]),_("div",{class:`${n}-name`},[(l==null?void 0:l.listType)==="text"&&_("span",{class:`${n}-file-icon`},[(R=(A=($=l==null?void 0:(m=l.slots)["file-icon"])==null?void 0:$.call(m,{fileItem:e.file}))!=null?A:(w=(T=l==null?void 0:l.customIcon)==null?void 0:T.fileIcon)==null?void 0:w.call(T,e.file))!=null?R:u()]),l!=null&&l.showLink&&e.file.url?_("a",lt({class:`${n}-name-link`,target:"_blank",href:e.file.url},l!=null&&l.download?{download:e.file.name}:void 0),[(F=(j=(M=l==null?void 0:(L=l.slots)["file-name"])==null?void 0:M.call(L,{fileItem:e.file}))!=null?j:(G=(B=l==null?void 0:l.customIcon)==null?void 0:B.fileName)==null?void 0:G.call(B,e.file))!=null?F:e.file.name]):_("span",{class:`${n}-name-text`,onClick:()=>l==null?void 0:l.onPreview(e.file)},[(J=(Y=(D=l==null?void 0:(x=l.slots)["file-name"])==null?void 0:D.call(x,{fileItem:e.file}))!=null?Y:(te=(U=l==null?void 0:l.customIcon)==null?void 0:U.fileName)==null?void 0:te.call(U,e.file))!=null?J:e.file.name]),e.file.status==="error"&&_(el,{content:i("upload.error")},{default:()=>{var oe,X,K,q,z,ne;return[_("span",{class:[l==null?void 0:l.iconCls,`${l==null?void 0:l.iconCls}-error`]},[(ne=(z=(X=l==null?void 0:(oe=l.slots)["error-icon"])==null?void 0:X.call(oe))!=null?z:(q=(K=l==null?void 0:l.customIcon)==null?void 0:K.errorIcon)==null?void 0:q.call(K))!=null?ne:_(Vu,null,null)])]}})]),_(ZL,{file:e.file,listType:e.listType},null)]),(l==null?void 0:l.showRemoveButton)&&_("span",{class:`${n}-operation`},[_(yo,{onClick:()=>{var oe;return(oe=l==null?void 0:l.onRemove)==null?void 0:oe.call(l,e.file)}},{default:()=>{var oe,X,K,q,z,ne;return[_("span",{class:[l==null?void 0:l.iconCls,`${l==null?void 0:l.iconCls}-remove`]},[(ne=(z=(X=l==null?void 0:(oe=l.slots)["remove-icon"])==null?void 0:X.call(oe))!=null?z:(q=(K=l==null?void 0:l.customIcon)==null?void 0:K.removeIcon)==null?void 0:q.call(K))!=null?ne:_(aS,null,null)])]}})]),(ue=l==null?void 0:(ee=l.slots)["extra-button"])==null?void 0:ue.call(ee,{fileItem:e.file})])}}}),Qw=Ae({name:"UploadPictureItem",props:{file:{type:Object,required:!0},disabled:{type:Boolean,default:!1}},setup(e){const n=`${Ge("upload-list")}-picture`,i=O(()=>[n,{[`${n}-status-error`]:e.file.status==="error"}]),l=on(R1,void 0),u=()=>{var a,h,p,m,$,T,w,A,R,L,M,B,G,j,F,x,D,U,te,Y,J,ee,ue,oe,X,K,q,z,ne;return e.file.status==="uploading"?_(ZL,{file:e.file,listType:"picture-card"},null):_(Lt,null,[(p=(h=l==null?void 0:(a=l.slots).image)==null?void 0:h.call(a,{fileItem:e.file}))!=null?p:_("img",lt({src:e.file.url,alt:e.file.name},l!=null&&l.imageLoading?{loading:l.imageLoading}:void 0),null),_("div",{class:`${n}-mask`},[e.file.status==="error"&&(l==null?void 0:l.showCancelButton)&&_("div",{class:`${n}-error-tip`},[_("span",{class:[l==null?void 0:l.iconCls,`${l==null?void 0:l.iconCls}-error`]},[(R=(A=($=l==null?void 0:(m=l.slots)["error-icon"])==null?void 0:$.call(m))!=null?A:(w=(T=l==null?void 0:l.customIcon)==null?void 0:T.errorIcon)==null?void 0:w.call(T))!=null?R:_(AI,null,null)])]),_("div",{class:`${n}-operation`},[e.file.status!=="error"&&(l==null?void 0:l.showPreviewButton)&&_("span",{class:[l==null?void 0:l.iconCls,`${l==null?void 0:l.iconCls}-preview`],onClick:()=>l==null?void 0:l.onPreview(e.file)},[(F=(j=(M=l==null?void 0:(L=l.slots)["preview-icon"])==null?void 0:M.call(L))!=null?j:(G=(B=l==null?void 0:l.customIcon)==null?void 0:B.previewIcon)==null?void 0:G.call(B))!=null?F:_(KA,null,null)]),["init","error"].includes(e.file.status)&&(l==null?void 0:l.showRetryButton)&&_("span",{class:[l==null?void 0:l.iconCls,`${l==null?void 0:l.iconCls}-upload`],onClick:()=>l==null?void 0:l.onUpload(e.file)},[(J=(Y=(D=l==null?void 0:(x=l.slots)["retry-icon"])==null?void 0:D.call(x))!=null?Y:(te=(U=l==null?void 0:l.customIcon)==null?void 0:U.retryIcon)==null?void 0:te.call(U))!=null?J:_(hS,null,null)]),!(l!=null&&l.disabled)&&(l==null?void 0:l.showRemoveButton)&&_("span",{class:[l==null?void 0:l.iconCls,`${l==null?void 0:l.iconCls}-remove`],onClick:()=>l==null?void 0:l.onRemove(e.file)},[(q=(K=(ue=l==null?void 0:(ee=l.slots)["remove-icon"])==null?void 0:ue.call(ee))!=null?K:(X=(oe=l==null?void 0:l.customIcon)==null?void 0:oe.removeIcon)==null?void 0:X.call(oe))!=null?q:_(aS,null,null)]),(ne=l==null?void 0:(z=l.slots)["extra-button"])==null?void 0:ne.call(z,e.file)])])])};return()=>_("span",{class:i.value},[u()])}}),cee=Ae({name:"UploadList",components:{UploadListItem:Yw,UploadPictureItem:Qw},props:{fileList:{type:Array,required:!0},listType:{type:String,required:!0}},setup(e,{slots:o}){const n=Ge("upload"),i=O(()=>[`${n}-list`,`${n}-list-type-${e.listType}`]),l=(u,a)=>Ut(o["upload-item"])?o["upload-item"]({fileItem:u,index:a}):e.listType==="picture-card"?_(Qw,{file:u,key:`item-${a}`},null):_(Yw,{file:u,listType:e.listType,key:`item-${a}`},null);return()=>_(rv,{tag:"div",class:i.value},{default:()=>{var u;return[...e.fileList.map((a,h)=>l(a,h)),e.listType==="picture-card"&&((u=o["upload-button"])==null?void 0:u.call(o))]}})}}),dee=Object.defineProperty,hee=Object.defineProperties,pee=Object.getOwnPropertyDescriptors,qw=Object.getOwnPropertySymbols,fee=Object.prototype.hasOwnProperty,gee=Object.prototype.propertyIsEnumerable,Zw=(e,o,n)=>o in e?dee(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,mee=(e,o)=>{for(var n in o||(o={}))fee.call(o,n)&&Zw(e,n,o[n]);if(qw)for(var n of qw(o))gee.call(o,n)&&Zw(e,n,o[n]);return e},$ee=(e,o)=>hee(e,pee(o)),ZE=Ae({name:"Upload",props:{fileList:{type:Array,default:void 0},defaultFileList:{type:Array,default:()=>[]},accept:String,action:String,disabled:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},directory:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},tip:String,headers:{type:Object},data:{type:[Object,Function]},name:{type:[String,Function]},withCredentials:{type:Boolean,default:!1},customRequest:{type:Function},limit:{type:Number,default:0},autoUpload:{type:Boolean,default:!0},showFileList:{type:Boolean,default:!0},showRemoveButton:{type:Boolean,default:!0},showRetryButton:{type:Boolean,default:!0},showCancelButton:{type:Boolean,default:!0},showUploadButton:{type:[Boolean,Object],default:!0},showPreviewButton:{type:Boolean,default:!0},download:{type:Boolean,default:!1},showLink:{type:Boolean,default:!0},imageLoading:{type:String},listType:{type:String,default:"text"},responseUrlKey:{type:[String,Function]},customIcon:{type:Object},imagePreview:{type:Boolean,default:!1},onBeforeUpload:{type:Function},onBeforeRemove:{type:Function},onButtonClick:{type:Function}},emits:{"update:fileList":e=>!0,exceedLimit:(e,o)=>!0,change:(e,o)=>!0,progress:(e,o)=>!0,preview:e=>!0,success:e=>!0,error:e=>!0},setup(e,{emit:o,slots:n}){const{fileList:i,disabled:l,listType:u,customIcon:a,showRetryButton:h,showCancelButton:p,showRemoveButton:m,showPreviewButton:$,imageLoading:T,download:w,showLink:A}=mt(e),R=Ge("upload"),{mergedDisabled:L,eventHandlers:M}=Eo({disabled:l}),B=ve([]),G=new Map,j=new Map,F=O(()=>e.limit>0&&B.value.length>=e.limit),x=se=>{G.clear();const ke=se==null?void 0:se.map((Be,et)=>{var ut,dt,gt;const we=(ut=Be.status)!=null?ut:"done",le=ft($ee(mee({},Be),{uid:(dt=Be.uid)!=null?dt:`${Date.now()}${et}`,status:we,percent:(gt=Be.percent)!=null?gt:["error","init"].indexOf(we)>-1?0:1}));return G.set(le.uid,le),le});B.value=ke??[]};x(e.defaultFileList),At(i,se=>{se&&x(se)},{immediate:!0,deep:!0});const D=se=>{var ke,Be;o("update:fileList",B.value),o("change",B.value,se),(Be=(ke=M.value)==null?void 0:ke.onChange)==null||Be.call(ke)},U=(se,ke)=>{for(const Be of B.value)if(Be.uid===se){Be.file=ke,D(Be);break}},te=se=>{const ke=(gt,we)=>{const le=G.get(se.uid);le&&(le.status="uploading",le.percent=gt,o("progress",le,we),D(le))},Be=gt=>{const we=G.get(se.uid);we&&(we.status="done",we.percent=1,we.response=gt,e.responseUrlKey&&(Ut(e.responseUrlKey)?we.url=e.responseUrlKey(we):gt[e.responseUrlKey]&&(we.url=gt[e.responseUrlKey])),j.delete(we.uid),o("success",we),D(we))},et=gt=>{const we=G.get(se.uid);we&&(we.status="error",we.percent=0,we.response=gt,j.delete(we.uid),o("error",we),D(we))},ut={fileItem:se,action:e.action,name:e.name,data:e.data,headers:e.headers,withCredentials:e.withCredentials,onProgress:ke,onSuccess:Be,onError:et};se.status="uploading",se.percent=0;const dt=Ut(e.customRequest)?e.customRequest(ut):fJ(ut);j.set(se.uid,dt),D(se)},Y=se=>{var ke;const Be=j.get(se.uid);if(Be){(ke=Be.abort)==null||ke.call(Be),j.delete(se.uid);const et=G.get(se.uid);et&&(et.status="error",et.percent=0,D(et))}},J=se=>{if(se){const ke=G.get(se.uid);ke&&te(ke)}else for(const ke of B.value)ke.status==="init"&&te(ke)},ee=async(se,ke)=>{const Be=`${Date.now()}-${ke}`,et=mJ(se)?URL.createObjectURL(se):void 0,ut=ft({uid:Be,file:se,url:et,name:se.name,status:"init",percent:0});G.set(Be,ut),B.value=[...B.value,ut],D(ut),e.autoUpload&&te(ut)},ue=se=>{if(e.limit>0&&B.value.length+se.length>e.limit){o("exceedLimit",B.value,se);return}for(let ke=0;ke<se.length;ke++){const Be=se[ke];Ut(e.onBeforeUpload)?Promise.resolve(e.onBeforeUpload(Be)).then(et=>{et&&ee(ks(et)?Be:et,ke)}).catch(et=>{console.error(et)}):ee(Be,ke)}},oe=se=>{B.value=B.value.filter(ke=>ke.uid!==se.uid),D(se)},X=se=>{Ut(e.onBeforeRemove)?Promise.resolve(e.onBeforeRemove(se)).then(ke=>{ke&&oe(se)}).catch(ke=>{console.error(ke)}):oe(se)},K=se=>{if(e.imagePreview&&se.url){const ke=Re.value.indexOf(se.url);ke>-1&&(ge.value=ke,ne.value=!0)}o("preview",se)};Ln(R1,ft({disabled:L,listType:u,iconCls:`${R}-icon`,showRemoveButton:m,showRetryButton:h,showCancelButton:p,showPreviewButton:$,showLink:A,imageLoading:T,download:w,customIcon:a,slots:n,onUpload:te,onAbort:Y,onRemove:X,onPreview:K}));const q=O(()=>{if(e.accept)return e.accept;if(e.listType==="picture"||e.listType==="picture-card")return"image/*"}),z=()=>{const se=_(yJ,{key:"arco-upload-button",disabled:L.value,draggable:e.draggable,listType:e.listType,uploadFiles:ue,multiple:e.multiple,directory:e.directory,tip:e.tip,hide:!e.showUploadButton||F.value&&!(cn(e.showUploadButton)&&e.showUploadButton.showOnExceedLimit),accept:q.value,onButtonClick:e.onButtonClick},{default:n["upload-button"]});return e.tip&&e.listType!=="picture-card"&&!e.draggable?_("span",null,[se,_("div",{class:`${R}-tip`},[e.tip])]):se},ne=ve(!1),ge=ve(0),Q=se=>{ge.value=se},Oe=se=>{ne.value=se},Re=O(()=>B.value.filter(se=>!!se.url).map(se=>se.url));return{prefixCls:R,render:()=>e.showFileList?_("div",{class:[`${R}-wrapper`,`${R}-wrapper-type-${e.listType}`]},[e.imagePreview&&Re.value.length>0&&_(F$,{srcList:Re.value,visible:ne.value,current:ge.value,onChange:Q,onVisibleChange:Oe},null),e.listType!=="picture-card"&&e.showUploadButton&&z(),_(cee,{fileList:B.value,listType:e.listType},{"upload-button":z,"upload-item":n["upload-item"]})]):e.showUploadButton&&z(),innerSubmit:J,innerAbort:Y,innerUpdateFile:U,innerUpload:ue}},methods:{submit(e){return this.innerSubmit(e)},abort(e){return this.innerAbort(e)},updateFile(e,o){return this.innerUpdateFile(e,o)},upload(e){return this.innerUpload(e)}},render(){return this.render()}});const vee=Object.assign(ZE,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+ZE.name,ZE)}});var JE=Ae({name:"OverflowList",props:{min:{type:Number,default:0},margin:{type:Number,default:8},from:{type:String,default:"end"}},emits:{change:e=>!0},setup(e,{emit:o,slots:n}){const i=Ge("overflow-list"),l=ve(),u=ve(),a=ve(),h={},p=[],m=ve(0),$=ve(0),T=O(()=>$.value>0),w=ve(0),A=O(()=>e.from==="start");At(m,(M,B)=>{$.value>0&&($.value+=M-B,$.value<0&&($.value=0))}),At($,M=>{o("change",M)});const R=()=>{var M,B,G;if(l.value&&h.value&&a.value){const j=a.value.offsetWidth;if(j>1&&($.value===0||j<w.value))return;for(let U=0;U<h.value.length;U++){const te=h.value[U].el;te&&te.offsetWidth&&(p[U]=te.offsetWidth+e.margin)}let F=l.value.clientWidth-((B=(M=u.value)==null?void 0:M.offsetWidth)!=null?B:0)-(A.value?e.margin:0);const x=A.value?aQ(p):p;let D=0;for(let U=0;U<x.length;U++){const te=(G=x[U])!=null?G:0;if(te<F-1)F-=te,D+=1;else{w.value=te;break}}D<e.min&&e.min<m.value&&(D=e.min),$.value!==m.value-D&&($.value=m.value-D)}};At(T,()=>R(),{flush:"post"}),fn(()=>{a.value&&a.value.offsetWidth<1&&R()});const L=()=>{var M,B;const G=A.value?{marginRight:`${e.margin}px`}:void 0;return _("div",{ref:u,class:`${i}-overflow`,style:G},[(B=(M=n.overflow)==null?void 0:M.call(n,{number:$.value}))!=null?B:_(DI,null,{default:()=>[Dt("+"),$.value]})])};return()=>{var M,B;h.value=Oa((M=n.default)==null?void 0:M.call(n)),m.value!==h.value.length&&(m.value=h.value.length,p.length=m.value);let G=h.value;$.value>0&&(G=A.value?h.value.slice($.value):h.value.slice(0,-$.value));const j=$.value===0||A.value?G.length-1:G.length;for(let F=0;F<j;F++)G[F].props=lt((B=G[F].props)!=null?B:{},{style:{marginRight:`${e.margin}px`}});return _("div",{ref:l,class:i},[A.value&&$.value>0&&L(),G,!A.value&&$.value>0&&L(),_(od,{onResize:R},{default:()=>[_("div",{ref:a,class:`${i}-spacer`},null)]})])}}});const _ee=Object.assign(JE,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+JE.name,JE)}});var bee=Object.defineProperty,Tee=Object.defineProperties,yee=Object.getOwnPropertyDescriptors,Jw=Object.getOwnPropertySymbols,Eee=Object.prototype.hasOwnProperty,Cee=Object.prototype.propertyIsEnumerable,eN=(e,o,n)=>o in e?bee(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,Iee=(e,o)=>{for(var n in o||(o={}))Eee.call(o,n)&&eN(e,n,o[n]);if(Jw)for(var n of Jw(o))Cee.call(o,n)&&eN(e,n,o[n]);return e},See=(e,o)=>Tee(e,yee(o));function Oee(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!vo(e)}var kee=Ae({name:"TreeSelectPanel",components:{Tree:zC},props:{treeProps:{type:Object,default:()=>({})},selectedKeys:{type:Array},showCheckable:{type:Boolean},treeSlots:{type:Object,default:()=>({})},scrollbar:{type:[Boolean,Object],default:!0}},emits:["change"],setup(e,{emit:o}){const{showCheckable:n,selectedKeys:i,treeProps:l,scrollbar:u}=mt(e),{displayScrollbar:a,scrollbarProps:h}=$1(u),p=Ge("tree-select"),m=ve(),$=O(()=>See(Iee({},l.value),{disableSelectActionOnly:!0,checkedKeys:n.value?i.value:[],selectedKeys:n.value?[]:i.value})),T=(R,L)=>{var M,B;n.value?(B=(M=m.value)==null?void 0:M.toggleCheck)==null||B.call(M,R[0],L):o("change",R)},w=R=>{o("change",R)},A=()=>_(zC,lt({ref:m},$.value,{onSelect:T,onCheck:w}),e.treeSlots);return()=>{if(a.value){let R;return _(Na,lt({class:`${p}-tree-wrapper`},h.value),Oee(R=A())?R:{default:()=>[R]})}return _("div",{class:`${p}-tree-wrapper`},[A()])}}}),wee=Object.defineProperty,Nee=Object.defineProperties,Aee=Object.getOwnPropertyDescriptors,tN=Object.getOwnPropertySymbols,Ree=Object.prototype.hasOwnProperty,Lee=Object.prototype.propertyIsEnumerable,nN=(e,o,n)=>o in e?wee(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,oN=(e,o)=>{for(var n in o||(o={}))Ree.call(o,n)&&nN(e,n,o[n]);if(tN)for(var n of tN(o))Lee.call(o,n)&&nN(e,n,o[n]);return e},Mee=(e,o)=>Nee(e,Aee(o));function pS(e){return cn(e)}function JL(e){return e!=null&&e!==""}function fS(e){return pS(e)?e.value:e}function Pee(e){return pS(e)?e.label:void 0}function rN(e){const o=fS(e);return JL(o)}function iN(e){return e.map(fS).filter(JL)}function Dee(e){var o;const{defaultValue:n,modelValue:i,key2TreeNode:l,multiple:u,treeCheckable:a,fallbackOption:h,fieldNames:p}=mt(e);function m(F){const x=(nn(F)?F:[F]).filter(rN);return u!=null&&u.value||a!=null&&a.value?x:x.slice(0,1)}function $(F,x){const D=[],U=F?F.filter(rN):[];if(U.length){const te=new Map;x==null||x.forEach(Y=>{te.set(Y.value,Y)}),U.forEach(Y=>{var J,ee,ue,oe,X;const K=fS(Y),q=te.get(K),z=l.value.get(K);let ne=null;const ge=((J=p==null?void 0:p.value)==null?void 0:J.title)||"title";if(!z){const Q=Ut(h==null?void 0:h.value)?h==null?void 0:h.value(K):h==null?void 0:h.value;if(Q===!1)return;cn(Q)&&(ne=Q)}D.push(Mee(oN(oN({},pS(Y)?Y:{}),q||{}),{value:K,label:(X=(oe=(ue=(ee=Pee(Y))!=null?ee:z==null?void 0:z.title)!=null?ue:q==null?void 0:q.label)!=null?oe:ne==null?void 0:ne[ge])!=null?X:K}))})}return D}const T=ve(),w=ve();Cr(()=>{var F;const x=(i==null?void 0:i.value)!==void 0,D=m((F=i==null?void 0:i.value)!=null?F:[]),U=iN(D);w.value=x?$(U,$(D)):void 0,T.value=x?U:void 0});const A=m((o=n==null?void 0:n.value)!=null?o:[]),R=iN(A),L=$(R,$(A)),M=ve(R||[]),B=ve(L);At(M,()=>{B.value=$(M.value,L)}),At([T,w],([F,x])=>{M.value=F||[],B.value=x||[]});const G=O(()=>{var F;return(F=T.value)!=null?F:M.value}),j=O(()=>{var F;return(F=w.value)!=null?F:B.value});return{selectedKeys:G,selectedValue:j,setLocalSelectedKeys(F){M.value=F},localSelectedKeys:M,localSelectedValue:B}}function xee(e){const{searchValue:o,flattenTreeData:n,filterMethod:i,disableFilter:l,fieldNames:u}=mt(e),a=O(()=>{var R;return((R=u.value)==null?void 0:R.key)||"key"}),h=(R,L)=>{const M=L[a.value];return!Gt(M)&&String(M).indexOf(R)>-1},p=O(()=>(i==null?void 0:i.value)||h),m=ve(),$=O(()=>!!o.value),T=O(()=>!(l!=null&&l.value)&&$.value&&m.value&&m.value.size===0),w=O(()=>l!=null&&l.value?void 0:R=>{var L,M;if(!$.value)return!0;const B=R[a.value];return(M=(L=m.value)==null?void 0:L.has(B||""))!=null?M:!1}),A=ev((R,L)=>{const M=R.filter(G=>p.value(L,G.treeNodeData)),B=new Set;M.forEach(G=>{B.add(G.key),G.pathParentKeys.forEach(j=>{B.add(j)})}),m.value=B},100);return Cr(()=>{l!=null&&l.value?m.value=void 0:A(n.value,o.value)}),{isEmptyFilterResult:T,filterTreeNode:w}}function Bee(e,o){const n=`${o}-slot-`;return Object.keys(e).reduce((l,u)=>{if(u.startsWith(n)){const a=u.slice(n.length);a&&(l[a]=e[u])}return l},{})}var Fee=Object.defineProperty,Vee=Object.defineProperties,Uee=Object.getOwnPropertyDescriptors,sN=Object.getOwnPropertySymbols,Hee=Object.prototype.hasOwnProperty,Gee=Object.prototype.propertyIsEnumerable,lN=(e,o,n)=>o in e?Fee(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,e4=(e,o)=>{for(var n in o||(o={}))Hee.call(o,n)&&lN(e,n,o[n]);if(sN)for(var n of sN(o))Gee.call(o,n)&&lN(e,n,o[n]);return e},t4=(e,o)=>Vee(e,Uee(o));const zee=Ae({name:"TreeSelect",components:{Trigger:Or,SelectView:Rb,Panel:kee,Empty:Uu,Spin:Dl},inheritAttrs:!1,props:{disabled:{type:Boolean},loading:{type:Boolean},error:{type:Boolean},size:{type:String},border:{type:Boolean,default:!0},allowSearch:{type:[Boolean,Object],default:e=>!!e.multiple},allowClear:{type:Boolean},placeholder:{type:String},maxTagCount:{type:Number},multiple:{type:Boolean},defaultValue:{type:[String,Number,Array,Object]},modelValue:{type:[String,Number,Array,Object]},fieldNames:{type:Object},data:{type:Array,default:()=>[]},labelInValue:{type:Boolean},treeCheckable:{type:Boolean},treeCheckStrictly:{type:Boolean},treeCheckedStrategy:{type:String,default:"all"},treeProps:{type:Object},triggerProps:{type:Object},popupVisible:{type:Boolean,default:void 0},defaultPopupVisible:{type:Boolean},dropdownStyle:{type:Object},dropdownClassName:{type:[String,Array]},filterTreeNode:{type:Function},loadMore:{type:Function},disableFilter:{type:Boolean},popupContainer:{type:[String,Object]},fallbackOption:{type:[Boolean,Function],default:!0},selectable:{type:[Boolean,String,Function],default:!0},scrollbar:{type:[Boolean,Object],default:!0},showHeaderOnEmpty:{type:Boolean,default:!1},showFooterOnEmpty:{type:Boolean,default:!1}},emits:{change:e=>!0,"update:modelValue":e=>!0,"popup-visible-change":e=>!0,"update:popupVisible":e=>!0,search:e=>!0,clear:()=>!0},setup(e,{emit:o,slots:n}){var i,l,u;const{defaultValue:a,modelValue:h,multiple:p,popupVisible:m,defaultPopupVisible:$,treeCheckable:T,treeCheckStrictly:w,data:A,fieldNames:R,disabled:L,labelInValue:M,filterTreeNode:B,disableFilter:G,dropdownStyle:j,treeProps:F,fallbackOption:x,selectable:D,dropdownClassName:U}=mt(e),{mergedDisabled:te,eventHandlers:Y}=Eo({disabled:L}),J=Ge("tree-select"),ee=on(Gr,void 0),ue=(u=(l=ee==null?void 0:(i=ee.slots).empty)==null?void 0:l.call(i,{component:"tree-select"}))==null?void 0:u[0],oe=O(()=>p.value||T.value),X=($e,Fe)=>{var Le;return D.value==="leaf"?Fe.isLeaf:Ut(D.value)?D.value($e,Fe):(Le=D.value)!=null?Le:!1},K=O(()=>T.value?X:!1),q=O(()=>cn(e.allowSearch)&&!!e.allowSearch.retainInputValue),{flattenTreeData:z,key2TreeNode:ne}=YL(ft({treeData:A,fieldNames:R,selectable:X,checkable:K})),{selectedKeys:ge,selectedValue:Q,setLocalSelectedKeys:Oe,localSelectedKeys:Re,localSelectedValue:_e}=Dee(ft({defaultValue:a,modelValue:h,key2TreeNode:ne,multiple:p,treeCheckable:T,treeCheckStrictly:w,fallbackOption:x,fieldNames:R}));function se($e){return T.value?Bh($e):BC($e)}const ke=O(()=>Gt(Q.value)?[]:oe.value&&!te.value?Q.value.map($e=>{const Fe=ne.value.get($e.value);return t4(e4({},$e),{closable:!Fe||se(Fe)})}):Q.value),Be=$e=>{Oe($e),Un(()=>{var Fe,Le;const qe=(M.value?_e.value:Re.value)||[],Xe=oe.value?qe:qe[0];o("update:modelValue",Xe),o("change",Xe),(Le=(Fe=Y.value)==null?void 0:Fe.onChange)==null||Le.call(Fe)})},et=ve(""),[ut,dt]=kr($.value,ft({value:m})),gt=$e=>{$e!==ut.value&&(dt($e),o("popup-visible-change",$e),o("update:popupVisible",$e)),$e||re.value&&re.value.blur&&re.value.blur()},{isEmptyFilterResult:we,filterTreeNode:le}=xee(ft({searchValue:et,flattenTreeData:z,filterMethod:B,disableFilter:G,fieldNames:R})),ce=O(()=>!z.value.length||we.value),re=ve(),Me=O(()=>{var $e;return[(j==null?void 0:j.value)||{},($e=F==null?void 0:F.value)!=null&&$e.virtualListProps?{"max-height":"unset"}:{}]});return{refSelectView:re,prefixCls:J,TreeSelectEmpty:ue,selectedValue:Q,selectedKeys:ge,mergedDisabled:te,searchValue:et,panelVisible:ut,isEmpty:ce,computedFilterTreeNode:le,isMultiple:oe,selectViewValue:ke,computedDropdownStyle:Me,onSearchValueChange($e){$e!==et.value&&(gt(!0),et.value=$e,o("search",$e))},onSelectChange($e){Be($e),et.value="",oe.value||gt(!1)},onVisibleChange:gt,onInnerClear(){Be([]),o("clear")},pickSubCompSlots:Bee,isSelectable:X,isCheckable:K,onBlur:()=>{!q.value&&et.value&&(et.value="")},onItemRemove($e){if(te.value)return;const Fe=ne.value.get($e);if(T.value&&Fe){if(se(Fe)){const[Le]=UC({node:Fe,checked:!1,checkedKeys:ge.value,indeterminateKeys:[],checkStrictly:w.value});Be(Le)}}else{const Le=ge.value.filter(qe=>qe!==$e);Be(Le)}}}}});function Wee(e,o,n,i,l,u){const a=Pe("SelectView"),h=Pe("Spin"),p=Pe("Panel"),m=Pe("Trigger");return W(),Ze(m,lt({class:`${e.prefixCls}-trigger`,"auto-fit-popup-min-width":"",trigger:"click",position:"bl","popup-offset":4,"animation-name":"slide-dynamic-origin","prevent-focus":!0},e.triggerProps,{disabled:e.mergedDisabled,"popup-visible":e.panelVisible,"popup-container":e.popupContainer,"click-to-close":!e.allowSearch,"auto-fit-transform-origin":"",onPopupVisibleChange:e.onVisibleChange}),{content:Je(()=>[De("div",{class:Z([`${e.prefixCls}-popup`,{[`${e.prefixCls}-has-header`]:!!e.$slots.header,[`${e.prefixCls}-has-footer`]:!!e.$slots.footer},e.dropdownClassName]),style:yt(e.computedDropdownStyle)},[e.$slots.header&&(!e.isEmpty||e.showHeaderOnEmpty)?(W(),fe("div",{key:0,class:Z(`${e.prefixCls}-header`)},[Ue(e.$slots,"header")],2)):We("v-if",!0),e.loading?Ue(e.$slots,"loader",{key:1},()=>[_(h)]):e.isEmpty?Ue(e.$slots,"empty",{key:2},()=>[(W(),Ze(ts(e.TreeSelectEmpty?e.TreeSelectEmpty:"Empty")))]):(W(),Ze(p,{key:3,"selected-keys":e.selectedKeys,"show-checkable":e.treeCheckable,scrollbar:e.scrollbar,"tree-props":t4(e4({actionOnNodeClick:e.selectable==="leaf"?"expand":void 0,blockNode:!0},e.treeProps),{data:e.data,checkStrictly:e.treeCheckStrictly,checkedStrategy:e.treeCheckedStrategy,fieldNames:e.fieldNames,multiple:e.multiple,loadMore:e.loadMore,filterTreeNode:e.computedFilterTreeNode,size:e.size,checkable:e.isCheckable,selectable:e.isSelectable,searchValue:e.searchValue}),"tree-slots":e.pickSubCompSlots(e.$slots,"tree"),onChange:e.onSelectChange},null,8,["selected-keys","show-checkable","scrollbar","tree-props","tree-slots","onChange"])),e.$slots.footer&&(!e.isEmpty||e.showFooterOnEmpty)?(W(),fe("div",{key:4,class:Z(`${e.prefixCls}-footer`)},[Ue(e.$slots,"footer")],2)):We("v-if",!0)],6)]),default:Je(()=>[Ue(e.$slots,"trigger",{},()=>[_(a,lt({ref:"refSelectView","model-value":e.selectViewValue,"input-value":e.searchValue,"allow-search":!!e.allowSearch,"allow-clear":e.allowClear,loading:e.loading,size:e.size,"max-tag-count":e.maxTagCount,disabled:e.mergedDisabled,opened:e.panelVisible,error:e.error,bordered:e.border,placeholder:e.placeholder,multiple:e.isMultiple},e.$attrs,{onInputValueChange:e.onSearchValueChange,onClear:e.onInnerClear,onRemove:e.onItemRemove,onBlur:e.onBlur}),Oo({_:2},[e.$slots.prefix?{name:"prefix",fn:Je(()=>[Ue(e.$slots,"prefix")])}:void 0,e.$slots.label?{name:"label",fn:Je($=>[Ue(e.$slots,"label",ao(Fr($)))])}:void 0]),1040,["model-value","input-value","allow-search","allow-clear","loading","size","max-tag-count","disabled","opened","error","bordered","placeholder","multiple","onInputValueChange","onClear","onRemove","onBlur"])])]),_:3},16,["class","disabled","popup-visible","popup-container","click-to-close","onPopupVisibleChange"])}var eC=ot(zee,[["render",Wee]]);const jee=Object.assign(eC,{install:(e,o)=>{Jt(e,o);const n=Zt(o);e.component(n+eC.name,eC)}});var Xee=Object.defineProperty,Kee=Object.defineProperties,Yee=Object.getOwnPropertyDescriptors,aN=Object.getOwnPropertySymbols,Qee=Object.prototype.hasOwnProperty,qee=Object.prototype.propertyIsEnumerable,uN=(e,o,n)=>o in e?Xee(e,o,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[o]=n,Zee=(e,o)=>{for(var n in o||(o={}))Qee.call(o,n)&&uN(e,n,o[n]);if(aN)for(var n of aN(o))qee.call(o,n)&&uN(e,n,o[n]);return e},Jee=(e,o)=>Kee(e,Yee(o));const WC={Button:mi,Link:WR,Typography:hJ,Divider:dU,Grid:k$,Layout:uW,Space:kY,Avatar:F5,Badge:nx,Calendar:ER,Card:s7,Carousel:I7,Collapse:tB,Comment:hB,Descriptions:cU,Empty:Uu,Image:pz,Scrollbar:Na,List:bL,Popover:RI,Statistic:FY,Table:qQ,Tabs:pq,Tag:DI,Timeline:Dq,Tooltip:el,AutoComplete:C5,Cascader:V7,Checkbox:Ml,DatePicker:QV,Form:PH,Input:Xh,InputNumber:qI,InputTag:TR,Mention:BW,Radio:sg,Rate:FK,Select:Lb,Slider:OY,Switch:KY,Textarea:TL,TimePicker:kq,Transfer:Kq,Tree:zC,Upload:vee,TreeSelect:jee,Alter:O2,Alert:O2,Drawer:NC,Message:DC,Modal:ug,Notification:xC,Popconfirm:kX,Progress:NL,Result:tY,Spin:Dl,Skeleton:aY,Breadcrumb:xx,Dropdown:oR,Menu:Fj,PageHeader:IX,Pagination:tS,Steps:zY,Affix:EP,Anchor:C6,BackTop:Y5,ConfigProvider:gB,ResizeBox:$L,Trigger:Or,Split:RY,Icon:VH,OverflowList:_ee},ete=(e,o)=>{for(const n of Object.keys(WC))e.use(WC[n],o)},tte=Jee(Zee({},WC),{AnchorLink:C0,AvatarGroup:R0,BreadcrumbItem:P$,ButtonGroup:M$,Calendar:ER,CardMeta:F0,CardGrid:V0,CarouselItem:U0,CascaderPanel:H0,CheckboxGroup:N0,CollapseItem:G0,DescriptionsItem:q0,WeekPicker:j0,MonthPicker:X0,YearPicker:K0,QuarterPicker:Y0,RangePicker:Q0,Doption:Zf,Dgroup:M0,Dsubmenu:P0,DropdownButton:D0,FormItem:eb,Row:x$,Col:B$,GridItem:J0,ImagePreview:Jf,ImagePreviewAction:zb,ImagePreviewGroup:F$,InputGroup:O0,InputSearch:I0,InputPassword:S0,LayoutHeader:nb,LayoutContent:ob,LayoutFooter:rb,LayoutSider:ib,ListItem:sb,ListItemMeta:lb,MenuItem:ab,MenuItemGroup:ub,SubMenu:V$,RadioGroup:B0,Option:Lh,Optgroup:D$,SkeletonLine:hb,SkeletonShape:pb,Countdown:fb,Step:gb,Thead:H$,Td:Qc,Th:z$,Tr:Pu,Tbody:G$,TableColumn:mb,TabPane:$b,TimelineItem:tg,TypographyParagraph:vb,TypographyTitle:_b,TypographyText:bb,install:ete,addI18nMessages:M9,useLocale:P9,getLocale:D9,useFormItem:Eo});bn.dialog.setAlert(function(e,o){ug.confirm({title:"注意",content:e,okText:"确认",onCancel:o,onOk:o,hideCancel:!0})});bn.dialog.setConfirm(function(e,o){ug.confirm({title:"注意",content:e,okText:"确认",cancelText:"取消",onCancel:function(){o(!1)},onOk:function(){o(!0)}})});bn.dialog.setPrompt(function(e,o,n){ug.confirm({title:e,content:()=>pi(Xh,{defaultValue:o,id:"dialog-input"}),okText:"确认",cancelText:"取消",onCancel:function(){n(null)},onOk:function(){n(document.querySelector("#dialog-input input").value)}})});function n4(e){return e instanceof Map?e.clear=e.delete=e.set=function(){throw new Error("map is read-only")}:e instanceof Set&&(e.add=e.clear=e.delete=function(){throw new Error("set is read-only")}),Object.freeze(e),Object.getOwnPropertyNames(e).forEach(o=>{const n=e[o],i=typeof n;(i==="object"||i==="function")&&!Object.isFrozen(n)&&n4(n)}),e}class cN{constructor(o){o.data===void 0&&(o.data={}),this.data=o.data,this.isMatchIgnored=!1}ignoreMatch(){this.isMatchIgnored=!0}}function o4(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")}function qc(e,...o){const n=Object.create(null);for(const i in e)n[i]=e[i];return o.forEach(function(i){for(const l in i)n[l]=i[l]}),n}const nte="</span>",dN=e=>!!e.scope,ote=(e,{prefix:o})=>{if(e.startsWith("language:"))return e.replace("language:","language-");if(e.includes(".")){const n=e.split(".");return[`${o}${n.shift()}`,...n.map((i,l)=>`${i}${"_".repeat(l+1)}`)].join(" ")}return`${o}${e}`};class rte{constructor(o,n){this.buffer="",this.classPrefix=n.classPrefix,o.walk(this)}addText(o){this.buffer+=o4(o)}openNode(o){if(!dN(o))return;const n=ote(o.scope,{prefix:this.classPrefix});this.span(n)}closeNode(o){dN(o)&&(this.buffer+=nte)}value(){return this.buffer}span(o){this.buffer+=`<span class="${o}">`}}const hN=(e={})=>{const o={children:[]};return Object.assign(o,e),o};class gS{constructor(){this.rootNode=hN(),this.stack=[this.rootNode]}get top(){return this.stack[this.stack.length-1]}get root(){return this.rootNode}add(o){this.top.children.push(o)}openNode(o){const n=hN({scope:o});this.add(n),this.stack.push(n)}closeNode(){if(this.stack.length>1)return this.stack.pop()}closeAllNodes(){for(;this.closeNode(););}toJSON(){return JSON.stringify(this.rootNode,null,4)}walk(o){return this.constructor._walk(o,this.rootNode)}static _walk(o,n){return typeof n=="string"?o.addText(n):n.children&&(o.openNode(n),n.children.forEach(i=>this._walk(o,i)),o.closeNode(n)),o}static _collapse(o){typeof o!="string"&&o.children&&(o.children.every(n=>typeof n=="string")?o.children=[o.children.join("")]:o.children.forEach(n=>{gS._collapse(n)}))}}class ite extends gS{constructor(o){super(),this.options=o}addText(o){o!==""&&this.add(o)}startScope(o){this.openNode(o)}endScope(){this.closeNode()}__addSublanguage(o,n){const i=o.root;n&&(i.scope=`language:${n}`),this.add(i)}toHTML(){return new rte(this,this.options).value()}finalize(){return this.closeAllNodes(),!0}}function nv(e){return e?typeof e=="string"?e:e.source:null}function r4(e){return Yh("(?=",e,")")}function ste(e){return Yh("(?:",e,")*")}function lte(e){return Yh("(?:",e,")?")}function Yh(...e){return e.map(n=>nv(n)).join("")}function ate(e){const o=e[e.length-1];return typeof o=="object"&&o.constructor===Object?(e.splice(e.length-1,1),o):{}}function mS(...e){return"("+(ate(e).capture?"":"?:")+e.map(i=>nv(i)).join("|")+")"}function i4(e){return new RegExp(e.toString()+"|").exec("").length-1}function ute(e,o){const n=e&&e.exec(o);return n&&n.index===0}const cte=/\[(?:[^\\\]]|\\.)*\]|\(\??|\\([1-9][0-9]*)|\\./;function $S(e,{joinWith:o}){let n=0;return e.map(i=>{n+=1;const l=n;let u=nv(i),a="";for(;u.length>0;){const h=cte.exec(u);if(!h){a+=u;break}a+=u.substring(0,h.index),u=u.substring(h.index+h[0].length),h[0][0]==="\\"&&h[1]?a+="\\"+String(Number(h[1])+l):(a+=h[0],h[0]==="("&&n++)}return a}).map(i=>`(${i})`).join(o)}const dte=/\b\B/,s4="[a-zA-Z]\\w*",vS="[a-zA-Z_]\\w*",l4="\\b\\d+(\\.\\d+)?",a4="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",u4="\\b(0b[01]+)",hte="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",pte=(e={})=>{const o=/^#![ ]*\//;return e.binary&&(e.begin=Yh(o,/.*\b/,e.binary,/\b.*/)),qc({scope:"meta",begin:o,end:/$/,relevance:0,"on:begin":(n,i)=>{n.index!==0&&i.ignoreMatch()}},e)},ov={begin:"\\\\[\\s\\S]",relevance:0},fte={scope:"string",begin:"'",end:"'",illegal:"\\n",contains:[ov]},gte={scope:"string",begin:'"',end:'"',illegal:"\\n",contains:[ov]},mte={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},L1=function(e,o,n={}){const i=qc({scope:"comment",begin:e,end:o,contains:[]},n);i.contains.push({scope:"doctag",begin:"[ ]*(?=(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):)",end:/(TODO|FIXME|NOTE|BUG|OPTIMIZE|HACK|XXX):/,excludeBegin:!0,relevance:0});const l=mS("I","a","is","so","us","to","at","if","in","it","on",/[A-Za-z]+['](d|ve|re|ll|t|s|n)/,/[A-Za-z]+[-][a-z]+/,/[A-Za-z][a-z]{2,}/);return i.contains.push({begin:Yh(/[ ]+/,"(",l,/[.]?[:]?([.][ ]|[ ])/,"){3}")}),i},$te=L1("//","$"),vte=L1("/\\*","\\*/"),_te=L1("#","$"),bte={scope:"number",begin:l4,relevance:0},Tte={scope:"number",begin:a4,relevance:0},yte={scope:"number",begin:u4,relevance:0},Ete={begin:/(?=\/[^/\n]*\/)/,contains:[{scope:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[ov,{begin:/\[/,end:/\]/,relevance:0,contains:[ov]}]}]},Cte={scope:"title",begin:s4,relevance:0},Ite={scope:"title",begin:vS,relevance:0},Ste={begin:"\\.\\s*"+vS,relevance:0},Ote=function(e){return Object.assign(e,{"on:begin":(o,n)=>{n.data._beginMatch=o[1]},"on:end":(o,n)=>{n.data._beginMatch!==o[1]&&n.ignoreMatch()}})};var _0=Object.freeze({__proto__:null,MATCH_NOTHING_RE:dte,IDENT_RE:s4,UNDERSCORE_IDENT_RE:vS,NUMBER_RE:l4,C_NUMBER_RE:a4,BINARY_NUMBER_RE:u4,RE_STARTERS_RE:hte,SHEBANG:pte,BACKSLASH_ESCAPE:ov,APOS_STRING_MODE:fte,QUOTE_STRING_MODE:gte,PHRASAL_WORDS_MODE:mte,COMMENT:L1,C_LINE_COMMENT_MODE:$te,C_BLOCK_COMMENT_MODE:vte,HASH_COMMENT_MODE:_te,NUMBER_MODE:bte,C_NUMBER_MODE:Tte,BINARY_NUMBER_MODE:yte,REGEXP_MODE:Ete,TITLE_MODE:Cte,UNDERSCORE_TITLE_MODE:Ite,METHOD_GUARD:Ste,END_SAME_AS_BEGIN:Ote});function kte(e,o){e.input[e.index-1]==="."&&o.ignoreMatch()}function wte(e,o){e.className!==void 0&&(e.scope=e.className,delete e.className)}function Nte(e,o){o&&e.beginKeywords&&(e.begin="\\b("+e.beginKeywords.split(" ").join("|")+")(?!\\.)(?=\\b|\\s)",e.__beforeBegin=kte,e.keywords=e.keywords||e.beginKeywords,delete e.beginKeywords,e.relevance===void 0&&(e.relevance=0))}function Ate(e,o){Array.isArray(e.illegal)&&(e.illegal=mS(...e.illegal))}function Rte(e,o){if(e.match){if(e.begin||e.end)throw new Error("begin & end are not supported with match");e.begin=e.match,delete e.match}}function Lte(e,o){e.relevance===void 0&&(e.relevance=1)}const Mte=(e,o)=>{if(!e.beforeMatch)return;if(e.starts)throw new Error("beforeMatch cannot be used with starts");const n=Object.assign({},e);Object.keys(e).forEach(i=>{delete e[i]}),e.keywords=n.keywords,e.begin=Yh(n.beforeMatch,r4(n.begin)),e.starts={relevance:0,contains:[Object.assign(n,{endsParent:!0})]},e.relevance=0,delete n.beforeMatch},Pte=["of","and","for","in","not","or","if","then","parent","list","value"],Dte="keyword";function c4(e,o,n=Dte){const i=Object.create(null);return typeof e=="string"?l(n,e.split(" ")):Array.isArray(e)?l(n,e):Object.keys(e).forEach(function(u){Object.assign(i,c4(e[u],o,u))}),i;function l(u,a){o&&(a=a.map(h=>h.toLowerCase())),a.forEach(function(h){const p=h.split("|");i[p[0]]=[u,xte(p[0],p[1])]})}}function xte(e,o){return o?Number(o):Bte(e)?0:1}function Bte(e){return Pte.includes(e.toLowerCase())}const pN={},Fh=e=>{console.error(e)},fN=(e,...o)=>{console.log(`WARN: ${e}`,...o)},Gf=(e,o)=>{pN[`${e}/${o}`]||(console.log(`Deprecated as of ${e}. ${o}`),pN[`${e}/${o}`]=!0)},Xb=new Error;function d4(e,o,{key:n}){let i=0;const l=e[n],u={},a={};for(let h=1;h<=o.length;h++)a[h+i]=l[h],u[h+i]=!0,i+=i4(o[h-1]);e[n]=a,e[n]._emit=u,e[n]._multi=!0}function Fte(e){if(Array.isArray(e.begin)){if(e.skip||e.excludeBegin||e.returnBegin)throw Fh("skip, excludeBegin, returnBegin not compatible with beginScope: {}"),Xb;if(typeof e.beginScope!="object"||e.beginScope===null)throw Fh("beginScope must be object"),Xb;d4(e,e.begin,{key:"beginScope"}),e.begin=$S(e.begin,{joinWith:""})}}function Vte(e){if(Array.isArray(e.end)){if(e.skip||e.excludeEnd||e.returnEnd)throw Fh("skip, excludeEnd, returnEnd not compatible with endScope: {}"),Xb;if(typeof e.endScope!="object"||e.endScope===null)throw Fh("endScope must be object"),Xb;d4(e,e.end,{key:"endScope"}),e.end=$S(e.end,{joinWith:""})}}function Ute(e){e.scope&&typeof e.scope=="object"&&e.scope!==null&&(e.beginScope=e.scope,delete e.scope)}function Hte(e){Ute(e),typeof e.beginScope=="string"&&(e.beginScope={_wrap:e.beginScope}),typeof e.endScope=="string"&&(e.endScope={_wrap:e.endScope}),Fte(e),Vte(e)}function Gte(e){function o(a,h){return new RegExp(nv(a),"m"+(e.case_insensitive?"i":"")+(e.unicodeRegex?"u":"")+(h?"g":""))}class n{constructor(){this.matchIndexes={},this.regexes=[],this.matchAt=1,this.position=0}addRule(h,p){p.position=this.position++,this.matchIndexes[this.matchAt]=p,this.regexes.push([p,h]),this.matchAt+=i4(h)+1}compile(){this.regexes.length===0&&(this.exec=()=>null);const h=this.regexes.map(p=>p[1]);this.matcherRe=o($S(h,{joinWith:"|"}),!0),this.lastIndex=0}exec(h){this.matcherRe.lastIndex=this.lastIndex;const p=this.matcherRe.exec(h);if(!p)return null;const m=p.findIndex((T,w)=>w>0&&T!==void 0),$=this.matchIndexes[m];return p.splice(0,m),Object.assign(p,$)}}class i{constructor(){this.rules=[],this.multiRegexes=[],this.count=0,this.lastIndex=0,this.regexIndex=0}getMatcher(h){if(this.multiRegexes[h])return this.multiRegexes[h];const p=new n;return this.rules.slice(h).forEach(([m,$])=>p.addRule(m,$)),p.compile(),this.multiRegexes[h]=p,p}resumingScanAtSamePosition(){return this.regexIndex!==0}considerAll(){this.regexIndex=0}addRule(h,p){this.rules.push([h,p]),p.type==="begin"&&this.count++}exec(h){const p=this.getMatcher(this.regexIndex);p.lastIndex=this.lastIndex;let m=p.exec(h);if(this.resumingScanAtSamePosition()&&!(m&&m.index===this.lastIndex)){const $=this.getMatcher(0);$.lastIndex=this.lastIndex+1,m=$.exec(h)}return m&&(this.regexIndex+=m.position+1,this.regexIndex===this.count&&this.considerAll()),m}}function l(a){const h=new i;return a.contains.forEach(p=>h.addRule(p.begin,{rule:p,type:"begin"})),a.terminatorEnd&&h.addRule(a.terminatorEnd,{type:"end"}),a.illegal&&h.addRule(a.illegal,{type:"illegal"}),h}function u(a,h){const p=a;if(a.isCompiled)return p;[wte,Rte,Hte,Mte].forEach($=>$(a,h)),e.compilerExtensions.forEach($=>$(a,h)),a.__beforeBegin=null,[Nte,Ate,Lte].forEach($=>$(a,h)),a.isCompiled=!0;let m=null;return typeof a.keywords=="object"&&a.keywords.$pattern&&(a.keywords=Object.assign({},a.keywords),m=a.keywords.$pattern,delete a.keywords.$pattern),m=m||/\w+/,a.keywords&&(a.keywords=c4(a.keywords,e.case_insensitive)),p.keywordPatternRe=o(m,!0),h&&(a.begin||(a.begin=/\B|\b/),p.beginRe=o(p.begin),!a.end&&!a.endsWithParent&&(a.end=/\B|\b/),a.end&&(p.endRe=o(p.end)),p.terminatorEnd=nv(p.end)||"",a.endsWithParent&&h.terminatorEnd&&(p.terminatorEnd+=(a.end?"|":"")+h.terminatorEnd)),a.illegal&&(p.illegalRe=o(a.illegal)),a.contains||(a.contains=[]),a.contains=[].concat(...a.contains.map(function($){return zte($==="self"?a:$)})),a.contains.forEach(function($){u($,p)}),a.starts&&u(a.starts,h),p.matcher=l(p),p}if(e.compilerExtensions||(e.compilerExtensions=[]),e.contains&&e.contains.includes("self"))throw new Error("ERR: contains `self` is not supported at the top-level of a language.  See documentation.");return e.classNameAliases=qc(e.classNameAliases||{}),u(e)}function h4(e){return e?e.endsWithParent||h4(e.starts):!1}function zte(e){return e.variants&&!e.cachedVariants&&(e.cachedVariants=e.variants.map(function(o){return qc(e,{variants:null},o)})),e.cachedVariants?e.cachedVariants:h4(e)?qc(e,{starts:e.starts?qc(e.starts):null}):Object.isFrozen(e)?qc(e):e}var Wte="11.8.0";class jte extends Error{constructor(o,n){super(o),this.name="HTMLInjectionError",this.html=n}}const tC=o4,gN=qc,mN=Symbol("nomatch"),Xte=7,p4=function(e){const o=Object.create(null),n=Object.create(null),i=[];let l=!0;const u="Could not find the language '{}', did you forget to load/include a language module?",a={disableAutodetect:!0,name:"Plain text",contains:[]};let h={ignoreUnescapedHTML:!1,throwUnescapedHTML:!1,noHighlightRe:/^(no-?highlight)$/i,languageDetectRe:/\blang(?:uage)?-([\w-]+)\b/i,classPrefix:"hljs-",cssSelector:"pre code",languages:null,__emitter:ite};function p(z){return h.noHighlightRe.test(z)}function m(z){let ne=z.className+" ";ne+=z.parentNode?z.parentNode.className:"";const ge=h.languageDetectRe.exec(ne);if(ge){const Q=Y(ge[1]);return Q||(fN(u.replace("{}",ge[1])),fN("Falling back to no-highlight mode for this block.",z)),Q?ge[1]:"no-highlight"}return ne.split(/\s+/).find(Q=>p(Q)||Y(Q))}function $(z,ne,ge){let Q="",Oe="";typeof ne=="object"?(Q=z,ge=ne.ignoreIllegals,Oe=ne.language):(Gf("10.7.0","highlight(lang, code, ...args) has been deprecated."),Gf("10.7.0",`Please use highlight(code, options) instead.
https://github.com/highlightjs/highlight.js/issues/2277`),Oe=z,Q=ne),ge===void 0&&(ge=!0);const Re={code:Q,language:Oe};K("before:highlight",Re);const _e=Re.result?Re.result:T(Re.language,Re.code,ge);return _e.code=Re.code,K("after:highlight",_e),_e}function T(z,ne,ge,Q){const Oe=Object.create(null);function Re(Se,xe){return Se.keywords[xe]}function _e(){if(!Le.keywords){Xe.addText(at);return}let Se=0;Le.keywordPatternRe.lastIndex=0;let xe=Le.keywordPatternRe.exec(at),Ke="";for(;xe;){Ke+=at.substring(Se,xe.index);const C=Ne.case_insensitive?xe[0].toLowerCase():xe[0],k=Re(Le,C);if(k){const[de,Ce]=k;if(Xe.addText(Ke),Ke="",Oe[C]=(Oe[C]||0)+1,Oe[C]<=Xte&&(Ee+=Ce),de.startsWith("_"))Ke+=xe[0];else{const Te=Ne.classNameAliases[de]||de;Be(xe[0],Te)}}else Ke+=xe[0];Se=Le.keywordPatternRe.lastIndex,xe=Le.keywordPatternRe.exec(at)}Ke+=at.substring(Se),Xe.addText(Ke)}function se(){if(at==="")return;let Se=null;if(typeof Le.subLanguage=="string"){if(!o[Le.subLanguage]){Xe.addText(at);return}Se=T(Le.subLanguage,at,!0,qe[Le.subLanguage]),qe[Le.subLanguage]=Se._top}else Se=A(at,Le.subLanguage.length?Le.subLanguage:null);Le.relevance>0&&(Ee+=Se.relevance),Xe.__addSublanguage(Se._emitter,Se.language)}function ke(){Le.subLanguage!=null?se():_e(),at=""}function Be(Se,xe){Se!==""&&(Xe.startScope(xe),Xe.addText(Se),Xe.endScope())}function et(Se,xe){let Ke=1;const C=xe.length-1;for(;Ke<=C;){if(!Se._emit[Ke]){Ke++;continue}const k=Ne.classNameAliases[Se[Ke]]||Se[Ke],de=xe[Ke];k?Be(de,k):(at=de,_e(),at=""),Ke++}}function ut(Se,xe){return Se.scope&&typeof Se.scope=="string"&&Xe.openNode(Ne.classNameAliases[Se.scope]||Se.scope),Se.beginScope&&(Se.beginScope._wrap?(Be(at,Ne.classNameAliases[Se.beginScope._wrap]||Se.beginScope._wrap),at=""):Se.beginScope._multi&&(et(Se.beginScope,xe),at="")),Le=Object.create(Se,{parent:{value:Le}}),Le}function dt(Se,xe,Ke){let C=ute(Se.endRe,Ke);if(C){if(Se["on:end"]){const k=new cN(Se);Se["on:end"](xe,k),k.isMatchIgnored&&(C=!1)}if(C){for(;Se.endsParent&&Se.parent;)Se=Se.parent;return Se}}if(Se.endsWithParent)return dt(Se.parent,xe,Ke)}function gt(Se){return Le.matcher.regexIndex===0?(at+=Se[0],1):(me=!0,0)}function we(Se){const xe=Se[0],Ke=Se.rule,C=new cN(Ke),k=[Ke.__beforeBegin,Ke["on:begin"]];for(const de of k)if(de&&(de(Se,C),C.isMatchIgnored))return gt(xe);return Ke.skip?at+=xe:(Ke.excludeBegin&&(at+=xe),ke(),!Ke.returnBegin&&!Ke.excludeBegin&&(at=xe)),ut(Ke,Se),Ke.returnBegin?0:xe.length}function le(Se){const xe=Se[0],Ke=ne.substring(Se.index),C=dt(Le,Se,Ke);if(!C)return mN;const k=Le;Le.endScope&&Le.endScope._wrap?(ke(),Be(xe,Le.endScope._wrap)):Le.endScope&&Le.endScope._multi?(ke(),et(Le.endScope,Se)):k.skip?at+=xe:(k.returnEnd||k.excludeEnd||(at+=xe),ke(),k.excludeEnd&&(at=xe));do Le.scope&&Xe.closeNode(),!Le.skip&&!Le.subLanguage&&(Ee+=Le.relevance),Le=Le.parent;while(Le!==C.parent);return C.starts&&ut(C.starts,Se),k.returnEnd?0:xe.length}function ce(){const Se=[];for(let xe=Le;xe!==Ne;xe=xe.parent)xe.scope&&Se.unshift(xe.scope);Se.forEach(xe=>Xe.openNode(xe))}let re={};function Me(Se,xe){const Ke=xe&&xe[0];if(at+=Se,Ke==null)return ke(),0;if(re.type==="begin"&&xe.type==="end"&&re.index===xe.index&&Ke===""){if(at+=ne.slice(xe.index,xe.index+1),!l){const C=new Error(`0 width match regex (${z})`);throw C.languageName=z,C.badRule=re.rule,C}return 1}if(re=xe,xe.type==="begin")return we(xe);if(xe.type==="illegal"&&!ge){const C=new Error('Illegal lexeme "'+Ke+'" for mode "'+(Le.scope||"<unnamed>")+'"');throw C.mode=Le,C}else if(xe.type==="end"){const C=le(xe);if(C!==mN)return C}if(xe.type==="illegal"&&Ke==="")return 1;if(he>1e5&&he>xe.index*3)throw new Error("potential infinite loop, way more iterations than matches");return at+=Ke,Ke.length}const Ne=Y(z);if(!Ne)throw Fh(u.replace("{}",z)),new Error('Unknown language: "'+z+'"');const $e=Gte(Ne);let Fe="",Le=Q||$e;const qe={},Xe=new h.__emitter(h);ce();let at="",Ee=0,Ie=0,he=0,me=!1;try{if(Ne.__emitTokens)Ne.__emitTokens(ne,Xe);else{for(Le.matcher.considerAll();;){he++,me?me=!1:Le.matcher.considerAll(),Le.matcher.lastIndex=Ie;const Se=Le.matcher.exec(ne);if(!Se)break;const xe=ne.substring(Ie,Se.index),Ke=Me(xe,Se);Ie=Se.index+Ke}Me(ne.substring(Ie))}return Xe.finalize(),Fe=Xe.toHTML(),{language:z,value:Fe,relevance:Ee,illegal:!1,_emitter:Xe,_top:Le}}catch(Se){if(Se.message&&Se.message.includes("Illegal"))return{language:z,value:tC(ne),illegal:!0,relevance:0,_illegalBy:{message:Se.message,index:Ie,context:ne.slice(Ie-100,Ie+100),mode:Se.mode,resultSoFar:Fe},_emitter:Xe};if(l)return{language:z,value:tC(ne),illegal:!1,relevance:0,errorRaised:Se,_emitter:Xe,_top:Le};throw Se}}function w(z){const ne={value:tC(z),illegal:!1,relevance:0,_top:a,_emitter:new h.__emitter(h)};return ne._emitter.addText(z),ne}function A(z,ne){ne=ne||h.languages||Object.keys(o);const ge=w(z),Q=ne.filter(Y).filter(ee).map(ke=>T(ke,z,!1));Q.unshift(ge);const Oe=Q.sort((ke,Be)=>{if(ke.relevance!==Be.relevance)return Be.relevance-ke.relevance;if(ke.language&&Be.language){if(Y(ke.language).supersetOf===Be.language)return 1;if(Y(Be.language).supersetOf===ke.language)return-1}return 0}),[Re,_e]=Oe,se=Re;return se.secondBest=_e,se}function R(z,ne,ge){const Q=ne&&n[ne]||ge;z.classList.add("hljs"),z.classList.add(`language-${Q}`)}function L(z){let ne=null;const ge=m(z);if(p(ge))return;if(K("before:highlightElement",{el:z,language:ge}),z.children.length>0&&(h.ignoreUnescapedHTML||(console.warn("One of your code blocks includes unescaped HTML. This is a potentially serious security risk."),console.warn("https://github.com/highlightjs/highlight.js/wiki/security"),console.warn("The element with unescaped HTML:"),console.warn(z)),h.throwUnescapedHTML))throw new jte("One of your code blocks includes unescaped HTML.",z.innerHTML);ne=z;const Q=ne.textContent,Oe=ge?$(Q,{language:ge,ignoreIllegals:!0}):A(Q);z.innerHTML=Oe.value,R(z,ge,Oe.language),z.result={language:Oe.language,re:Oe.relevance,relevance:Oe.relevance},Oe.secondBest&&(z.secondBest={language:Oe.secondBest.language,relevance:Oe.secondBest.relevance}),K("after:highlightElement",{el:z,result:Oe,text:Q})}function M(z){h=gN(h,z)}const B=()=>{F(),Gf("10.6.0","initHighlighting() deprecated.  Use highlightAll() now.")};function G(){F(),Gf("10.6.0","initHighlightingOnLoad() deprecated.  Use highlightAll() now.")}let j=!1;function F(){if(document.readyState==="loading"){j=!0;return}document.querySelectorAll(h.cssSelector).forEach(L)}function x(){j&&F()}typeof window<"u"&&window.addEventListener&&window.addEventListener("DOMContentLoaded",x,!1);function D(z,ne){let ge=null;try{ge=ne(e)}catch(Q){if(Fh("Language definition for '{}' could not be registered.".replace("{}",z)),l)Fh(Q);else throw Q;ge=a}ge.name||(ge.name=z),o[z]=ge,ge.rawDefinition=ne.bind(null,e),ge.aliases&&J(ge.aliases,{languageName:z})}function U(z){delete o[z];for(const ne of Object.keys(n))n[ne]===z&&delete n[ne]}function te(){return Object.keys(o)}function Y(z){return z=(z||"").toLowerCase(),o[z]||o[n[z]]}function J(z,{languageName:ne}){typeof z=="string"&&(z=[z]),z.forEach(ge=>{n[ge.toLowerCase()]=ne})}function ee(z){const ne=Y(z);return ne&&!ne.disableAutodetect}function ue(z){z["before:highlightBlock"]&&!z["before:highlightElement"]&&(z["before:highlightElement"]=ne=>{z["before:highlightBlock"](Object.assign({block:ne.el},ne))}),z["after:highlightBlock"]&&!z["after:highlightElement"]&&(z["after:highlightElement"]=ne=>{z["after:highlightBlock"](Object.assign({block:ne.el},ne))})}function oe(z){ue(z),i.push(z)}function X(z){const ne=i.indexOf(z);ne!==-1&&i.splice(ne,1)}function K(z,ne){const ge=z;i.forEach(function(Q){Q[ge]&&Q[ge](ne)})}function q(z){return Gf("10.7.0","highlightBlock will be removed entirely in v12.0"),Gf("10.7.0","Please use highlightElement now."),L(z)}Object.assign(e,{highlight:$,highlightAuto:A,highlightAll:F,highlightElement:L,highlightBlock:q,configure:M,initHighlighting:B,initHighlightingOnLoad:G,registerLanguage:D,unregisterLanguage:U,listLanguages:te,getLanguage:Y,registerAliases:J,autoDetection:ee,inherit:gN,addPlugin:oe,removePlugin:X}),e.debugMode=function(){l=!1},e.safeMode=function(){l=!0},e.versionString=Wte,e.regex={concat:Yh,lookahead:r4,either:mS,optional:lte,anyNumberOfTimes:ste};for(const z in _0)typeof _0[z]=="object"&&n4(_0[z]);return Object.assign(e,_0),e},cg=p4({});cg.newInstance=()=>p4({});var Kte=cg;cg.HighlightJS=cg;cg.default=cg;const Nu=xl(Kte);var $N=Ae({props:{code:{type:String,required:!0},language:{type:String,default:""},autodetect:{type:Boolean,default:!0},ignoreIllegals:{type:Boolean,default:!0}},setup:function(e){var o=ve(e.language);At(function(){return e.language},function(l){o.value=l});var n=O(function(){return e.autodetect||!o.value}),i=O(function(){return!n.value&&!Nu.getLanguage(o.value)});return{className:O(function(){return i.value?"":"hljs "+o.value}),highlightedCode:O(function(){var l;if(i.value)return console.warn('The language "'+o.value+'" you specified could not be found.'),e.code.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;");if(n.value){var u=Nu.highlightAuto(e.code);return o.value=(l=u.language)!==null&&l!==void 0?l:"",u.value}return(u=Nu.highlight(e.code,{language:o.value,ignoreIllegals:e.ignoreIllegals})).value})}},render:function(){return pi("pre",{},[pi("code",{class:this.className,innerHTML:this.highlightedCode})])}}),Yte={install:function(e){e.component("highlightjs",$N)},component:$N};const Qte="modulepreload",qte=function(e){return"/"+e},vN={},Zte=function(o,n,i){if(!n||n.length===0)return o();const l=document.getElementsByTagName("link");return Promise.all(n.map(u=>{if(u=qte(u),u in vN)return;vN[u]=!0;const a=u.endsWith(".css"),h=a?'[rel="stylesheet"]':"";if(!!i)for(let $=l.length-1;$>=0;$--){const T=l[$];if(T.href===u&&(!a||T.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${h}`))return;const m=document.createElement("link");if(m.rel=a?"stylesheet":Qte,a||(m.as="script",m.crossOrigin=""),m.href=u,document.head.appendChild(m),a)return new Promise(($,T)=>{m.addEventListener("load",$),m.addEventListener("error",()=>T(new Error(`Unable to preload CSS for ${u}`)))})})).then(()=>o()).catch(u=>{const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=u,window.dispatchEvent(a),!a.defaultPrevented)throw u})};function Jte(e={}){const{immediate:o=!1,onNeedRefresh:n,onOfflineReady:i,onRegistered:l,onRegisteredSW:u,onRegisterError:a}=e;let h,p;const m=async(T=!0)=>{await p};async function $(){if("serviceWorker"in navigator){const{Workbox:T}=await Zte(()=>import("./workbox-window.prod.es5-a7b12eab.js"),[]);h=new T("/sw.js",{scope:"/",type:"classic"}),h.addEventListener("activated",w=>{(w.isUpdate||w.isExternal)&&window.location.reload()}),h.addEventListener("installed",w=>{w.isUpdate||i==null||i()}),h.register({immediate:o}).then(w=>{u?u("/sw.js",w):l==null||l(w)}).catch(w=>{a==null||a(w)})}}return p=$(),m}const M1=(e,o)=>{const n=e.__vccOpts||e;for(const[i,l]of o)n[i]=l;return n};function ene(e){const o={displayText:"生成图片",preconditionFn:function(){return"enabled"},callback:function(i){let l={blocks:{languageVersion:0,blocks:[i.block.toCopyData().saveInfo]}},u=document.createElement("div");u.id="secondaryDiv";let a=bn.inject(u,{readOnly:!0,theme:"codemao",renderer:"codemao"});bn.serialization.workspaces.load(l,a),nne(a)},scopeType:bn.ContextMenuRegistry.ScopeType.BLOCK,id:"block_to_image",weight:100};bn.ContextMenuRegistry.registry.register(o);const n={displayText:"全局预览",preconditionFn:function(i){return i.workspace.blockDB.size?"enabled":"disabled"},callback:function(i){f4(i.workspace,function(l){e(l)})},scopeType:bn.ContextMenuRegistry.ScopeType.WORKSPACE,id:"workspace_to_image",weight:100};bn.ContextMenuRegistry.registry.register(n)}function tne(e,o,n,i){let l=document.createElement("canvas"),u=l.getContext("2d"),a=new Image,h=1;l.width=o*h,l.height=n*h,a.onload=function(){u.drawImage(a,0,0,o,n,0,0,l.width,l.height);try{let p=l.toDataURL("image/png");i(p)}catch{console.warn("Error converting the workspace svg to a png"),i("")}},a.src=e}function f4(e,o,n){let i=document.getElementsByTagName("textarea");for(let M=0;M<i.length;M++)i[M].innerHTML=i[M].value;let l=e.getBlocksBoundingBox(),u=l.x||l.left,a=l.y||l.top,h=l.width||l.right-u,p=l.height||l.bottom-a,$=e.getCanvas().cloneNode(!0);$.removeAttribute("transform");let T=document.createElementNS("http://www.w3.org/2000/svg","svg");T.setAttribute("xmlns","http://www.w3.org/2000/svg"),T.appendChild($),T.setAttribute("viewBox",u+" "+a+" "+h+" "+p),T.setAttribute("class","blocklySvg "+(e.options.renderer||"geras")+"-renderer "+(e.getTheme?e.getTheme().name+"-theme":"")),T.setAttribute("width",h),T.setAttribute("height",p),T.setAttribute("style","background-color: transparent");let w=[].slice.call(document.head.querySelectorAll("style")).filter(function(M){return/\.blocklySvg/.test(M.innerText)||M.id.indexOf("blockly-")===0}).map(function(M){return M.innerText}).join(`
`),A=document.createElement("style");A.innerHTML=w+`
`+n,T.insertBefore(A,T.firstChild);let R=new XMLSerializer().serializeToString(T);R=R.replace(/&nbsp/g,"&#160");let L="data:image/svg+xml,"+encodeURIComponent(R);tne(L,h,p,o)}const nne=function(e){f4(e,function(o){let n=document.createElement("a");n.download="block.png",n.target="_self",n.href=o,document.body.appendChild(n),n.click(),n.parentNode.removeChild(n)})},one={setup(){const e=ve(!1),o=ve(""),n=i=>{e.value=!0,o.value=i};return ene(n),{visible:e,src:o,onClick:n}}};function rne(e,o,n,i,l,u){const a=Pe("a-image-preview");return W(),Ze(a,{src:i.src,"onUpdate:src":o[0]||(o[0]=h=>i.src=h),visible:i.visible,"onUpdate:visible":o[1]||(o[1]=h=>i.visible=h)},null,8,["src","visible"])}const ine=M1(one,[["render",rne]]);var sd=(e,o)=>{const n=e.__vccOpts||e;for(const[i,l]of o)n[i]=l;return n};const sne={name:"IconDark",props:{prefix:{type:String,default:"boxy"},useCurrentColor:{type:Boolean,default:!0}}},lne=["fill"],ane=De("defs",null,[De("clipPath",{id:"svg_a82fd95db1__a"},[De("rect",{width:"48",height:"48",rx:"0"})])],-1),une=De("g",{"clip-path":"url(#svg_a82fd95db1__a)"},[De("path",{d:"M28.4559,2.45191Q26.2603,2,24,2Q19.525399999999998,2,15.436,3.72969Q11.48756,5.39973,8.44365,8.44365Q5.39973,11.48757,3.729689,15.436Q2,19.525399999999998,2,24Q2,28.4746,3.72969,32.564Q5.39973,36.5124,8.44365,39.5564Q11.48757,42.6003,15.436,44.2703Q19.525399999999998,46,24,46Q28.4746,46,32.564,44.2703Q36.5124,42.6003,39.5564,39.5564Q42.6003,36.5124,44.2703,32.564Q46,28.4746,46,24Q46,21.7397,45.548,19.544Q45.5199,19.407600000000002,45.4732,19.2763Q45.4265,19.1451,45.362,19.0216Q45.2975,18.8981,45.2165,18.7847Q45.1355,18.6714,45.0396,18.5703Q44.9437,18.4693,44.8347,18.3825Q44.7257,18.2958,44.6057,18.224899999999998Q44.4857,18.1541,44.3571,18.1006Q44.2285,18.0471,44.0936,18.012Q43.9986,17.9872,43.9015,17.971899999999998Q43.8045,17.9565,43.7064,17.950699999999998Q43.6083,17.945,43.5101,17.948900000000002Q43.4119,17.9527,43.3146,17.9662Q43.2173,17.9797,43.1218,18.0027Q43.0262,18.0256,42.9334,18.0578Q42.8406,18.0901,42.7514,18.1312Q42.6621,18.1724,42.5774,18.222099999999998Q42.4926,18.2718,42.4132,18.3295Q42.3337,18.3873,42.2602,18.4526Q42.1868,18.517899999999997,42.1201,18.59Q42.0535,18.6622,41.9942,18.7406Q41.9349,18.8189,41.8836,18.9027Q41.8323,18.9865,41.7894,19.0749Q41.7465,19.1633,41.7126,19.255499999999998Q41.6786,19.3477,41.6538,19.4428Q40.7431,22.9361,37.8816,25.1777Q34.9751,27.4545,31.2727,27.4545Q29.0889,27.4545,27.0978,26.6123Q25.1731,25.7983,23.6874,24.3126Q22.2017,22.8269,21.3877,20.9022Q20.5455,18.911099999999998,20.5455,16.7273Q20.5455,13.02491,22.8223,10.118459999999999Q25.0639,7.2569300000000005,28.5573,6.346159999999999Q28.6921,6.31101,28.8207,6.25751Q28.9494,6.20401,29.0693,6.13319Q29.1893,6.06237,29.2983,5.9756Q29.4073,5.8888300000000005,29.5032,5.78778Q29.5992,5.68674,29.6801,5.57337Q29.7611,5.46,29.8256,5.3365Q29.8901,5.213,29.9368,5.0817499999999995Q29.9836,4.9505040000000005,30.0116,4.814043Q30.0513,4.621105,30.0527,4.424127Q30.054,4.227148,30.0168,4.0336998Q29.9797,3.840251,29.9055,3.6577669999999998Q29.8313,3.475282,29.723,3.310774Q29.6146,3.146266,29.4763,3.006056Q29.3379,2.86585,29.1749,2.75532Q29.0118,2.6448,28.8303,2.56821Q28.6488,2.49162,28.4559,2.45191ZM20.8976,6.26333Q18.894,6.6101399999999995,16.9942,7.41371Q13.76432,8.77983,11.272079999999999,11.272079999999999Q8.77983,13.76432,7.41371,16.9942Q6,20.3366,6,24Q6,27.6634,7.41371,31.0058Q8.77983,34.2357,11.272079999999999,36.7279Q13.76433,39.2202,16.9942,40.5863Q20.3366,42,24,42Q27.6634,42,31.0058,40.5863Q34.2357,39.2202,36.7279,36.7279Q39.2202,34.2357,40.5863,31.0058Q41.3899,29.106,41.7367,27.1024Q41.0902,27.7453,40.3483,28.3265Q36.3553,31.4545,31.2727,31.4545Q28.2778,31.4545,25.5396,30.2964Q22.8963,29.1783,20.859,27.141Q18.8216,25.1037,17.7036,22.4604Q16.5455,19.7222,16.5455,16.7273Q16.5455,11.6447,19.6735,7.65174Q20.2547,6.90977,20.8976,6.26333Z","fill-rule":"evenodd"})],-1),cne=[ane,une];function dne(e,o,n,i,l,u){return W(),fe("svg",lt({xmlns:"http://www.w3.org/2000/svg",fill:n.useCurrentColor?"currentColor":"#000",viewBox:"0 0 48 48",class:[`${n.prefix}-icon`,`${n.prefix}-icon-dark`],width:"1em",height:"1em"},e.$attrs),cne,16,lne)}var hne=sd(sne,[["render",dne]]);const pne={name:"IconCode",props:{prefix:{type:String,default:"boxy"},useCurrentColor:{type:Boolean,default:!0}}},fne=["fill"],gne=De("defs",null,[De("clipPath",{id:"svg_c13367945d__a"},[De("rect",{width:"48",height:"48",rx:"0"})])],-1),mne=De("g",{"clip-path":"url(#svg_c13367945d__a)","fill-rule":"evenodd"},[De("path",{d:"M13.6112 38.4392L13.6119 38.4399Q13.7504 38.5734 13.9118 38.6781 14.0732 38.7827 14.2516 38.8547 14.43 38.9267 14.6188 38.963300000000004 14.8076 39 15 39 15.0183 39 15.0367 38.999700000000004 15.2336 38.9961 15.4261 38.9541 15.6185 38.912099999999995 15.7991 38.8334 15.9797 38.7547 16.1414 38.6423 16.3032 38.5299 16.4399 38.3881 16.5734 38.2496 16.6781 38.0882 16.7827 37.9268 16.8547 37.748400000000004 16.9267 37.57 16.9633 37.3812 17 37.1924 17 37 17 36.981700000000004 16.9997 36.963300000000004 16.9961 36.766400000000004 16.9541 36.573899999999995 16.912100000000002 36.3815 16.833399999999997 36.200900000000004 16.7547 36.0203 16.6423 35.858599999999996 16.529899999999998 35.696799999999996 16.3881 35.5601L16.3873 35.5594 5.8288899999999995 25.3812 16.438200000000002 14.38983 16.439 14.38898Q16.572699999999998 14.25047 16.677500000000002 14.088989999999999 16.782400000000003 13.927508 16.8545 13.748998 16.9266 13.570489 16.9633 13.381504 17 13.19252 17 13.000000000000012 17 12.9823145 16.9997 12.9646317 16.9962 12.76768 16.9544 12.575192 16.9125 12.382703 16.8339 12.202077 16.7553 12.02145 16.643 11.85963 16.5307 11.6978 16.389 11.561 16.250500000000002 11.4273 16.089 11.32247 15.9275 11.217649999999999 15.749 11.14555 15.5705 11.07345 15.3815 11.03672 15.1925 11 15 11L14.9976 11Q14.9811 11.00002 14.9646 11.00031 14.7677 11.0038 14.5752 11.04564 14.3827 11.08748 14.2021 11.16606 14.0215 11.24465 13.8596 11.35697 13.6978 11.46929 13.561 11.61102L13.5602 11.61187 1.561 24.043100000000003 1.5601 24.0441Q1.42339 24.1859 1.31697 24.3517 1.21055 24.517400000000002 1.13852 24.7008 1.06649 24.8841 1.03161 25.078.9967299999999999 25.2718 1.00034 25.4688 1.00395 25.6657 1.04591 25.8582 1.08788 26.0507 1.16658 26.2312 1.24529 26.4118 1.35771 26.5736 1.47013 26.735300000000002 1.61195 26.872L13.6112 38.4392zM31.6128 35.5593L31.61195 35.5601Q31.47013 35.696799999999996 31.35771 35.858599999999996 31.24529 36.0203 31.16658 36.200900000000004 31.08788 36.3815 31.04591 36.573899999999995 31.00395 36.766400000000004 31.00034 36.963300000000004 31 36.981700000000004 31 37 31 37.0297 31.00088 37.0594 31.00638 37.2442 31.04565 37.4249 31.08491 37.6055 31.15663 37.7759 31.22834 37.9463 31.33007 38.1006 31.4318 38.254999999999995 31.5601 38.3881 31.70002 38.5332 31.8661 38.6475 32.032178 38.7618 32.217728 38.8407 32.403278 38.9195 32.600833 38.9598 32.798388 39 33 39 33.03343 39 33.066851 38.9989 33.250672 38.9927 33.430289 38.953199999999995 33.609906 38.9136 33.779294 38.841899999999995 33.948681 38.7703 34.10216 38.6689 34.25563 38.5676 34.38805 38.4399L34.3889 38.439099999999996 46.3881 26.872Q46.5299 26.735300000000002 46.6423 26.5736 46.7547 26.4118 46.8334 26.2312 46.9121 26.0507 46.9541 25.8582 46.9961 25.6657 46.999700000000004 25.4688 47.003299999999996 25.2718 46.9684 25.078 46.9335 24.8841 46.8615 24.7008 46.7894 24.517400000000002 46.683 24.3517 46.5766 24.1859 46.4399 24.0441L46.439 24.043100000000003 34.4391 11.61111 34.439 11.61102Q34.2991 11.46607 34.1331 11.351939999999999 33.9671 11.23781 33.781676 11.15908 33.596251 11.08035 33.398849 11.04017 33.201448 11 32.999999999999986 11 32.9659166 11 32.9318531 11.00116 32.748036 11.00743 32.568444 11.04711 32.388853 11.0868 32.219512 11.15858 32.050171 11.23035 31.89676 11.33181 31.74335 11.43326 31.61102 11.561 31.46607 11.7009 31.35194 11.8669 31.23781 12.0329 31.15908 12.218323999999999 31.08035 12.403749 31.04017 12.601151 31 12.798552 31 13 31 13.0340834 31.00116 13.0681469 31.00743 13.251964 31.04711 13.431556 31.0868 13.611147 31.15858 13.780488 31.23035 13.949829 31.33181 14.10324 31.43326 14.25665 31.561 14.38898L31.56109 14.38908 42.17111 25.3812 31.6128 35.5593zM26.02983 3.655886L19.02994 43.6552Q19 43.8263 19 44L19.00009 44.0195Q19.00094 44.1063 19.0093 44.1926 19.01766 44.279 19.03347 44.3644 19.04929 44.4497 19.07243 44.5334 19.095579999999998 44.617 19.12588 44.6984 19.15619 44.7797 19.19343 44.8581 19.23067 44.9365 19.27455 45.0114 19.31844 45.0862 19.36865 45.157 19.41887 45.2278 19.47502 45.294 19.53118 45.3602 19.59285 45.4212 19.65453 45.4823 19.72126 45.5378 19.788 45.5933 19.85929 45.6428 19.93058 45.6923 20.005894 45.7354 20.081206 45.7786 20.159972 45.815 20.238738 45.8515 20.320366 45.881 20.401994 45.9105 20.48587 45.9328 20.569746 45.9551 20.655239 45.9701 20.82632 46 21 46 21.0211794 46 21.0423827 45.9996 21.339964 45.9932 21.622812 45.9006 21.905661 45.8079 22.149259999999998 45.6368 22.31047 45.5236 22.44651 45.3812 22.58254 45.2387 22.68816 45.0724 22.79379 44.9062 22.86495 44.7225 22.9361 44.5388 22.97006 44.3448L29.97006 4.344761Q30 4.173682 30 4.0000044183 30 3.9788062 29.99955 3.9576172 29.99324 3.660036 29.900550000000003 3.377187 29.807859999999998 3.0943389999999997 29.63683 2.85074 29.52363 2.68953 29.38116 2.55349 29.2387 2.41746 29.07243 2.31184 28.90616 2.20621 28.72248 2.1350499999999997 28.53879 2.0639000000000003 28.34476 2.02994 28.17368 2 28 2L27.98053 2.00009Q27.89374 2.00094 27.80735 2.0093 27.720959999999998 2.0176600000000002 27.63562 2.0334700000000003 27.55028 2.04929 27.466630000000002 2.0724299999999998 27.38298 2.09558 27.301650000000002 2.12588 27.22032 2.15619 27.14192 2.19343 27.06352 2.23067 26.98865 2.27455 26.91377 2.31844 26.84297 2.3686499999999997 26.77218 2.41887 26.706 2.4750199999999998 26.63982 2.53118 26.57876 2.5928500000000003 26.51769 2.6545300000000003 26.4622 2.72126 26.40671 2.7880000000000003 26.3572 2.85929 26.3077 2.93058 26.26456 3.005894 26.221420000000002 3.081206 26.18497 3.159972 26.14851 3.238738 26.11902 3.320366 26.08952 3.401994 26.06721 3.4858700000000002 26.0449 3.569746 26.02994 3.655239L26.02983 3.655886z"})],-1),$ne=[gne,mne];function vne(e,o,n,i,l,u){return W(),fe("svg",lt({xmlns:"http://www.w3.org/2000/svg",fill:n.useCurrentColor?"currentColor":"#000",viewBox:"0 0 48 48",class:[`${n.prefix}-icon`,`${n.prefix}-icon-code`],width:"1em",height:"1em"},e.$attrs),$ne,16,fne)}var _ne=sd(pne,[["render",vne]]);const bne={name:"IconBigger",props:{prefix:{type:String,default:"boxy"},useCurrentColor:{type:Boolean,default:!0}}},Tne=["fill"],yne=pg('<defs><clipPath id="svg_7de99d55a7__a"><rect width="48" height="48" rx="0"></rect></clipPath></defs><g clip-path="url(#svg_7de99d55a7__a)" fill-rule="evenodd"><path d="M22.00001335144043,41.9983L22.00001335144043,41.9987L22.00001335144043,42Q22.00001335144043,42.0474,22.00226335144043,42.0947Q22.01101335144043,42.2794,22.05347335144043,42.4593Q22.09592335144043,42.6392,22.17063335144043,42.8083Q22.24535335144043,42.9774,22.34979335144043,43.1299Q22.45423335144043,43.2825,22.58485335144043,43.4133Q22.72405335144043,43.5527,22.88776335144043,43.6622Q23.05147735144043,43.7717,23.23341635144043,43.8472Q23.41535435144043,43.9227,23.608526351440428,43.9613Q23.80169835144043,43.9999,23.99868075144043,44L24.00001335144043,44Q24.18283635144043,44,24.36262935144043,43.9669Q24.44798335144043,43.9511,24.53165335144043,43.928Q24.61532335144043,43.905,24.69668035144043,43.8747Q24.778037351440428,43.8445,24.85647035144043,43.8073Q24.934902351440428,43.7702,25.00982335144043,43.7264Q25.08473335144043,43.6825,25.15557335144043,43.6324Q25.226413351440428,43.5822,25.29264335144043,43.5261Q25.35887335144043,43.47,25.41999335144043,43.4084Q25.48111335144043,43.3468,25.53666335144043,43.2801Q25.59222335144043,43.2134,25.64178335144043,43.1422Q25.69135335144043,43.0709,25.73456335144043,42.9957Q25.77777335144043,42.9204,25.81429335144043,42.8417Q25.85082335144043,42.7629,25.88038335144043,42.6813Q25.90995335144043,42.5997,25.93234335144043,42.5159Q25.95472335144043,42.432,25.96976335144043,42.3465Q25.98480335144043,42.261,25.99238335144043,42.1746Q25.99995335144043,42.0881,26.00001335144043,42.0013L26.00001335144043,42L26.02400335144043,6.00169526L26.02400335144043,6.0013326L26.02400335144043,6Q26.02400335144043,5.817177,25.99085335144043,5.637384Q25.97511335144043,5.55203,25.95204335144043,5.46836Q25.92897335144043,5.38469,25.89874335144043,5.303333Q25.86851335144043,5.221976,25.83134335144043,5.143543Q25.79417335144043,5.065111,25.75035335144043,4.99019Q25.70653335144043,4.91528,25.65638335144043,4.8444400000000005Q25.60623335144043,4.7736,25.55014335144043,4.70737Q25.49404335144043,4.64114,25.43242335144043,4.58002Q25.37080335144043,4.5189,25.304113351440428,4.46335Q25.23743335144043,4.40779,25.16618335144043,4.35823Q25.094933351440428,4.30866,25.01966335144043,4.2654499999999995Q24.944389351440428,4.22224,24.86565635144043,4.18572Q24.78692335144043,4.14919,24.70532235144043,4.11963Q24.62372035144043,4.09006,24.53986435144043,4.06767Q24.45600835144043,4.04529,24.37052835144043,4.0302500000000006Q24.28504835144043,4.01521,24.19858735144043,4.00763Q24.11212535144043,4.0000599999999995,24.02533275144043,4L24.02400015144043,4Q23.84117735144043,4,23.66138435144043,4.03315Q23.57603035144043,4.0488800000000005,23.49236035144043,4.07195Q23.40868935144043,4.0950299999999995,23.32733235144043,4.12526Q23.24597535144043,4.15549,23.16754335144043,4.19266Q23.08911135144043,4.22983,23.01419435144043,4.27365Q22.93927335144043,4.31747,22.86843335144043,4.3676200000000005Q22.79759335144043,4.4177599999999995,22.73137335144043,4.47386Q22.66514335144043,4.52996,22.60402335144043,4.59158Q22.54290335144043,4.6532,22.48734335144043,4.71988Q22.43179335144043,4.78657,22.38222335144043,4.85782Q22.33266335144043,4.92906,22.28945335144043,5.004337Q22.24624335144043,5.07961,22.20972335144043,5.158344Q22.17319335144043,5.237077,22.14362335144043,5.318678Q22.11406335144043,5.40028,22.09167335144043,5.484136Q22.06928335144043,5.567992,22.05425335144043,5.653472Q22.03921335144043,5.738952,22.03163335144043,5.825413Q22.02406335144043,5.9118746,22.02400335144043,5.9986674L22.02400335144043,5.999999999726104L22.00001335144043,41.9983Z"></path><path d="M6,26L42,26Q42.0983,26,42.196,25.99037Q42.2938,25.98074,42.3902,25.961570000000002Q42.4865,25.9424,42.5806,25.91388Q42.6746,25.88536,42.7654,25.84776Q42.8561,25.81016,42.9428,25.763840000000002Q43.0294,25.71753,43.1111,25.66294Q43.1928,25.60835,43.2688,25.54602Q43.3447,25.48369,43.4142,25.41421Q43.4837,25.34474,43.546,25.26879Q43.6083,25.19284,43.6629,25.11114Q43.7175,25.02945,43.7638,24.942793Q43.8102,24.856141,43.8478,24.765367Q43.8854,24.674592,43.9139,24.580569Q43.9424,24.486546,43.9616,24.390181Q43.9807,24.293815,43.9904,24.196034Q44,24.0982537,44,24Q44,23.9017463,43.9904,23.803966Q43.9807,23.706185,43.9616,23.609819Q43.9424,23.513454,43.9139,23.419431Q43.8854,23.325408,43.8478,23.234633Q43.8102,23.143859,43.7638,23.057207Q43.7175,22.97055,43.6629,22.88886Q43.6083,22.80716,43.546,22.73121Q43.4837,22.65526,43.4142,22.58579Q43.3447,22.51631,43.2688,22.45398Q43.1928,22.39165,43.1111,22.33706Q43.0294,22.28247,42.9428,22.236159999999998Q42.8561,22.18984,42.7654,22.15224Q42.6746,22.11464,42.5806,22.08612Q42.4865,22.0576,42.3902,22.038429999999998Q42.2938,22.01926,42.196,22.00963Q42.0983,22,42,22L6,22Q5.9017463,22,5.803966,22.00963Q5.706185,22.01926,5.609819,22.038429999999998Q5.513454,22.0576,5.419431,22.08612Q5.325408,22.11464,5.234633,22.15224Q5.143859,22.18984,5.057207,22.236159999999998Q4.97055,22.28247,4.88886,22.33706Q4.80716,22.39165,4.73121,22.45398Q4.65526,22.51631,4.58579,22.58579Q4.51631,22.65526,4.45398,22.73121Q4.39165,22.80716,4.33706,22.88886Q4.28247,22.97055,4.23616,23.057207Q4.18984,23.143859,4.15224,23.234633Q4.11464,23.325408,4.08612,23.419431Q4.0576,23.513454,4.03843,23.609819Q4.01926,23.706185,4.00963,23.803966Q4,23.9017463,4,24Q4,24.0982537,4.00963,24.196034Q4.01926,24.293815,4.03843,24.390181Q4.0576,24.486546,4.08612,24.580569Q4.11464,24.674592,4.15224,24.765367Q4.18984,24.856141,4.23616,24.942793Q4.28247,25.02945,4.33706,25.11114Q4.39165,25.19284,4.45398,25.26879Q4.51631,25.34474,4.58579,25.41421Q4.65526,25.48369,4.73121,25.54602Q4.80716,25.60835,4.88886,25.66294Q4.97055,25.71753,5.057207,25.763840000000002Q5.143859,25.81016,5.234633,25.84776Q5.325408,25.88536,5.419431,25.91388Q5.513454,25.9424,5.609819,25.961570000000002Q5.706185,25.98074,5.803966,25.99037Q5.9017463,26,6,26Z"></path></g>',2),Ene=[yne];function Cne(e,o,n,i,l,u){return W(),fe("svg",lt({xmlns:"http://www.w3.org/2000/svg",fill:n.useCurrentColor?"currentColor":"#000",viewBox:"0 0 48 48",class:[`${n.prefix}-icon`,`${n.prefix}-icon-bigger`],width:"1em",height:"1em"},e.$attrs),Ene,16,Tne)}var Ine=sd(bne,[["render",Cne]]);const Sne={name:"IconSmaller",props:{prefix:{type:String,default:"boxy"},useCurrentColor:{type:Boolean,default:!0}}},One=["fill"],kne=De("defs",null,[De("clipPath",{id:"svg_23394313d7__a"},[De("rect",{width:"48",height:"48",rx:"0"})])],-1),wne=De("g",{"clip-path":"url(#svg_23394313d7__a)"},[De("path",{d:"M6,26L42,26Q42.0983,26,42.196,25.99037Q42.2938,25.98074,42.3902,25.961570000000002Q42.4865,25.9424,42.5806,25.91388Q42.6746,25.88536,42.7654,25.84776Q42.8561,25.81016,42.9428,25.763840000000002Q43.0294,25.71753,43.1111,25.66294Q43.1928,25.60835,43.2688,25.54602Q43.3447,25.48369,43.4142,25.41421Q43.4837,25.34474,43.546,25.26879Q43.6083,25.19284,43.6629,25.11114Q43.7175,25.02945,43.7638,24.942793Q43.8102,24.856141,43.8478,24.765367Q43.8854,24.674592,43.9139,24.580569Q43.9424,24.486546,43.9616,24.390181Q43.9807,24.293815,43.9904,24.196034Q44,24.0982537,44,24Q44,23.9017463,43.9904,23.803966Q43.9807,23.706185,43.9616,23.609819Q43.9424,23.513454,43.9139,23.419431Q43.8854,23.325408,43.8478,23.234633Q43.8102,23.143859,43.7638,23.057207Q43.7175,22.97055,43.6629,22.88886Q43.6083,22.80716,43.546,22.73121Q43.4837,22.65526,43.4142,22.58579Q43.3447,22.51631,43.2688,22.45398Q43.1928,22.39165,43.1111,22.33706Q43.0294,22.28247,42.9428,22.236159999999998Q42.8561,22.18984,42.7654,22.15224Q42.6746,22.11464,42.5806,22.08612Q42.4865,22.0576,42.3902,22.038429999999998Q42.2938,22.01926,42.196,22.00963Q42.0983,22,42,22L6,22Q5.9017463,22,5.803966,22.00963Q5.706185,22.01926,5.609819,22.038429999999998Q5.513454,22.0576,5.419431,22.08612Q5.325408,22.11464,5.234633,22.15224Q5.143859,22.18984,5.057207,22.236159999999998Q4.97055,22.28247,4.88886,22.33706Q4.80716,22.39165,4.73121,22.45398Q4.65526,22.51631,4.58579,22.58579Q4.51631,22.65526,4.45398,22.73121Q4.39165,22.80716,4.33706,22.88886Q4.28247,22.97055,4.23616,23.057207Q4.18984,23.143859,4.15224,23.234633Q4.11464,23.325408,4.08612,23.419431Q4.0576,23.513454,4.03843,23.609819Q4.01926,23.706185,4.00963,23.803966Q4,23.9017463,4,24Q4,24.0982537,4.00963,24.196034Q4.01926,24.293815,4.03843,24.390181Q4.0576,24.486546,4.08612,24.580569Q4.11464,24.674592,4.15224,24.765367Q4.18984,24.856141,4.23616,24.942793Q4.28247,25.02945,4.33706,25.11114Q4.39165,25.19284,4.45398,25.26879Q4.51631,25.34474,4.58579,25.41421Q4.65526,25.48369,4.73121,25.54602Q4.80716,25.60835,4.88886,25.66294Q4.97055,25.71753,5.057207,25.763840000000002Q5.143859,25.81016,5.234633,25.84776Q5.325408,25.88536,5.419431,25.91388Q5.513454,25.9424,5.609819,25.961570000000002Q5.706185,25.98074,5.803966,25.99037Q5.9017463,26,6,26Z","fill-rule":"evenodd"})],-1),Nne=[kne,wne];function Ane(e,o,n,i,l,u){return W(),fe("svg",lt({xmlns:"http://www.w3.org/2000/svg",fill:n.useCurrentColor?"currentColor":"#000",viewBox:"0 0 48 48",class:[`${n.prefix}-icon`,`${n.prefix}-icon-smaller`],width:"1em",height:"1em"},e.$attrs),Nne,16,One)}var Rne=sd(Sne,[["render",Ane]]);const Lne={name:"IconSearch",props:{prefix:{type:String,default:"boxy"},useCurrentColor:{type:Boolean,default:!0}}},Mne=["fill"],Pne=pg('<defs><clipPath id="svg_06a943c59f__a"><rect width="48" height="48" rx="0"></rect></clipPath></defs><g clip-path="url(#svg_06a943c59f__a)" fill-rule="evenodd"><path d="M4.336772,14.38223Q3,17.5427,3,21Q3,24.4573,4.336772,27.6178Q5.627297,30.6689,7.9792000000000005,33.0208Q10.3311,35.372699999999995,13.38223,36.6632Q16.5427,38,20,38Q23.4573,38,26.6178,36.6632Q29.6689,35.372699999999995,32.0208,33.0208Q34.372699999999995,30.6689,35.6632,27.6178Q37,24.4573,37,21Q37,17.5427,35.6632,14.38223Q34.372699999999995,11.3311,32.0208,8.9792Q29.6689,6.627299,26.6178,5.336772Q23.4573,4,20,4Q16.5427,4,13.38223,5.336772Q10.3311,6.627299,7.9792000000000005,8.9792Q5.627299,11.3311,4.336772,14.38223ZM8.02079,26.0596Q7,23.6461,7,21Q7,18.3538,8.02079,15.94044Q9.007390000000001,13.607859999999999,10.80763,11.80763Q12.607859999999999,10.007390000000001,14.94045,9.02079Q17.3538,8,20,8Q22.6461,8,25.0596,9.02079Q27.3921,10.007390000000001,29.1924,11.80763Q30.9926,13.607859999999999,31.9792,15.94045Q33,18.3538,33,21Q33,23.6461,31.9792,26.0596Q30.9926,28.3921,29.1924,30.1924Q27.3921,31.9926,25.0596,32.9792Q22.6462,34,20,34Q17.3538,34,14.94044,32.9792Q12.607859999999999,31.9926,10.80763,30.1924Q9.007390000000001,28.3921,8.02079,26.0596Z"></path><path d="M29.586000926513673,33.41445L40.29268092651367,44.1212Q40.43197092651367,44.2605,40.59576092651367,44.3699Q40.75954092651367,44.4794,40.94153092651367,44.5547Q41.12348092651367,44.6301,41.31668092651367,44.6686Q41.509880926513674,44.707,41.70688092651367,44.707Q41.75868092651367,44.707,41.81038092651367,44.7043Q41.994080926513675,44.6948,42.17288092651367,44.6519Q42.35178092651367,44.6091,42.519780926513675,44.5343Q42.68788092651367,44.4596,42.83948092651367,44.3554Q42.991080926513675,44.2513,43.12108092651367,44.1212Q43.260380926513676,43.981899999999996,43.36988092651367,43.8181Q43.479280926513674,43.6543,43.55468092651367,43.4724Q43.63008092651367,43.2904,43.66848092651367,43.0972Q43.70688092651367,42.903999999999996,43.70688092651367,42.707Q43.70688092651367,42.6552,43.70418092651367,42.6035Q43.69468092651367,42.4198,43.65188092651367,42.241Q43.608980926513674,42.0621,43.534280926513674,41.894059999999996Q43.45948092651367,41.72601,43.35528092651367,41.57442Q43.25118092651367,41.42283,43.12108092651367,41.292770000000004L32.41444092651367,30.58603L32.41420092651367,30.58579Q32.27491092651367,30.4465,32.11112092651367,30.33706Q31.947338926513673,30.22762,31.765350926513673,30.15224Q31.58336192651367,30.07686,31.39016292651367,30.038429999999998Q31.196964926513672,30,30.99998092657444,30Q30.948207126513672,30,30.896502926513673,30.00268Q30.712824926513672,30.01219,30.533962926513674,30.05505Q30.355101926513672,30.09791,30.187055926513672,30.17266Q30.019010926513673,30.247419999999998,29.86742092651367,30.35158Q29.715820926513672,30.45573,29.58577092651367,30.58578Q29.446480926513672,30.72507,29.337040926513673,30.88886Q29.227600926513674,31.052642,29.15222092651367,31.23463Q29.076840926513672,31.416619,29.03841092651367,31.609818Q28.999980926513672,31.803016,28.999980926513672,32Q28.999980926513672,32.0517738,29.002660926513673,32.103478Q29.012170926513672,32.287156,29.055030926513673,32.466018Q29.09789092651367,32.644879,29.172640926513672,32.812925Q29.24740092651367,32.98097,29.35156092651367,33.13256Q29.45571092651367,33.28416,29.58576092651367,33.41421L29.586000926513673,33.41445Z"></path></g>',2),Dne=[Pne];function xne(e,o,n,i,l,u){return W(),fe("svg",lt({xmlns:"http://www.w3.org/2000/svg",fill:n.useCurrentColor?"currentColor":"#000",viewBox:"0 0 48 48",class:[`${n.prefix}-icon`,`${n.prefix}-icon-search`],width:"1em",height:"1em"},e.$attrs),Dne,16,Mne)}var Bne=sd(Lne,[["render",xne]]);const Fne={name:"IconAuto",props:{prefix:{type:String,default:"boxy"},useCurrentColor:{type:Boolean,default:!0}}},Vne=["fill"],Une=pg('<defs><clipPath id="svg_9df22f196a__a"><rect width="48" height="48" rx="0"></rect></clipPath></defs><g clip-path="url(#svg_9df22f196a__a)"><path d="M31.4339,31.780816622924803L24,16.913116622924804L16.56568,31.781716622924804L16.56568,31.781716622924804C16.27263,32.367816622924806,15.67797,32.7410166229248,15.02372,32.749816622924804C15.02372,32.749816622924804,15,32.750016622924804,15,32.750016622924804C14.72832,32.750016622924804,14.46037,32.686716622924806,14.217376,32.56521662292481C13.802247,32.357716622924805,13.486574,31.993716622924804,13.3398041,31.553416622924804C13.2809937,31.376916622924806,13.250682592,31.192316622924803,13.2500114441,31.006316622924803L13.25,31.000016622924804C13.25,30.728316622924805,13.3132539,30.460416622924804,13.434752,30.217416622924805L22.43475,12.217375622924806C22.60409,11.878702622924806,22.878700000000002,11.604088622924804,23.21738,11.434752622924805C24.0818,11.002521622924805,25.133,11.352913622924804,25.5652,12.217375622924806L34.5644,30.215616622924806L34.565200000000004,30.217416622924805C34.677,30.440916622924803,34.739599999999996,30.685816622924804,34.7488,30.935616622924805C34.7496,30.957116622924804,34.75,30.978516622924804,34.75,31.000016622924804C34.75,31.662816622924804,34.3755,32.2688166229248,33.7826,32.56521662292481C33.5591,32.6770166229248,33.3142,32.7396166229248,33.0644,32.74881662292481C33.0429,32.749616622924805,33.0215,32.750016622924804,33,32.750016622924804C32.3371,32.750016622924804,31.7312,32.375516622924806,31.4348,31.782616622924806L31.4339,31.780816622924803Z" fill-rule="evenodd"></path><path d="M18.5999915599823,26.550048828125L29.3999915599823,26.550048828125C30.3664915599823,26.550048828125,31.1499915599823,25.766548828125,31.1499915599823,24.800048828125C31.1499915599823,23.833550828125,30.3664915599823,23.050048828125,29.3999915599823,23.050048828125L18.5999915599823,23.050048828125C17.6334935599823,23.050048828125,16.8499915599823,23.833550828125,16.8499915599823,24.800048828125C16.8499915599823,25.766548828125,17.6334935599823,26.550048828125,18.5999915599823,26.550048828125Z" fill-rule="evenodd"></path><path d="M46,24C46,36.1503,36.1503,46,24,46C11.84974,46,2,36.1503,2,24C2,11.84974,11.84974,2,24,2C36.1503,2,46,11.84974,46,24ZM42,24Q42,20.5666,40.7362,17.374299999999998Q39.364,13.9081,36.7279,11.27208Q34.0919,8.636040000000001,30.6257,7.26381Q27.4334,6,24,6Q20.5666,6,17.374299999999998,7.26381Q13.9081,8.636040000000001,11.27208,11.27208Q8.636040000000001,13.9081,7.26381,17.374299999999998Q6,20.5666,6,24Q6,27.4334,7.26381,30.6257Q8.636040000000001,34.0919,11.27208,36.7279Q13.9081,39.364,17.374299999999998,40.7362Q20.5666,42,24,42Q27.4334,42,30.6257,40.7362Q34.0919,39.364,36.7279,36.7279Q39.364,34.0919,40.7362,30.6257Q42,27.4334,42,24Z" fill-rule="evenodd"></path></g>',2),Hne=[Une];function Gne(e,o,n,i,l,u){return W(),fe("svg",lt({xmlns:"http://www.w3.org/2000/svg",fill:n.useCurrentColor?"currentColor":"#000",viewBox:"0 0 48 48",class:[`${n.prefix}-icon`,`${n.prefix}-icon-auto`],width:"1em",height:"1em"},e.$attrs),Hne,16,Vne)}var zne=sd(Fne,[["render",Gne]]);const Wne={name:"IconLight",props:{prefix:{type:String,default:"boxy"},useCurrentColor:{type:Boolean,default:!0}}},jne=["fill"],Xne=pg('<defs><clipPath id="svg_2ac43aa43b__a"><rect width="48" height="48" rx="0"></rect></clipPath></defs><g clip-path="url(#svg_2ac43aa43b__a)"><path d="M10.179596,18.16071Q9,20.94959,9,24Q9,27.0504,10.179596,29.8393Q11.318309,32.5315,13.3934,34.6066Q15.46849,36.6817,18.16071,37.8204Q20.94959,39,24,39Q27.0504,39,29.8393,37.8204Q32.5315,36.6817,34.6066,34.6066Q36.6817,32.5315,37.8204,29.8393Q39,27.0504,39,24Q39,20.94959,37.8204,18.16071Q36.6817,15.46849,34.6066,13.3934Q32.5315,11.31831,29.8393,10.179596Q27.0504,9,24,9Q20.94959,9,18.16071,10.179596Q15.46849,11.31831,13.3934,13.3934Q11.318309,15.46849,10.179596,18.16071ZM13.86361,28.2811Q13,26.2393,13,24Q13,21.7607,13.86361,19.71892Q14.698409999999999,17.74524,16.22183,16.22183Q17.74525,14.698409999999999,19.71892,13.86361Q21.7607,13,24,13Q26.2393,13,28.2811,13.86361Q30.2548,14.698409999999999,31.7782,16.22183Q33.3016,17.74524,34.136399999999995,19.71892Q35,21.7607,35,24Q35,26.2393,34.136399999999995,28.2811Q33.3016,30.2548,31.7782,31.7782Q30.2548,33.3016,28.2811,34.136399999999995Q26.2393,35,24,35Q21.7607,35,19.71892,34.136399999999995Q17.74525,33.3016,16.22183,31.7782Q14.698409999999999,30.2548,13.86361,28.2811Z" fill-rule="evenodd"></path><path d="M26.5 3.5Q26.5 3.62282 26.48796 3.74504 26.475920000000002 3.86727 26.45196 3.98773 26.428 4.10818 26.39235 4.225709999999999 26.3567 4.34324 26.3097 4.45671 26.2627 4.570180000000001 26.2048 4.67849 26.14691 4.78681 26.07867 4.88893 26.01044 4.99104 25.93253 5.08598 25.85461 5.18092 25.76777 5.26777 25.68092 5.35461 25.58598 5.43253 25.491039999999998 5.51044 25.388930000000002 5.57867 25.28681 5.64691 25.17849 5.7048 25.07018 5.7627 24.95671 5.8097 24.84324 5.8567 24.72571 5.89235 24.60818 5.928 24.48773 5.95196 24.36727 5.97592 24.24504 5.98796 24.12282 6 24 6 23.87718 6 23.75496 5.98796 23.63273 5.97592 23.51227 5.95196 23.39182 5.928 23.27429 5.89235 23.15676 5.8567 23.04329 5.8097 22.92982 5.7627 22.82151 5.7048 22.71319 5.64691 22.61107 5.57867 22.508960000000002 5.51044 22.414017 5.43253 22.319078 5.35461 22.232233 5.26777 22.145388 5.18092 22.067474 5.08598 21.98956 4.99104 21.921326 4.88893 21.853092 4.78681 21.795197 4.67849 21.737301 4.570180000000001 21.690301 4.45671 21.643301 4.34324 21.607649 4.225709999999999 21.5719972 4.10818 21.5480368 3.98773 21.5240764 3.86727 21.5120382 3.74504 21.5 3.62282 21.5 3.5 21.5 3.37718 21.5120382 3.25496 21.5240764 3.13273 21.5480368 3.01227 21.5719972 2.89182 21.607649 2.7742899999999997 21.643301 2.6567600000000002 21.690301 2.54329 21.737301 2.4298200000000003 21.795197 2.32151 21.853092 2.21319 21.921326 2.11107 21.98956 2.00896 22.067474 1.9140169999999999 22.145388 1.819078 22.232233 1.732233 22.319078 1.645388 22.414017 1.567474 22.508960000000002 1.48956 22.61107 1.421326 22.71319 1.353092 22.82151 1.295197 22.92982 1.237301 23.04329 1.190301 23.15676 1.1433010000000001 23.27429 1.1076489999999999 23.39182 1.0719972 23.51227 1.0480368 23.63273 1.0240764 23.75496 1.0120382 23.87718 1 24 1 24.12282 1 24.24504 1.0120382 24.36727 1.0240764 24.48773 1.0480368 24.60818 1.0719972 24.72571 1.1076489999999999 24.84324 1.1433010000000001 24.95671 1.190301 25.07018 1.237301 25.17849 1.295197 25.28681 1.353092 25.388930000000002 1.421326 25.491039999999998 1.48956 25.58598 1.567474 25.68092 1.645388 25.76777 1.732233 25.85461 1.819078 25.93253 1.9140169999999999 26.01044 2.00896 26.07867 2.11107 26.14691 2.21319 26.2048 2.32151 26.2627 2.4298200000000003 26.3097 2.54329 26.3567 2.6567600000000002 26.39235 2.7742899999999997 26.428 2.89182 26.45196 3.01227 26.475920000000002 3.13273 26.48796 3.25496 26.5 3.37718 26.5 3.5zM41 9.5Q41 9.62282 40.98796 9.74504 40.97592 9.86727 40.95196 9.987729999999999 40.928 10.10818 40.89235 10.22571 40.856700000000004 10.34324 40.8097 10.456710000000001 40.7627 10.57018 40.7048 10.67849 40.64691 10.78681 40.57867 10.88893 40.51044 10.99104 40.43253 11.08598 40.35461 11.18092 40.26777 11.267769999999999 40.18092 11.354610000000001 40.08598 11.43253 39.99104 11.51044 39.88893 11.578669999999999 39.78681 11.64691 39.67849 11.704799999999999 39.57018 11.762699999999999 39.45671 11.8097 39.34324 11.8567 39.22571 11.89235 39.10818 11.928 38.98773 11.95196 38.86727 11.97592 38.74504 11.987960000000001 38.62282 12 38.5 12 38.37718 12 38.25496 11.987960000000001 38.13273 11.97592 38.01227 11.95196 37.89182 11.928 37.77429 11.89235 37.65676 11.8567 37.54329 11.8097 37.42982 11.762699999999999 37.32151 11.704799999999999 37.21319 11.64691 37.11107 11.578669999999999 37.00896 11.51044 36.914017 11.43253 36.819078 11.354610000000001 36.732233 11.267769999999999 36.645388 11.18092 36.567474 11.08598 36.48956 10.99104 36.421326 10.88893 36.353092 10.78681 36.295197 10.67849 36.237301 10.57018 36.190301 10.456710000000001 36.143301 10.34324 36.107649 10.22571 36.0719972 10.10818 36.0480368 9.987729999999999 36.0240764 9.86727 36.0120382 9.74504 36 9.62282 36 9.5 36 9.37718 36.0120382 9.25496 36.0240764 9.13273 36.0480368 9.012270000000001 36.0719972 8.89182 36.107649 8.77429 36.143301 8.65676 36.190301 8.54329 36.237301 8.42982 36.295197 8.32151 36.353092 8.21319 36.421326 8.11107 36.48956 8.00896 36.567474 7.914017 36.645388 7.819078 36.732233 7.732233 36.819078 7.645388 36.914017 7.567474 37.00896 7.48956 37.11107 7.421326 37.21319 7.353092 37.32151 7.295197 37.42982 7.237301 37.54329 7.190301 37.65676 7.143301 37.77429 7.107649 37.89182 7.0719972 38.01227 7.0480368 38.13273 7.0240764 38.25496 7.0120382 38.37718 7 38.5 7 38.62282 7 38.74504 7.0120382 38.86727 7.0240764 38.98773 7.0480368 39.10818 7.0719972 39.22571 7.107649 39.34324 7.143301 39.45671 7.190301 39.57018 7.237301 39.67849 7.295197 39.78681 7.353092 39.88893 7.421326 39.99104 7.48956 40.08598 7.567474 40.18092 7.645388 40.26777 7.732233 40.35461 7.819078 40.43253 7.914017 40.51044 8.00896 40.57867 8.11107 40.64691 8.21319 40.7048 8.32151 40.7627 8.42982 40.8097 8.54329 40.856700000000004 8.65676 40.89235 8.77429 40.928 8.89182 40.95196 9.012270000000001 40.97592 9.13273 40.98796 9.25496 41 9.37718 41 9.5zM47 24Q47 24.12282 46.98796 24.24504 46.97592 24.36727 46.95196 24.48773 46.928 24.60818 46.89235 24.72571 46.856700000000004 24.84324 46.8097 24.95671 46.7627 25.07018 46.7048 25.17849 46.64691 25.28681 46.57867 25.388930000000002 46.51044 25.491039999999998 46.43253 25.58598 46.35461 25.68092 46.26777 25.76777 46.18092 25.85461 46.08598 25.93253 45.99104 26.01044 45.88893 26.07867 45.78681 26.14691 45.67849 26.2048 45.57018 26.2627 45.45671 26.3097 45.34324 26.3567 45.22571 26.39235 45.10818 26.428 44.98773 26.45196 44.86727 26.475920000000002 44.74504 26.48796 44.62282 26.5 44.5 26.5 44.37718 26.5 44.25496 26.48796 44.13273 26.475920000000002 44.01227 26.45196 43.89182 26.428 43.77429 26.39235 43.65676 26.3567 43.54329 26.3097 43.42982 26.2627 43.32151 26.2048 43.21319 26.14691 43.11107 26.07867 43.00896 26.01044 42.914017 25.93253 42.819078 25.85461 42.732233 25.76777 42.645388 25.68092 42.567474 25.58598 42.48956 25.491039999999998 42.421326 25.388930000000002 42.353092 25.28681 42.295197 25.17849 42.237301 25.07018 42.190301 24.95671 42.143301 24.84324 42.107649 24.72571 42.0719972 24.60818 42.0480368 24.48773 42.0240764 24.36727 42.0120382 24.24504 42 24.12282 42 24 42 23.87718 42.0120382 23.75496 42.0240764 23.63273 42.0480368 23.51227 42.0719972 23.39182 42.107649 23.27429 42.143301 23.15676 42.190301 23.04329 42.237301 22.92982 42.295197 22.82151 42.353092 22.71319 42.421326 22.61107 42.48956 22.508960000000002 42.567474 22.414017 42.645388 22.319078 42.732233 22.232233 42.819078 22.145388 42.914017 22.067474 43.00896 21.98956 43.11107 21.921326 43.21319 21.853092 43.32151 21.795197 43.42982 21.737301 43.54329 21.690301 43.65676 21.643301 43.77429 21.607649 43.89182 21.5719972 44.01227 21.5480368 44.13273 21.5240764 44.25496 21.5120382 44.37718 21.5 44.5 21.5 44.62282 21.5 44.74504 21.5120382 44.86727 21.5240764 44.98773 21.5480368 45.10818 21.5719972 45.22571 21.607649 45.34324 21.643301 45.45671 21.690301 45.57018 21.737301 45.67849 21.795197 45.78681 21.853092 45.88893 21.921326 45.99104 21.98956 46.08598 22.067474 46.18092 22.145388 46.26777 22.232233 46.35461 22.319078 46.43253 22.414017 46.51044 22.508960000000002 46.57867 22.61107 46.64691 22.71319 46.7048 22.82151 46.7627 22.92982 46.8097 23.04329 46.856700000000004 23.15676 46.89235 23.27429 46.928 23.39182 46.95196 23.51227 46.97592 23.63273 46.98796 23.75496 47 23.87718 47 24zM41 38.5Q41 38.62282 40.98796 38.74504 40.97592 38.86727 40.95196 38.98773 40.928 39.10818 40.89235 39.22571 40.856700000000004 39.34324 40.8097 39.45671 40.7627 39.57018 40.7048 39.67849 40.64691 39.78681 40.57867 39.88893 40.51044 39.99104 40.43253 40.08598 40.35461 40.18092 40.26777 40.26777 40.18092 40.35461 40.08598 40.43253 39.99104 40.51044 39.88893 40.57867 39.78681 40.64691 39.67849 40.7048 39.57018 40.7627 39.45671 40.8097 39.34324 40.856700000000004 39.22571 40.89235 39.10818 40.928 38.98773 40.95196 38.86727 40.97592 38.74504 40.98796 38.62282 41 38.5 41 38.37718 41 38.25496 40.98796 38.13273 40.97592 38.01227 40.95196 37.89182 40.928 37.77429 40.89235 37.65676 40.856700000000004 37.54329 40.8097 37.42982 40.7627 37.32151 40.7048 37.21319 40.64691 37.11107 40.57867 37.00896 40.51044 36.914017 40.43253 36.819078 40.35461 36.732233 40.26777 36.645388 40.18092 36.567474 40.08598 36.48956 39.99104 36.421326 39.88893 36.353092 39.78681 36.295197 39.67849 36.237301 39.57018 36.190301 39.45671 36.143301 39.34324 36.107649 39.22571 36.0719972 39.10818 36.0480368 38.98773 36.0240764 38.86727 36.0120382 38.74504 36 38.62282 36 38.5 36 38.37718 36.0120382 38.25496 36.0240764 38.13273 36.0480368 38.01227 36.0719972 37.89182 36.107649 37.77429 36.143301 37.65676 36.190301 37.54329 36.237301 37.42982 36.295197 37.32151 36.353092 37.21319 36.421326 37.11107 36.48956 37.00896 36.567474 36.914017 36.645388 36.819078 36.732233 36.732233 36.819078 36.645388 36.914017 36.567474 37.00896 36.48956 37.11107 36.421326 37.21319 36.353092 37.32151 36.295197 37.42982 36.237301 37.54329 36.190301 37.65676 36.143301 37.77429 36.107649 37.89182 36.0719972 38.01227 36.0480368 38.13273 36.0240764 38.25496 36.0120382 38.37718 36 38.5 36 38.62282 36 38.74504 36.0120382 38.86727 36.0240764 38.98773 36.0480368 39.10818 36.0719972 39.22571 36.107649 39.34324 36.143301 39.45671 36.190301 39.57018 36.237301 39.67849 36.295197 39.78681 36.353092 39.88893 36.421326 39.99104 36.48956 40.08598 36.567474 40.18092 36.645388 40.26777 36.732233 40.35461 36.819078 40.43253 36.914017 40.51044 37.00896 40.57867 37.11107 40.64691 37.21319 40.7048 37.32151 40.7627 37.42982 40.8097 37.54329 40.856700000000004 37.65676 40.89235 37.77429 40.928 37.89182 40.95196 38.01227 40.97592 38.13273 40.98796 38.25496 41 38.37718 41 38.5zM26.5 44.5Q26.5 44.62282 26.48796 44.74504 26.475920000000002 44.86727 26.45196 44.98773 26.428 45.10818 26.39235 45.22571 26.3567 45.34324 26.3097 45.45671 26.2627 45.57018 26.2048 45.67849 26.14691 45.78681 26.07867 45.88893 26.01044 45.99104 25.93253 46.08598 25.85461 46.18092 25.76777 46.26777 25.68092 46.35461 25.58598 46.43253 25.491039999999998 46.51044 25.388930000000002 46.57867 25.28681 46.64691 25.17849 46.7048 25.07018 46.7627 24.95671 46.8097 24.84324 46.856700000000004 24.72571 46.89235 24.60818 46.928 24.48773 46.95196 24.36727 46.97592 24.24504 46.98796 24.12282 47 24 47 23.87718 47 23.75496 46.98796 23.63273 46.97592 23.51227 46.95196 23.39182 46.928 23.27429 46.89235 23.15676 46.856700000000004 23.04329 46.8097 22.92982 46.7627 22.82151 46.7048 22.71319 46.64691 22.61107 46.57867 22.508960000000002 46.51044 22.414017 46.43253 22.319078 46.35461 22.232233 46.26777 22.145388 46.18092 22.067474 46.08598 21.98956 45.99104 21.921326 45.88893 21.853092 45.78681 21.795197 45.67849 21.737301 45.57018 21.690301 45.45671 21.643301 45.34324 21.607649 45.22571 21.5719972 45.10818 21.5480368 44.98773 21.5240764 44.86727 21.5120382 44.74504 21.5 44.62282 21.5 44.5 21.5 44.37718 21.5120382 44.25496 21.5240764 44.13273 21.5480368 44.01227 21.5719972 43.89182 21.607649 43.77429 21.643301 43.65676 21.690301 43.54329 21.737301 43.42982 21.795197 43.32151 21.853092 43.21319 21.921326 43.11107 21.98956 43.00896 22.067474 42.914017 22.145388 42.819078 22.232233 42.732233 22.319078 42.645388 22.414017 42.567474 22.508960000000002 42.48956 22.61107 42.421326 22.71319 42.353092 22.82151 42.295197 22.92982 42.237301 23.04329 42.190301 23.15676 42.143301 23.27429 42.107649 23.39182 42.0719972 23.51227 42.0480368 23.63273 42.0240764 23.75496 42.0120382 23.87718 42 24 42 24.12282 42 24.24504 42.0120382 24.36727 42.0240764 24.48773 42.0480368 24.60818 42.0719972 24.72571 42.107649 24.84324 42.143301 24.95671 42.190301 25.07018 42.237301 25.17849 42.295197 25.28681 42.353092 25.388930000000002 42.421326 25.491039999999998 42.48956 25.58598 42.567474 25.68092 42.645388 25.76777 42.732233 25.85461 42.819078 25.93253 42.914017 26.01044 43.00896 26.07867 43.11107 26.14691 43.21319 26.2048 43.32151 26.2627 43.42982 26.3097 43.54329 26.3567 43.65676 26.39235 43.77429 26.428 43.89182 26.45196 44.01227 26.475920000000002 44.13273 26.48796 44.25496 26.5 44.37718 26.5 44.5zM12 38.5Q12 38.62282 11.987960000000001 38.74504 11.97592 38.86727 11.95196 38.98773 11.928 39.10818 11.89235 39.22571 11.8567 39.34324 11.8097 39.45671 11.762699999999999 39.57018 11.704799999999999 39.67849 11.64691 39.78681 11.578669999999999 39.88893 11.51044 39.99104 11.43253 40.08598 11.354610000000001 40.18092 11.267769999999999 40.26777 11.18092 40.35461 11.08598 40.43253 10.99104 40.51044 10.88893 40.57867 10.78681 40.64691 10.67849 40.7048 10.57018 40.7627 10.456710000000001 40.8097 10.34324 40.856700000000004 10.22571 40.89235 10.10818 40.928 9.987729999999999 40.95196 9.86727 40.97592 9.74504 40.98796 9.62282 41 9.5 41 9.37718 41 9.25496 40.98796 9.13273 40.97592 9.012270000000001 40.95196 8.89182 40.928 8.77429 40.89235 8.65676 40.856700000000004 8.54329 40.8097 8.42982 40.7627 8.32151 40.7048 8.21319 40.64691 8.11107 40.57867 8.00896 40.51044 7.914017 40.43253 7.819078 40.35461 7.732233 40.26777 7.645388 40.18092 7.567474 40.08598 7.48956 39.99104 7.421326 39.88893 7.353092 39.78681 7.295197 39.67849 7.237301 39.57018 7.190301 39.45671 7.143301 39.34324 7.107649 39.22571 7.0719972 39.10818 7.0480368 38.98773 7.0240764 38.86727 7.0120382 38.74504 7 38.62282 7 38.5 7 38.37718 7.0120382 38.25496 7.0240764 38.13273 7.0480368 38.01227 7.0719972 37.89182 7.107649 37.77429 7.143301 37.65676 7.190301 37.54329 7.237301 37.42982 7.295197 37.32151 7.353092 37.21319 7.421326 37.11107 7.48956 37.00896 7.567474 36.914017 7.645388 36.819078 7.732233 36.732233 7.819078 36.645388 7.914017 36.567474 8.00896 36.48956 8.11107 36.421326 8.21319 36.353092 8.32151 36.295197 8.42982 36.237301 8.54329 36.190301 8.65676 36.143301 8.77429 36.107649 8.89182 36.0719972 9.012270000000001 36.0480368 9.13273 36.0240764 9.25496 36.0120382 9.37718 36 9.5 36 9.62282 36 9.74504 36.0120382 9.86727 36.0240764 9.987729999999999 36.0480368 10.10818 36.0719972 10.22571 36.107649 10.34324 36.143301 10.456710000000001 36.190301 10.57018 36.237301 10.67849 36.295197 10.78681 36.353092 10.88893 36.421326 10.99104 36.48956 11.08598 36.567474 11.18092 36.645388 11.267769999999999 36.732233 11.354610000000001 36.819078 11.43253 36.914017 11.51044 37.00896 11.578669999999999 37.11107 11.64691 37.21319 11.704799999999999 37.32151 11.762699999999999 37.42982 11.8097 37.54329 11.8567 37.65676 11.89235 37.77429 11.928 37.89182 11.95196 38.01227 11.97592 38.13273 11.987960000000001 38.25496 12 38.37718 12 38.5zM6 24Q6 24.12282 5.98796 24.24504 5.97592 24.36727 5.95196 24.48773 5.928 24.60818 5.89235 24.72571 5.8567 24.84324 5.8097 24.95671 5.7627 25.07018 5.7048 25.17849 5.64691 25.28681 5.57867 25.388930000000002 5.51044 25.491039999999998 5.43253 25.58598 5.35461 25.68092 5.26777 25.76777 5.18092 25.85461 5.08598 25.93253 4.99104 26.01044 4.88893 26.07867 4.78681 26.14691 4.67849 26.2048 4.570180000000001 26.2627 4.45671 26.3097 4.34324 26.3567 4.225709999999999 26.39235 4.10818 26.428 3.98773 26.45196 3.86727 26.475920000000002 3.74504 26.48796 3.62282 26.5 3.5 26.5 3.37718 26.5 3.25496 26.48796 3.13273 26.475920000000002 3.01227 26.45196 2.89182 26.428 2.7742899999999997 26.39235 2.6567600000000002 26.3567 2.54329 26.3097 2.4298200000000003 26.2627 2.32151 26.2048 2.21319 26.14691 2.11107 26.07867 2.00896 26.01044 1.9140169999999999 25.93253 1.819078 25.85461 1.732233 25.76777 1.645388 25.68092 1.567474 25.58598 1.48956 25.491039999999998 1.421326 25.388930000000002 1.353092 25.28681 1.295197 25.17849 1.237301 25.07018 1.190301 24.95671 1.1433010000000001 24.84324 1.1076489999999999 24.72571 1.0719972 24.60818 1.0480368 24.48773 1.0240764 24.36727 1.0120382 24.24504 1 24.12282 1 24 1 23.87718 1.0120382 23.75496 1.0240764 23.63273 1.0480368 23.51227 1.0719972 23.39182 1.1076489999999999 23.27429 1.1433010000000001 23.15676 1.190301 23.04329 1.237301 22.92982 1.295197 22.82151 1.353092 22.71319 1.421326 22.61107 1.48956 22.508960000000002 1.567474 22.414017 1.645388 22.319078 1.732233 22.232233 1.819078 22.145388 1.9140169999999999 22.067474 2.00896 21.98956 2.11107 21.921326 2.21319 21.853092 2.32151 21.795197 2.4298200000000003 21.737301 2.54329 21.690301 2.6567600000000002 21.643301 2.7742899999999997 21.607649 2.89182 21.5719972 3.01227 21.5480368 3.13273 21.5240764 3.25496 21.5120382 3.37718 21.5 3.5 21.5 3.62282 21.5 3.74504 21.5120382 3.86727 21.5240764 3.98773 21.5480368 4.10818 21.5719972 4.225709999999999 21.607649 4.34324 21.643301 4.45671 21.690301 4.570180000000001 21.737301 4.67849 21.795197 4.78681 21.853092 4.88893 21.921326 4.99104 21.98956 5.08598 22.067474 5.18092 22.145388 5.26777 22.232233 5.35461 22.319078 5.43253 22.414017 5.51044 22.508960000000002 5.57867 22.61107 5.64691 22.71319 5.7048 22.82151 5.7627 22.92982 5.8097 23.04329 5.8567 23.15676 5.89235 23.27429 5.928 23.39182 5.95196 23.51227 5.97592 23.63273 5.98796 23.75496 6 23.87718 6 24zM12 9.5Q12 9.62282 11.987960000000001 9.74504 11.97592 9.86727 11.95196 9.987729999999999 11.928 10.10818 11.89235 10.22571 11.8567 10.34324 11.8097 10.456710000000001 11.762699999999999 10.57018 11.704799999999999 10.67849 11.64691 10.78681 11.578669999999999 10.88893 11.51044 10.99104 11.43253 11.08598 11.354610000000001 11.18092 11.267769999999999 11.267769999999999 11.18092 11.354610000000001 11.08598 11.43253 10.99104 11.51044 10.88893 11.578669999999999 10.78681 11.64691 10.67849 11.704799999999999 10.57018 11.762699999999999 10.456710000000001 11.8097 10.34324 11.8567 10.22571 11.89235 10.10818 11.928 9.987729999999999 11.95196 9.86727 11.97592 9.74504 11.987960000000001 9.62282 12 9.5 12 9.37718 12 9.25496 11.987960000000001 9.13273 11.97592 9.012270000000001 11.95196 8.89182 11.928 8.77429 11.89235 8.65676 11.8567 8.54329 11.8097 8.42982 11.762699999999999 8.32151 11.704799999999999 8.21319 11.64691 8.11107 11.578669999999999 8.00896 11.51044 7.914017 11.43253 7.819078 11.354610000000001 7.732233 11.267769999999999 7.645388 11.18092 7.567474 11.08598 7.48956 10.99104 7.421326 10.88893 7.353092 10.78681 7.295197 10.67849 7.237301 10.57018 7.190301 10.456710000000001 7.143301 10.34324 7.107649 10.22571 7.0719972 10.10818 7.0480368 9.987729999999999 7.0240764 9.86727 7.0120382 9.74504 7 9.62282 7 9.5 7 9.37718 7.0120382 9.25496 7.0240764 9.13273 7.0480368 9.012270000000001 7.0719972 8.89182 7.107649 8.77429 7.143301 8.65676 7.190301 8.54329 7.237301 8.42982 7.295197 8.32151 7.353092 8.21319 7.421326 8.11107 7.48956 8.00896 7.567474 7.914017 7.645388 7.819078 7.732233 7.732233 7.819078 7.645388 7.914017 7.567474 8.00896 7.48956 8.11107 7.421326 8.21319 7.353092 8.32151 7.295197 8.42982 7.237301 8.54329 7.190301 8.65676 7.143301 8.77429 7.107649 8.89182 7.0719972 9.012270000000001 7.0480368 9.13273 7.0240764 9.25496 7.0120382 9.37718 7 9.5 7 9.62282 7 9.74504 7.0120382 9.86727 7.0240764 9.987729999999999 7.0480368 10.10818 7.0719972 10.22571 7.107649 10.34324 7.143301 10.456710000000001 7.190301 10.57018 7.237301 10.67849 7.295197 10.78681 7.353092 10.88893 7.421326 10.99104 7.48956 11.08598 7.567474 11.18092 7.645388 11.267769999999999 7.732233 11.354610000000001 7.819078 11.43253 7.914017 11.51044 8.00896 11.578669999999999 8.11107 11.64691 8.21319 11.704799999999999 8.32151 11.762699999999999 8.42982 11.8097 8.54329 11.8567 8.65676 11.89235 8.77429 11.928 8.89182 11.95196 9.012270000000001 11.97592 9.13273 11.987960000000001 9.25496 12 9.37718 12 9.5z"></path></g>',2),Kne=[Xne];function Yne(e,o,n,i,l,u){return W(),fe("svg",lt({xmlns:"http://www.w3.org/2000/svg",fill:n.useCurrentColor?"currentColor":"#000",viewBox:"0 0 48 48",class:[`${n.prefix}-icon`,`${n.prefix}-icon-light`],width:"1em",height:"1em"},e.$attrs),Kne,16,jne)}var Qne=sd(Wne,[["render",Yne]]);const qne={name:"IconClose",props:{prefix:{type:String,default:"boxy"},useCurrentColor:{type:Boolean,default:!0}}},Zne=["fill"],Jne=pg('<defs><clipPath id="svg_716f6b3059__a"><rect width="48" height="48" rx="0"></rect></clipPath></defs><g clip-path="url(#svg_716f6b3059__a)" fill-rule="evenodd"><path d="M6.5860199999999995,9.41445L38.5858,41.4142Q38.7251,41.5535,38.8889,41.6629Q39.0526,41.7724,39.2346,41.8478Q39.4166,41.9231,39.6098,41.9616Q39.803,42,40,42Q40.197,42,40.3902,41.9616Q40.5834,41.9231,40.7654,41.8478Q40.9474,41.7724,41.1111,41.6629Q41.2749,41.5535,41.4142,41.4142Q41.5535,41.2749,41.6629,41.1111Q41.7724,40.9474,41.8478,40.7654Q41.9231,40.5834,41.9616,40.3902Q42,40.197,42,40Q42,39.803,41.9616,39.6098Q41.9231,39.4166,41.8478,39.2346Q41.7724,39.0526,41.6629,38.8889Q41.5535,38.7251,41.4142,38.5858L9.41445,6.5860199999999995L9.41421,6.58579Q9.27493,6.4465,9.11114,6.33706Q8.947355,6.22762,8.765367,6.15224Q8.583378,6.07686,8.390181,6.03843Q8.196983,6,8,6Q7.803017,6,7.609819,6.03843Q7.416622,6.07686,7.234633,6.15224Q7.052645,6.22762,6.88886,6.33706Q6.7250700000000005,6.4465,6.58579,6.58579Q6.4465,6.7250700000000005,6.33706,6.88886Q6.22762,7.052645,6.15224,7.234633Q6.07686,7.416622,6.03843,7.609819Q6,7.803017,6,8Q6,8.196983,6.03843,8.390181Q6.07686,8.583378,6.15224,8.765367Q6.22762,8.947355,6.33706,9.11114Q6.4465,9.27493,6.58579,9.41421L6.5860199999999995,9.41445Z"></path><path d="M9.41421,41.4142L41.4142,9.41421Q41.5535,9.27493,41.6629,9.11114Q41.7724,8.947355,41.8478,8.765367Q41.9231,8.583378,41.9616,8.390181Q42,8.196983,42,8Q42,7.803017,41.9616,7.60982Q41.9231,7.416622,41.8478,7.234634Q41.7724,7.052645,41.6629,6.88886Q41.5535,6.72508,41.4142,6.58579Q41.2749,6.4465,41.1111,6.33706Q40.9474,6.22762,40.7654,6.15224Q40.5834,6.07686,40.3902,6.03843Q40.197,6,40,6Q39.9482,6,39.8965,6.00268Q39.7128,6.0122,39.534,6.05505Q39.3551,6.09791,39.1871,6.17267Q39.019,6.24743,38.8674,6.35158Q38.7158,6.45573,38.5858,6.58579L38.585,6.58654L6.58654,38.585L6.58579,38.5858Q6.4465,38.7251,6.33706,38.8889Q6.22762,39.0526,6.15224,39.2346Q6.07686,39.4166,6.03843,39.6098Q6,39.803,6,40Q6,40.197,6.03843,40.3902Q6.07686,40.5834,6.15224,40.7654Q6.22762,40.9474,6.33706,41.1111Q6.4465,41.2749,6.58579,41.4142Q6.7250700000000005,41.5535,6.88886,41.6629Q7.052645,41.7724,7.234633,41.8478Q7.416622,41.9231,7.60982,41.9616Q7.803017,42,8,42Q8.196983,42,8.390181,41.9616Q8.583378,41.9231,8.765367,41.8478Q8.947355,41.7724,9.11114,41.6629Q9.27493,41.5535,9.41421,41.4142Z"></path></g>',2),eoe=[Jne];function toe(e,o,n,i,l,u){return W(),fe("svg",lt({xmlns:"http://www.w3.org/2000/svg",fill:n.useCurrentColor?"currentColor":"#000",viewBox:"0 0 48 48",class:[`${n.prefix}-icon`,`${n.prefix}-icon-close`],width:"1em",height:"1em"},e.$attrs),eoe,16,Zne)}var noe=sd(qne,[["render",toe]]);const ooe={components:{IconSearch:Bne,IconCode:_ne,IconBigger:Ine,IconSmaller:Rne},data(){return{size:0}}},roe=e=>(cI("data-v-bf68a3dc"),e=e(),dI(),e),ioe=roe(()=>De("span",{id:"zoomBoxReset"},"100%",-1));function soe(e,o,n,i,l,u){const a=Pe("icon-search"),h=Pe("a-button"),p=Pe("a-tooltip"),m=Pe("icon-code"),$=Pe("a-divider"),T=Pe("icon-smaller"),w=Pe("icon-bigger"),A=Pe("a-space");return W(),Ze(A,{size:l.size},{default:Je(()=>[_(p,{content:"搜索",position:"top","arrow-class":"hide-arrow","content-class":"zoomBox-tip"},{default:Je(()=>[_(h,{id:"switchSearch",type:"text",onclick:"searchSwitch()",shape:"circle"},{icon:Je(()=>[_(a)]),_:1})]),_:1}),_(p,{content:"转换代码",position:"top","arrow-class":"hide-arrow","content-class":"zoomBox-tip"},{default:Je(()=>[_(h,{id:"switchCode",type:"text",onclick:"codespaceSwitch();zoomBoxResize()",shape:"circle"},{icon:Je(()=>[_(m)]),_:1})]),_:1}),_($,{direction:"vertical",margin:"2px"}),_(p,{content:"缩小",position:"top","arrow-class":"hide-arrow","content-class":"zoomBox-tip"},{default:Je(()=>[_(h,{id:"zoomBoxSmaller",type:"text",onclick:"zoomBoxSmaller()",shape:"circle"},{icon:Je(()=>[_(T)]),_:1})]),_:1}),_(p,{content:"恢复为100%",position:"top","arrow-class":"hide-arrow","content-class":"zoomBox-tip"},{default:Je(()=>[_(h,{type:"text",onclick:"zoomBoxReset()",shape:"round"},{default:Je(()=>[ioe]),_:1})]),_:1}),_(p,{content:"放大",position:"top","arrow-class":"hide-arrow","content-class":"zoomBox-tip"},{default:Je(()=>[_(h,{id:"zoomBoxBigger",type:"text",onclick:"zoomBoxBigger()",shape:"circle"},{icon:Je(()=>[_(w)]),_:1})]),_:1})]),_:1},8,["size"])}const loe=M1(ooe,[["render",soe],["__scopeId","data-v-bf68a3dc"]]),aoe="/assets/lid-bf343e64.svg",uoe="/assets/body-d3f2460a.svg";var g4={exports:{}};(function(e,o){(function(n,i){e.exports=i()})(Wn,function(){var n=n||{Msg:Object.create(null)};return n.Msg.ADD_COMMENT="添加注释",n.Msg.CANNOT_DELETE_VARIABLE_PROCEDURE="不能删除变量“%1”，因为它是函数“%2”定义的一部分",n.Msg.CHANGE_VALUE_TITLE="更改值：",n.Msg.CLEAN_UP="整理块",n.Msg.COLLAPSED_WARNINGS_WARNING="已收起的信息块内包含警告。",n.Msg.COLLAPSE_ALL="折叠块",n.Msg.COLLAPSE_BLOCK="折叠块",n.Msg.COLOUR_BLEND_COLOUR1="颜色1",n.Msg.COLOUR_BLEND_COLOUR2="颜色2",n.Msg.COLOUR_BLEND_HELPURL="https://meyerweb.com/eric/tools/color-blend/#:::rgbp",n.Msg.COLOUR_BLEND_RATIO="比例",n.Msg.COLOUR_BLEND_TITLE="混合",n.Msg.COLOUR_BLEND_TOOLTIP="把两种颜色以一个给定的比例(0.0-1.0)进行混合。",n.Msg.COLOUR_PICKER_HELPURL="https://zh.wikipedia.org/wiki/颜色",n.Msg.COLOUR_PICKER_TOOLTIP="从调色板中选择一种颜色。",n.Msg.COLOUR_RANDOM_HELPURL="http://randomcolour.com",n.Msg.COLOUR_RANDOM_TITLE="随机颜色",n.Msg.COLOUR_RANDOM_TOOLTIP="随机选择一种颜色。",n.Msg.COLOUR_RGB_BLUE="蓝色",n.Msg.COLOUR_RGB_GREEN="绿色",n.Msg.COLOUR_RGB_HELPURL="https://www.december.com/html/spec/colorpercompact.html",n.Msg.COLOUR_RGB_RED="红色",n.Msg.COLOUR_RGB_TITLE="颜色",n.Msg.COLOUR_RGB_TOOLTIP="通过指定红色、绿色和蓝色的量创建一种颜色。所有的值必须在0和100之间。",n.Msg.CONTROLS_FLOW_STATEMENTS_HELPURL="https://github.com/google/blockly/wiki/Loops#loop-termination-blocks",n.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_BREAK="跳出循环",n.Msg.CONTROLS_FLOW_STATEMENTS_OPERATOR_CONTINUE="继续下一轮循环",n.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_BREAK="跳出包含它的循环。",n.Msg.CONTROLS_FLOW_STATEMENTS_TOOLTIP_CONTINUE="跳过本轮循环的剩余部分，并继进行续下一轮循环。",n.Msg.CONTROLS_FLOW_STATEMENTS_WARNING="警告：这个块只能在循环内使用。",n.Msg.CONTROLS_FOREACH_HELPURL="https://github.com/google/blockly/wiki/Loops#for-each",n.Msg.CONTROLS_FOREACH_TITLE="遍历列表 %2 里的每一项 %1",n.Msg.CONTROLS_FOREACH_TOOLTIP="遍历列表中的每一项，将变量“%1”设为所选项，并执行一些语句。",n.Msg.CONTROLS_FOR_HELPURL="https://github.com/google/blockly/wiki/Loops#count-with",n.Msg.CONTROLS_FOR_TITLE="变量 %1 从 %2 数到 %3 每次增加 %4",n.Msg.CONTROLS_FOR_TOOLTIP="用变量%1记录从开始数值到终止数值之间的数值，数值按指定间隔增加，并执行指定的块。",n.Msg.CONTROLS_IF_ELSEIF_TOOLTIP="在这个if语句块中增加一个条件。",n.Msg.CONTROLS_IF_ELSE_TOOLTIP="在这个if语句块中添加一个最终的，包括所有其余情况的条件。",n.Msg.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse",n.Msg.CONTROLS_IF_IF_TOOLTIP="增加、删除或重新排列各节来重新配置这个if语句块。",n.Msg.CONTROLS_IF_MSG_ELSE="否则",n.Msg.CONTROLS_IF_MSG_ELSEIF="否则如果",n.Msg.CONTROLS_IF_MSG_IF="如果",n.Msg.CONTROLS_IF_TOOLTIP_1="如果值为真，执行一些语句。",n.Msg.CONTROLS_IF_TOOLTIP_2="如果值为真，则执行第一块语句。否则，则执行第二块语句。",n.Msg.CONTROLS_IF_TOOLTIP_3="如果第一个值为真，则执行第一块的语句。否则，如果第二个值为真，则执行第二块的语句。",n.Msg.CONTROLS_IF_TOOLTIP_4="如果第一个值为真，则执行第一块对语句。否则，如果第二个值为真，则执行语句的第二块。如果没有值为真，则执行最后一块的语句。",n.Msg.CONTROLS_REPEAT_HELPURL="https://zh.wikipedia.org/wiki/For循环",n.Msg.CONTROLS_REPEAT_INPUT_DO="执行",n.Msg.CONTROLS_REPEAT_TITLE="重复 %1 次",n.Msg.CONTROLS_REPEAT_TOOLTIP="多次执行一些语句。",n.Msg.CONTROLS_WHILEUNTIL_HELPURL="https://github.com/google/blockly/wiki/Loops#repeat",n.Msg.CONTROLS_WHILEUNTIL_OPERATOR_UNTIL="重复直到条件满足",n.Msg.CONTROLS_WHILEUNTIL_OPERATOR_WHILE="当条件满足时重复",n.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_UNTIL="只要值为假，就一直循环执行一些语句。",n.Msg.CONTROLS_WHILEUNTIL_TOOLTIP_WHILE="只要值为真，就一直循环执行一些语句。",n.Msg.DELETE_ALL_BLOCKS="删除所有 %1 个块吗？",n.Msg.DELETE_BLOCK="删除块",n.Msg.DELETE_VARIABLE="删除变量“%1”",n.Msg.DELETE_VARIABLE_CONFIRMATION="要删除对变量“%2”的%1个引用吗？",n.Msg.DELETE_X_BLOCKS="删除 %1 个块",n.Msg.DIALOG_CANCEL="取消",n.Msg.DIALOG_OK="确认",n.Msg.DISABLE_BLOCK="禁用块",n.Msg.DUPLICATE_BLOCK="复制",n.Msg.DUPLICATE_COMMENT="复制注释",n.Msg.ENABLE_BLOCK="启用块",n.Msg.EXPAND_ALL="展开块",n.Msg.EXPAND_BLOCK="展开块",n.Msg.EXTERNAL_INPUTS="外部输入",n.Msg.HELP="帮助",n.Msg.INLINE_INPUTS="单行输入",n.Msg.LISTS_CREATE_EMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#create-empty-list",n.Msg.LISTS_CREATE_EMPTY_TITLE="创建空列表",n.Msg.LISTS_CREATE_EMPTY_TOOLTIP="返回一个列表，长度为 0，不包含任何数据记录",n.Msg.LISTS_CREATE_WITH_CONTAINER_TITLE_ADD="列表",n.Msg.LISTS_CREATE_WITH_CONTAINER_TOOLTIP="增加、删除或重新排列各部分以此重新配置这个列表块。",n.Msg.LISTS_CREATE_WITH_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",n.Msg.LISTS_CREATE_WITH_INPUT_WITH="创建列表，内容：",n.Msg.LISTS_CREATE_WITH_ITEM_TOOLTIP="将一个项添加到列表中。",n.Msg.LISTS_CREATE_WITH_TOOLTIP="建立一个具有任意数量项目的列表。",n.Msg.LISTS_GET_INDEX_FIRST="第一项",n.Msg.LISTS_GET_INDEX_FROM_END="倒数第#项",n.Msg.LISTS_GET_INDEX_FROM_START="#",n.Msg.LISTS_GET_INDEX_GET="取得",n.Msg.LISTS_GET_INDEX_GET_REMOVE="取得并移除",n.Msg.LISTS_GET_INDEX_LAST="最后一项",n.Msg.LISTS_GET_INDEX_RANDOM="随机的一项",n.Msg.LISTS_GET_INDEX_REMOVE="移除",n.Msg.LISTS_GET_INDEX_TAIL="",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FIRST="返回列表中的第一项。",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_FROM="返回在列表中的指定位置的项。",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_LAST="返回列表中的最后一项。",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_RANDOM="返回列表中的随机一项。",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FIRST="移除并返回列表中的第一项。",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_FROM="移除并返回列表中的指定位置的项。",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_LAST="移除并返回列表中的最后一项。",n.Msg.LISTS_GET_INDEX_TOOLTIP_GET_REMOVE_RANDOM="移除并返回列表中的随机一项。",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FIRST="移除列表中的第一项",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_FROM="移除在列表中的指定位置的项。",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_LAST="移除列表中的最后一项",n.Msg.LISTS_GET_INDEX_TOOLTIP_REMOVE_RANDOM="删除列表中的随机一项。",n.Msg.LISTS_GET_SUBLIST_END_FROM_END="到倒数第#项",n.Msg.LISTS_GET_SUBLIST_END_FROM_START="到第#项",n.Msg.LISTS_GET_SUBLIST_END_LAST="到最后一项",n.Msg.LISTS_GET_SUBLIST_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-a-sublist",n.Msg.LISTS_GET_SUBLIST_START_FIRST="获取子列表，从第一项",n.Msg.LISTS_GET_SUBLIST_START_FROM_END="获取子列表，从倒数第#项",n.Msg.LISTS_GET_SUBLIST_START_FROM_START="获取子列表，从第#项",n.Msg.LISTS_GET_SUBLIST_TAIL="",n.Msg.LISTS_GET_SUBLIST_TOOLTIP="复制列表中指定的部分。",n.Msg.LISTS_INDEX_FROM_END_TOOLTIP="%1是最后一项。",n.Msg.LISTS_INDEX_FROM_START_TOOLTIP="%1是第一项。",n.Msg.LISTS_INDEX_OF_FIRST="寻找第一次出现的项",n.Msg.LISTS_INDEX_OF_HELPURL="https://github.com/google/blockly/wiki/Lists#getting-items-from-a-list",n.Msg.LISTS_INDEX_OF_LAST="寻找最后一次出现的项",n.Msg.LISTS_INDEX_OF_TOOLTIP="返回在列表中的第一/最后一个匹配项的索引值。如果找不到项目则返回%1。",n.Msg.LISTS_INLIST="在列表中",n.Msg.LISTS_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Lists#is-empty",n.Msg.LISTS_ISEMPTY_TITLE="%1是空的",n.Msg.LISTS_ISEMPTY_TOOLTIP="如果改列表为空，则返回真。",n.Msg.LISTS_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Lists#length-of",n.Msg.LISTS_LENGTH_TITLE="%1的长度",n.Msg.LISTS_LENGTH_TOOLTIP="返回列表的长度。",n.Msg.LISTS_REPEAT_HELPURL="https://github.com/google/blockly/wiki/Lists#create-list-with",n.Msg.LISTS_REPEAT_TITLE="建立列表使用项 %1 重复 %2 次",n.Msg.LISTS_REPEAT_TOOLTIP="建立包含指定重复次数的值的列表。",n.Msg.LISTS_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Lists#reversing-a-list",n.Msg.LISTS_REVERSE_MESSAGE0="倒转%1",n.Msg.LISTS_REVERSE_TOOLTIP="倒转一个列表，返回副本。",n.Msg.LISTS_SET_INDEX_HELPURL="https://github.com/google/blockly/wiki/Lists#in-list--set",n.Msg.LISTS_SET_INDEX_INPUT_TO="值为",n.Msg.LISTS_SET_INDEX_INSERT="插入在",n.Msg.LISTS_SET_INDEX_SET="设置",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FIRST="在列表的起始处添加该项。",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_FROM="在列表中指定位置插入项。",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_LAST="在列表的末尾处添加该项。",n.Msg.LISTS_SET_INDEX_TOOLTIP_INSERT_RANDOM="在列表的随机位置插入该项。",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FIRST="设置列表中的第一项。",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_FROM="设置在列表中指定位置的项。",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_LAST="设置列表中的最后一项。",n.Msg.LISTS_SET_INDEX_TOOLTIP_SET_RANDOM="设置列表中的随机一项。",n.Msg.LISTS_SORT_HELPURL="https://github.com/google/blockly/wiki/Lists#sorting-a-list",n.Msg.LISTS_SORT_ORDER_ASCENDING="升序",n.Msg.LISTS_SORT_ORDER_DESCENDING="降序",n.Msg.LISTS_SORT_TITLE="排序%1 %2 %3",n.Msg.LISTS_SORT_TOOLTIP="排序一个列表，返回副本。",n.Msg.LISTS_SORT_TYPE_IGNORECASE="按字母（忽略大小写）",n.Msg.LISTS_SORT_TYPE_NUMERIC="按数字",n.Msg.LISTS_SORT_TYPE_TEXT="按字母",n.Msg.LISTS_SPLIT_HELPURL="https://github.com/google/blockly/wiki/Lists#splitting-strings-and-joining-lists",n.Msg.LISTS_SPLIT_LIST_FROM_TEXT="从文本制作列表",n.Msg.LISTS_SPLIT_TEXT_FROM_LIST="将列表合并为文本",n.Msg.LISTS_SPLIT_TOOLTIP_JOIN="加入文本列表至一个文本，由分隔符分隔。",n.Msg.LISTS_SPLIT_TOOLTIP_SPLIT="将文本按指定的分隔符拆分为文本组成的列表。",n.Msg.LISTS_SPLIT_WITH_DELIMITER="分隔符：",n.Msg.LOGIC_BOOLEAN_FALSE="false",n.Msg.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values",n.Msg.LOGIC_BOOLEAN_TOOLTIP="返回 true 或 false。",n.Msg.LOGIC_BOOLEAN_TRUE="true",n.Msg.LOGIC_COMPARE_HELPURL="https://zh.wikipedia.org/wiki/不等",n.Msg.LOGIC_COMPARE_TOOLTIP_EQ="如果两个输入结果相等，则返回真。",n.Msg.LOGIC_COMPARE_TOOLTIP_GT="如果第一个输入结果比第二个大，则返回真。",n.Msg.LOGIC_COMPARE_TOOLTIP_GTE="如果第一个输入结果大于或等于第二个输入结果，则返回真。",n.Msg.LOGIC_COMPARE_TOOLTIP_LT="如果第一个输入结果比第二个小，则返回真。",n.Msg.LOGIC_COMPARE_TOOLTIP_LTE="如果第一个输入结果小于或等于第二个输入结果，则返回真。",n.Msg.LOGIC_COMPARE_TOOLTIP_NEQ="如果两个输入结果不相等，则返回真。",n.Msg.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not",n.Msg.LOGIC_NEGATE_TITLE="非 %1",n.Msg.LOGIC_NEGATE_TOOLTIP="如果输入结果为false，则返回true；如果输入结果为true，则返回false。",n.Msg.LOGIC_NULL="空",n.Msg.LOGIC_NULL_HELPURL="https://en.wikipedia.org/wiki/Nullable_type",n.Msg.LOGIC_NULL_TOOLTIP="返回空值。",n.Msg.LOGIC_OPERATION_AND="并且",n.Msg.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations",n.Msg.LOGIC_OPERATION_OR="或",n.Msg.LOGIC_OPERATION_TOOLTIP_AND="如果两个输入结果都为真，则返回真。",n.Msg.LOGIC_OPERATION_TOOLTIP_OR="如果至少有一个输入结果为真，则返回真。",n.Msg.LOGIC_TERNARY_CONDITION="断言",n.Msg.LOGIC_TERNARY_HELPURL="https://zh.wikipedia.org/wiki/条件运算符",n.Msg.LOGIC_TERNARY_IF_FALSE="如果为 false",n.Msg.LOGIC_TERNARY_IF_TRUE="如果为 true",n.Msg.LOGIC_TERNARY_TOOLTIP="检查“断言”里的条件语句。如果条件为真，则返回“如果为真”的值，否则，则返回“如果为假”的值。",n.Msg.MATH_ADDITION_SYMBOL="+",n.Msg.MATH_ARITHMETIC_HELPURL="https://zh.wikipedia.org/wiki/算术",n.Msg.MATH_ARITHMETIC_TOOLTIP_ADD="返回两个数值的和。",n.Msg.MATH_ARITHMETIC_TOOLTIP_DIVIDE="返回两个数值的商。",n.Msg.MATH_ARITHMETIC_TOOLTIP_MINUS="返回两个数值的差。",n.Msg.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="返回两个数值的乘积。",n.Msg.MATH_ARITHMETIC_TOOLTIP_POWER="返回以第一个数值为底数，以第二个数值为幂的结果。",n.Msg.MATH_ATAN2_HELPURL="https://zh.wikipedia.org/wiki/反正切2",n.Msg.MATH_ATAN2_TITLE="点(x:%1,y:%2)的方位角",n.Msg.MATH_ATAN2_TOOLTIP="返回点（X，Y）的反正切值，范围为-180到180度。",n.Msg.MATH_CHANGE_HELPURL="https://zh.wikipedia.org/wiki/加法",n.Msg.MATH_CHANGE_TITLE="将 %1 增加 %2",n.Msg.MATH_CHANGE_TOOLTIP="为变量“%1”增加一个数值。",n.Msg.MATH_CONSTANT_HELPURL="https://zh.wikipedia.org/wiki/数学常数",n.Msg.MATH_CONSTANT_TOOLTIP="返回一个常见常量：π (3.141…)、e (2.718…)、φ (1.618…)、根号2 (1.414…)、根号二分之一 (0.707…)或∞ (无穷大)。",n.Msg.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)",n.Msg.MATH_CONSTRAIN_TITLE="将 %1 限制在 最低 %2 到最高 %3 之间",n.Msg.MATH_CONSTRAIN_TOOLTIP="将一个数值限制在两个指定的数值范围（含边界）之间。",n.Msg.MATH_DIVISION_SYMBOL="÷",n.Msg.MATH_IS_DIVISIBLE_BY="可被整除",n.Msg.MATH_IS_EVEN="是偶数",n.Msg.MATH_IS_NEGATIVE="是负数",n.Msg.MATH_IS_ODD="是奇数",n.Msg.MATH_IS_POSITIVE="是正数",n.Msg.MATH_IS_PRIME="是质数",n.Msg.MATH_IS_TOOLTIP="检查一个数值是否是偶数、奇数、质数、自然数、正数、负数或者是否能被某数整除。返回真或假。",n.Msg.MATH_IS_WHOLE="是整数",n.Msg.MATH_MODULO_HELPURL="https://zh.wikipedia.org/wiki/模除",n.Msg.MATH_MODULO_TITLE="取 %1 ÷ %2 的余数",n.Msg.MATH_MODULO_TOOLTIP="返回这两个数字相除后的余数。",n.Msg.MATH_MULTIPLICATION_SYMBOL="×",n.Msg.MATH_NUMBER_HELPURL="https://zh.wikipedia.org/wiki/数",n.Msg.MATH_NUMBER_TOOLTIP="一个数值。",n.Msg.MATH_ONLIST_HELPURL="",n.Msg.MATH_ONLIST_OPERATOR_AVERAGE="列表平均值",n.Msg.MATH_ONLIST_OPERATOR_MAX="列表最大值",n.Msg.MATH_ONLIST_OPERATOR_MEDIAN="列表中位数",n.Msg.MATH_ONLIST_OPERATOR_MIN="列表最小值",n.Msg.MATH_ONLIST_OPERATOR_MODE="列表中的众数",n.Msg.MATH_ONLIST_OPERATOR_RANDOM="列表中的随机一项",n.Msg.MATH_ONLIST_OPERATOR_STD_DEV="列表的标准差",n.Msg.MATH_ONLIST_OPERATOR_SUM="列表中数值的和",n.Msg.MATH_ONLIST_TOOLTIP_AVERAGE="返回列表中的数值的平均值。",n.Msg.MATH_ONLIST_TOOLTIP_MAX="返回列表中最大值。",n.Msg.MATH_ONLIST_TOOLTIP_MEDIAN="返回列表中数值的中位数。",n.Msg.MATH_ONLIST_TOOLTIP_MIN="返回列表中最小值。",n.Msg.MATH_ONLIST_TOOLTIP_MODE="返回列表中的出现次数最多的项的列表。",n.Msg.MATH_ONLIST_TOOLTIP_RANDOM="从列表中返回一个随机的元素。",n.Msg.MATH_ONLIST_TOOLTIP_STD_DEV="返回列表的标准差。",n.Msg.MATH_ONLIST_TOOLTIP_SUM="返回列表中的所有数值的和。",n.Msg.MATH_POWER_SYMBOL="^",n.Msg.MATH_RANDOM_FLOAT_HELPURL="https://zh.wikipedia.org/wiki/随机数生成器",n.Msg.MATH_RANDOM_FLOAT_TITLE_RANDOM="随机小数",n.Msg.MATH_RANDOM_FLOAT_TOOLTIP="返回一个从0.0（含）到1.0（不含）之间的随机数。",n.Msg.MATH_RANDOM_INT_HELPURL="https://zh.wikipedia.org/wiki/随机数生成器",n.Msg.MATH_RANDOM_INT_TITLE="从 %1 到 %2 范围内的随机整数",n.Msg.MATH_RANDOM_INT_TOOLTIP="返回一个限制在两个指定数值的范围（含边界）之间的随机整数。",n.Msg.MATH_ROUND_HELPURL="https://zh.wikipedia.org/wiki/数值修约",n.Msg.MATH_ROUND_OPERATOR_ROUND="四舍五入",n.Msg.MATH_ROUND_OPERATOR_ROUNDDOWN="向下舍入",n.Msg.MATH_ROUND_OPERATOR_ROUNDUP="向上舍入",n.Msg.MATH_ROUND_TOOLTIP="数字向上或向下舍入。",n.Msg.MATH_SINGLE_HELPURL="https://zh.wikipedia.org/wiki/平方根",n.Msg.MATH_SINGLE_OP_ABSOLUTE="绝对值",n.Msg.MATH_SINGLE_OP_ROOT="平方根",n.Msg.MATH_SINGLE_TOOLTIP_ABS="返回一个数值的绝对值。",n.Msg.MATH_SINGLE_TOOLTIP_EXP="返回e的n次幂。",n.Msg.MATH_SINGLE_TOOLTIP_LN="返回一个数值的自然对数。",n.Msg.MATH_SINGLE_TOOLTIP_LOG10="返回一个数值的以10为底的对数。",n.Msg.MATH_SINGLE_TOOLTIP_NEG="返回一个数值的相反数。",n.Msg.MATH_SINGLE_TOOLTIP_POW10="返回10的n次幂。",n.Msg.MATH_SINGLE_TOOLTIP_ROOT="返回一个数的平方根。",n.Msg.MATH_SUBTRACTION_SYMBOL="-",n.Msg.MATH_TRIG_ACOS="反余玄",n.Msg.MATH_TRIG_ASIN="反正弦",n.Msg.MATH_TRIG_ATAN="反正切",n.Msg.MATH_TRIG_COS="余弦",n.Msg.MATH_TRIG_HELPURL="https://zh.wikipedia.org/wiki/三角函数",n.Msg.MATH_TRIG_SIN="正弦",n.Msg.MATH_TRIG_TAN="正切",n.Msg.MATH_TRIG_TOOLTIP_ACOS="返回一个数值的反余弦值。",n.Msg.MATH_TRIG_TOOLTIP_ASIN="返回一个数值的反正弦值。",n.Msg.MATH_TRIG_TOOLTIP_ATAN="返回一个数值的反正切值。",n.Msg.MATH_TRIG_TOOLTIP_COS="返回指定角度的余弦值（非弧度）。",n.Msg.MATH_TRIG_TOOLTIP_SIN="返回指定角度的正弦值（非弧度）。",n.Msg.MATH_TRIG_TOOLTIP_TAN="返回指定角度的正切值（非弧度）。",n.Msg.NEW_COLOUR_VARIABLE="创建颜色变量...",n.Msg.NEW_NUMBER_VARIABLE="创建数字变量...",n.Msg.NEW_STRING_VARIABLE="创建字符串变量...",n.Msg.NEW_VARIABLE="创建变量...",n.Msg.NEW_VARIABLE_TITLE="新变量的名称：",n.Msg.NEW_VARIABLE_TYPE_TITLE="新变量的类型：",n.Msg.ORDINAL_NUMBER_SUFFIX="",n.Msg.PROCEDURES_ALLOW_STATEMENTS="允许声明",n.Msg.PROCEDURES_BEFORE_PARAMS="与：",n.Msg.PROCEDURES_CALLNORETURN_HELPURL="https://zh.wikipedia.org/wiki/子程序",n.Msg.PROCEDURES_CALLNORETURN_TOOLTIP="运行用户定义的函数“%1”。",n.Msg.PROCEDURES_CALLRETURN_HELPURL="https://zh.wikipedia.org/wiki/子程序",n.Msg.PROCEDURES_CALLRETURN_TOOLTIP="运行用户定义的函数“%1”，并使用它的输出值。",n.Msg.PROCEDURES_CALL_BEFORE_PARAMS="与：",n.Msg.PROCEDURES_CREATE_DO="创建“%1”",n.Msg.PROCEDURES_DEFNORETURN_COMMENT="描述该功能...",n.Msg.PROCEDURES_DEFNORETURN_DO="",n.Msg.PROCEDURES_DEFNORETURN_HELPURL="https://zh.wikipedia.org/wiki/子程序",n.Msg.PROCEDURES_DEFNORETURN_PROCEDURE="做点什么",n.Msg.PROCEDURES_DEFNORETURN_TITLE="至",n.Msg.PROCEDURES_DEFNORETURN_TOOLTIP="创建一个不带输出值的函数。",n.Msg.PROCEDURES_DEFRETURN_HELPURL="https://zh.wikipedia.org/wiki/子程序",n.Msg.PROCEDURES_DEFRETURN_RETURN="返回",n.Msg.PROCEDURES_DEFRETURN_TOOLTIP="创建一个有输出值的函数。",n.Msg.PROCEDURES_DEF_DUPLICATE_WARNING="警告：此函数具有重复参数。",n.Msg.PROCEDURES_HIGHLIGHT_DEF="突出显示函数定义",n.Msg.PROCEDURES_IFRETURN_HELPURL="http://c2.com/cgi/wiki?GuardClause",n.Msg.PROCEDURES_IFRETURN_TOOLTIP="如果值为真，则返回第二个值。",n.Msg.PROCEDURES_IFRETURN_WARNING="警告：这个块只能在函数内部使用。",n.Msg.PROCEDURES_MUTATORARG_TITLE="输入名称：",n.Msg.PROCEDURES_MUTATORARG_TOOLTIP="添加函数输入。",n.Msg.PROCEDURES_MUTATORCONTAINER_TITLE="输入",n.Msg.PROCEDURES_MUTATORCONTAINER_TOOLTIP="添加、移除或重新排此函数的输入。",n.Msg.REDO="重做",n.Msg.REMOVE_COMMENT="删除注释",n.Msg.RENAME_VARIABLE="重命名变量...",n.Msg.RENAME_VARIABLE_TITLE="将所有“%1”变量重命名为:",n.Msg.TEXT_APPEND_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",n.Msg.TEXT_APPEND_TITLE="在%1之后加上文本%2",n.Msg.TEXT_APPEND_TOOLTIP="将一些文本追加到变量“%1”里。",n.Msg.TEXT_CHANGECASE_HELPURL="https://github.com/google/blockly/wiki/Text#adjusting-text-case",n.Msg.TEXT_CHANGECASE_OPERATOR_LOWERCASE="转为小写",n.Msg.TEXT_CHANGECASE_OPERATOR_TITLECASE="转为首字母大写",n.Msg.TEXT_CHANGECASE_OPERATOR_UPPERCASE="转为大写",n.Msg.TEXT_CHANGECASE_TOOLTIP="用不同的大小写模式复制并返回这段文字。",n.Msg.TEXT_CHARAT_FIRST="获取第一个字符",n.Msg.TEXT_CHARAT_FROM_END="获取倒数第#个字符",n.Msg.TEXT_CHARAT_FROM_START="获取第#个字符",n.Msg.TEXT_CHARAT_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-text",n.Msg.TEXT_CHARAT_LAST="获取最后一个字符",n.Msg.TEXT_CHARAT_RANDOM="获取随机一个字符",n.Msg.TEXT_CHARAT_TAIL="",n.Msg.TEXT_CHARAT_TITLE="在文本%1 里 %2",n.Msg.TEXT_CHARAT_TOOLTIP="返回位于指定位置的字符。",n.Msg.TEXT_COUNT_HELPURL="https://github.com/google/blockly/wiki/Text#counting-substrings",n.Msg.TEXT_COUNT_MESSAGE0="计算%1在%2里出现的次数",n.Msg.TEXT_COUNT_TOOLTIP="计算在一段文本中，某个部分文本重复出现了多少次。",n.Msg.TEXT_CREATE_JOIN_ITEM_TOOLTIP="将一个项添加到文本中。",n.Msg.TEXT_CREATE_JOIN_TITLE_JOIN="拼接",n.Msg.TEXT_CREATE_JOIN_TOOLTIP="添加、移除或重新排列各节来重新配置这个文本块。",n.Msg.TEXT_GET_SUBSTRING_END_FROM_END="到倒数第#个字符",n.Msg.TEXT_GET_SUBSTRING_END_FROM_START="到第#个字符",n.Msg.TEXT_GET_SUBSTRING_END_LAST="到最后一个字符",n.Msg.TEXT_GET_SUBSTRING_HELPURL="https://github.com/google/blockly/wiki/Text#extracting-a-region-of-text",n.Msg.TEXT_GET_SUBSTRING_INPUT_IN_TEXT="从文本",n.Msg.TEXT_GET_SUBSTRING_START_FIRST="获取子串，从第一个字符",n.Msg.TEXT_GET_SUBSTRING_START_FROM_END="获取子串，从倒数第#个字符",n.Msg.TEXT_GET_SUBSTRING_START_FROM_START="获取子串，从第#个字符",n.Msg.TEXT_GET_SUBSTRING_TAIL="",n.Msg.TEXT_GET_SUBSTRING_TOOLTIP="返回文本中指定的一部分。",n.Msg.TEXT_INDEXOF_HELPURL="https://github.com/google/blockly/wiki/Text#finding-text",n.Msg.TEXT_INDEXOF_OPERATOR_FIRST="寻找第一次出现的文本",n.Msg.TEXT_INDEXOF_OPERATOR_LAST="寻找最后一次出现的文本",n.Msg.TEXT_INDEXOF_TITLE="在文本 %1 里 %2  %3",n.Msg.TEXT_INDEXOF_TOOLTIP="返回第一个文本段在第二个文本段中的第一/最后一个匹配项的起始位置。如果未找到，则返回%1。",n.Msg.TEXT_ISEMPTY_HELPURL="https://github.com/google/blockly/wiki/Text#checking-for-empty-text",n.Msg.TEXT_ISEMPTY_TITLE="%1是空的",n.Msg.TEXT_ISEMPTY_TOOLTIP="如果给定的文本为空，则返回真。",n.Msg.TEXT_JOIN_HELPURL="https://github.com/google/blockly/wiki/Text#text-creation",n.Msg.TEXT_JOIN_TITLE_CREATEWITH="创建文本，内容：",n.Msg.TEXT_JOIN_TOOLTIP="通过串起任意数量的项以建立一段文本。",n.Msg.TEXT_LENGTH_HELPURL="https://github.com/google/blockly/wiki/Text#text-modification",n.Msg.TEXT_LENGTH_TITLE="%1的长度",n.Msg.TEXT_LENGTH_TOOLTIP="返回给定文本的字母数（包括空格）。",n.Msg.TEXT_PRINT_HELPURL="https://github.com/google/blockly/wiki/Text#printing-text",n.Msg.TEXT_PRINT_TITLE="输出%1",n.Msg.TEXT_PRINT_TOOLTIP="输出指定的文字、数字或其他值。",n.Msg.TEXT_PROMPT_HELPURL="https://github.com/google/blockly/wiki/Text#getting-input-from-the-user",n.Msg.TEXT_PROMPT_TOOLTIP_NUMBER="要求用户输入数字。",n.Msg.TEXT_PROMPT_TOOLTIP_TEXT="要求用户输入一些文本。",n.Msg.TEXT_PROMPT_TYPE_NUMBER="要求输入数字，并显示提示消息",n.Msg.TEXT_PROMPT_TYPE_TEXT="要求输入文本，并显示提示消息",n.Msg.TEXT_REPLACE_HELPURL="https://github.com/google/blockly/wiki/Text#replacing-substrings",n.Msg.TEXT_REPLACE_MESSAGE0="把%3中的%1替换为%2",n.Msg.TEXT_REPLACE_TOOLTIP="在一段文本中，将出现过的某部分文本都替换掉。",n.Msg.TEXT_REVERSE_HELPURL="https://github.com/google/blockly/wiki/Text#reversing-text",n.Msg.TEXT_REVERSE_MESSAGE0="倒转文本%1",n.Msg.TEXT_REVERSE_TOOLTIP="将文本中各个字符的顺序倒转。",n.Msg.TEXT_TEXT_HELPURL="https://zh.wikipedia.org/wiki/字符串",n.Msg.TEXT_TEXT_TOOLTIP="一个字、词语或一行文本。",n.Msg.TEXT_TRIM_HELPURL="https://github.com/google/blockly/wiki/Text#trimming-removing-spaces",n.Msg.TEXT_TRIM_OPERATOR_BOTH="消除其两侧的空白",n.Msg.TEXT_TRIM_OPERATOR_LEFT="消除其左侧的空白",n.Msg.TEXT_TRIM_OPERATOR_RIGHT="消除其右侧的空白",n.Msg.TEXT_TRIM_TOOLTIP="从某一端或同时从两端删除多余的空白，并返回这段文字的一个副本。",n.Msg.TODAY="今天",n.Msg.UNDO="撤销",n.Msg.UNNAMED_KEY="未命名",n.Msg.VARIABLES_DEFAULT_NAME="项目",n.Msg.VARIABLES_GET_CREATE_SET="创建“设定%1”",n.Msg.VARIABLES_GET_HELPURL="https://github.com/google/blockly/wiki/Variables#get",n.Msg.VARIABLES_GET_TOOLTIP="返回此变量的值。",n.Msg.VARIABLES_SET="赋值 %1 为 %2",n.Msg.VARIABLES_SET_CREATE_GET="创建“获得%1”",n.Msg.VARIABLES_SET_HELPURL="https://github.com/google/blockly/wiki/Variables#set",n.Msg.VARIABLES_SET_TOOLTIP="设置此变量，以使它和输入值相等。",n.Msg.VARIABLE_ALREADY_EXISTS="名字叫“%1”的变量已经存在了。",n.Msg.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="名字叫“%1”的变量已经有了另一个类型：“%2”。",n.Msg.VARIABLE_ALREADY_EXISTS_FOR_A_PARAMETER="A variable named '%1' already exists as a parameter in the procedure '%2'.",n.Msg.WORKSPACE_ARIA_LABEL="Blockly工作区",n.Msg.WORKSPACE_COMMENT_DEFAULT_TEXT="说点什么...",n.Msg.CONTROLS_FOREACH_INPUT_DO=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.CONTROLS_FOR_INPUT_DO=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=n.Msg.CONTROLS_IF_MSG_ELSEIF,n.Msg.CONTROLS_IF_ELSE_TITLE_ELSE=n.Msg.CONTROLS_IF_MSG_ELSE,n.Msg.CONTROLS_IF_IF_TITLE_IF=n.Msg.CONTROLS_IF_MSG_IF,n.Msg.CONTROLS_IF_MSG_THEN=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.CONTROLS_WHILEUNTIL_INPUT_DO=n.Msg.CONTROLS_REPEAT_INPUT_DO,n.Msg.LISTS_CREATE_WITH_ITEM_TITLE=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.LISTS_GET_INDEX_HELPURL=n.Msg.LISTS_INDEX_OF_HELPURL,n.Msg.LISTS_GET_INDEX_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.LISTS_GET_SUBLIST_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.LISTS_INDEX_OF_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.LISTS_SET_INDEX_INPUT_IN_LIST=n.Msg.LISTS_INLIST,n.Msg.MATH_CHANGE_TITLE_ITEM=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.PROCEDURES_DEFRETURN_COMMENT=n.Msg.PROCEDURES_DEFNORETURN_COMMENT,n.Msg.PROCEDURES_DEFRETURN_DO=n.Msg.PROCEDURES_DEFNORETURN_DO,n.Msg.PROCEDURES_DEFRETURN_PROCEDURE=n.Msg.PROCEDURES_DEFNORETURN_PROCEDURE,n.Msg.PROCEDURES_DEFRETURN_TITLE=n.Msg.PROCEDURES_DEFNORETURN_TITLE,n.Msg.TEXT_APPEND_VARIABLE=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.TEXT_CREATE_JOIN_ITEM_TITLE_ITEM=n.Msg.VARIABLES_DEFAULT_NAME,n.Msg.LOGIC_HUE="210",n.Msg.LOOPS_HUE="120",n.Msg.MATH_HUE="230",n.Msg.TEXTS_HUE="160",n.Msg.LISTS_HUE="260",n.Msg.COLOUR_HUE="20",n.Msg.VARIABLES_HUE="330",n.Msg.VARIABLES_DYNAMIC_HUE="310",n.Msg.PROCEDURES_HUE="290",n.Msg})})(g4);var m4=g4.exports;const coe=xl(m4),doe=F4({__proto__:null,default:coe},[m4]),hoe="/assets/boxy-9294c905.svg";class poe{constructor(){this.mode="light",this.root=document.documentElement}switch(o){console.log(o),this.mode=o,this.root.setAttribute("mode",o),document.body.setAttribute("arco-theme",o)}}let y$=new poe;const _S=e=>(cI("data-v-466f6626"),e=e(),dI(),e),foe=_S(()=>De("div",{id:"brand"},[De("img",{src:hoe,alt:""})],-1)),goe={class:"dropdown-select"},moe=_S(()=>De("p",null,"积木盒积木全显",-1)),$oe=_S(()=>De("p",null,"主题",-1)),voe={__name:"dropdown",props:["workspace"],setup(e){const o=e,n=ve(!1),i=ve(!0),l=ve(localStorage.getItem("theme")||"跟随系统"),u=ve(!!localStorage.getItem("block_all_shown")),a=R=>{localStorage.setItem("block_all_shown",R?"true":""),u.value=R,document.querySelector(".blocklyFlyout").style.width=R?"":320},h=()=>{n.value=!0};window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",R=>{R.matches&&l.value==="跟随系统"?y$.switch("dark"):y$.switch("light")}),p();function p(){switch(localStorage.setItem("theme",l.value),l.value){case"亮色模式":y$.switch("light");break;case"暗黑模式":y$.switch("dark");break;default:y$.switch(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")}}const m=R=>{l.value=R,p()},$=()=>{n.value=!1},T=()=>{let R=document.createElement("a");R.href=`data:,${JSON.stringify(bn.serialization.workspaces.save(o.workspace))}`,R.download="project.wmc",R.click()},w=()=>{let R=document.createElement("input");R.setAttribute("id","file"),R.setAttribute("type","file"),R.setAttribute("name","file"),R.setAttribute("style","visibility:hidden"),R.setAttribute("accept",".wmc"),document.body.appendChild(R),R.click(),R.onchange=L=>{let M=L.target.files[0],B=new FileReader;B.onload=()=>{let G=JSON.parse(B.result);bn.serialization.workspaces.load(G,o.workspace)},B.readAsText(M,"UTF-8")}},A=()=>{window.open("https://github.com/Lt2023/Wey-Studio-public-/blob/main/Wey%20micro%20code/README.md")};return(R,L)=>{const M=Pe("a-doption"),B=Pe("a-divider"),G=Pe("a-trigger"),j=Pe("a-typography-title"),F=Pe("a-switch"),x=Pe("a-space"),D=Pe("a-option"),U=Pe("a-select"),te=Pe("a-drawer");return W(),fe(Lt,null,[_(G,{trigger:"hover",position:"rt"},{content:Je(()=>[De("div",goe,[_(M,null,{default:Je(()=>[Dt("新建")]),_:1}),_(M,{onClick:T},{default:Je(()=>[Dt("保存到电脑")]),_:1}),_(M,{onClick:w},{default:Je(()=>[Dt("打开本地文件")]),_:1}),_(B,{margin:"1px"}),_(M,{onClick:A},{default:Je(()=>[Dt("文档")]),_:1}),_(M,{onClick:h},{default:Je(()=>[Dt("更多选项")]),_:1})])]),default:Je(()=>[foe]),_:1}),_(te,{width:340,visible:n.value,onCancel:$,unmountOnClose:"",footer:!1},{title:Je(()=>[Dt(" 更多 ")]),default:Je(()=>[De("div",null,[_(j,{heading:6},{default:Je(()=>[Dt("偏好设置")]),_:1}),_(x,{size:"large",fill:i.value,style:yt({justifyContent:"space-between",color:"var(--color-text-2)"})},{default:Je(()=>[moe,_(F,{onChange:a,"model-value":u.value,"onUpdate:modelValue":L[0]||(L[0]=Y=>u.value=Y)},null,8,["model-value"])]),_:1},8,["fill","style"]),_(x,{size:"large",fill:i.value,style:yt({justifyContent:"space-between",color:"var(--color-text-2)"})},{default:Je(()=>[$oe,_(U,{onChange:m,"model-value":l.value,"onUpdate:modelValue":L[1]||(L[1]=Y=>l.value=Y),style:{width:"150px"},"default-value":"跟随系统"},{default:Je(()=>[_(D,null,{icon:Je(()=>[_(Ta(Qne))]),default:Je(()=>[Dt("亮色模式")]),_:1}),_(D,null,{icon:Je(()=>[_(Ta(hne))]),default:Je(()=>[Dt("暗黑模式")]),_:1}),_(D,null,{icon:Je(()=>[_(Ta(zne))]),default:Je(()=>[Dt("跟随系统")]),_:1})]),_:1},8,["model-value"])]),_:1},8,["fill","style"]),_(j,{heading:6},{default:Je(()=>[Dt("关于 Wey micro code")]),_:1}),_(x,{size:"large",fill:i.value,style:yt({justifyContent:"space-between",color:"var(--color-text-2)"})},{default:Je(()=>[Dt(" Powered by Boxy. ")]),_:1},8,["fill","style"])])]),_:1},8,["visible"])],64)}}},_oe=M1(voe,[["__scopeId","data-v-466f6626"]]);var Ea=IN();Ea.javascriptGenerator.controls_forever=function(e){return`for(;;) {
`+Ea.javascriptGenerator.statementToCode(e,"DO")+`}
`};Ea.javascriptGenerator.math_evenly_divisible=function(e){const o=Ea.javascriptGenerator.valueToCode(e,"DIVIDEND",Ea.javascriptGenerator.ORDER_ATOMIC)||"0",n=Ea.javascriptGenerator.valueToCode(e,"DIVISOR",Ea.javascriptGenerator.ORDER_ATOMIC)||"0";return[o+" % "+n+" === 0",Ea.javascriptGenerator.ORDER_NONE]};var $4={exports:{}},nC={exports:{}},_N;function boe(){return _N||(_N=1,function(e,o){(function(n,i){e.exports=i(Hh())})(Wn,function(n){var i=n.__namespace__,l=function(y,N){return[N.quote_(y.getFieldValue("COLOUR")),C.ATOMIC]},u=function(y,N){return[N.provideFunction_("colour_random",`
function ${N.FUNCTION_NAME_PLACEHOLDER_}() {
  return '#' . str_pad(dechex(mt_rand(0, 0xFFFFFF)), 6, '0', STR_PAD_LEFT);
}
`)+"()",C.FUNCTION_CALL]},a=function(y,N){const S=N.valueToCode(y,"RED",C.NONE)||0,b=N.valueToCode(y,"GREEN",C.NONE)||0;return y=N.valueToCode(y,"BLUE",C.NONE)||0,[N.provideFunction_("colour_rgb",`
function ${N.FUNCTION_NAME_PLACEHOLDER_}($r, $g, $b) {
  $r = round(max(min($r, 100), 0) * 2.55);
  $g = round(max(min($g, 100), 0) * 2.55);
  $b = round(max(min($b, 100), 0) * 2.55);
  $hex = '#';
  $hex .= str_pad(dechex($r), 2, '0', STR_PAD_LEFT);
  $hex .= str_pad(dechex($g), 2, '0', STR_PAD_LEFT);
  $hex .= str_pad(dechex($b), 2, '0', STR_PAD_LEFT);
  return $hex;
}
`)+"("+S+", "+b+", "+y+")",C.FUNCTION_CALL]},h=function(y,N){const S=N.valueToCode(y,"COLOUR1",C.NONE)||"'#000000'",b=N.valueToCode(y,"COLOUR2",C.NONE)||"'#000000'";return y=N.valueToCode(y,"RATIO",C.NONE)||.5,[N.provideFunction_("colour_blend",`
function ${N.FUNCTION_NAME_PLACEHOLDER_}($c1, $c2, $ratio) {
  $ratio = max(min($ratio, 1), 0);
  $r1 = hexdec(substr($c1, 1, 2));
  $g1 = hexdec(substr($c1, 3, 2));
  $b1 = hexdec(substr($c1, 5, 2));
  $r2 = hexdec(substr($c2, 1, 2));
  $g2 = hexdec(substr($c2, 3, 2));
  $b2 = hexdec(substr($c2, 5, 2));
  $r = round($r1 * (1 - $ratio) + $r2 * $ratio);
  $g = round($g1 * (1 - $ratio) + $g2 * $ratio);
  $b = round($b1 * (1 - $ratio) + $b2 * $ratio);
  $hex = '#';
  $hex .= str_pad(dechex($r), 2, '0', STR_PAD_LEFT);
  $hex .= str_pad(dechex($g), 2, '0', STR_PAD_LEFT);
  $hex .= str_pad(dechex($b), 2, '0', STR_PAD_LEFT);
  return $hex;
}
`)+"("+S+", "+b+", "+y+")",C.FUNCTION_CALL]},p=function(y,N){return["array()",C.FUNCTION_CALL]},m=function(y,N){let S=Array(y.itemCount_);for(let b=0;b<y.itemCount_;b++)S[b]=N.valueToCode(y,"ADD"+b,C.NONE)||"null";return S="array("+S.join(", ")+")",[S,C.FUNCTION_CALL]},$=function(y,N){const S=N.provideFunction_("lists_repeat",`
function ${N.FUNCTION_NAME_PLACEHOLDER_}($value, $count) {
  $array = array();
  for ($index = 0; $index < $count; $index++) {
    $array[] = $value;
  }
  return $array;
}
`),b=N.valueToCode(y,"ITEM",C.NONE)||"null";return y=N.valueToCode(y,"NUM",C.NONE)||"0",[S+"("+b+", "+y+")",C.FUNCTION_CALL]},T=function(y,N){const S=N.provideFunction_("length",`
function ${N.FUNCTION_NAME_PLACEHOLDER_}($value) {
  if (is_string($value)) {
    return strlen($value);
  } else {
    return count($value);
  }
}
`);return y=N.valueToCode(y,"VALUE",C.NONE)||"''",[S+"("+y+")",C.FUNCTION_CALL]},w=function(y,N){return["empty("+(N.valueToCode(y,"VALUE",C.FUNCTION_CALL)||"array()")+")",C.FUNCTION_CALL]},A=function(y,N){const S=N.valueToCode(y,"FIND",C.NONE)||"''",b=N.valueToCode(y,"VALUE",C.MEMBER)||"[]";let v=" -1",I="";return y.workspace.options.oneBasedIndex&&(v=" 0",I=" + 1"),[(y.getFieldValue("END")==="FIRST"?N.provideFunction_("indexOf",`
function ${N.FUNCTION_NAME_PLACEHOLDER_}($haystack, $needle) {
  for ($index = 0; $index < count($haystack); $index++) {
    if ($haystack[$index] == $needle) return $index${I};
  }
  return ${v};
}
`):N.provideFunction_("lastIndexOf",`
function ${N.FUNCTION_NAME_PLACEHOLDER_}($haystack, $needle) {
  $last = ${v};
  for ($index = 0; $index < count($haystack); $index++) {
    if ($haystack[$index] == $needle) $last = $index${I};
  }
  return $last;
}
`))+"("+b+", "+S+")",C.FUNCTION_CALL]},R=function(y,N){var S=y.getFieldValue("MODE")||"GET";switch(y.getFieldValue("WHERE")||"FROM_START"){case"FIRST":if(S==="GET")return[(N.valueToCode(y,"VALUE",C.MEMBER)||"array()")+"[0]",C.MEMBER];if(S==="GET_REMOVE")return["array_shift("+(N.valueToCode(y,"VALUE",C.NONE)||"array()")+")",C.FUNCTION_CALL];if(S==="REMOVE")return"array_shift("+(N.valueToCode(y,"VALUE",C.NONE)||"array()")+`);
`;break;case"LAST":if(S==="GET")return["end("+(N.valueToCode(y,"VALUE",C.NONE)||"array()")+")",C.FUNCTION_CALL];if(S==="GET_REMOVE")return["array_pop("+(N.valueToCode(y,"VALUE",C.NONE)||"array()")+")",C.FUNCTION_CALL];if(S==="REMOVE")return"array_pop("+(N.valueToCode(y,"VALUE",C.NONE)||"array()")+`);
`;break;case"FROM_START":var b=N.getAdjusted(y,"AT");if(S==="GET")return[(N.valueToCode(y,"VALUE",C.MEMBER)||"array()")+"["+b+"]",C.MEMBER];if(S==="GET_REMOVE")return["array_splice("+(N.valueToCode(y,"VALUE",C.NONE)||"array()")+", "+b+", 1)[0]",C.FUNCTION_CALL];if(S==="REMOVE")return"array_splice("+(N.valueToCode(y,"VALUE",C.NONE)||"array()")+", "+b+`, 1);
`;break;case"FROM_END":if(S==="GET")return S=N.valueToCode(y,"VALUE",C.NONE)||"array()",N=N.getAdjusted(y,"AT",1,!0),["array_slice("+S+", "+N+", 1)[0]",C.FUNCTION_CALL];if(S==="GET_REMOVE"||S==="REMOVE"){if(b=N.valueToCode(y,"VALUE",C.NONE)||"array()",N=N.getAdjusted(y,"AT",1,!1,C.SUBTRACTION),N="array_splice("+b+", count("+b+") - "+N+", 1)[0]",S==="GET_REMOVE")return[N,C.FUNCTION_CALL];if(S==="REMOVE")return N+`;
`}break;case"RANDOM":if(y=N.valueToCode(y,"VALUE",C.NONE)||"array()",S==="GET")return[N.provideFunction_("lists_get_random_item",`
function ${N.FUNCTION_NAME_PLACEHOLDER_}($list) {
  return $list[rand(0,count($list)-1)];
}
`)+"("+y+")",C.FUNCTION_CALL];if(S==="GET_REMOVE")return[N.provideFunction_("lists_get_remove_random_item",`
function ${N.FUNCTION_NAME_PLACEHOLDER_}(&$list) {
  $x = rand(0,count($list)-1);
  unset($list[$x]);
  return array_values($list);
}
`)+"("+y+")",C.FUNCTION_CALL];if(S==="REMOVE")return N.provideFunction_("lists_remove_random_item",`
function ${N.FUNCTION_NAME_PLACEHOLDER_}(&$list) {
  unset($list[rand(0,count($list)-1)]);
}
`)+"("+y+`);
`}throw Error("Unhandled combination (lists_getIndex).")},L=function(y,N){const S=y.getFieldValue("MODE")||"GET";var b=y.getFieldValue("WHERE")||"FROM_START";const v=N.valueToCode(y,"TO",C.ASSIGNMENT)||"null";switch(b){case"FIRST":if(S==="SET")return(N.valueToCode(y,"LIST",C.MEMBER)||"array()")+"[0] = "+v+`;
`;if(S==="INSERT")return"array_unshift("+(N.valueToCode(y,"LIST",C.NONE)||"array()")+", "+v+`);
`;break;case"LAST":if(y=N.valueToCode(y,"LIST",C.NONE)||"array()",S==="SET")return N.provideFunction_("lists_set_last_item",`
function ${N.FUNCTION_NAME_PLACEHOLDER_}(&$list, $value) {
  $list[count($list) - 1] = $value;
}
`)+"("+y+", "+v+`);
`;if(S==="INSERT")return"array_push("+y+", "+v+`);
`;break;case"FROM_START":if(b=N.getAdjusted(y,"AT"),S==="SET")return(N.valueToCode(y,"LIST",C.MEMBER)||"array()")+"["+b+"] = "+v+`;
`;if(S==="INSERT")return"array_splice("+(N.valueToCode(y,"LIST",C.NONE)||"array()")+", "+b+", 0, "+v+`);
`;break;case"FROM_END":if(b=N.valueToCode(y,"LIST",C.NONE)||"array()",y=N.getAdjusted(y,"AT",1),S==="SET")return N.provideFunction_("lists_set_from_end",`
function ${N.FUNCTION_NAME_PLACEHOLDER_}(&$list, $at, $value) {
  $list[count($list) - $at] = $value;
}
`)+"("+b+", "+y+", "+v+`);
`;if(S==="INSERT")return N.provideFunction_("lists_insert_from_end",`
function ${N.FUNCTION_NAME_PLACEHOLDER_}(&$list, $at, $value) {
  return array_splice($list, count($list) - $at, 0, $value);
}
`)+"("+b+", "+y+", "+v+`);
`;break;case"RANDOM":if(y=N.valueToCode(y,"LIST",C.REFERENCE)||"array()",y.match(/^\$\w+$/))b="";else{b=N.nameDB_.getDistinctName("tmp_list",i.NameType$$module$build$src$core$names.VARIABLE);var I=b+" = &"+y+`;
`;y=b,b=I}if(N=N.nameDB_.getDistinctName("tmp_x",i.NameType$$module$build$src$core$names.VARIABLE),b+=N+" = rand(0, count("+y+`)-1);
`,S==="SET")return b+(y+"["+N+"] = "+v+`;
`);if(S==="INSERT")return b+("array_splice("+y+", "+N+", 0, "+v+`);
`)}throw Error("Unhandled combination (lists_setIndex).")},M=function(y,N){var S=N.valueToCode(y,"LIST",C.NONE)||"array()",b=y.getFieldValue("WHERE1");const v=y.getFieldValue("WHERE2");if(b!=="FIRST"||v!=="LAST")if(S.match(/^\$\w+$/)||b!=="FROM_END"&&v==="FROM_START"){switch(b){case"FROM_START":b=N.getAdjusted(y,"AT1");break;case"FROM_END":b=N.getAdjusted(y,"AT1",1,!1,C.SUBTRACTION),b="count("+S+") - "+b;break;case"FIRST":b="0";break;default:throw Error("Unhandled option (lists_getSublist).")}switch(v){case"FROM_START":N=N.getAdjusted(y,"AT2",0,!1,C.SUBTRACTION),N+=" - ",N=i.isNumber$$module$build$src$core$utils$string(String(b))||String(b).match(/^\(.+\)$/)?N+b:N+("("+b+")"),N+=" + 1";break;case"FROM_END":N=N.getAdjusted(y,"AT2",0,!1,C.SUBTRACTION),N="count("+S+") - "+N+" - ",N=i.isNumber$$module$build$src$core$utils$string(String(b))||String(b).match(/^\(.+\)$/)?N+b:N+("("+b+")");break;case"LAST":N="count("+S+") - ",N=i.isNumber$$module$build$src$core$utils$string(String(b))||String(b).match(/^\(.+\)$/)?N+b:N+("("+b+")");break;default:throw Error("Unhandled option (lists_getSublist).")}S="array_slice("+S+", "+b+", "+N+")"}else{const I=N.getAdjusted(y,"AT1");y=N.getAdjusted(y,"AT2"),S=N.provideFunction_("lists_get_sublist",`
function ${N.FUNCTION_NAME_PLACEHOLDER_}($list, $where1, $at1, $where2, $at2) {
  if ($where1 == 'FROM_END') {
    $at1 = count($list) - 1 - $at1;
  } else if ($where1 == 'FIRST') {
    $at1 = 0;
  } else if ($where1 != 'FROM_START') {
    throw new Exception('Unhandled option (lists_get_sublist).');
  }
  $length = 0;
  if ($where2 == 'FROM_START') {
    $length = $at2 - $at1 + 1;
  } else if ($where2 == 'FROM_END') {
    $length = count($list) - $at1 - $at2;
  } else if ($where2 == 'LAST') {
    $length = count($list) - $at1;
  } else {
    throw new Exception('Unhandled option (lists_get_sublist).');
  }
  return array_slice($list, $at1, $length);
}
`)+"("+S+", '"+b+"', "+I+", '"+v+"', "+y+")"}return[S,C.FUNCTION_CALL]},B=function(y,N){const S=N.valueToCode(y,"LIST",C.NONE)||"array()",b=y.getFieldValue("DIRECTION")==="1"?1:-1;return y=y.getFieldValue("TYPE"),[N.provideFunction_("lists_sort",`
function ${N.FUNCTION_NAME_PLACEHOLDER_}($list, $type, $direction) {
  $sortCmpFuncs = array(
    'NUMERIC' => 'strnatcasecmp',
    'TEXT' => 'strcmp',
    'IGNORE_CASE' => 'strcasecmp'
  );
  $sortCmp = $sortCmpFuncs[$type];
  $list2 = $list;
  usort($list2, $sortCmp);
  if ($direction == -1) {
    $list2 = array_reverse($list2);
  }
  return $list2;
}
`)+"("+S+', "'+y+'", '+b+")",C.FUNCTION_CALL]},G=function(y,N){let S=N.valueToCode(y,"INPUT",C.NONE);if(N=N.valueToCode(y,"DELIM",C.NONE)||"''",y=y.getFieldValue("MODE"),y==="SPLIT")S||(S="''"),y="explode";else if(y==="JOIN")S||(S="array()"),y="implode";else throw Error("Unknown mode: "+y);return[y+"("+N+", "+S+")",C.FUNCTION_CALL]},j=function(y,N){return["array_reverse("+(N.valueToCode(y,"LIST",C.NONE)||"[]")+")",C.FUNCTION_CALL]},F=function(y,N){let S=0,b="",v,I;N.STATEMENT_PREFIX&&(b+=N.injectId(N.STATEMENT_PREFIX,y));do I=N.valueToCode(y,"IF"+S,C.NONE)||"false",v=N.statementToCode(y,"DO"+S),N.STATEMENT_SUFFIX&&(v=N.prefixLines(N.injectId(N.STATEMENT_SUFFIX,y),N.INDENT)+v),b+=(0<S?" else ":"")+"if ("+I+`) {
`+v+"}",S++;while(y.getInput("IF"+S));return(y.getInput("ELSE")||N.STATEMENT_SUFFIX)&&(v=N.statementToCode(y,"ELSE"),N.STATEMENT_SUFFIX&&(v=N.prefixLines(N.injectId(N.STATEMENT_SUFFIX,y),N.INDENT)+v),b+=` else {
`+v+"}"),b+`
`},x=function(y,N){const S={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[y.getFieldValue("OP")],b=S==="=="||S==="!="?C.EQUALITY:C.RELATIONAL,v=N.valueToCode(y,"A",b)||"0";return y=N.valueToCode(y,"B",b)||"0",[v+" "+S+" "+y,b]},D=function(y,N){const S=y.getFieldValue("OP")==="AND"?"&&":"||",b=S==="&&"?C.LOGICAL_AND:C.LOGICAL_OR;let v=N.valueToCode(y,"A",b);return y=N.valueToCode(y,"B",b),v||y?(N=S==="&&"?"true":"false",v||(v=N),y||(y=N)):y=v="false",[v+" "+S+" "+y,b]},U=function(y,N){const S=C.LOGICAL_NOT;return["!"+(N.valueToCode(y,"BOOL",S)||"true"),S]},te=function(y,N){return[y.getFieldValue("BOOL")==="TRUE"?"true":"false",C.ATOMIC]},Y=function(y,N){return["null",C.ATOMIC]},J=function(y,N){const S=N.valueToCode(y,"IF",C.CONDITIONAL)||"false",b=N.valueToCode(y,"THEN",C.CONDITIONAL)||"null";return y=N.valueToCode(y,"ELSE",C.CONDITIONAL)||"null",[S+" ? "+b+" : "+y,C.CONDITIONAL]},ee=function(y,N){let S;S=y.getField("TIMES")?String(Number(y.getFieldValue("TIMES"))):N.valueToCode(y,"TIMES",C.ASSIGNMENT)||"0";let b=N.statementToCode(y,"DO");b=N.addLoopTrap(b,y),y="";const v=N.nameDB_.getDistinctName("count",i.NameType$$module$build$src$core$names.VARIABLE);let I=S;return S.match(/^\w+$/)||i.isNumber$$module$build$src$core$utils$string(S)||(I=N.nameDB_.getDistinctName("repeat_end",i.NameType$$module$build$src$core$names.VARIABLE),y+=I+" = "+S+`;
`),y+("for ("+v+" = 0; "+v+" < "+I+"; "+v+`++) {
`+b+`}
`)},ue=function(y,N){const S=y.getFieldValue("MODE")==="UNTIL";let b=N.valueToCode(y,"BOOL",S?C.LOGICAL_NOT:C.NONE)||"false",v=N.statementToCode(y,"DO");return v=N.addLoopTrap(v,y),S&&(b="!"+b),"while ("+b+`) {
`+v+`}
`},oe=function(y,N){var S=N.nameDB_.getName(y.getFieldValue("VAR"),i.NameType$$module$build$src$core$names.VARIABLE),b=N.valueToCode(y,"FROM",C.ASSIGNMENT)||"0",v=N.valueToCode(y,"TO",C.ASSIGNMENT)||"0";const I=N.valueToCode(y,"BY",C.ASSIGNMENT)||"1";let H=N.statementToCode(y,"DO");if(H=N.addLoopTrap(H,y),i.isNumber$$module$build$src$core$utils$string(b)&&i.isNumber$$module$build$src$core$utils$string(v)&&i.isNumber$$module$build$src$core$utils$string(I))N=Number(b)<=Number(v),y="for ("+S+" = "+b+"; "+S+(N?" <= ":" >= ")+v+"; "+S,S=Math.abs(Number(I)),y=S===1?y+(N?"++":"--"):y+((N?" += ":" -= ")+S),y+=`) {
`+H+`}
`;else{y="";let pe=b;b.match(/^\w+$/)||i.isNumber$$module$build$src$core$utils$string(b)||(pe=N.nameDB_.getDistinctName(S+"_start",i.NameType$$module$build$src$core$names.VARIABLE),y+=pe+" = "+b+`;
`),b=v,v.match(/^\w+$/)||i.isNumber$$module$build$src$core$utils$string(v)||(b=N.nameDB_.getDistinctName(S+"_end",i.NameType$$module$build$src$core$names.VARIABLE),y+=b+" = "+v+`;
`),v=N.nameDB_.getDistinctName(S+"_inc",i.NameType$$module$build$src$core$names.VARIABLE),y+=v+" = ",y=i.isNumber$$module$build$src$core$utils$string(I)?y+(Math.abs(I)+`;
`):y+("abs("+I+`);
`),y+="if ("+pe+" > "+b+`) {
`,y+=N.INDENT+v+" = -"+v+`;
`,y=y+`}
for (`+(S+" = "+pe+"; "+v+" >= 0 ? "+S+" <= "+b+" : "+S+" >= "+b+"; "+S+" += "+v+`) {
`+H+`}
`)}return y},X=function(y,N){const S=N.nameDB_.getName(y.getFieldValue("VAR"),i.NameType$$module$build$src$core$names.VARIABLE),b=N.valueToCode(y,"LIST",C.ASSIGNMENT)||"[]";let v=N.statementToCode(y,"DO");return v=N.addLoopTrap(v,y),"foreach ("+b+" as "+S+`) {
`+v+`}
`},K=function(y,N){let S="";if(N.STATEMENT_PREFIX&&(S+=N.injectId(N.STATEMENT_PREFIX,y)),N.STATEMENT_SUFFIX&&(S+=N.injectId(N.STATEMENT_SUFFIX,y)),N.STATEMENT_PREFIX){const b=y.getSurroundLoop();b&&!b.suppressPrefixSuffix&&(S+=N.injectId(N.STATEMENT_PREFIX,b))}switch(y.getFieldValue("FLOW")){case"BREAK":return S+`break;
`;case"CONTINUE":return S+`continue;
`}throw Error("Unknown flow statement.")},q=function(y,N){return y=Number(y.getFieldValue("NUM")),N=0<=y?C.ATOMIC:C.UNARY_NEGATION,y===1/0?y="INF":y===-1/0&&(y="-INF"),[y,N]},z=function(y,N){var S={ADD:[" + ",C.ADDITION],MINUS:[" - ",C.SUBTRACTION],MULTIPLY:[" * ",C.MULTIPLICATION],DIVIDE:[" / ",C.DIVISION],POWER:[" ** ",C.POWER]}[y.getFieldValue("OP")];const b=S[0];S=S[1];const v=N.valueToCode(y,"A",S)||"0";return y=N.valueToCode(y,"B",S)||"0",[v+b+y,S]},ne=function(y,N){const S=y.getFieldValue("OP");let b;if(S==="NEG")return y=N.valueToCode(y,"NUM",C.UNARY_NEGATION)||"0",y[0]==="-"&&(y=" "+y),["-"+y,C.UNARY_NEGATION];switch(y=S==="SIN"||S==="COS"||S==="TAN"?N.valueToCode(y,"NUM",C.DIVISION)||"0":N.valueToCode(y,"NUM",C.NONE)||"0",S){case"ABS":b="abs("+y+")";break;case"ROOT":b="sqrt("+y+")";break;case"LN":b="log("+y+")";break;case"EXP":b="exp("+y+")";break;case"POW10":b="pow(10,"+y+")";break;case"ROUND":b="round("+y+")";break;case"ROUNDUP":b="ceil("+y+")";break;case"ROUNDDOWN":b="floor("+y+")";break;case"SIN":b="sin("+y+" / 180 * pi())";break;case"COS":b="cos("+y+" / 180 * pi())";break;case"TAN":b="tan("+y+" / 180 * pi())"}if(b)return[b,C.FUNCTION_CALL];switch(S){case"LOG10":b="log("+y+") / log(10)";break;case"ASIN":b="asin("+y+") / pi() * 180";break;case"ACOS":b="acos("+y+") / pi() * 180";break;case"ATAN":b="atan("+y+") / pi() * 180";break;default:throw Error("Unknown math operator: "+S)}return[b,C.DIVISION]},ge=function(y,N){return{PI:["M_PI",C.ATOMIC],E:["M_E",C.ATOMIC],GOLDEN_RATIO:["(1 + sqrt(5)) / 2",C.DIVISION],SQRT2:["M_SQRT2",C.ATOMIC],SQRT1_2:["M_SQRT1_2",C.ATOMIC],INFINITY:["INF",C.ATOMIC]}[y.getFieldValue("CONSTANT")]},Q=function(y,N){var S={EVEN:[""," % 2 == 0",C.MODULUS,C.EQUALITY],ODD:[""," % 2 == 1",C.MODULUS,C.EQUALITY],WHOLE:["is_int(",")",C.NONE,C.FUNCTION_CALL],POSITIVE:[""," > 0",C.RELATIONAL,C.RELATIONAL],NEGATIVE:[""," < 0",C.RELATIONAL,C.RELATIONAL],DIVISIBLE_BY:[null,null,C.MODULUS,C.EQUALITY],PRIME:[null,null,C.NONE,C.FUNCTION_CALL]};const b=y.getFieldValue("PROPERTY"),[v,I,H,pe]=S[b];if(S=N.valueToCode(y,"NUMBER_TO_CHECK",H)||"0",b==="PRIME")y=N.provideFunction_("math_isPrime",`
function ${N.FUNCTION_NAME_PLACEHOLDER_}($n) {
  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods
  if ($n == 2 || $n == 3) {
    return true;
  }
  // False if n is NaN, negative, is 1, or not whole.
  // And false if n is divisible by 2 or 3.
  if (!is_numeric($n) || $n <= 1 || $n % 1 != 0 || $n % 2 == 0 || $n % 3 == 0) {
    return false;
  }
  // Check all the numbers of form 6k +/- 1, up to sqrt(n).
  for ($x = 6; $x <= sqrt($n) + 1; $x += 6) {
    if ($n % ($x - 1) == 0 || $n % ($x + 1) == 0) {
      return false;
    }
  }
  return true;
}
`)+"("+S+")";else if(b==="DIVISIBLE_BY"){if(y=N.valueToCode(y,"DIVISOR",C.MODULUS)||"0",y==="0")return["false",C.ATOMIC];y=S+" % "+y+" == 0"}else y=v+S+I;return[y,pe]},Oe=function(y,N){const S=N.valueToCode(y,"DELTA",C.ADDITION)||"0";return N.nameDB_.getName(y.getFieldValue("VAR"),i.NameType$$module$build$src$core$names.VARIABLE)+" += "+S+`;
`},Re=function(y,N){var S=y.getFieldValue("OP");switch(S){case"SUM":y=N.valueToCode(y,"LIST",C.FUNCTION_CALL)||"array()",y="array_sum("+y+")";break;case"MIN":y=N.valueToCode(y,"LIST",C.FUNCTION_CALL)||"array()",y="min("+y+")";break;case"MAX":y=N.valueToCode(y,"LIST",C.FUNCTION_CALL)||"array()",y="max("+y+")";break;case"AVERAGE":S=N.provideFunction_("math_mean",`
function ${N.FUNCTION_NAME_PLACEHOLDER_}($myList) {
  return array_sum($myList) / count($myList);
}
`),y=N.valueToCode(y,"LIST",C.NONE)||"array()",y=S+"("+y+")";break;case"MEDIAN":S=N.provideFunction_("math_median",`
function ${N.FUNCTION_NAME_PLACEHOLDER_}($arr) {
  sort($arr,SORT_NUMERIC);
  return (count($arr) % 2) ? $arr[floor(count($arr) / 2)] :
      ($arr[floor(count($arr) / 2)] + $arr[floor(count($arr) / 2) - 1]) / 2;
}
`),y=N.valueToCode(y,"LIST",C.NONE)||"[]",y=S+"("+y+")";break;case"MODE":S=N.provideFunction_("math_modes",`
function ${N.FUNCTION_NAME_PLACEHOLDER_}($values) {
  if (empty($values)) return array();
  $counts = array_count_values($values);
  arsort($counts); // Sort counts in descending order
  $modes = array_keys($counts, current($counts), true);
  return $modes;
}
`),y=N.valueToCode(y,"LIST",C.NONE)||"[]",y=S+"("+y+")";break;case"STD_DEV":S=N.provideFunction_("math_standard_deviation",`
function ${N.FUNCTION_NAME_PLACEHOLDER_}($numbers) {
  $n = count($numbers);
  if (!$n) return null;
  $mean = array_sum($numbers) / count($numbers);
  foreach($numbers as $key => $num) $devs[$key] = pow($num - $mean, 2);
  return sqrt(array_sum($devs) / (count($devs) - 1));
}
`),y=N.valueToCode(y,"LIST",C.NONE)||"[]",y=S+"("+y+")";break;case"RANDOM":S=N.provideFunction_("math_random_list",`
function ${N.FUNCTION_NAME_PLACEHOLDER_}($list) {
  $x = rand(0, count($list)-1);
  return $list[$x];
}
`),y=N.valueToCode(y,"LIST",C.NONE)||"[]",y=S+"("+y+")";break;default:throw Error("Unknown operator: "+S)}return[y,C.FUNCTION_CALL]},_e=function(y,N){const S=N.valueToCode(y,"DIVIDEND",C.MODULUS)||"0";return y=N.valueToCode(y,"DIVISOR",C.MODULUS)||"0",[S+" % "+y,C.MODULUS]},se=function(y,N){const S=N.valueToCode(y,"VALUE",C.NONE)||"0",b=N.valueToCode(y,"LOW",C.NONE)||"0";return y=N.valueToCode(y,"HIGH",C.NONE)||"Infinity",["min(max("+S+", "+b+"), "+y+")",C.FUNCTION_CALL]},ke=function(y,N){const S=N.valueToCode(y,"FROM",C.NONE)||"0";return y=N.valueToCode(y,"TO",C.NONE)||"0",[N.provideFunction_("math_random_int",`
function ${N.FUNCTION_NAME_PLACEHOLDER_}($a, $b) {
  if ($a > $b) {
    return rand($b, $a);
  }
  return rand($a, $b);
}
`)+"("+S+", "+y+")",C.FUNCTION_CALL]},Be=function(y,N){return["(float)rand()/(float)getrandmax()",C.FUNCTION_CALL]},et=function(y,N){const S=N.valueToCode(y,"X",C.NONE)||"0";return["atan2("+(N.valueToCode(y,"Y",C.NONE)||"0")+", "+S+") / pi() * 180",C.DIVISION]},ut=function(y,N){var S=[],b=y.workspace,v=i.allUsedVarModels$$module$build$src$core$variables(b)||[];for(let ln=0,Hn;Hn=v[ln];ln++){var I=Hn.name;y.getVars().indexOf(I)===-1&&S.push(N.nameDB_.getName(I,i.NameType$$module$build$src$core$names.VARIABLE))}for(b=i.allDeveloperVariables$$module$build$src$core$variables(b),v=0;v<b.length;v++)S.push(N.nameDB_.getName(b[v],i.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE));b=S.length?N.INDENT+"global "+S.join(", ")+`;
`:"",S=N.nameDB_.getName(y.getFieldValue("NAME"),i.NameType$$module$build$src$core$names.PROCEDURE),v="",N.STATEMENT_PREFIX&&(v+=N.injectId(N.STATEMENT_PREFIX,y)),N.STATEMENT_SUFFIX&&(v+=N.injectId(N.STATEMENT_SUFFIX,y)),v&&(v=N.prefixLines(v,N.INDENT)),I="",N.INFINITE_LOOP_TRAP&&(I=N.prefixLines(N.injectId(N.INFINITE_LOOP_TRAP,y),N.INDENT));const H=N.statementToCode(y,"STACK");let pe=N.valueToCode(y,"RETURN",C.NONE)||"",rt="";H&&pe&&(rt=v),pe&&(pe=N.INDENT+"return "+pe+`;
`);const bt=[],Ft=y.getVars();for(let ln=0;ln<Ft.length;ln++)bt[ln]=N.nameDB_.getName(Ft[ln],i.NameType$$module$build$src$core$names.VARIABLE);return b="function "+S+"("+bt.join(", ")+`) {
`+b+v+I+H+rt+pe+"}",b=N.scrub_(y,b),N.definitions_["%"+S]=b,null},dt=function(y,N){const S=N.nameDB_.getName(y.getFieldValue("NAME"),i.NameType$$module$build$src$core$names.PROCEDURE),b=[],v=y.getVars();for(let I=0;I<v.length;I++)b[I]=N.valueToCode(y,"ARG"+I,C.NONE)||"null";return[S+"("+b.join(", ")+")",C.FUNCTION_CALL]},gt=function(y,N){return N.forBlock.procedures_callreturn(y,N)[0]+`;
`},we=function(y,N){let S="if ("+(N.valueToCode(y,"CONDITION",C.NONE)||"false")+`) {
`;return N.STATEMENT_SUFFIX&&(S+=N.prefixLines(N.injectId(N.STATEMENT_SUFFIX,y),N.INDENT)),y.hasReturnValue_?(y=N.valueToCode(y,"VALUE",C.NONE)||"null",S+=N.INDENT+"return "+y+`;
`):S+=N.INDENT+`return;
`,S+`}
`},le=function(y,N){return[N.quote_(y.getFieldValue("TEXT")),C.ATOMIC]},ce=function(y,N){return y=N.multiline_quote_(y.getFieldValue("TEXT")),N=y.indexOf(".")!==-1?C.STRING_CONCAT:C.ATOMIC,[y,N]},re=function(y,N){if(y.itemCount_===0)return["''",C.ATOMIC];if(y.itemCount_===1)return[N.valueToCode(y,"ADD0",C.NONE)||"''",C.NONE];if(y.itemCount_===2){var S=N.valueToCode(y,"ADD0",C.STRING_CONCAT)||"''";return y=N.valueToCode(y,"ADD1",C.STRING_CONCAT)||"''",[S+" . "+y,C.STRING_CONCAT]}S=Array(y.itemCount_);for(let b=0;b<y.itemCount_;b++)S[b]=N.valueToCode(y,"ADD"+b,C.NONE)||"''";return["implode('', array("+S.join(",")+"))",C.FUNCTION_CALL]},Me=function(y,N){const S=N.nameDB_.getName(y.getFieldValue("VAR"),i.NameType$$module$build$src$core$names.VARIABLE);return y=N.valueToCode(y,"TEXT",C.ASSIGNMENT)||"''",S+" .= "+y+`;
`},Ne=function(y,N){const S=N.provideFunction_("length",`
function ${N.FUNCTION_NAME_PLACEHOLDER_}($value) {
  if (is_string($value)) {
    return strlen($value);
  }
  return count($value);
}
`);return y=N.valueToCode(y,"VALUE",C.NONE)||"''",[S+"("+y+")",C.FUNCTION_CALL]},$e=function(y,N){return["empty("+(N.valueToCode(y,"VALUE",C.NONE)||"''")+")",C.FUNCTION_CALL]},Fe=function(y,N){const S=y.getFieldValue("END")==="FIRST"?"strpos":"strrpos",b=N.valueToCode(y,"FIND",C.NONE)||"''",v=N.valueToCode(y,"VALUE",C.NONE)||"''";let I=" -1",H="";return y.workspace.options.oneBasedIndex&&(I=" 0",H=" + 1"),[N.provideFunction_(y.getFieldValue("END")==="FIRST"?"text_indexOf":"text_lastIndexOf",`
function ${N.FUNCTION_NAME_PLACEHOLDER_}($text, $search) {
  $pos = ${S}($text, $search);
  return $pos === false ? ${I} : $pos${H};
}
`)+"("+v+", "+b+")",C.FUNCTION_CALL]},Le=function(y,N){const S=y.getFieldValue("WHERE")||"FROM_START",b=N.valueToCode(y,"VALUE",C.NONE)||"''";switch(S){case"FIRST":return["substr("+b+", 0, 1)",C.FUNCTION_CALL];case"LAST":return["substr("+b+", -1)",C.FUNCTION_CALL];case"FROM_START":return y=N.getAdjusted(y,"AT"),["substr("+b+", "+y+", 1)",C.FUNCTION_CALL];case"FROM_END":return y=N.getAdjusted(y,"AT",1,!0),["substr("+b+", "+y+", 1)",C.FUNCTION_CALL];case"RANDOM":return[N.provideFunction_("text_random_letter",`
function ${N.FUNCTION_NAME_PLACEHOLDER_}($text) {
  return $text[rand(0, strlen($text) - 1)];
}
`)+"("+b+")",C.FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},qe=function(y,N){const S=y.getFieldValue("WHERE1"),b=y.getFieldValue("WHERE2"),v=N.valueToCode(y,"STRING",C.NONE)||"''";if(S==="FIRST"&&b==="LAST")return[v,C.NONE];const I=N.getAdjusted(y,"AT1");return y=N.getAdjusted(y,"AT2"),[N.provideFunction_("text_get_substring",`
function ${N.FUNCTION_NAME_PLACEHOLDER_}($text, $where1, $at1, $where2, $at2) {
  if ($where1 == 'FROM_END') {
    $at1 = strlen($text) - 1 - $at1;
  } else if ($where1 == 'FIRST') {
    $at1 = 0;
  } else if ($where1 != 'FROM_START') {
    throw new Exception('Unhandled option (text_get_substring).');
  }
  $length = 0;
  if ($where2 == 'FROM_START') {
    $length = $at2 - $at1 + 1;
  } else if ($where2 == 'FROM_END') {
    $length = strlen($text) - $at1 - $at2;
  } else if ($where2 == 'LAST') {
    $length = strlen($text) - $at1;
  } else {
    throw new Exception('Unhandled option (text_get_substring).');
  }
  return substr($text, $at1, $length);
}
`)+"("+v+", '"+S+"', "+I+", '"+b+"', "+y+")",C.FUNCTION_CALL]},Xe=function(y,N){N=N.valueToCode(y,"TEXT",C.NONE)||"''";let S;return y.getFieldValue("CASE")==="UPPERCASE"?S="strtoupper("+N+")":y.getFieldValue("CASE")==="LOWERCASE"?S="strtolower("+N+")":y.getFieldValue("CASE")==="TITLECASE"&&(S="ucwords(strtolower("+N+"))"),[S,C.FUNCTION_CALL]},at=function(y,N){const S={LEFT:"ltrim",RIGHT:"rtrim",BOTH:"trim"}[y.getFieldValue("MODE")];return y=N.valueToCode(y,"TEXT",C.NONE)||"''",[S+"("+y+")",C.FUNCTION_CALL]},Ee=function(y,N){return"print("+(N.valueToCode(y,"TEXT",C.NONE)||"''")+`);
`},Ie=function(y,N){return N="readline("+(y.getField("TEXT")?N.quote_(y.getFieldValue("TEXT")):N.valueToCode(y,"TEXT",C.NONE)||"''")+")",y.getFieldValue("TYPE")==="NUMBER"&&(N="floatval("+N+")"),[N,C.FUNCTION_CALL]},he=function(y,N){const S=N.valueToCode(y,"TEXT",C.NONE)||"''";return y=N.valueToCode(y,"SUB",C.NONE)||"''",["strlen("+y+") === 0 ? strlen("+S+") + 1 : substr_count("+S+", "+y+")",C.CONDITIONAL]},me=function(y,N){const S=N.valueToCode(y,"TEXT",C.NONE)||"''",b=N.valueToCode(y,"FROM",C.NONE)||"''";return y=N.valueToCode(y,"TO",C.NONE)||"''",["str_replace("+b+", "+y+", "+S+")",C.FUNCTION_CALL]},Se=function(y,N){return["strrev("+(N.valueToCode(y,"TEXT",C.NONE)||"''")+")",C.FUNCTION_CALL]},xe=function(y,N){return[N.nameDB_.getName(y.getFieldValue("VAR"),i.NameType$$module$build$src$core$names.VARIABLE),C.ATOMIC]},Ke=function(y,N){const S=N.valueToCode(y,"VALUE",C.ASSIGNMENT)||"0";return N.nameDB_.getName(y.getFieldValue("VAR"),i.NameType$$module$build$src$core$names.VARIABLE)+" = "+S+`;
`},C={ATOMIC:0,CLONE:1,NEW:1,MEMBER:2.1,FUNCTION_CALL:2.2,POWER:3,INCREMENT:4,DECREMENT:4,BITWISE_NOT:4,CAST:4,SUPPRESS_ERROR:4,INSTANCEOF:5,LOGICAL_NOT:6,UNARY_PLUS:7.1,UNARY_NEGATION:7.2,MULTIPLICATION:8.1,DIVISION:8.2,MODULUS:8.3,ADDITION:9.1,SUBTRACTION:9.2,STRING_CONCAT:9.3,BITWISE_SHIFT:10,RELATIONAL:11,EQUALITY:12,REFERENCE:13,BITWISE_AND:13,BITWISE_XOR:14,BITWISE_OR:15,LOGICAL_AND:16,LOGICAL_OR:17,IF_NULL:18,CONDITIONAL:19,ASSIGNMENT:20,LOGICAL_AND_WEAK:21,LOGICAL_XOR:22,LOGICAL_OR_WEAK:23,NONE:99},k=class extends i.CodeGenerator$$module$build$src$core$generator{constructor(y){super(y??"PHP"),this.ORDER_OVERRIDES=[[C.MEMBER,C.FUNCTION_CALL],[C.MEMBER,C.MEMBER],[C.LOGICAL_NOT,C.LOGICAL_NOT],[C.MULTIPLICATION,C.MULTIPLICATION],[C.ADDITION,C.ADDITION],[C.LOGICAL_AND,C.LOGICAL_AND],[C.LOGICAL_OR,C.LOGICAL_OR]],this.isInitialized=!1;for(const N in C)this["ORDER_"+N]=C[N];this.addReservedWords("__halt_compiler,abstract,and,array,as,break,callable,case,catch,class,clone,const,continue,declare,default,die,do,echo,else,elseif,empty,enddeclare,endfor,endforeach,endif,endswitch,endwhile,eval,exit,extends,final,for,foreach,function,global,goto,if,implements,include,include_once,instanceof,insteadof,interface,isset,list,namespace,new,or,print,private,protected,public,require,require_once,return,static,switch,throw,trait,try,unset,use,var,while,xor,PHP_VERSION,PHP_MAJOR_VERSION,PHP_MINOR_VERSION,PHP_RELEASE_VERSION,PHP_VERSION_ID,PHP_EXTRA_VERSION,PHP_ZTS,PHP_DEBUG,PHP_MAXPATHLEN,PHP_OS,PHP_SAPI,PHP_EOL,PHP_INT_MAX,PHP_INT_SIZE,DEFAULT_INCLUDE_PATH,PEAR_INSTALL_DIR,PEAR_EXTENSION_DIR,PHP_EXTENSION_DIR,PHP_PREFIX,PHP_BINDIR,PHP_BINARY,PHP_MANDIR,PHP_LIBDIR,PHP_DATADIR,PHP_SYSCONFDIR,PHP_LOCALSTATEDIR,PHP_CONFIG_FILE_PATH,PHP_CONFIG_FILE_SCAN_DIR,PHP_SHLIB_SUFFIX,E_ERROR,E_WARNING,E_PARSE,E_NOTICE,E_CORE_ERROR,E_CORE_WARNING,E_COMPILE_ERROR,E_COMPILE_WARNING,E_USER_ERROR,E_USER_WARNING,E_USER_NOTICE,E_DEPRECATED,E_USER_DEPRECATED,E_ALL,E_STRICT,__COMPILER_HALT_OFFSET__,TRUE,FALSE,NULL,__CLASS__,__DIR__,__FILE__,__FUNCTION__,__LINE__,__METHOD__,__NAMESPACE__,__TRAIT__")}init(y){super.init(y),this.nameDB_?this.nameDB_.reset():this.nameDB_=new i.Names$$module$build$src$core$names(this.RESERVED_WORDS_,"$"),this.nameDB_.setVariableMap(y.getVariableMap()),this.nameDB_.populateVariables(y),this.nameDB_.populateProcedures(y),this.isInitialized=!0}finish(y){const N=Object.values(this.definitions_);return y=super.finish(y),this.isInitialized=!1,this.nameDB_.reset(),N.join(`

`)+`


`+y}scrubNakedValue(y){return y+`;
`}quote_(y){return y=y.replace(/\\/g,"\\\\").replace(/\n/g,`\\
`).replace(/'/g,"\\'"),"'"+y+"'"}multiline_quote_(y){return y.split(/\n/g).map(this.quote_).join(` . "\\n" .
`)}scrub_(y,N,S){let b="";if(!y.outputConnection||!y.outputConnection.targetConnection){var v=y.getCommentText();v&&(v=i.wrap$$module$build$src$core$utils$string(v,this.COMMENT_WRAP-3),b+=this.prefixLines(v,"// ")+`
`);for(let I=0;I<y.inputList.length;I++)y.inputList[I].type===i.inputTypes$$module$build$src$core$inputs$input_types.VALUE&&(v=y.inputList[I].connection.targetBlock())&&(v=this.allNestedComments(v))&&(b+=this.prefixLines(v,"// "))}return y=y.nextConnection&&y.nextConnection.targetBlock(),S=S?"":this.blockToCode(y),b+N+S}getAdjusted(y,N,S,b,v){S=S||0,v=v||this.ORDER_NONE,y.workspace.options.oneBasedIndex&&S--;let I=y.workspace.options.oneBasedIndex?"1":"0",H=v,pe;return 0<S?pe=H=this.ORDER_ADDITION:0>S?pe=H=this.ORDER_SUBTRACTION:b&&(pe=H=this.ORDER_UNARY_NEGATION),y=this.valueToCode(y,N,H)||I,i.isNumber$$module$build$src$core$utils$string(y)?(y=Number(y)+S,b&&(y=-y)):(0<S?y=y+" + "+S:0>S&&(y=y+" - "+-S),b&&(y=S?"-("+y+")":"-"+y),pe=Math.floor(pe),v=Math.floor(v),pe&&v>=pe&&(y="("+y+")")),y}},de={};de.colour_blend=h,de.colour_picker=l,de.colour_random=u,de.colour_rgb=a;var Ce={};Ce.lists_create_empty=p,Ce.lists_create_with=m,Ce.lists_getIndex=R,Ce.lists_getSublist=M,Ce.lists_indexOf=A,Ce.lists_isEmpty=w,Ce.lists_length=T,Ce.lists_repeat=$,Ce.lists_reverse=j,Ce.lists_setIndex=L,Ce.lists_sort=B,Ce.lists_split=G;var Te={};Te.controls_if=F,Te.controls_ifelse=F,Te.logic_boolean=te,Te.logic_compare=x,Te.logic_negate=U,Te.logic_null=Y,Te.logic_operation=D,Te.logic_ternary=J;var Ve={};Ve.controls_flow_statements=K,Ve.controls_for=oe,Ve.controls_forEach=X,Ve.controls_repeat=ee,Ve.controls_repeat_ext=ee,Ve.controls_whileUntil=ue;var tt={};tt.math_arithmetic=z,tt.math_atan2=et,tt.math_change=Oe,tt.math_constant=ge,tt.math_constrain=se,tt.math_modulo=_e,tt.math_number=q,tt.math_number_property=Q,tt.math_on_list=Re,tt.math_random_float=Be,tt.math_random_int=ke,tt.math_round=ne,tt.math_single=ne,tt.math_trig=ne;var Et={};Et.procedures_callnoreturn=gt,Et.procedures_callreturn=dt,Et.procedures_defnoreturn=ut,Et.procedures_defreturn=ut,Et.procedures_ifreturn=we;var St={};St.text=le,St.text_append=Me,St.text_changeCase=Xe,St.text_charAt=Le,St.text_count=he,St.text_getSubstring=qe,St.text_indexOf=Fe,St.text_isEmpty=$e,St.text_join=re,St.text_length=Ne,St.text_multiline=ce,St.text_print=Ee,St.text_prompt=Ie,St.text_prompt_ext=Ie,St.text_replace=me,St.text_reverse=Se,St.text_trim=at;var Bt={};Bt.variables_get=xe,Bt.variables_set=Ke;var qt={};qt.variables_get_dynamic=xe,qt.variables_set_dynamic=Ke;var sn=new k;Object.assign(sn.forBlock,de,Ce,Te,Ve,tt,Et,St,Bt,qt);var dn={};return dn.Order=C,dn.PhpGenerator=k,dn.phpGenerator=sn,dn.__namespace__=i,dn})}(nC)),nC.exports}(function(e,o){(function(n,i){e.exports=i(id(),boe())})(Wn,function(n,i){/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */return i})})($4);var Au=$4.exports;Au.phpGenerator.controls_forever=function(e){return`for(;;) {
`+Au.phpGenerator.statementToCode(e,"DO")+`}
`};Au.phpGenerator.math_evenly_divisible=function(e){const o=Au.phpGenerator.valueToCode(e,"DIVIDEND",Au.phpGenerator.ORDER_ATOMIC)||"0",n=Au.phpGenerator.valueToCode(e,"DIVISOR",Au.phpGenerator.ORDER_ATOMIC)||"0";return[o+" % "+n+" == 0",Au.phpGenerator.ORDER_NONE]};var v4={exports:{}},oC={exports:{}},bN;function Toe(){return bN||(bN=1,function(e,o){(function(n,i){e.exports=i(Hh())})(Wn,function(n){var i=n.__namespace__,l=function(S,b){return[b.quote_(S.getFieldValue("COLOUR")),C.ATOMIC]},u=function(S,b){return b.definitions_.import_random="import random",["'#%06x' % random.randint(0, 2**24 - 1)",C.FUNCTION_CALL]},a=function(S,b){const v=b.provideFunction_("colour_rgb",`
def ${b.FUNCTION_NAME_PLACEHOLDER_}(r, g, b):
  r = round(min(100, max(0, r)) * 2.55)
  g = round(min(100, max(0, g)) * 2.55)
  b = round(min(100, max(0, b)) * 2.55)
  return '#%02x%02x%02x' % (r, g, b)
`),I=b.valueToCode(S,"RED",C.NONE)||0,H=b.valueToCode(S,"GREEN",C.NONE)||0;return S=b.valueToCode(S,"BLUE",C.NONE)||0,[v+"("+I+", "+H+", "+S+")",C.FUNCTION_CALL]},h=function(S,b){const v=b.provideFunction_("colour_blend",`
def ${b.FUNCTION_NAME_PLACEHOLDER_}(colour1, colour2, ratio):
  r1, r2 = int(colour1[1:3], 16), int(colour2[1:3], 16)
  g1, g2 = int(colour1[3:5], 16), int(colour2[3:5], 16)
  b1, b2 = int(colour1[5:7], 16), int(colour2[5:7], 16)
  ratio = min(1, max(0, ratio))
  r = round(r1 * (1 - ratio) + r2 * ratio)
  g = round(g1 * (1 - ratio) + g2 * ratio)
  b = round(b1 * (1 - ratio) + b2 * ratio)
  return '#%02x%02x%02x' % (r, g, b)
`),I=b.valueToCode(S,"COLOUR1",C.NONE)||"'#000000'",H=b.valueToCode(S,"COLOUR2",C.NONE)||"'#000000'";return S=b.valueToCode(S,"RATIO",C.NONE)||0,[v+"("+I+", "+H+", "+S+")",C.FUNCTION_CALL]},p=function(S,b){return["[]",C.ATOMIC]},m=function(S,b){const v=Array(S.itemCount_);for(let I=0;I<S.itemCount_;I++)v[I]=b.valueToCode(S,"ADD"+I,C.NONE)||"None";return["["+v.join(", ")+"]",C.ATOMIC]},$=function(S,b){const v=b.valueToCode(S,"ITEM",C.NONE)||"None";return S=b.valueToCode(S,"NUM",C.MULTIPLICATIVE)||"0",["["+v+"] * "+S,C.MULTIPLICATIVE]},T=function(S,b){return["len("+(b.valueToCode(S,"VALUE",C.NONE)||"[]")+")",C.FUNCTION_CALL]},w=function(S,b){return["not len("+(b.valueToCode(S,"VALUE",C.NONE)||"[]")+")",C.LOGICAL_NOT]},A=function(S,b){const v=b.valueToCode(S,"FIND",C.NONE)||"[]",I=b.valueToCode(S,"VALUE",C.NONE)||"''";let H=" -1",pe="",rt=" - 1";return S.workspace.options.oneBasedIndex&&(H=" 0",pe=" + 1",rt=""),[(S.getFieldValue("END")==="FIRST"?b.provideFunction_("first_index",`
def ${b.FUNCTION_NAME_PLACEHOLDER_}(my_list, elem):
  try: index = my_list.index(elem)${pe}
  except: index =${H}
  return index
`):b.provideFunction_("last_index",`
def ${b.FUNCTION_NAME_PLACEHOLDER_}(my_list, elem):
  try: index = len(my_list) - my_list[::-1].index(elem)${rt}
  except: index =${H}
  return index
`))+"("+I+", "+v+")",C.FUNCTION_CALL]},R=function(S,b){const v=S.getFieldValue("MODE")||"GET",I=S.getFieldValue("WHERE")||"FROM_START";var H=b.valueToCode(S,"VALUE",I==="RANDOM"?C.NONE:C.MEMBER)||"[]";switch(I){case"FIRST":if(v==="GET")return[H+"[0]",C.MEMBER];if(v==="GET_REMOVE")return[H+".pop(0)",C.FUNCTION_CALL];if(v==="REMOVE")return H+`.pop(0)
`;break;case"LAST":if(v==="GET")return[H+"[-1]",C.MEMBER];if(v==="GET_REMOVE")return[H+".pop()",C.FUNCTION_CALL];if(v==="REMOVE")return H+`.pop()
`;break;case"FROM_START":if(S=b.getAdjustedInt(S,"AT"),v==="GET")return[H+"["+S+"]",C.MEMBER];if(v==="GET_REMOVE")return[H+".pop("+S+")",C.FUNCTION_CALL];if(v==="REMOVE")return H+".pop("+S+`)
`;break;case"FROM_END":if(S=b.getAdjustedInt(S,"AT",1,!0),v==="GET")return[H+"["+S+"]",C.MEMBER];if(v==="GET_REMOVE")return[H+".pop("+S+")",C.FUNCTION_CALL];if(v==="REMOVE")return H+".pop("+S+`)
`;break;case"RANDOM":if(b.definitions_.import_random="import random",v==="GET")return["random.choice("+H+")",C.FUNCTION_CALL];if(H=b.provideFunction_("lists_remove_random_item",`
def ${b.FUNCTION_NAME_PLACEHOLDER_}(myList):
  x = int(random.random() * len(myList))
  return myList.pop(x)
`)+"("+H+")",v==="GET_REMOVE")return[H,C.FUNCTION_CALL];if(v==="REMOVE")return H+`
`}throw Error("Unhandled combination (lists_getIndex).")},L=function(S,b){let v=b.valueToCode(S,"LIST",C.MEMBER)||"[]";const I=S.getFieldValue("MODE")||"GET";var H=S.getFieldValue("WHERE")||"FROM_START";const pe=b.valueToCode(S,"TO",C.NONE)||"None";switch(H){case"FIRST":if(I==="SET")return v+"[0] = "+pe+`
`;if(I==="INSERT")return v+".insert(0, "+pe+`)
`;break;case"LAST":if(I==="SET")return v+"[-1] = "+pe+`
`;if(I==="INSERT")return v+".append("+pe+`)
`;break;case"FROM_START":if(b=b.getAdjustedInt(S,"AT"),I==="SET")return v+"["+b+"] = "+pe+`
`;if(I==="INSERT")return v+".insert("+b+", "+pe+`)
`;break;case"FROM_END":if(b=b.getAdjustedInt(S,"AT",1,!0),I==="SET")return v+"["+b+"] = "+pe+`
`;if(I==="INSERT")return v+".insert("+b+", "+pe+`)
`;break;case"RANDOM":if(b.definitions_.import_random="import random",v.match(/^\w+$/)?S="":(S=b.nameDB_.getDistinctName("tmp_list",i.NameType$$module$build$src$core$names.VARIABLE),H=S+" = "+v+`
`,v=S,S=H),b=b.nameDB_.getDistinctName("tmp_x",i.NameType$$module$build$src$core$names.VARIABLE),S+=b+" = int(random.random() * len("+v+`))
`,I==="SET")return S+(v+"["+b+"] = "+pe+`
`);if(I==="INSERT")return S+(v+".insert("+b+", "+pe+`)
`)}throw Error("Unhandled combination (lists_setIndex).")},M=function(S,b){const v=b.valueToCode(S,"LIST",C.MEMBER)||"[]";var I=S.getFieldValue("WHERE1");const H=S.getFieldValue("WHERE2");switch(I){case"FROM_START":I=b.getAdjustedInt(S,"AT1"),I===0&&(I="");break;case"FROM_END":I=b.getAdjustedInt(S,"AT1",1,!0);break;case"FIRST":I="";break;default:throw Error("Unhandled option (lists_getSublist)")}switch(H){case"FROM_START":S=b.getAdjustedInt(S,"AT2",1);break;case"FROM_END":S=b.getAdjustedInt(S,"AT2",0,!0),i.isNumber$$module$build$src$core$utils$string(String(S))?S===0&&(S=""):(b.definitions_.import_sys="import sys",S+=" or sys.maxsize");break;case"LAST":S="";break;default:throw Error("Unhandled option (lists_getSublist)")}return[v+"["+I+" : "+S+"]",C.MEMBER]},B=function(S,b){const v=b.valueToCode(S,"LIST",C.NONE)||"[]",I=S.getFieldValue("TYPE");return S=S.getFieldValue("DIRECTION")==="1"?"False":"True",[b.provideFunction_("lists_sort",`
def ${b.FUNCTION_NAME_PLACEHOLDER_}(my_list, type, reverse):
  def try_float(s):
    try:
      return float(s)
    except:
      return 0
  key_funcs = {
    "NUMERIC": try_float,
    "TEXT": str,
    "IGNORE_CASE": lambda s: str(s).lower()
  }
  key_func = key_funcs[type]
  list_cpy = list(my_list)
  return sorted(list_cpy, key=key_func, reverse=reverse)
`)+"("+v+', "'+I+'", '+S+")",C.FUNCTION_CALL]},G=function(S,b){var v=S.getFieldValue("MODE");if(v==="SPLIT")v=b.valueToCode(S,"INPUT",C.MEMBER)||"''",S=b.valueToCode(S,"DELIM",C.NONE),S=v+".split("+S+")";else if(v==="JOIN")v=b.valueToCode(S,"INPUT",C.NONE)||"[]",S=(b.valueToCode(S,"DELIM",C.MEMBER)||"''")+".join("+v+")";else throw Error("Unknown mode: "+v);return[S,C.FUNCTION_CALL]},j=function(S,b){return["list(reversed("+(b.valueToCode(S,"LIST",C.NONE)||"[]")+"))",C.FUNCTION_CALL]},F=function(S,b){let v=0,I="",H,pe;b.STATEMENT_PREFIX&&(I+=b.injectId(b.STATEMENT_PREFIX,S));do pe=b.valueToCode(S,"IF"+v,C.NONE)||"False",H=b.statementToCode(S,"DO"+v)||b.PASS,b.STATEMENT_SUFFIX&&(H=b.prefixLines(b.injectId(b.STATEMENT_SUFFIX,S),b.INDENT)+H),I+=(v===0?"if ":"elif ")+pe+`:
`+H,v++;while(S.getInput("IF"+v));return(S.getInput("ELSE")||b.STATEMENT_SUFFIX)&&(H=b.statementToCode(S,"ELSE")||b.PASS,b.STATEMENT_SUFFIX&&(H=b.prefixLines(b.injectId(b.STATEMENT_SUFFIX,S),b.INDENT)+H),I+=`else:
`+H),I},x=function(S,b){const v={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[S.getFieldValue("OP")],I=C.RELATIONAL,H=b.valueToCode(S,"A",I)||"0";return S=b.valueToCode(S,"B",I)||"0",[H+" "+v+" "+S,I]},D=function(S,b){const v=S.getFieldValue("OP")==="AND"?"and":"or",I=v==="and"?C.LOGICAL_AND:C.LOGICAL_OR;let H=b.valueToCode(S,"A",I);return S=b.valueToCode(S,"B",I),H||S?(b=v==="and"?"True":"False",H||(H=b),S||(S=b)):S=H="False",[H+" "+v+" "+S,I]},U=function(S,b){return["not "+(b.valueToCode(S,"BOOL",C.LOGICAL_NOT)||"True"),C.LOGICAL_NOT]},te=function(S,b){return[S.getFieldValue("BOOL")==="TRUE"?"True":"False",C.ATOMIC]},Y=function(S,b){return["None",C.ATOMIC]},J=function(S,b){const v=b.valueToCode(S,"IF",C.CONDITIONAL)||"False",I=b.valueToCode(S,"THEN",C.CONDITIONAL)||"None";return S=b.valueToCode(S,"ELSE",C.CONDITIONAL)||"None",[I+" if "+v+" else "+S,C.CONDITIONAL]},ee=function(S,b){let v;v=S.getField("TIMES")?String(parseInt(S.getFieldValue("TIMES"),10)):b.valueToCode(S,"TIMES",C.NONE)||"0",v=i.isNumber$$module$build$src$core$utils$string(v)?parseInt(v,10):"int("+v+")";let I=b.statementToCode(S,"DO");return I=b.addLoopTrap(I,S)||b.PASS,"for "+b.nameDB_.getDistinctName("count",i.NameType$$module$build$src$core$names.VARIABLE)+" in range("+v+`):
`+I},ue=function(S,b){const v=S.getFieldValue("MODE")==="UNTIL";let I=b.valueToCode(S,"BOOL",v?C.LOGICAL_NOT:C.NONE)||"False",H=b.statementToCode(S,"DO");return H=b.addLoopTrap(H,S)||b.PASS,v&&(I="not "+I),"while "+I+`:
`+H},oe=function(S,b){const v=b.nameDB_.getName(S.getFieldValue("VAR"),i.NameType$$module$build$src$core$names.VARIABLE);var I=b.valueToCode(S,"FROM",C.NONE)||"0",H=b.valueToCode(S,"TO",C.NONE)||"0",pe=b.valueToCode(S,"BY",C.NONE)||"1";let rt=b.statementToCode(S,"DO");rt=b.addLoopTrap(rt,S)||b.PASS;let bt="";const Ft=function(){return b.provideFunction_("upRange",`
def ${b.FUNCTION_NAME_PLACEHOLDER_}(start, stop, step):
  while start <= stop:
    yield start
    start += abs(step)
`)},ln=function(){return b.provideFunction_("downRange",`
def ${b.FUNCTION_NAME_PLACEHOLDER_}(start, stop, step):
  while start >= stop:
    yield start
    start -= abs(step)
`)};if(S=function(Hn,kt,En){return"("+Hn+" <= "+kt+") and "+Ft()+"("+Hn+", "+kt+", "+En+") or "+ln()+"("+Hn+", "+kt+", "+En+")"},i.isNumber$$module$build$src$core$utils$string(I)&&i.isNumber$$module$build$src$core$utils$string(H)&&i.isNumber$$module$build$src$core$utils$string(pe))I=Number(I),H=Number(H),pe=Math.abs(Number(pe)),I%1===0&&H%1===0&&pe%1===0?(I<=H?(H++,S=I===0&&pe===1?H:I+", "+H,pe!==1&&(S+=", "+pe)):(H--,S=I+", "+H+", -"+pe),S="range("+S+")"):(S=I<H?Ft():ln(),S+="("+I+", "+H+", "+pe+")");else{const Hn=function(kt,En){return i.isNumber$$module$build$src$core$utils$string(kt)?kt=Number(kt):kt.match(/^\w+$/)||(En=b.nameDB_.getDistinctName(v+En,i.NameType$$module$build$src$core$names.VARIABLE),bt+=En+" = "+kt+`
`,kt=En),kt};I=Hn(I,"_start"),H=Hn(H,"_end"),pe=Hn(pe,"_inc"),typeof I=="number"&&typeof H=="number"?(S=I<H?Ft():ln(),S+="("+I+", "+H+", "+pe+")"):S=S(I,H,pe)}return bt+="for "+v+" in "+S+`:
`+rt},X=function(S,b){const v=b.nameDB_.getName(S.getFieldValue("VAR"),i.NameType$$module$build$src$core$names.VARIABLE),I=b.valueToCode(S,"LIST",C.RELATIONAL)||"[]";let H=b.statementToCode(S,"DO");return H=b.addLoopTrap(H,S)||b.PASS,"for "+v+" in "+I+`:
`+H},K=function(S,b){let v="";if(b.STATEMENT_PREFIX&&(v+=b.injectId(b.STATEMENT_PREFIX,S)),b.STATEMENT_SUFFIX&&(v+=b.injectId(b.STATEMENT_SUFFIX,S)),b.STATEMENT_PREFIX){const I=S.getSurroundLoop();I&&!I.suppressPrefixSuffix&&(v+=b.injectId(b.STATEMENT_PREFIX,I))}switch(S.getFieldValue("FLOW")){case"BREAK":return v+`break
`;case"CONTINUE":return v+`continue
`}throw Error("Unknown flow statement.")},q=function(S,b){return S=Number(S.getFieldValue("NUM")),S===1/0?(S='float("inf")',b=C.FUNCTION_CALL):S===-1/0?(S='-float("inf")',b=C.UNARY_SIGN):b=0>S?C.UNARY_SIGN:C.ATOMIC,[S,b]},z=function(S,b){var v={ADD:[" + ",C.ADDITIVE],MINUS:[" - ",C.ADDITIVE],MULTIPLY:[" * ",C.MULTIPLICATIVE],DIVIDE:[" / ",C.MULTIPLICATIVE],POWER:[" ** ",C.EXPONENTIATION]}[S.getFieldValue("OP")];const I=v[0];v=v[1];const H=b.valueToCode(S,"A",v)||"0";return S=b.valueToCode(S,"B",v)||"0",[H+I+S,v]},ne=function(S,b){const v=S.getFieldValue("OP");let I;if(v==="NEG")return I=b.valueToCode(S,"NUM",C.UNARY_SIGN)||"0",["-"+I,C.UNARY_SIGN];switch(b.definitions_.import_math="import math",S=v==="SIN"||v==="COS"||v==="TAN"?b.valueToCode(S,"NUM",C.MULTIPLICATIVE)||"0":b.valueToCode(S,"NUM",C.NONE)||"0",v){case"ABS":I="math.fabs("+S+")";break;case"ROOT":I="math.sqrt("+S+")";break;case"LN":I="math.log("+S+")";break;case"LOG10":I="math.log10("+S+")";break;case"EXP":I="math.exp("+S+")";break;case"POW10":I="math.pow(10,"+S+")";break;case"ROUND":I="round("+S+")";break;case"ROUNDUP":I="math.ceil("+S+")";break;case"ROUNDDOWN":I="math.floor("+S+")";break;case"SIN":I="math.sin("+S+" / 180.0 * math.pi)";break;case"COS":I="math.cos("+S+" / 180.0 * math.pi)";break;case"TAN":I="math.tan("+S+" / 180.0 * math.pi)"}if(I)return[I,C.FUNCTION_CALL];switch(v){case"ASIN":I="math.asin("+S+") / math.pi * 180";break;case"ACOS":I="math.acos("+S+") / math.pi * 180";break;case"ATAN":I="math.atan("+S+") / math.pi * 180";break;default:throw Error("Unknown math operator: "+v)}return[I,C.MULTIPLICATIVE]},ge=function(S,b){const v={PI:["math.pi",C.MEMBER],E:["math.e",C.MEMBER],GOLDEN_RATIO:["(1 + math.sqrt(5)) / 2",C.MULTIPLICATIVE],SQRT2:["math.sqrt(2)",C.MEMBER],SQRT1_2:["math.sqrt(1.0 / 2)",C.MEMBER],INFINITY:["float('inf')",C.ATOMIC]};return S=S.getFieldValue("CONSTANT"),S!=="INFINITY"&&(b.definitions_.import_math="import math"),v[S]},Q=function(S,b){var v={EVEN:[" % 2 == 0",C.MULTIPLICATIVE,C.RELATIONAL],ODD:[" % 2 == 1",C.MULTIPLICATIVE,C.RELATIONAL],WHOLE:[" % 1 == 0",C.MULTIPLICATIVE,C.RELATIONAL],POSITIVE:[" > 0",C.RELATIONAL,C.RELATIONAL],NEGATIVE:[" < 0",C.RELATIONAL,C.RELATIONAL],DIVISIBLE_BY:[null,C.MULTIPLICATIVE,C.RELATIONAL],PRIME:[null,C.NONE,C.FUNCTION_CALL]};const I=S.getFieldValue("PROPERTY"),[H,pe,rt]=v[I];if(v=b.valueToCode(S,"NUMBER_TO_CHECK",pe)||"0",I==="PRIME")b.definitions_.import_math="import math",b.definitions_.from_numbers_import_Number="from numbers import Number",S=b.provideFunction_("math_isPrime",`
def ${b.FUNCTION_NAME_PLACEHOLDER_}(n):
  # https://en.wikipedia.org/wiki/Primality_test#Naive_methods
  # If n is not a number but a string, try parsing it.
  if not isinstance(n, Number):
    try:
      n = float(n)
    except:
      return False
  if n == 2 or n == 3:
    return True
  # False if n is negative, is 1, or not whole, or if n is divisible by 2 or 3.
  if n <= 1 or n % 1 != 0 or n % 2 == 0 or n % 3 == 0:
    return False
  # Check all the numbers of form 6k +/- 1, up to sqrt(n).
  for x in range(6, int(math.sqrt(n)) + 2, 6):
    if n % (x - 1) == 0 or n % (x + 1) == 0:
      return False
  return True
`)+"("+v+")";else if(I==="DIVISIBLE_BY"){if(S=b.valueToCode(S,"DIVISOR",C.MULTIPLICATIVE)||"0",S==="0")return["False",C.ATOMIC];S=v+" % "+S+" == 0"}else S=v+H;return[S,rt]},Oe=function(S,b){b.definitions_.from_numbers_import_Number="from numbers import Number";const v=b.valueToCode(S,"DELTA",C.ADDITIVE)||"0";return S=b.nameDB_.getName(S.getFieldValue("VAR"),i.NameType$$module$build$src$core$names.VARIABLE),S+" = ("+S+" if isinstance("+S+", Number) else 0) + "+v+`
`},Re=function(S,b){const v=S.getFieldValue("OP");switch(S=b.valueToCode(S,"LIST",C.NONE)||"[]",v){case"SUM":b="sum("+S+")";break;case"MIN":b="min("+S+")";break;case"MAX":b="max("+S+")";break;case"AVERAGE":b.definitions_.from_numbers_import_Number="from numbers import Number",b=b.provideFunction_("math_mean",`
def ${b.FUNCTION_NAME_PLACEHOLDER_}(myList):
  localList = [e for e in myList if isinstance(e, Number)]
  if not localList: return
  return float(sum(localList)) / len(localList)
`)+"("+S+")";break;case"MEDIAN":b.definitions_.from_numbers_import_Number="from numbers import Number",b=b.provideFunction_("math_median",`
def ${b.FUNCTION_NAME_PLACEHOLDER_}(myList):
  localList = sorted([e for e in myList if isinstance(e, Number)])
  if not localList: return
  if len(localList) % 2 == 0:
    return (localList[len(localList) // 2 - 1] + localList[len(localList) // 2]) / 2.0
  else:
    return localList[(len(localList) - 1) // 2]
`)+"("+S+")";break;case"MODE":b=b.provideFunction_("math_modes",`
def ${b.FUNCTION_NAME_PLACEHOLDER_}(some_list):
  modes = []
  # Using a lists of [item, count] to keep count rather than dict
  # to avoid "unhashable" errors when the counted item is itself a list or dict.
  counts = []
  maxCount = 1
  for item in some_list:
    found = False
    for count in counts:
      if count[0] == item:
        count[1] += 1
        maxCount = max(maxCount, count[1])
        found = True
    if not found:
      counts.append([item, 1])
  for counted_item, item_count in counts:
    if item_count == maxCount:
      modes.append(counted_item)
  return modes
`)+"("+S+")";break;case"STD_DEV":b.definitions_.import_math="import math",b=b.provideFunction_("math_standard_deviation",`
def ${b.FUNCTION_NAME_PLACEHOLDER_}(numbers):
  n = len(numbers)
  if n == 0: return
  mean = float(sum(numbers)) / n
  variance = sum((x - mean) ** 2 for x in numbers) / n
  return math.sqrt(variance)
`)+"("+S+")";break;case"RANDOM":b.definitions_.import_random="import random",b="random.choice("+S+")";break;default:throw Error("Unknown operator: "+v)}return[b,C.FUNCTION_CALL]},_e=function(S,b){const v=b.valueToCode(S,"DIVIDEND",C.MULTIPLICATIVE)||"0";return S=b.valueToCode(S,"DIVISOR",C.MULTIPLICATIVE)||"0",[v+" % "+S,C.MULTIPLICATIVE]},se=function(S,b){const v=b.valueToCode(S,"VALUE",C.NONE)||"0",I=b.valueToCode(S,"LOW",C.NONE)||"0";return S=b.valueToCode(S,"HIGH",C.NONE)||"float('inf')",["min(max("+v+", "+I+"), "+S+")",C.FUNCTION_CALL]},ke=function(S,b){b.definitions_.import_random="import random";const v=b.valueToCode(S,"FROM",C.NONE)||"0";return S=b.valueToCode(S,"TO",C.NONE)||"0",["random.randint("+v+", "+S+")",C.FUNCTION_CALL]},Be=function(S,b){return b.definitions_.import_random="import random",["random.random()",C.FUNCTION_CALL]},et=function(S,b){b.definitions_.import_math="import math";const v=b.valueToCode(S,"X",C.NONE)||"0";return["math.atan2("+(b.valueToCode(S,"Y",C.NONE)||"0")+", "+v+") / math.pi * 180",C.MULTIPLICATIVE]},ut=function(S,b){var v=[],I=S.workspace,H=i.allUsedVarModels$$module$build$src$core$variables(I)||[];for(let kt=0,En;En=H[kt];kt++){var pe=En.name;S.getVars().indexOf(pe)===-1&&v.push(b.nameDB_.getName(pe,i.NameType$$module$build$src$core$names.VARIABLE))}for(I=i.allDeveloperVariables$$module$build$src$core$variables(I),H=0;H<I.length;H++)v.push(b.nameDB_.getName(I[H],i.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE));I=v.length?b.INDENT+"global "+v.join(", ")+`
`:"",v=b.nameDB_.getName(S.getFieldValue("NAME"),i.NameType$$module$build$src$core$names.PROCEDURE),H="",b.STATEMENT_PREFIX&&(H+=b.injectId(b.STATEMENT_PREFIX,S)),b.STATEMENT_SUFFIX&&(H+=b.injectId(b.STATEMENT_SUFFIX,S)),H&&(H=b.prefixLines(H,b.INDENT)),pe="",b.INFINITE_LOOP_TRAP&&(pe=b.prefixLines(b.injectId(b.INFINITE_LOOP_TRAP,S),b.INDENT));let rt=b.statementToCode(S,"STACK"),bt=b.valueToCode(S,"RETURN",C.NONE)||"",Ft="";rt&&bt&&(Ft=H),bt?bt=b.INDENT+"return "+bt+`
`:rt||(rt=b.PASS);const ln=[],Hn=S.getVars();for(let kt=0;kt<Hn.length;kt++)ln[kt]=b.nameDB_.getName(Hn[kt],i.NameType$$module$build$src$core$names.VARIABLE);return I="def "+v+"("+ln.join(", ")+`):
`+I+H+pe+rt+Ft+bt,I=b.scrub_(S,I),b.definitions_["%"+v]=I,null},dt=function(S,b){const v=b.nameDB_.getName(S.getFieldValue("NAME"),i.NameType$$module$build$src$core$names.PROCEDURE),I=[],H=S.getVars();for(let pe=0;pe<H.length;pe++)I[pe]=b.valueToCode(S,"ARG"+pe,C.NONE)||"None";return[v+"("+I.join(", ")+")",C.FUNCTION_CALL]},gt=function(S,b){return b.forBlock.procedures_callreturn(S,b)[0]+`
`},we=function(S,b){let v="if "+(b.valueToCode(S,"CONDITION",C.NONE)||"False")+`:
`;return b.STATEMENT_SUFFIX&&(v+=b.prefixLines(b.injectId(b.STATEMENT_SUFFIX,S),b.INDENT)),S.hasReturnValue_?(S=b.valueToCode(S,"VALUE",C.NONE)||"None",v+=b.INDENT+"return "+S+`
`):v+=b.INDENT+`return
`,v},le=function(S,b){return[b.quote_(S.getFieldValue("TEXT")),C.ATOMIC]},ce=function(S,b){return S=b.multiline_quote_(S.getFieldValue("TEXT")),b=S.indexOf("+")!==-1?C.ADDITIVE:C.ATOMIC,[S,b]},re=function(S,b){switch(S.itemCount_){case 0:return["''",C.ATOMIC];case 1:return S=b.valueToCode(S,"ADD0",C.NONE)||"''",Bt(S);case 2:var v=b.valueToCode(S,"ADD0",C.NONE)||"''";return S=b.valueToCode(S,"ADD1",C.NONE)||"''",[Bt(v)[0]+" + "+Bt(S)[0],C.ADDITIVE];default:v=[];for(let I=0;I<S.itemCount_;I++)v[I]=b.valueToCode(S,"ADD"+I,C.NONE)||"''";return S=b.nameDB_.getDistinctName("x",i.NameType$$module$build$src$core$names.VARIABLE),["''.join([str("+S+") for "+S+" in ["+v.join(", ")+"]])",C.FUNCTION_CALL]}},Me=function(S,b){const v=b.nameDB_.getName(S.getFieldValue("VAR"),i.NameType$$module$build$src$core$names.VARIABLE);return S=b.valueToCode(S,"TEXT",C.NONE)||"''",v+" = str("+v+") + "+Bt(S)[0]+`
`},Ne=function(S,b){return["len("+(b.valueToCode(S,"VALUE",C.NONE)||"''")+")",C.FUNCTION_CALL]},$e=function(S,b){return["not len("+(b.valueToCode(S,"VALUE",C.NONE)||"''")+")",C.LOGICAL_NOT]},Fe=function(S,b){const v=S.getFieldValue("END")==="FIRST"?"find":"rfind",I=b.valueToCode(S,"FIND",C.NONE)||"''";return b=(b.valueToCode(S,"VALUE",C.MEMBER)||"''")+"."+v+"("+I+")",S.workspace.options.oneBasedIndex?[b+" + 1",C.ADDITIVE]:[b,C.FUNCTION_CALL]},Le=function(S,b){const v=S.getFieldValue("WHERE")||"FROM_START",I=b.valueToCode(S,"VALUE",v==="RANDOM"?C.NONE:C.MEMBER)||"''";switch(v){case"FIRST":return[I+"[0]",C.MEMBER];case"LAST":return[I+"[-1]",C.MEMBER];case"FROM_START":return S=b.getAdjustedInt(S,"AT"),[I+"["+S+"]",C.MEMBER];case"FROM_END":return S=b.getAdjustedInt(S,"AT",1,!0),[I+"["+S+"]",C.MEMBER];case"RANDOM":return b.definitions_.import_random="import random",[b.provideFunction_("text_random_letter",`
def ${b.FUNCTION_NAME_PLACEHOLDER_}(text):
  x = int(random.random() * len(text))
  return text[x]
`)+"("+I+")",C.FUNCTION_CALL]}throw Error("Unhandled option (text_charAt).")},qe=function(S,b){var v=S.getFieldValue("WHERE1");const I=S.getFieldValue("WHERE2"),H=b.valueToCode(S,"STRING",C.MEMBER)||"''";switch(v){case"FROM_START":v=b.getAdjustedInt(S,"AT1"),v===0&&(v="");break;case"FROM_END":v=b.getAdjustedInt(S,"AT1",1,!0);break;case"FIRST":v="";break;default:throw Error("Unhandled option (text_getSubstring)")}switch(I){case"FROM_START":S=b.getAdjustedInt(S,"AT2",1);break;case"FROM_END":S=b.getAdjustedInt(S,"AT2",0,!0),i.isNumber$$module$build$src$core$utils$string(String(S))?S===0&&(S=""):(b.definitions_.import_sys="import sys",S+=" or sys.maxsize");break;case"LAST":S="";break;default:throw Error("Unhandled option (text_getSubstring)")}return[H+"["+v+" : "+S+"]",C.MEMBER]},Xe=function(S,b){const v={UPPERCASE:".upper()",LOWERCASE:".lower()",TITLECASE:".title()"}[S.getFieldValue("CASE")];return[(b.valueToCode(S,"TEXT",C.MEMBER)||"''")+v,C.FUNCTION_CALL]},at=function(S,b){const v={LEFT:".lstrip()",RIGHT:".rstrip()",BOTH:".strip()"}[S.getFieldValue("MODE")];return[(b.valueToCode(S,"TEXT",C.MEMBER)||"''")+v,C.FUNCTION_CALL]},Ee=function(S,b){return"print("+(b.valueToCode(S,"TEXT",C.NONE)||"''")+`)
`},Ie=function(S,b){var v=b.provideFunction_("text_prompt",`
def ${b.FUNCTION_NAME_PLACEHOLDER_}(msg):
  try:
    return raw_input(msg)
  except NameError:
    return input(msg)
`);return b=S.getField("TEXT")?b.quote_(S.getFieldValue("TEXT")):b.valueToCode(S,"TEXT",C.NONE)||"''",v=v+"("+b+")",S.getFieldValue("TYPE")==="NUMBER"&&(v="float("+v+")"),[v,C.FUNCTION_CALL]},he=function(S,b){const v=b.valueToCode(S,"TEXT",C.MEMBER)||"''";return S=b.valueToCode(S,"SUB",C.NONE)||"''",[v+".count("+S+")",C.FUNCTION_CALL]},me=function(S,b){const v=b.valueToCode(S,"TEXT",C.MEMBER)||"''",I=b.valueToCode(S,"FROM",C.NONE)||"''";return S=b.valueToCode(S,"TO",C.NONE)||"''",[v+".replace("+I+", "+S+")",C.MEMBER]},Se=function(S,b){return[(b.valueToCode(S,"TEXT",C.MEMBER)||"''")+"[::-1]",C.MEMBER]},xe=function(S,b){return[b.nameDB_.getName(S.getFieldValue("VAR"),i.NameType$$module$build$src$core$names.VARIABLE),C.ATOMIC]},Ke=function(S,b){const v=b.valueToCode(S,"VALUE",C.NONE)||"0";return b.nameDB_.getName(S.getFieldValue("VAR"),i.NameType$$module$build$src$core$names.VARIABLE)+" = "+v+`
`},C={ATOMIC:0,COLLECTION:1,STRING_CONVERSION:1,MEMBER:2.1,FUNCTION_CALL:2.2,EXPONENTIATION:3,UNARY_SIGN:4,BITWISE_NOT:4,MULTIPLICATIVE:5,ADDITIVE:6,BITWISE_SHIFT:7,BITWISE_AND:8,BITWISE_XOR:9,BITWISE_OR:10,RELATIONAL:11,LOGICAL_NOT:12,LOGICAL_AND:13,LOGICAL_OR:14,CONDITIONAL:15,LAMBDA:16,NONE:99},k=class extends i.CodeGenerator$$module$build$src$core$generator{constructor(S){super(S??"Python"),this.ORDER_OVERRIDES=[[C.FUNCTION_CALL,C.MEMBER],[C.FUNCTION_CALL,C.FUNCTION_CALL],[C.MEMBER,C.MEMBER],[C.MEMBER,C.FUNCTION_CALL],[C.LOGICAL_NOT,C.LOGICAL_NOT],[C.LOGICAL_AND,C.LOGICAL_AND],[C.LOGICAL_OR,C.LOGICAL_OR]],this.isInitialized=!1;for(const b in C)this["ORDER_"+b]=C[b];this.addReservedWords("False,None,True,and,as,assert,break,class,continue,def,del,elif,else,except,exec,finally,for,from,global,if,import,in,is,lambda,nonlocal,not,or,pass,print,raise,return,try,while,with,yield,NotImplemented,Ellipsis,__debug__,quit,exit,copyright,license,credits,ArithmeticError,AssertionError,AttributeError,BaseException,BlockingIOError,BrokenPipeError,BufferError,BytesWarning,ChildProcessError,ConnectionAbortedError,ConnectionError,ConnectionRefusedError,ConnectionResetError,DeprecationWarning,EOFError,Ellipsis,EnvironmentError,Exception,FileExistsError,FileNotFoundError,FloatingPointError,FutureWarning,GeneratorExit,IOError,ImportError,ImportWarning,IndentationError,IndexError,InterruptedError,IsADirectoryError,KeyError,KeyboardInterrupt,LookupError,MemoryError,ModuleNotFoundError,NameError,NotADirectoryError,NotImplemented,NotImplementedError,OSError,OverflowError,PendingDeprecationWarning,PermissionError,ProcessLookupError,RecursionError,ReferenceError,ResourceWarning,RuntimeError,RuntimeWarning,StandardError,StopAsyncIteration,StopIteration,SyntaxError,SyntaxWarning,SystemError,SystemExit,TabError,TimeoutError,TypeError,UnboundLocalError,UnicodeDecodeError,UnicodeEncodeError,UnicodeError,UnicodeTranslateError,UnicodeWarning,UserWarning,ValueError,Warning,ZeroDivisionError,_,__build_class__,__debug__,__doc__,__import__,__loader__,__name__,__package__,__spec__,abs,all,any,apply,ascii,basestring,bin,bool,buffer,bytearray,bytes,callable,chr,classmethod,cmp,coerce,compile,complex,copyright,credits,delattr,dict,dir,divmod,enumerate,eval,exec,execfile,exit,file,filter,float,format,frozenset,getattr,globals,hasattr,hash,help,hex,id,input,int,intern,isinstance,issubclass,iter,len,license,list,locals,long,map,max,memoryview,min,next,object,oct,open,ord,pow,print,property,quit,range,raw_input,reduce,reload,repr,reversed,round,set,setattr,slice,sorted,staticmethod,str,sum,super,tuple,type,unichr,unicode,vars,xrange,zip")}init(S){super.init(S),this.PASS=this.INDENT+`pass
`,this.nameDB_?this.nameDB_.reset():this.nameDB_=new i.Names$$module$build$src$core$names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(S.getVariableMap()),this.nameDB_.populateVariables(S),this.nameDB_.populateProcedures(S);const b=[];var v=i.allDeveloperVariables$$module$build$src$core$variables(S);for(let I=0;I<v.length;I++)b.push(this.nameDB_.getName(v[I],i.Names$$module$build$src$core$names.DEVELOPER_VARIABLE_TYPE)+" = None");for(S=i.allUsedVarModels$$module$build$src$core$variables(S),v=0;v<S.length;v++)b.push(this.nameDB_.getName(S[v].getId(),i.NameType$$module$build$src$core$names.VARIABLE)+" = None");this.definitions_.variables=b.join(`
`),this.isInitialized=!0}finish(S){const b=[],v=[];for(let I in this.definitions_){const H=this.definitions_[I];H.match(/^(from\s+\S+\s+)?import\s+\S+/)?b.push(H):v.push(H)}return S=super.finish(S),this.isInitialized=!1,this.nameDB_.reset(),(b.join(`
`)+`

`+v.join(`

`)).replace(/\n\n+/g,`

`).replace(/\n*$/,`


`)+S}scrubNakedValue(S){return S+`
`}quote_(S){S=S.replace(/\\/g,"\\\\").replace(/\n/g,`\\
`);let b="'";return S.indexOf("'")!==-1&&(S.indexOf('"')===-1?b='"':S=S.replace(/'/g,"\\'")),b+S+b}multiline_quote_(S){return S.split(/\n/g).map(this.quote_).join(` + '\\n' + 
`)}scrub_(S,b,v){let I="";if(!S.outputConnection||!S.outputConnection.targetConnection){var H=S.getCommentText();H&&(H=i.wrap$$module$build$src$core$utils$string(H,this.COMMENT_WRAP-3),I+=this.prefixLines(H+`
`,"# "));for(let pe=0;pe<S.inputList.length;pe++)S.inputList[pe].type===i.inputTypes$$module$build$src$core$inputs$input_types.VALUE&&(H=S.inputList[pe].connection.targetBlock())&&(H=this.allNestedComments(H))&&(I+=this.prefixLines(H,"# "))}return S=S.nextConnection&&S.nextConnection.targetBlock(),v=v?"":this.blockToCode(S),I+b+v}getAdjustedInt(S,b,v,I){v=v||0,S.workspace.options.oneBasedIndex&&v--;const H=S.workspace.options.oneBasedIndex?"1":"0";return S=this.valueToCode(S,b,v?this.ORDER_ADDITIVE:this.ORDER_NONE)||H,i.isNumber$$module$build$src$core$utils$string(S)?(S=parseInt(S,10)+v,I&&(S=-S)):(S=0<v?"int("+S+" + "+v+")":0>v?"int("+S+" - "+-v+")":"int("+S+")",I&&(S="-"+S)),S}},de={};de.colour_blend=h,de.colour_picker=l,de.colour_random=u,de.colour_rgb=a;var Ce={};Ce.lists_create_empty=p,Ce.lists_create_with=m,Ce.lists_getIndex=R,Ce.lists_getSublist=M,Ce.lists_indexOf=A,Ce.lists_isEmpty=w,Ce.lists_length=T,Ce.lists_repeat=$,Ce.lists_reverse=j,Ce.lists_setIndex=L,Ce.lists_sort=B,Ce.lists_split=G;var Te={};Te.controls_if=F,Te.controls_ifelse=F,Te.logic_boolean=te,Te.logic_compare=x,Te.logic_negate=U,Te.logic_null=Y,Te.logic_operation=D,Te.logic_ternary=J;var Ve={};Ve.controls_flow_statements=K,Ve.controls_for=oe,Ve.controls_forEach=X,Ve.controls_repeat=ee,Ve.controls_repeat_ext=ee,Ve.controls_whileUntil=ue;var tt={};tt.math_arithmetic=z,tt.math_atan2=et,tt.math_change=Oe,tt.math_constant=ge,tt.math_constrain=se,tt.math_modulo=_e,tt.math_number=q,tt.math_number_property=Q,tt.math_on_list=Re,tt.math_random_float=Be,tt.math_random_int=ke,tt.math_round=ne,tt.math_single=ne,tt.math_trig=ne;var Et={};Et.procedures_callnoreturn=gt,Et.procedures_callreturn=dt,Et.procedures_defnoreturn=ut,Et.procedures_defreturn=ut,Et.procedures_ifreturn=we;var St=/^\s*'([^']|\\')*'\s*$/,Bt=function(S){return St.test(S)?[S,C.ATOMIC]:["str("+S+")",C.FUNCTION_CALL]},qt={};qt.text=le,qt.text_append=Me,qt.text_changeCase=Xe,qt.text_charAt=Le,qt.text_count=he,qt.text_getSubstring=qe,qt.text_indexOf=Fe,qt.text_isEmpty=$e,qt.text_join=re,qt.text_length=Ne,qt.text_multiline=ce,qt.text_print=Ee,qt.text_prompt=Ie,qt.text_prompt_ext=Ie,qt.text_replace=me,qt.text_reverse=Se,qt.text_trim=at;var sn={};sn.variables_get=xe,sn.variables_set=Ke;var dn={};dn.variables_get_dynamic=xe,dn.variables_set_dynamic=Ke;var y=new k;y.addReservedWords("math,random,Number"),Object.assign(y.forBlock,de,Ce,Te,Ve,tt,Et,qt,sn,dn);var N={};return N.Order=C,N.PythonGenerator=k,N.pythonGenerator=y,N.__namespace__=i,N})}(oC)),oC.exports}(function(e,o){(function(n,i){e.exports=i(id(),Toe())})(Wn,function(n,i){/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */return i})})(v4);var Ru=v4.exports;Ru.pythonGenerator.controls_forever=function(e){return`while True:
`+(Ru.pythonGenerator.statementToCode(e,"DO")||`  pass
`)};Ru.pythonGenerator.math_evenly_divisible=function(e){const o=Ru.pythonGenerator.valueToCode(e,"DIVIDEND",Ru.pythonGenerator.ORDER_ATOMIC)||"0",n=Ru.pythonGenerator.valueToCode(e,"DIVISOR",Ru.pythonGenerator.ORDER_ATOMIC)||"0";return[o+" % "+n+" == 0",Ru.pythonGenerator.ORDER_NONE]};var _4={exports:{}},rC={exports:{}},TN;function yoe(){return TN||(TN=1,function(e,o){(function(n,i){e.exports=i(Hh())})(Wn,function(n){var i=n.__namespace__,l=function(y,N){return[N.quote_(y.getFieldValue("COLOUR")),C.ATOMIC]},u=function(y,N){return N.definitions_.import_dart_math="import 'dart:math' as Math;",[N.provideFunction_("colour_random",`
String ${N.FUNCTION_NAME_PLACEHOLDER_}() {
  String hex = '0123456789abcdef';
  var rnd = new Math.Random();
  return '#\${hex[rnd.nextInt(16)]}\${hex[rnd.nextInt(16)]}'
      '\${hex[rnd.nextInt(16)]}\${hex[rnd.nextInt(16)]}'
      '\${hex[rnd.nextInt(16)]}\${hex[rnd.nextInt(16)]}';
}
`)+"()",C.UNARY_POSTFIX]},a=function(y,N){const S=N.valueToCode(y,"RED",C.NONE)||0,b=N.valueToCode(y,"GREEN",C.NONE)||0;return y=N.valueToCode(y,"BLUE",C.NONE)||0,N.definitions_.import_dart_math="import 'dart:math' as Math;",[N.provideFunction_("colour_rgb",`
String ${N.FUNCTION_NAME_PLACEHOLDER_}(num r, num g, num b) {
  num rn = (Math.max(Math.min(r, 100), 0) * 2.55).round();
  String rs = rn.toInt().toRadixString(16);
  rs = '0$rs';
  rs = rs.substring(rs.length - 2);
  num gn = (Math.max(Math.min(g, 100), 0) * 2.55).round();
  String gs = gn.toInt().toRadixString(16);
  gs = '0$gs';
  gs = gs.substring(gs.length - 2);
  num bn = (Math.max(Math.min(b, 100), 0) * 2.55).round();
  String bs = bn.toInt().toRadixString(16);
  bs = '0$bs';
  bs = bs.substring(bs.length - 2);
  return '#$rs$gs$bs';
}
`)+"("+S+", "+b+", "+y+")",C.UNARY_POSTFIX]},h=function(y,N){const S=N.valueToCode(y,"COLOUR1",C.NONE)||"'#000000'",b=N.valueToCode(y,"COLOUR2",C.NONE)||"'#000000'";return y=N.valueToCode(y,"RATIO",C.NONE)||.5,N.definitions_.import_dart_math="import 'dart:math' as Math;",[N.provideFunction_("colour_blend",`
String ${N.FUNCTION_NAME_PLACEHOLDER_}(String c1, String c2, num ratio) {
  ratio = Math.max(Math.min(ratio, 1), 0);
  int r1 = int.parse('0x\${c1.substring(1, 3)}');
  int g1 = int.parse('0x\${c1.substring(3, 5)}');
  int b1 = int.parse('0x\${c1.substring(5, 7)}');
  int r2 = int.parse('0x\${c2.substring(1, 3)}');
  int g2 = int.parse('0x\${c2.substring(3, 5)}');
  int b2 = int.parse('0x\${c2.substring(5, 7)}');
  num rn = (r1 * (1 - ratio) + r2 * ratio).round();
  String rs = rn.toInt().toRadixString(16);
  num gn = (g1 * (1 - ratio) + g2 * ratio).round();
  String gs = gn.toInt().toRadixString(16);
  num bn = (b1 * (1 - ratio) + b2 * ratio).round();
  String bs = bn.toInt().toRadixString(16);
  rs = '0$rs';
  rs = rs.substring(rs.length - 2);
  gs = '0$gs';
  gs = gs.substring(gs.length - 2);
  bs = '0$bs';
  bs = bs.substring(bs.length - 2);
  return '#$rs$gs$bs';
}
`)+"("+S+", "+b+", "+y+")",C.UNARY_POSTFIX]},p=function(y,N){return["[]",C.ATOMIC]},m=function(y,N){const S=Array(y.itemCount_);for(let b=0;b<y.itemCount_;b++)S[b]=N.valueToCode(y,"ADD"+b,C.NONE)||"null";return["["+S.join(", ")+"]",C.ATOMIC]},$=function(y,N){const S=N.valueToCode(y,"ITEM",C.NONE)||"null";return["new List.filled("+(N.valueToCode(y,"NUM",C.NONE)||"0")+", "+S+")",C.UNARY_POSTFIX]},T=function(y,N){return[(N.valueToCode(y,"VALUE",C.UNARY_POSTFIX)||"[]")+".length",C.UNARY_POSTFIX]},w=function(y,N){return[(N.valueToCode(y,"VALUE",C.UNARY_POSTFIX)||"[]")+".isEmpty",C.UNARY_POSTFIX]},A=function(y,N){const S=y.getFieldValue("END")==="FIRST"?"indexOf":"lastIndexOf",b=N.valueToCode(y,"FIND",C.NONE)||"''";return N=(N.valueToCode(y,"VALUE",C.UNARY_POSTFIX)||"[]")+"."+S+"("+b+")",y.workspace.options.oneBasedIndex?[N+" + 1",C.ADDITIVE]:[N,C.UNARY_POSTFIX]},R=function(y,N){function S(){const H=N.nameDB_.getDistinctName("tmp_list",i.NameType$$module$build$src$core$names.VARIABLE),pe="List "+H+" = "+I+`;
`;return I=H,pe}var b=y.getFieldValue("MODE")||"GET";const v=y.getFieldValue("WHERE")||"FROM_START";let I=N.valueToCode(y,"VALUE",v==="RANDOM"||v==="FROM_END"?C.NONE:C.UNARY_POSTFIX)||"[]";if((v!=="RANDOM"||b!=="REMOVE")&&v!=="FROM_END"||I.match(/^\w+$/))switch(v){case"FIRST":if(b==="GET")return[I+".first",C.UNARY_POSTFIX];if(b==="GET_REMOVE")return[I+".removeAt(0)",C.UNARY_POSTFIX];if(b==="REMOVE")return I+`.removeAt(0);
`;break;case"LAST":if(b==="GET")return[I+".last",C.UNARY_POSTFIX];if(b==="GET_REMOVE")return[I+".removeLast()",C.UNARY_POSTFIX];if(b==="REMOVE")return I+`.removeLast();
`;break;case"FROM_START":if(y=N.getAdjusted(y,"AT"),b==="GET")return[I+"["+y+"]",C.UNARY_POSTFIX];if(b==="GET_REMOVE")return[I+".removeAt("+y+")",C.UNARY_POSTFIX];if(b==="REMOVE")return I+".removeAt("+y+`);
`;break;case"FROM_END":if(y=N.getAdjusted(y,"AT",1,!1,C.ADDITIVE),b==="GET")return[I+"["+I+".length - "+y+"]",C.UNARY_POSTFIX];if(b==="GET_REMOVE"||b==="REMOVE"){if(y=I+".removeAt("+I+".length - "+y+")",b==="GET_REMOVE")return[y,C.UNARY_POSTFIX];if(b==="REMOVE")return y+`;
`}break;case"RANDOM":if(N.definitions_.import_dart_math="import 'dart:math' as Math;",b==="REMOVE")return b=N.nameDB_.getDistinctName("tmp_x",i.NameType$$module$build$src$core$names.VARIABLE),"int "+b+" = new Math.Random().nextInt("+I+`.length);
`+(I+".removeAt("+b+`);
`);if(b==="GET")return[N.provideFunction_("lists_get_random_item",`
dynamic ${N.FUNCTION_NAME_PLACEHOLDER_}(List my_list) {
  int x = new Math.Random().nextInt(my_list.length);
  return my_list[x];
}
`)+"("+I+")",C.UNARY_POSTFIX];if(b==="GET_REMOVE")return[N.provideFunction_("lists_remove_random_item",`
dynamic ${N.FUNCTION_NAME_PLACEHOLDER_}(List my_list) {
  int x = new Math.Random().nextInt(my_list.length);
  return my_list.removeAt(x);
}
`)+"("+I+")",C.UNARY_POSTFIX]}else{if(v==="RANDOM")return N.definitions_.import_dart_math="import 'dart:math' as Math;",b=S(),y=N.nameDB_.getDistinctName("tmp_x",i.NameType$$module$build$src$core$names.VARIABLE),b+("int "+y+" = new Math.Random().nextInt("+I+`.length);
`)+(I+".removeAt("+y+`);
`);if(b==="REMOVE")return b=N.getAdjusted(y,"AT",1,!1,C.ADDITIVE),S()+(I+".removeAt("+I+".length - "+b+`);
`);if(b==="GET")return b=N.getAdjusted(y,"AT",1),[N.provideFunction_("lists_get_from_end",`
dynamic ${N.FUNCTION_NAME_PLACEHOLDER_}(List my_list, num x) {
  x = my_list.length - x;
  return my_list[x];
}
`)+"("+I+", "+b+")",C.UNARY_POSTFIX];if(b==="GET_REMOVE")return b=N.getAdjusted(y,"AT",1),[N.provideFunction_("lists_remove_from_end",`
dynamic ${N.FUNCTION_NAME_PLACEHOLDER_}(List my_list, num x) {
  x = my_list.length - x;
  return my_list.removeAt(x);
}
`)+"("+I+", "+b+")",C.UNARY_POSTFIX]}throw Error("Unhandled combination (lists_getIndex).")},L=function(y,N){function S(){if(I.match(/^\w+$/))return"";const pe=N.nameDB_.getDistinctName("tmp_list",i.NameType$$module$build$src$core$names.VARIABLE),rt="List "+pe+" = "+I+`;
`;return I=pe,rt}const b=y.getFieldValue("MODE")||"GET";var v=y.getFieldValue("WHERE")||"FROM_START";let I=N.valueToCode(y,"LIST",C.UNARY_POSTFIX)||"[]";const H=N.valueToCode(y,"TO",C.ASSIGNMENT)||"null";switch(v){case"FIRST":if(b==="SET")return I+"[0] = "+H+`;
`;if(b==="INSERT")return I+".insert(0, "+H+`);
`;break;case"LAST":if(b==="SET")return S()+(I+"["+I+".length - 1] = "+H+`;
`);if(b==="INSERT")return I+".add("+H+`);
`;break;case"FROM_START":if(y=N.getAdjusted(y,"AT"),b==="SET")return I+"["+y+"] = "+H+`;
`;if(b==="INSERT")return I+".insert("+y+", "+H+`);
`;break;case"FROM_END":if(y=N.getAdjusted(y,"AT",1,!1,C.ADDITIVE),v=S(),b==="SET")return v+(I+"["+I+".length - "+y+"] = "+H+`;
`);if(b==="INSERT")return v+(I+".insert("+I+".length - "+y+", "+H+`);
`);break;case"RANDOM":if(N.definitions_.import_dart_math="import 'dart:math' as Math;",y=S(),v=N.nameDB_.getDistinctName("tmp_x",i.NameType$$module$build$src$core$names.VARIABLE),y+="int "+v+" = new Math.Random().nextInt("+I+`.length);
`,b==="SET")return y+(I+"["+v+"] = "+H+`;
`);if(b==="INSERT")return y+(I+".insert("+v+", "+H+`);
`)}throw Error("Unhandled combination (lists_setIndex).")},M=function(y,N){const S=N.valueToCode(y,"LIST",C.UNARY_POSTFIX)||"[]";var b=y.getFieldValue("WHERE1");const v=y.getFieldValue("WHERE2");if(S.match(/^\w+$/)||b!=="FROM_END"&&v==="FROM_START"){switch(b){case"FROM_START":b=N.getAdjusted(y,"AT1");break;case"FROM_END":b=N.getAdjusted(y,"AT1",1,!1,C.ADDITIVE),b=S+".length - "+b;break;case"FIRST":b="0";break;default:throw Error("Unhandled option (lists_getSublist).")}switch(v){case"FROM_START":var I=N.getAdjusted(y,"AT2",1);break;case"FROM_END":I=N.getAdjusted(y,"AT2",0,!1,C.ADDITIVE),I=S+".length - "+I;break;case"LAST":break;default:throw Error("Unhandled option (lists_getSublist).")}N=v==="LAST"?S+".sublist("+b+")":S+".sublist("+b+", "+I+")"}else I=N.getAdjusted(y,"AT1"),y=N.getAdjusted(y,"AT2"),N=N.provideFunction_("lists_get_sublist",`
List ${N.FUNCTION_NAME_PLACEHOLDER_}(List list, String where1, num at1, String where2, num at2) {
  int getAt(String where, num at) {
    if (where == 'FROM_END') {
      at = list.length - 1 - at;
    } else if (where == 'FIRST') {
      at = 0;
    } else if (where == 'LAST') {
      at = list.length - 1;
    } else if (where != 'FROM_START') {
      throw 'Unhandled option (lists_getSublist).';
    }
    return at;
  }
  at1 = getAt(where1, at1);
  at2 = getAt(where2, at2) + 1;
  return list.sublist(at1, at2);
}
`)+"("+S+", '"+b+"', "+I+", '"+v+"', "+y+")";return[N,C.UNARY_POSTFIX]},B=function(y,N){const S=N.valueToCode(y,"LIST",C.NONE)||"[]",b=y.getFieldValue("DIRECTION")==="1"?1:-1;return y=y.getFieldValue("TYPE"),[N.provideFunction_("lists_sort",`
List ${N.FUNCTION_NAME_PLACEHOLDER_}(List list, String type, int direction) {
  var compareFuncs = {
    'NUMERIC': (a, b) => (direction * a.compareTo(b)).toInt(),
    'TEXT': (a, b) => direction * a.toString().compareTo(b.toString()),
    'IGNORE_CASE':
      (a, b) => direction *
      a.toString().toLowerCase().compareTo(b.toString().toLowerCase())
  };
  list = new List.from(list);
  var compare = compareFuncs[type];
  list.sort(compare);
  return list;
}
`)+"("+S+', "'+y+'", '+b+")",C.UNARY_POSTFIX]},G=function(y,N){let S=N.valueToCode(y,"INPUT",C.UNARY_POSTFIX);if(N=N.valueToCode(y,"DELIM",C.NONE)||"''",y=y.getFieldValue("MODE"),y==="SPLIT")S||(S="''"),y="split";else if(y==="JOIN")S||(S="[]"),y="join";else throw Error("Unknown mode: "+y);return[S+"."+y+"("+N+")",C.UNARY_POSTFIX]},j=function(y,N){return["new List.from("+(N.valueToCode(y,"LIST",C.NONE)||"[]")+".reversed)",C.UNARY_POSTFIX]},F=function(y,N){let S=0,b="",v,I;N.STATEMENT_PREFIX&&(b+=N.injectId(N.STATEMENT_PREFIX,y));do I=N.valueToCode(y,"IF"+S,C.NONE)||"false",v=N.statementToCode(y,"DO"+S),N.STATEMENT_SUFFIX&&(v=N.prefixLines(N.injectId(N.STATEMENT_SUFFIX,y),N.INDENT)+v),b+=(0<S?"else ":"")+"if ("+I+`) {
`+v+"}",S++;while(y.getInput("IF"+S));return(y.getInput("ELSE")||N.STATEMENT_SUFFIX)&&(v=N.statementToCode(y,"ELSE"),N.STATEMENT_SUFFIX&&(v=N.prefixLines(N.injectId(N.STATEMENT_SUFFIX,y),N.INDENT)+v),b+=` else {
`+v+"}"),b+`
`},x=function(y,N){const S={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[y.getFieldValue("OP")],b=S==="=="||S==="!="?C.EQUALITY:C.RELATIONAL,v=N.valueToCode(y,"A",b)||"0";return y=N.valueToCode(y,"B",b)||"0",[v+" "+S+" "+y,b]},D=function(y,N){const S=y.getFieldValue("OP")==="AND"?"&&":"||",b=S==="&&"?C.LOGICAL_AND:C.LOGICAL_OR;let v=N.valueToCode(y,"A",b);return y=N.valueToCode(y,"B",b),v||y?(N=S==="&&"?"true":"false",v||(v=N),y||(y=N)):y=v="false",[v+" "+S+" "+y,b]},U=function(y,N){const S=C.UNARY_PREFIX;return["!"+(N.valueToCode(y,"BOOL",S)||"true"),S]},te=function(y,N){return[y.getFieldValue("BOOL")==="TRUE"?"true":"false",C.ATOMIC]},Y=function(y,N){return["null",C.ATOMIC]},J=function(y,N){const S=N.valueToCode(y,"IF",C.CONDITIONAL)||"false",b=N.valueToCode(y,"THEN",C.CONDITIONAL)||"null";return y=N.valueToCode(y,"ELSE",C.CONDITIONAL)||"null",[S+" ? "+b+" : "+y,C.CONDITIONAL]},ee=function(y,N){let S;S=y.getField("TIMES")?String(Number(y.getFieldValue("TIMES"))):N.valueToCode(y,"TIMES",C.ASSIGNMENT)||"0";let b=N.statementToCode(y,"DO");b=N.addLoopTrap(b,y),y="";const v=N.nameDB_.getDistinctName("count",i.NameType$$module$build$src$core$names.VARIABLE);let I=S;return S.match(/^\w+$/)||i.isNumber$$module$build$src$core$utils$string(S)||(I=N.nameDB_.getDistinctName("repeat_end",i.NameType$$module$build$src$core$names.VARIABLE),y+="var "+I+" = "+S+`;
`),y+("for (int "+v+" = 0; "+v+" < "+I+"; "+v+`++) {
`+b+`}
`)},ue=function(y,N){const S=y.getFieldValue("MODE")==="UNTIL";let b=N.valueToCode(y,"BOOL",S?C.UNARY_PREFIX:C.NONE)||"false",v=N.statementToCode(y,"DO");return v=N.addLoopTrap(v,y),S&&(b="!"+b),"while ("+b+`) {
`+v+`}
`},oe=function(y,N){var S=N.nameDB_.getName(y.getFieldValue("VAR"),i.NameType$$module$build$src$core$names.VARIABLE),b=N.valueToCode(y,"FROM",C.ASSIGNMENT)||"0",v=N.valueToCode(y,"TO",C.ASSIGNMENT)||"0";const I=N.valueToCode(y,"BY",C.ASSIGNMENT)||"1";let H=N.statementToCode(y,"DO");if(H=N.addLoopTrap(H,y),i.isNumber$$module$build$src$core$utils$string(b)&&i.isNumber$$module$build$src$core$utils$string(v)&&i.isNumber$$module$build$src$core$utils$string(I))N=Number(b)<=Number(v),y="for ("+S+" = "+b+"; "+S+(N?" <= ":" >= ")+v+"; "+S,S=Math.abs(Number(I)),y=S===1?y+(N?"++":"--"):y+((N?" += ":" -= ")+S),y+=`) {
`+H+`}
`;else{y="";let pe=b;b.match(/^\w+$/)||i.isNumber$$module$build$src$core$utils$string(b)||(pe=N.nameDB_.getDistinctName(S+"_start",i.NameType$$module$build$src$core$names.VARIABLE),y+="var "+pe+" = "+b+`;
`),b=v,v.match(/^\w+$/)||i.isNumber$$module$build$src$core$utils$string(v)||(b=N.nameDB_.getDistinctName(S+"_end",i.NameType$$module$build$src$core$names.VARIABLE),y+="var "+b+" = "+v+`;
`),v=N.nameDB_.getDistinctName(S+"_inc",i.NameType$$module$build$src$core$names.VARIABLE),y+="num "+v+" = ",y=i.isNumber$$module$build$src$core$utils$string(I)?y+(Math.abs(I)+`;
`):y+("("+I+`).abs();
`),y+="if ("+pe+" > "+b+`) {
`,y+=N.INDENT+v+" = -"+v+`;
`,y=y+`}
for (`+(S+" = "+pe+"; "+v+" >= 0 ? "+S+" <= "+b+" : "+S+" >= "+b+"; "+S+" += "+v+`) {
`+H+`}
`)}return y},X=function(y,N){const S=N.nameDB_.getName(y.getFieldValue("VAR"),i.NameType$$module$build$src$core$names.VARIABLE),b=N.valueToCode(y,"LIST",C.ASSIGNMENT)||"[]";let v=N.statementToCode(y,"DO");return v=N.addLoopTrap(v,y),"for (var "+S+" in "+b+`) {
`+v+`}
`},K=function(y,N){let S="";if(N.STATEMENT_PREFIX&&(S+=N.injectId(N.STATEMENT_PREFIX,y)),N.STATEMENT_SUFFIX&&(S+=N.injectId(N.STATEMENT_SUFFIX,y)),N.STATEMENT_PREFIX){const b=y.getSurroundLoop();b&&!b.suppressPrefixSuffix&&(S+=N.injectId(N.STATEMENT_PREFIX,b))}switch(y.getFieldValue("FLOW")){case"BREAK":return S+`break;
`;case"CONTINUE":return S+`continue;
`}throw Error("Unknown flow statement.")},q=function(y,N){return y=Number(y.getFieldValue("NUM")),y===1/0?(y="double.infinity",N=C.UNARY_POSTFIX):y===-1/0?(y="-double.infinity",N=C.UNARY_PREFIX):N=0>y?C.UNARY_PREFIX:C.ATOMIC,[y,N]},z=function(y,N){var S={ADD:[" + ",C.ADDITIVE],MINUS:[" - ",C.ADDITIVE],MULTIPLY:[" * ",C.MULTIPLICATIVE],DIVIDE:[" / ",C.MULTIPLICATIVE],POWER:[null,C.NONE]}[y.getFieldValue("OP")];const b=S[0];S=S[1];const v=N.valueToCode(y,"A",S)||"0";return y=N.valueToCode(y,"B",S)||"0",b?[v+b+y,S]:(N.definitions_.import_dart_math="import 'dart:math' as Math;",["Math.pow("+v+", "+y+")",C.UNARY_POSTFIX])},ne=function(y,N){const S=y.getFieldValue("OP");let b;if(S==="NEG")return y=N.valueToCode(y,"NUM",C.UNARY_PREFIX)||"0",y[0]==="-"&&(y=" "+y),["-"+y,C.UNARY_PREFIX];switch(N.definitions_.import_dart_math="import 'dart:math' as Math;",y=S==="ABS"||S.substring(0,5)==="ROUND"?N.valueToCode(y,"NUM",C.UNARY_POSTFIX)||"0":S==="SIN"||S==="COS"||S==="TAN"?N.valueToCode(y,"NUM",C.MULTIPLICATIVE)||"0":N.valueToCode(y,"NUM",C.NONE)||"0",S){case"ABS":b=y+".abs()";break;case"ROOT":b="Math.sqrt("+y+")";break;case"LN":b="Math.log("+y+")";break;case"EXP":b="Math.exp("+y+")";break;case"POW10":b="Math.pow(10,"+y+")";break;case"ROUND":b=y+".round()";break;case"ROUNDUP":b=y+".ceil()";break;case"ROUNDDOWN":b=y+".floor()";break;case"SIN":b="Math.sin("+y+" / 180 * Math.pi)";break;case"COS":b="Math.cos("+y+" / 180 * Math.pi)";break;case"TAN":b="Math.tan("+y+" / 180 * Math.pi)"}if(b)return[b,C.UNARY_POSTFIX];switch(S){case"LOG10":b="Math.log("+y+") / Math.log(10)";break;case"ASIN":b="Math.asin("+y+") / Math.pi * 180";break;case"ACOS":b="Math.acos("+y+") / Math.pi * 180";break;case"ATAN":b="Math.atan("+y+") / Math.pi * 180";break;default:throw Error("Unknown math operator: "+S)}return[b,C.MULTIPLICATIVE]},ge=function(y,N){const S={PI:["Math.pi",C.UNARY_POSTFIX],E:["Math.e",C.UNARY_POSTFIX],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",C.MULTIPLICATIVE],SQRT2:["Math.sqrt2",C.UNARY_POSTFIX],SQRT1_2:["Math.sqrt1_2",C.UNARY_POSTFIX],INFINITY:["double.infinity",C.ATOMIC]};return y=y.getFieldValue("CONSTANT"),y!=="INFINITY"&&(N.definitions_.import_dart_math="import 'dart:math' as Math;"),S[y]},Q=function(y,N){var S={EVEN:[" % 2 == 0",C.MULTIPLICATIVE,C.EQUALITY],ODD:[" % 2 == 1",C.MULTIPLICATIVE,C.EQUALITY],WHOLE:[" % 1 == 0",C.MULTIPLICATIVE,C.EQUALITY],POSITIVE:[" > 0",C.RELATIONAL,C.RELATIONAL],NEGATIVE:[" < 0",C.RELATIONAL,C.RELATIONAL],DIVISIBLE_BY:[null,C.MULTIPLICATIVE,C.EQUALITY],PRIME:[null,C.NONE,C.UNARY_POSTFIX]};const b=y.getFieldValue("PROPERTY"),[v,I,H]=S[b];if(S=N.valueToCode(y,"NUMBER_TO_CHECK",I)||"0",b==="PRIME")N.definitions_.import_dart_math="import 'dart:math' as Math;",y=N.provideFunction_("math_isPrime",`
bool ${N.FUNCTION_NAME_PLACEHOLDER_}(n) {
  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods
  if (n == 2 || n == 3) {
    return true;
  }
  // False if n is null, negative, is 1, or not whole.
  // And false if n is divisible by 2 or 3.
  if (n == null || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {
    return false;
  }
  // Check all the numbers of form 6k +/- 1, up to sqrt(n).
  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {
    if (n % (x - 1) == 0 || n % (x + 1) == 0) {
      return false;
    }
  }
  return true;
}
`)+"("+S+")";else if(b==="DIVISIBLE_BY"){if(y=N.valueToCode(y,"DIVISOR",C.MULTIPLICATIVE)||"0",y==="0")return["false",C.ATOMIC];y=S+" % "+y+" == 0"}else y=S+v;return[y,H]},Oe=function(y,N){const S=N.valueToCode(y,"DELTA",C.ADDITIVE)||"0";return y=N.nameDB_.getName(y.getFieldValue("VAR"),i.NameType$$module$build$src$core$names.VARIABLE),y+" = ("+y+" is num ? "+y+" : 0) + "+S+`;
`},Re=function(y,N){const S=y.getFieldValue("OP");switch(y=N.valueToCode(y,"LIST",C.NONE)||"[]",S){case"SUM":N=N.provideFunction_("math_sum",`
num ${N.FUNCTION_NAME_PLACEHOLDER_}(List<num> myList) {
  num sumVal = 0;
  myList.forEach((num entry) {sumVal += entry;});
  return sumVal;
}
`)+"("+y+")";break;case"MIN":N.definitions_.import_dart_math="import 'dart:math' as Math;",N=N.provideFunction_("math_min",`
num ${N.FUNCTION_NAME_PLACEHOLDER_}(List<num> myList) {
  if (myList.isEmpty) return null;
  num minVal = myList[0];
  myList.forEach((num entry) {minVal = Math.min(minVal, entry);});
  return minVal;
}
`)+"("+y+")";break;case"MAX":N.definitions_.import_dart_math="import 'dart:math' as Math;",N=N.provideFunction_("math_max",`
num ${N.FUNCTION_NAME_PLACEHOLDER_}(List<num> myList) {
  if (myList.isEmpty) return null;
  num maxVal = myList[0];
  myList.forEach((num entry) {maxVal = Math.max(maxVal, entry);});
  return maxVal;
}
`)+"("+y+")";break;case"AVERAGE":N=N.provideFunction_("math_mean",`
num ${N.FUNCTION_NAME_PLACEHOLDER_}(List myList) {
  // First filter list for numbers only.
  List localList = new List.from(myList);
  localList.removeWhere((a) => a is! num);
  if (localList.isEmpty) return null;
  num sumVal = 0;
  localList.forEach((var entry) {sumVal += entry;});
  return sumVal / localList.length;
}
`)+"("+y+")";break;case"MEDIAN":N=N.provideFunction_("math_median",`
num ${N.FUNCTION_NAME_PLACEHOLDER_}(List myList) {
  // First filter list for numbers only, then sort, then return middle value
  // or the average of two middle values if list has an even number of elements.
  List localList = new List.from(myList);
  localList.removeWhere((a) => a is! num);
  if (localList.isEmpty) return null;
  localList.sort((a, b) => (a - b));
  int index = localList.length ~/ 2;
  if (localList.length % 2 == 1) {
    return localList[index];
  } else {
    return (localList[index - 1] + localList[index]) / 2;
  }
}
`)+"("+y+")";break;case"MODE":N.definitions_.import_dart_math="import 'dart:math' as Math;",N=N.provideFunction_("math_modes",`
List ${N.FUNCTION_NAME_PLACEHOLDER_}(List values) {
  List modes = [];
  List counts = [];
  int maxCount = 0;
  for (int i = 0; i < values.length; i++) {
    var value = values[i];
    bool found = false;
    int thisCount;
    for (int j = 0; j < counts.length; j++) {
      if (counts[j][0] == value) {
        thisCount = ++counts[j][1];
        found = true;
        break;
      }
    }
    if (!found) {
      counts.add([value, 1]);
      thisCount = 1;
    }
    maxCount = Math.max(thisCount, maxCount);
  }
  for (int j = 0; j < counts.length; j++) {
    if (counts[j][1] == maxCount) {
        modes.add(counts[j][0]);
    }
  }
  return modes;
}
`)+"("+y+")";break;case"STD_DEV":N.definitions_.import_dart_math="import 'dart:math' as Math;",N=N.provideFunction_("math_standard_deviation",`
num ${N.FUNCTION_NAME_PLACEHOLDER_}(List myList) {
  // First filter list for numbers only.
  List numbers = new List.from(myList);
  numbers.removeWhere((a) => a is! num);
  if (numbers.isEmpty) return null;
  num n = numbers.length;
  num sum = 0;
  numbers.forEach((x) => sum += x);
  num mean = sum / n;
  num sumSquare = 0;
  numbers.forEach((x) => sumSquare += Math.pow(x - mean, 2));
  return Math.sqrt(sumSquare / n);
}
`)+"("+y+")";break;case"RANDOM":N.definitions_.import_dart_math="import 'dart:math' as Math;",N=N.provideFunction_("math_random_item",`
dynamic ${N.FUNCTION_NAME_PLACEHOLDER_}(List myList) {
  int x = new Math.Random().nextInt(myList.length);
  return myList[x];
}
`)+"("+y+")";break;default:throw Error("Unknown operator: "+S)}return[N,C.UNARY_POSTFIX]},_e=function(y,N){const S=N.valueToCode(y,"DIVIDEND",C.MULTIPLICATIVE)||"0";return y=N.valueToCode(y,"DIVISOR",C.MULTIPLICATIVE)||"0",[S+" % "+y,C.MULTIPLICATIVE]},se=function(y,N){N.definitions_.import_dart_math="import 'dart:math' as Math;";const S=N.valueToCode(y,"VALUE",C.NONE)||"0",b=N.valueToCode(y,"LOW",C.NONE)||"0";return y=N.valueToCode(y,"HIGH",C.NONE)||"double.infinity",["Math.min(Math.max("+S+", "+b+"), "+y+")",C.UNARY_POSTFIX]},ke=function(y,N){N.definitions_.import_dart_math="import 'dart:math' as Math;";const S=N.valueToCode(y,"FROM",C.NONE)||"0";return y=N.valueToCode(y,"TO",C.NONE)||"0",[N.provideFunction_("math_random_int",`
int ${N.FUNCTION_NAME_PLACEHOLDER_}(num a, num b) {
  if (a > b) {
    // Swap a and b to ensure a is smaller.
    num c = a;
    a = b;
    b = c;
  }
  return new Math.Random().nextInt(b - a + 1) + a;
}
`)+"("+S+", "+y+")",C.UNARY_POSTFIX]},Be=function(y,N){return N.definitions_.import_dart_math="import 'dart:math' as Math;",["new Math.Random().nextDouble()",C.UNARY_POSTFIX]},et=function(y,N){N.definitions_.import_dart_math="import 'dart:math' as Math;";const S=N.valueToCode(y,"X",C.NONE)||"0";return["Math.atan2("+(N.valueToCode(y,"Y",C.NONE)||"0")+", "+S+") / Math.pi * 180",C.MULTIPLICATIVE]},ut=function(y,N){const S=N.nameDB_.getName(y.getFieldValue("NAME"),i.NameType$$module$build$src$core$names.PROCEDURE);var b="";N.STATEMENT_PREFIX&&(b+=N.injectId(N.STATEMENT_PREFIX,y)),N.STATEMENT_SUFFIX&&(b+=N.injectId(N.STATEMENT_SUFFIX,y)),b&&(b=N.prefixLines(b,N.INDENT));let v="";N.INFINITE_LOOP_TRAP&&(v=N.prefixLines(N.injectId(N.INFINITE_LOOP_TRAP,y),N.INDENT));const I=N.statementToCode(y,"STACK");let H=N.valueToCode(y,"RETURN",C.NONE)||"",pe="";I&&H&&(pe=b),H&&(H=N.INDENT+"return "+H+`;
`);const rt=H?"dynamic":"void",bt=[],Ft=y.getVars();for(let ln=0;ln<Ft.length;ln++)bt[ln]=N.nameDB_.getName(Ft[ln],i.NameType$$module$build$src$core$names.VARIABLE);return b=rt+" "+S+"("+bt.join(", ")+`) {
`+b+v+I+pe+H+"}",b=N.scrub_(y,b),N.definitions_["%"+S]=b,null},dt=function(y,N){const S=N.nameDB_.getName(y.getFieldValue("NAME"),i.NameType$$module$build$src$core$names.PROCEDURE),b=[],v=y.getVars();for(let I=0;I<v.length;I++)b[I]=N.valueToCode(y,"ARG"+I,C.NONE)||"null";return[S+"("+b.join(", ")+")",C.UNARY_POSTFIX]},gt=function(y,N){return N.forBlock.procedures_callreturn(y,N)[0]+`;
`},we=function(y,N){let S="if ("+(N.valueToCode(y,"CONDITION",C.NONE)||"false")+`) {
`;return N.STATEMENT_SUFFIX&&(S+=N.prefixLines(N.injectId(N.STATEMENT_SUFFIX,y),N.INDENT)),y.hasReturnValue_?(y=N.valueToCode(y,"VALUE",C.NONE)||"null",S+=N.INDENT+"return "+y+`;
`):S+=N.INDENT+`return;
`,S+`}
`},le=function(y,N){return[N.quote_(y.getFieldValue("TEXT")),C.ATOMIC]},ce=function(y,N){return y=N.multiline_quote_(y.getFieldValue("TEXT")),N=y.indexOf("+")!==-1?C.ADDITIVE:C.ATOMIC,[y,N]},re=function(y,N){switch(y.itemCount_){case 0:return["''",C.ATOMIC];case 1:return[(N.valueToCode(y,"ADD0",C.UNARY_POSTFIX)||"''")+".toString()",C.UNARY_POSTFIX];default:const S=Array(y.itemCount_);for(let b=0;b<y.itemCount_;b++)S[b]=N.valueToCode(y,"ADD"+b,C.NONE)||"''";return["["+S.join(",")+"].join()",C.UNARY_POSTFIX]}},Me=function(y,N){const S=N.nameDB_.getName(y.getFieldValue("VAR"),i.NameType$$module$build$src$core$names.VARIABLE);return y=N.valueToCode(y,"TEXT",C.NONE)||"''",S+" = ["+S+", "+y+`].join();
`},Ne=function(y,N){return[(N.valueToCode(y,"VALUE",C.UNARY_POSTFIX)||"''")+".length",C.UNARY_POSTFIX]},$e=function(y,N){return[(N.valueToCode(y,"VALUE",C.UNARY_POSTFIX)||"''")+".isEmpty",C.UNARY_POSTFIX]},Fe=function(y,N){const S=y.getFieldValue("END")==="FIRST"?"indexOf":"lastIndexOf",b=N.valueToCode(y,"FIND",C.NONE)||"''";return N=(N.valueToCode(y,"VALUE",C.UNARY_POSTFIX)||"''")+"."+S+"("+b+")",y.workspace.options.oneBasedIndex?[N+" + 1",C.ADDITIVE]:[N,C.UNARY_POSTFIX]},Le=function(y,N){const S=y.getFieldValue("WHERE")||"FROM_START",b=N.valueToCode(y,"VALUE",S==="FIRST"||S==="FROM_START"?C.UNARY_POSTFIX:C.NONE)||"''";switch(S){case"FIRST":return[b+"[0]",C.UNARY_POSTFIX];case"FROM_START":return y=N.getAdjusted(y,"AT"),[b+"["+y+"]",C.UNARY_POSTFIX];case"LAST":case"FROM_END":return y=N.getAdjusted(y,"AT",1),[N.provideFunction_("text_get_from_end",`
String ${N.FUNCTION_NAME_PLACEHOLDER_}(String text, num x) {
  return text[text.length - x];
}
`)+"("+b+", "+y+")",C.UNARY_POSTFIX];case"RANDOM":return N.definitions_.import_dart_math="import 'dart:math' as Math;",[N.provideFunction_("text_random_letter",`
String ${N.FUNCTION_NAME_PLACEHOLDER_}(String text) {
  int x = new Math.Random().nextInt(text.length);
  return text[x];
}
`)+"("+b+")",C.UNARY_POSTFIX]}throw Error("Unhandled option (text_charAt).")},qe=function(y,N){var S=y.getFieldValue("WHERE1");const b=y.getFieldValue("WHERE2"),v=S!=="FROM_END"&&b==="FROM_START",I=N.valueToCode(y,"STRING",v?C.UNARY_POSTFIX:C.NONE)||"''";if(S==="FIRST"&&b==="LAST")return[I,C.NONE];if(I.match(/^'?\w+'?$/)||v){switch(S){case"FROM_START":S=N.getAdjusted(y,"AT1");break;case"FROM_END":S=N.getAdjusted(y,"AT1",1,!1,C.ADDITIVE),S=I+".length - "+S;break;case"FIRST":S="0";break;default:throw Error("Unhandled option (text_getSubstring).")}switch(b){case"FROM_START":var H=N.getAdjusted(y,"AT2",1);break;case"FROM_END":H=N.getAdjusted(y,"AT2",0,!1,C.ADDITIVE),H=I+".length - "+H;break;case"LAST":break;default:throw Error("Unhandled option (text_getSubstring).")}N=b==="LAST"?I+".substring("+S+")":I+".substring("+S+", "+H+")"}else H=N.getAdjusted(y,"AT1"),y=N.getAdjusted(y,"AT2"),N=N.provideFunction_("text_get_substring",`
String ${N.FUNCTION_NAME_PLACEHOLDER_}(String text, String where1, num at1, String where2, num at2) {
  int getAt(String where, num at) {
    if (where == 'FROM_END') {
      at = text.length - 1 - at;
    } else if (where == 'FIRST') {
      at = 0;
    } else if (where == 'LAST') {
      at = text.length - 1;
    } else if (where != 'FROM_START') {
      throw 'Unhandled option (text_getSubstring).';
    }
    return at;
  }
  at1 = getAt(where1, at1);
  at2 = getAt(where2, at2) + 1;
  return text.substring(at1, at2);
}
`)+"("+I+", '"+S+"', "+H+", '"+b+"', "+y+")";return[N,C.UNARY_POSTFIX]},Xe=function(y,N){const S={UPPERCASE:".toUpperCase()",LOWERCASE:".toLowerCase()",TITLECASE:null}[y.getFieldValue("CASE")];return y=N.valueToCode(y,"TEXT",S?C.UNARY_POSTFIX:C.NONE)||"''",[S?y+S:N.provideFunction_("text_toTitleCase",`
String ${N.FUNCTION_NAME_PLACEHOLDER_}(String str) {
  RegExp exp = new RegExp(r'\\b');
  List<String> list = str.split(exp);
  final title = new StringBuffer();
  for (String part in list) {
    if (part.length > 0) {
      title.write(part[0].toUpperCase());
      if (part.length > 0) {
        title.write(part.substring(1).toLowerCase());
      }
    }
  }
  return title.toString();
}
`)+"("+y+")",C.UNARY_POSTFIX]},at=function(y,N){const S={LEFT:".replaceFirst(new RegExp(r'^\\s+'), '')",RIGHT:".replaceFirst(new RegExp(r'\\s+$'), '')",BOTH:".trim()"}[y.getFieldValue("MODE")];return[(N.valueToCode(y,"TEXT",C.UNARY_POSTFIX)||"''")+S,C.UNARY_POSTFIX]},Ee=function(y,N){return"print("+(N.valueToCode(y,"TEXT",C.NONE)||"''")+`);
`},Ie=function(y,N){N.definitions_.import_dart_html="import 'dart:html' as Html;";let S="Html.window.prompt("+(y.getField("TEXT")?N.quote_(y.getFieldValue("TEXT")):N.valueToCode(y,"TEXT",C.NONE)||"''")+", '')";return y.getFieldValue("TYPE")==="NUMBER"&&(N.definitions_.import_dart_math="import 'dart:math' as Math;",S="Math.parseDouble("+S+")"),[S,C.UNARY_POSTFIX]},he=function(y,N){const S=N.valueToCode(y,"TEXT",C.NONE)||"''";return y=N.valueToCode(y,"SUB",C.NONE)||"''",[N.provideFunction_("text_count",`
int ${N.FUNCTION_NAME_PLACEHOLDER_}(String haystack, String needle) {
  if (needle.length == 0) {
    return haystack.length + 1;
  }
  int index = 0;
  int count = 0;
  while (index != -1) {
    index = haystack.indexOf(needle, index);
    if (index != -1) {
      count++;
     index += needle.length;
    }
  }
  return count;
}
`)+"("+S+", "+y+")",C.UNARY_POSTFIX]},me=function(y,N){const S=N.valueToCode(y,"TEXT",C.UNARY_POSTFIX)||"''",b=N.valueToCode(y,"FROM",C.NONE)||"''";return y=N.valueToCode(y,"TO",C.NONE)||"''",[S+".replaceAll("+b+", "+y+")",C.UNARY_POSTFIX]},Se=function(y,N){return["new String.fromCharCodes("+(N.valueToCode(y,"TEXT",C.UNARY_POSTFIX)||"''")+".runes.toList().reversed)",C.UNARY_PREFIX]},xe=function(y,N){return[N.nameDB_.getName(y.getFieldValue("VAR"),i.NameType$$module$build$src$core$names.VARIABLE),C.ATOMIC]},Ke=function(y,N){const S=N.valueToCode(y,"VALUE",C.ASSIGNMENT)||"0";return N.nameDB_.getName(y.getFieldValue("VAR"),i.NameType$$module$build$src$core$names.VARIABLE)+" = "+S+`;
`},C={ATOMIC:0,UNARY_POSTFIX:1,UNARY_PREFIX:2,MULTIPLICATIVE:3,ADDITIVE:4,SHIFT:5,BITWISE_AND:6,BITWISE_XOR:7,BITWISE_OR:8,RELATIONAL:9,EQUALITY:10,LOGICAL_AND:11,LOGICAL_OR:12,IF_NULL:13,CONDITIONAL:14,CASCADE:15,ASSIGNMENT:16,NONE:99},k=class extends i.CodeGenerator$$module$build$src$core$generator{constructor(y){super(y??"Dart"),this.isInitialized=!1;for(const N in C)this["ORDER_"+N]=C[N];this.addReservedWords("assert,break,case,catch,class,const,continue,default,do,else,enum,extends,false,final,finally,for,if,in,is,new,null,rethrow,return,super,switch,this,throw,true,try,var,void,while,with,print,identityHashCode,identical,BidirectionalIterator,Comparable,double,Function,int,Invocation,Iterable,Iterator,List,Map,Match,num,Pattern,RegExp,Set,StackTrace,String,StringSink,Type,bool,DateTime,Deprecated,Duration,Expando,Null,Object,RuneIterator,Runes,Stopwatch,StringBuffer,Symbol,Uri,Comparator,AbstractClassInstantiationError,ArgumentError,AssertionError,CastError,ConcurrentModificationError,CyclicInitializationError,Error,Exception,FallThroughError,FormatException,IntegerDivisionByZeroException,NoSuchMethodError,NullThrownError,OutOfMemoryError,RangeError,StackOverflowError,StateError,TypeError,UnimplementedError,UnsupportedError")}init(y){super.init(),this.nameDB_?this.nameDB_.reset():this.nameDB_=new i.Names$$module$build$src$core$names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(y.getVariableMap()),this.nameDB_.populateVariables(y),this.nameDB_.populateProcedures(y);const N=[];var S=i.allDeveloperVariables$$module$build$src$core$variables(y);for(let b=0;b<S.length;b++)N.push(this.nameDB_.getName(S[b],i.NameType$$module$build$src$core$names.DEVELOPER_VARIABLE));for(y=i.allUsedVarModels$$module$build$src$core$variables(y),S=0;S<y.length;S++)N.push(this.nameDB_.getName(y[S].getId(),i.NameType$$module$build$src$core$names.VARIABLE));N.length&&(this.definitions_.variables="var "+N.join(", ")+";"),this.isInitialized=!0}finish(y){y&&(y=this.prefixLines(y,this.INDENT)),y=`main() {
`+y+"}";const N=[],S=[];for(let b in this.definitions_){const v=this.definitions_[b];v.match(/^import\s/)?N.push(v):S.push(v)}return y=super.finish(y),this.isInitialized=!1,this.nameDB_.reset(),(N.join(`
`)+`

`+S.join(`

`)).replace(/\n\n+/g,`

`).replace(/\n*$/,`


`)+y}scrubNakedValue(y){return y+`;
`}quote_(y){return y=y.replace(/\\/g,"\\\\").replace(/\n/g,`\\
`).replace(/\$/g,"\\$").replace(/'/g,"\\'"),"'"+y+"'"}multiline_quote_(y){return y.split(/\n/g).map(this.quote_).join(` + '\\n' + 
`)}scrub_(y,N,S){let b="";if(!y.outputConnection||!y.outputConnection.targetConnection){var v=y.getCommentText();v&&(v=i.wrap$$module$build$src$core$utils$string(v,this.COMMENT_WRAP-3),b=y.getProcedureDef?b+this.prefixLines(v+`
`,"/// "):b+this.prefixLines(v+`
`,"// "));for(let I=0;I<y.inputList.length;I++)y.inputList[I].type===i.inputTypes$$module$build$src$core$inputs$input_types.VALUE&&(v=y.inputList[I].connection.targetBlock())&&(v=this.allNestedComments(v))&&(b+=this.prefixLines(v,"// "))}return y=y.nextConnection&&y.nextConnection.targetBlock(),S=S?"":this.blockToCode(y),b+N+S}getAdjusted(y,N,S,b,v){S=S||0,v=v||this.ORDER_NONE,y.workspace.options.oneBasedIndex&&S--;const I=y.workspace.options.oneBasedIndex?"1":"0";let H,pe;return S?pe=H=this.ORDER_ADDITIVE:b?pe=H=this.ORDER_UNARY_PREFIX:H=v,y=this.valueToCode(y,N,H)||I,i.isNumber$$module$build$src$core$utils$string(y)?(y=parseInt(y,10)+S,b&&(y=-y)):(0<S?y=y+" + "+S:0>S&&(y=y+" - "+-S),b&&(y=S?"-("+y+")":"-"+y),pe=Math.floor(pe),v=Math.floor(v),pe&&v>=pe&&(y="("+y+")")),y}},de={};de.colour_blend=h,de.colour_picker=l,de.colour_random=u,de.colour_rgb=a;var Ce={};Ce.lists_create_empty=p,Ce.lists_create_with=m,Ce.lists_getIndex=R,Ce.lists_getSublist=M,Ce.lists_indexOf=A,Ce.lists_isEmpty=w,Ce.lists_length=T,Ce.lists_repeat=$,Ce.lists_reverse=j,Ce.lists_setIndex=L,Ce.lists_sort=B,Ce.lists_split=G;var Te={};Te.controls_if=F,Te.controls_ifelse=F,Te.logic_boolean=te,Te.logic_compare=x,Te.logic_negate=U,Te.logic_null=Y,Te.logic_operation=D,Te.logic_ternary=J;var Ve={};Ve.controls_flow_statements=K,Ve.controls_for=oe,Ve.controls_forEach=X,Ve.controls_repeat=ee,Ve.controls_repeat_ext=ee,Ve.controls_whileUntil=ue;var tt={};tt.math_arithmetic=z,tt.math_atan2=et,tt.math_change=Oe,tt.math_constant=ge,tt.math_constrain=se,tt.math_modulo=_e,tt.math_number=q,tt.math_number_property=Q,tt.math_on_list=Re,tt.math_random_float=Be,tt.math_random_int=ke,tt.math_round=ne,tt.math_single=ne,tt.math_trig=ne;var Et={};Et.procedures_callnoreturn=gt,Et.procedures_callreturn=dt,Et.procedures_defnoreturn=ut,Et.procedures_defreturn=ut,Et.procedures_ifreturn=we;var St={};St.text=le,St.text_append=Me,St.text_changeCase=Xe,St.text_charAt=Le,St.text_count=he,St.text_getSubstring=qe,St.text_indexOf=Fe,St.text_isEmpty=$e,St.text_join=re,St.text_length=Ne,St.text_multiline=ce,St.text_print=Ee,St.text_prompt=Ie,St.text_prompt_ext=Ie,St.text_replace=me,St.text_reverse=Se,St.text_trim=at;var Bt={};Bt.variables_get=xe,Bt.variables_set=Ke;var qt={};qt.variables_get_dynamic=xe,qt.variables_set_dynamic=Ke;var sn=new k;sn.addReservedWords("Html,Math"),Object.assign(sn.forBlock,de,Ce,Te,Ve,tt,Et,St,Bt,qt);var dn={};return dn.DartGenerator=k,dn.Order=C,dn.dartGenerator=sn,dn.__namespace__=i,dn})}(rC)),rC.exports}(function(e,o){(function(n,i){e.exports=i(id(),yoe())})(Wn,function(n,i){/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */return i})})(_4);var Lu=_4.exports;Lu.dartGenerator.controls_forever=function(e){return`for(;;) {
`+Lu.dartGenerator.statementToCode(e,"DO")+`}
`};Lu.dartGenerator.math_evenly_divisible=function(e){const o=Lu.dartGenerator.valueToCode(e,"DIVIDEND",Lu.dartGenerator.ORDER_ATOMIC)||"0",n=Lu.dartGenerator.valueToCode(e,"DIVISOR",Lu.dartGenerator.ORDER_ATOMIC)||"0";return[o+" % "+n+" == 0",Lu.dartGenerator.ORDER_NONE]};var b4={exports:{}},iC={exports:{}},yN;function Eoe(){return yN||(yN=1,function(e,o){(function(n,i){e.exports=i(Hh())})(Wn,function(n){var i=n.__namespace__,l=function(b,v){return[v.quote_(b.getFieldValue("COLOUR")),k.ATOMIC]},u=function(b,v){return['string.format("#%06x", math.random(0, 2^24 - 1))',k.HIGH]},a=function(b,v){const I=v.provideFunction_("colour_rgb",`
function ${v.FUNCTION_NAME_PLACEHOLDER_}(r, g, b)
  r = math.floor(math.min(100, math.max(0, r)) * 2.55 + .5)
  g = math.floor(math.min(100, math.max(0, g)) * 2.55 + .5)
  b = math.floor(math.min(100, math.max(0, b)) * 2.55 + .5)
  return string.format("#%02x%02x%02x", r, g, b)
end
`),H=v.valueToCode(b,"RED",k.NONE)||0,pe=v.valueToCode(b,"GREEN",k.NONE)||0;return b=v.valueToCode(b,"BLUE",k.NONE)||0,[I+"("+H+", "+pe+", "+b+")",k.HIGH]},h=function(b,v){const I=v.provideFunction_("colour_blend",`
function ${v.FUNCTION_NAME_PLACEHOLDER_}(colour1, colour2, ratio)
  local r1 = tonumber(string.sub(colour1, 2, 3), 16)
  local r2 = tonumber(string.sub(colour2, 2, 3), 16)
  local g1 = tonumber(string.sub(colour1, 4, 5), 16)
  local g2 = tonumber(string.sub(colour2, 4, 5), 16)
  local b1 = tonumber(string.sub(colour1, 6, 7), 16)
  local b2 = tonumber(string.sub(colour2, 6, 7), 16)
  local ratio = math.min(1, math.max(0, ratio))
  local r = math.floor(r1 * (1 - ratio) + r2 * ratio + .5)
  local g = math.floor(g1 * (1 - ratio) + g2 * ratio + .5)
  local b = math.floor(b1 * (1 - ratio) + b2 * ratio + .5)
  return string.format("#%02x%02x%02x", r, g, b)
end
`),H=v.valueToCode(b,"COLOUR1",k.NONE)||"'#000000'",pe=v.valueToCode(b,"COLOUR2",k.NONE)||"'#000000'";return b=v.valueToCode(b,"RATIO",k.NONE)||0,[I+"("+H+", "+pe+", "+b+")",k.HIGH]},p=function(b,v){return["{}",k.HIGH]},m=function(b,v){const I=Array(b.itemCount_);for(let H=0;H<b.itemCount_;H++)I[H]=v.valueToCode(b,"ADD"+H,k.NONE)||"None";return["{"+I.join(", ")+"}",k.HIGH]},$=function(b,v){const I=v.provideFunction_("create_list_repeated",`
function ${v.FUNCTION_NAME_PLACEHOLDER_}(item, count)
  local t = {}
  for i = 1, count do
    table.insert(t, item)
  end
  return t
end
  `),H=v.valueToCode(b,"ITEM",k.NONE)||"None";return b=v.valueToCode(b,"NUM",k.NONE)||"0",[I+"("+H+", "+b+")",k.HIGH]},T=function(b,v){return["#"+(v.valueToCode(b,"VALUE",k.UNARY)||"{}"),k.UNARY]},w=function(b,v){return["#"+(v.valueToCode(b,"VALUE",k.UNARY)||"{}")+" == 0",k.RELATIONAL]},A=function(b,v){const I=v.valueToCode(b,"FIND",k.NONE)||"''",H=v.valueToCode(b,"VALUE",k.NONE)||"{}";return[(b.getFieldValue("END")==="FIRST"?v.provideFunction_("first_index",`
function ${v.FUNCTION_NAME_PLACEHOLDER_}(t, elem)
  for k, v in ipairs(t) do
    if v == elem then
      return k
    end
  end
  return 0
end
`):v.provideFunction_("last_index",`
function ${v.FUNCTION_NAME_PLACEHOLDER_}(t, elem)
  for i = #t, 1, -1 do
    if t[i] == elem then
      return i
    end
  end
  return 0
end
`))+"("+H+", "+I+")",k.HIGH]},R=function(b,v){var I=b.getFieldValue("MODE")||"GET",H=b.getFieldValue("WHERE")||"FROM_START";const pe=v.valueToCode(b,"VALUE",k.HIGH)||"({})";return H!=="LAST"&&H!=="FROM_END"&&H!=="RANDOM"||pe.match(/^\w+$/)?(v=v.valueToCode(b,"AT",I==="GET"&&H==="FROM_END"?k.ADDITIVE:k.NONE)||"1",v=Te(pe,H,v),I==="GET"?[pe+"["+v+"]",k.HIGH]:(H="table.remove("+pe+", "+v+")",I==="GET_REMOVE"?[H,k.HIGH]:H+`
`)):I==="REMOVE"?(I=v.valueToCode(b,"AT",H==="FROM_END"?k.ADDITIVE:k.NONE)||"1",v=v.nameDB_.getDistinctName("tmp_list",i.NameType$$module$build$src$core$names.VARIABLE),I=Te(v,H,I),v+" = "+pe+`
table.remove(`+v+", "+I+`)
`):(b=v.valueToCode(b,"AT",k.NONE)||"1",[(I==="GET"?v.provideFunction_("list_get_"+H.toLowerCase(),["function "+v.FUNCTION_NAME_PLACEHOLDER_+"(t"+(H==="FROM_END"||H==="FROM_START"?", at)":")"),"  return t["+Te("t",H,"at")+"]","end"]):v.provideFunction_("list_remove_"+H.toLowerCase(),["function "+v.FUNCTION_NAME_PLACEHOLDER_+"(t"+(H==="FROM_END"||H==="FROM_START"?", at)":")"),"  return table.remove(t, "+Te("t",H,"at")+")","end"]))+"("+pe+(H==="FROM_END"||H==="FROM_START"?", "+b:"")+")",k.HIGH])},L=function(b,v){let I=v.valueToCode(b,"LIST",k.HIGH)||"{}";const H=b.getFieldValue("MODE")||"SET",pe=b.getFieldValue("WHERE")||"FROM_START",rt=v.valueToCode(b,"AT",k.ADDITIVE)||"1";b=v.valueToCode(b,"TO",k.NONE)||"None";let bt="";return pe!=="LAST"&&pe!=="FROM_END"&&pe!=="RANDOM"||I.match(/^\w+$/)||(v=v.nameDB_.getDistinctName("tmp_list",i.NameType$$module$build$src$core$names.VARIABLE),bt=v+" = "+I+`
`,I=v),bt=H==="SET"?bt+(I+"["+Te(I,pe,rt)+"] = "+b):bt+("table.insert("+I+", "+(Te(I,pe,rt)+(pe==="LAST"?" + 1":""))+", "+b+")"),bt+`
`},M=function(b,v){const I=v.valueToCode(b,"LIST",k.NONE)||"{}",H=b.getFieldValue("WHERE1"),pe=b.getFieldValue("WHERE2"),rt=v.valueToCode(b,"AT1",k.NONE)||"1";b=v.valueToCode(b,"AT2",k.NONE)||"1";const bt=H==="FROM_END"||H==="FROM_START"?", at1":"",Ft=pe==="FROM_END"||pe==="FROM_START"?", at2":"";return[v.provideFunction_("list_sublist_"+H.toLowerCase()+"_"+pe.toLowerCase(),`
function ${v.FUNCTION_NAME_PLACEHOLDER_}(source${bt}${Ft})
  local t = {}
  local start = ${Te("source",H,"at1")}
  local finish = ${Te("source",pe,"at2")}
  for i = start, finish do
    table.insert(t, source[i])
  end
  return t
end
`)+"("+I+(H==="FROM_END"||H==="FROM_START"?", "+rt:"")+(pe==="FROM_END"||pe==="FROM_START"?", "+b:"")+")",k.HIGH]},B=function(b,v){const I=v.valueToCode(b,"LIST",k.NONE)||"{}",H=b.getFieldValue("DIRECTION")==="1"?1:-1;return b=b.getFieldValue("TYPE"),[v.provideFunction_("list_sort",`
function ${v.FUNCTION_NAME_PLACEHOLDER_}(list, typev, direction)
  local t = {}
  for n,v in pairs(list) do table.insert(t, v) end
  local compareFuncs = {
    NUMERIC = function(a, b)
      return (tonumber(tostring(a)) or 0)
          < (tonumber(tostring(b)) or 0) end,
    TEXT = function(a, b)
      return tostring(a) < tostring(b) end,
    IGNORE_CASE = function(a, b)
      return string.lower(tostring(a)) < string.lower(tostring(b)) end
  }
  local compareTemp = compareFuncs[typev]
  local compare = compareTemp
  if direction == -1
  then compare = function(a, b) return compareTemp(b, a) end
  end
  table.sort(t, compare)
  return t
end
`)+"("+I+',"'+b+'", '+H+")",k.HIGH]},G=function(b,v){let I=v.valueToCode(b,"INPUT",k.NONE);const H=v.valueToCode(b,"DELIM",k.NONE)||"''";if(b=b.getFieldValue("MODE"),b==="SPLIT")I||(I="''"),v=v.provideFunction_("list_string_split",`
function ${v.FUNCTION_NAME_PLACEHOLDER_}(input, delim)
  local t = {}
  local pos = 1
  while true do
    next_delim = string.find(input, delim, pos)
    if next_delim == nil then
      table.insert(t, string.sub(input, pos))
      break
    else
      table.insert(t, string.sub(input, pos, next_delim-1))
      pos = next_delim + #delim
    end
  end
  return t
end
`);else if(b==="JOIN")I||(I="{}"),v="table.concat";else throw Error("Unknown mode: "+b);return[v+"("+I+", "+H+")",k.HIGH]},j=function(b,v){return b=v.valueToCode(b,"LIST",k.NONE)||"{}",[v.provideFunction_("list_reverse",`
function ${v.FUNCTION_NAME_PLACEHOLDER_}(input)
  local reversed = {}
  for i = #input, 1, -1 do
    table.insert(reversed, input[i])
  end
  return reversed
end
`)+"("+b+")",k.HIGH]},F=function(b,v){var I=0;let H="";v.STATEMENT_PREFIX&&(H+=v.injectId(v.STATEMENT_PREFIX,b));do{const pe=v.valueToCode(b,"IF"+I,k.NONE)||"false";let rt=v.statementToCode(b,"DO"+I);v.STATEMENT_SUFFIX&&(rt=v.prefixLines(v.injectId(v.STATEMENT_SUFFIX,b),v.INDENT)+rt),H+=(0<I?"else":"")+"if "+pe+` then
`+rt,I++}while(b.getInput("IF"+I));return(b.getInput("ELSE")||v.STATEMENT_SUFFIX)&&(I=v.statementToCode(b,"ELSE"),v.STATEMENT_SUFFIX&&(I=v.prefixLines(v.injectId(v.STATEMENT_SUFFIX,b),v.INDENT)+I),H+=`else
`+I),H+`end
`},x=function(b,v){const I={EQ:"==",NEQ:"~=",LT:"<",LTE:"<=",GT:">",GTE:">="}[b.getFieldValue("OP")],H=v.valueToCode(b,"A",k.RELATIONAL)||"0";return b=v.valueToCode(b,"B",k.RELATIONAL)||"0",[H+" "+I+" "+b,k.RELATIONAL]},D=function(b,v){const I=b.getFieldValue("OP")==="AND"?"and":"or",H=I==="and"?k.AND:k.OR;let pe=v.valueToCode(b,"A",H);return b=v.valueToCode(b,"B",H),pe||b?(v=I==="and"?"true":"false",pe||(pe=v),b||(b=v)):b=pe="false",[pe+" "+I+" "+b,H]},U=function(b,v){return["not "+(v.valueToCode(b,"BOOL",k.UNARY)||"true"),k.UNARY]},te=function(b,v){return[b.getFieldValue("BOOL")==="TRUE"?"true":"false",k.ATOMIC]},Y=function(b,v){return["nil",k.ATOMIC]},J=function(b,v){const I=v.valueToCode(b,"IF",k.AND)||"false",H=v.valueToCode(b,"THEN",k.AND)||"nil";return b=v.valueToCode(b,"ELSE",k.OR)||"nil",[I+" and "+H+" or "+b,k.OR]},ee=function(b,v){return b.indexOf(Et)!==-1?b+v+`::continue::
`:b},ue=function(b,v){let I;I=b.getField("TIMES")?String(Number(b.getFieldValue("TIMES"))):v.valueToCode(b,"TIMES",k.NONE)||"0",I=i.isNumber$$module$build$src$core$utils$string(I)?parseInt(I,10):"math.floor("+I+")";let H=v.statementToCode(b,"DO");return H=v.addLoopTrap(H,b),H=ee(H,v.INDENT),"for "+v.nameDB_.getDistinctName("count",i.NameType$$module$build$src$core$names.VARIABLE)+" = 1, "+I+` do
`+H+`end
`},oe=function(b,v){const I=b.getFieldValue("MODE")==="UNTIL";let H=v.valueToCode(b,"BOOL",I?k.UNARY:k.NONE)||"false",pe=v.statementToCode(b,"DO");return pe=v.addLoopTrap(pe,b),pe=ee(pe,v.INDENT),I&&(H="not "+H),"while "+H+` do
`+pe+`end
`},X=function(b,v){const I=v.nameDB_.getName(b.getFieldValue("VAR"),i.NameType$$module$build$src$core$names.VARIABLE),H=v.valueToCode(b,"FROM",k.NONE)||"0",pe=v.valueToCode(b,"TO",k.NONE)||"0",rt=v.valueToCode(b,"BY",k.NONE)||"1";let bt=v.statementToCode(b,"DO");bt=v.addLoopTrap(bt,b),bt=ee(bt,v.INDENT),b="";let Ft;return i.isNumber$$module$build$src$core$utils$string(H)&&i.isNumber$$module$build$src$core$utils$string(pe)&&i.isNumber$$module$build$src$core$utils$string(rt)?Ft=(Number(H)<=Number(pe)?"":"-")+Math.abs(Number(rt)):(b="",Ft=v.nameDB_.getDistinctName(I+"_inc",i.NameType$$module$build$src$core$names.VARIABLE),b+=Ft+" = ",b=i.isNumber$$module$build$src$core$utils$string(rt)?b+(Math.abs(rt)+`
`):b+("math.abs("+rt+`)
`),b=b+("if ("+H+") > ("+pe+`) then
`)+(v.INDENT+Ft+" = -"+Ft+`
`),b+=`end
`),b+("for "+I+" = "+H+", "+pe+", "+Ft)+(` do
`+bt+`end
`)},K=function(b,v){const I=v.nameDB_.getName(b.getFieldValue("VAR"),i.NameType$$module$build$src$core$names.VARIABLE),H=v.valueToCode(b,"LIST",k.NONE)||"{}";let pe=v.statementToCode(b,"DO");return pe=v.addLoopTrap(pe,b),pe=ee(pe,v.INDENT),"for _, "+I+" in ipairs("+H+`) do 
`+pe+`end
`},q=function(b,v){let I="";if(v.STATEMENT_PREFIX&&(I+=v.injectId(v.STATEMENT_PREFIX,b)),v.STATEMENT_SUFFIX&&(I+=v.injectId(v.STATEMENT_SUFFIX,b)),v.STATEMENT_PREFIX){const H=b.getSurroundLoop();H&&!H.suppressPrefixSuffix&&(I+=v.injectId(v.STATEMENT_PREFIX,H))}switch(b.getFieldValue("FLOW")){case"BREAK":return I+`break
`;case"CONTINUE":return I+Et}throw Error("Unknown flow statement.")},z=function(b,v){return b=Number(b.getFieldValue("NUM")),[b,0>b?k.UNARY:k.ATOMIC]},ne=function(b,v){var I={ADD:[" + ",k.ADDITIVE],MINUS:[" - ",k.ADDITIVE],MULTIPLY:[" * ",k.MULTIPLICATIVE],DIVIDE:[" / ",k.MULTIPLICATIVE],POWER:[" ^ ",k.EXPONENTIATION]}[b.getFieldValue("OP")];const H=I[0];I=I[1];const pe=v.valueToCode(b,"A",I)||"0";return b=v.valueToCode(b,"B",I)||"0",[pe+H+b,I]},ge=function(b,v){var I=b.getFieldValue("OP");if(I==="NEG")return b=v.valueToCode(b,"NUM",k.UNARY)||"0",["-"+b,k.UNARY];if(I==="POW10")return b=v.valueToCode(b,"NUM",k.EXPONENTIATION)||"0",["10 ^ "+b,k.EXPONENTIATION];switch(b=I==="ROUND"?v.valueToCode(b,"NUM",k.ADDITIVE)||"0":v.valueToCode(b,"NUM",k.NONE)||"0",I){case"ABS":I="math.abs("+b+")";break;case"ROOT":I="math.sqrt("+b+")";break;case"LN":I="math.log("+b+")";break;case"LOG10":I="math.log("+b+", 10)";break;case"EXP":I="math.exp("+b+")";break;case"ROUND":I="math.floor("+b+" + .5)";break;case"ROUNDUP":I="math.ceil("+b+")";break;case"ROUNDDOWN":I="math.floor("+b+")";break;case"SIN":I="math.sin(math.rad("+b+"))";break;case"COS":I="math.cos(math.rad("+b+"))";break;case"TAN":I="math.tan(math.rad("+b+"))";break;case"ASIN":I="math.deg(math.asin("+b+"))";break;case"ACOS":I="math.deg(math.acos("+b+"))";break;case"ATAN":I="math.deg(math.atan("+b+"))";break;default:throw Error("Unknown math operator: "+I)}return[I,k.HIGH]},Q=function(b,v){return{PI:["math.pi",k.HIGH],E:["math.exp(1)",k.HIGH],GOLDEN_RATIO:["(1 + math.sqrt(5)) / 2",k.MULTIPLICATIVE],SQRT2:["math.sqrt(2)",k.HIGH],SQRT1_2:["math.sqrt(1 / 2)",k.HIGH],INFINITY:["math.huge",k.HIGH]}[b.getFieldValue("CONSTANT")]},Oe=function(b,v){var I={EVEN:[" % 2 == 0",k.MULTIPLICATIVE,k.RELATIONAL],ODD:[" % 2 == 1",k.MULTIPLICATIVE,k.RELATIONAL],WHOLE:[" % 1 == 0",k.MULTIPLICATIVE,k.RELATIONAL],POSITIVE:[" > 0",k.RELATIONAL,k.RELATIONAL],NEGATIVE:[" < 0",k.RELATIONAL,k.RELATIONAL],DIVISIBLE_BY:[null,k.MULTIPLICATIVE,k.RELATIONAL],PRIME:[null,k.NONE,k.HIGH]};const H=b.getFieldValue("PROPERTY"),[pe,rt,bt]=I[H];if(I=v.valueToCode(b,"NUMBER_TO_CHECK",rt)||"0",H==="PRIME")b=v.provideFunction_("math_isPrime",`
function ${v.FUNCTION_NAME_PLACEHOLDER_}(n)
  -- https://en.wikipedia.org/wiki/Primality_test#Naive_methods
  if n == 2 or n == 3 then
    return true
  end
  -- False if n is NaN, negative, is 1, or not whole.
  -- And false if n is divisible by 2 or 3.
  if not(n > 1) or n % 1 ~= 0 or n % 2 == 0 or n % 3 == 0 then
    return false
  end
  -- Check all the numbers of form 6k +/- 1, up to sqrt(n).
  for x = 6, math.sqrt(n) + 1.5, 6 do
    if n % (x - 1) == 0 or n % (x + 1) == 0 then
      return false
    end
  end
  return true
end
`)+"("+I+")";else if(H==="DIVISIBLE_BY"){if(b=v.valueToCode(b,"DIVISOR",k.MULTIPLICATIVE)||"0",b==="0")return["nil",k.ATOMIC];b=I+" % "+b+" == 0"}else b=I+pe;return[b,bt]},Re=function(b,v){const I=v.valueToCode(b,"DELTA",k.ADDITIVE)||"0";return b=v.nameDB_.getName(b.getFieldValue("VAR"),i.NameType$$module$build$src$core$names.VARIABLE),b+" = "+b+" + "+I+`
`},_e=function(b,v){function I(){return v.provideFunction_("math_sum",`
function ${v.FUNCTION_NAME_PLACEHOLDER_}(t)
  local result = 0
  for _, v in ipairs(t) do
    result = result + v
  end
  return result
end
`)}var H=b.getFieldValue("OP");switch(b=v.valueToCode(b,"LIST",k.NONE)||"{}",H){case"SUM":H=I();break;case"MIN":H=v.provideFunction_("math_min",`
function ${v.FUNCTION_NAME_PLACEHOLDER_}(t)
  if #t == 0 then
    return 0
  end
  local result = math.huge
  for _, v in ipairs(t) do
    if v < result then
      result = v
    end
  end
  return result
end
`);break;case"AVERAGE":H=v.provideFunction_("math_average",`
function ${v.FUNCTION_NAME_PLACEHOLDER_}(t)
  if #t == 0 then
    return 0
  end
  return ${I()}(t) / #t
end
`);break;case"MAX":H=v.provideFunction_("math_max",`
function ${v.FUNCTION_NAME_PLACEHOLDER_}(t)
  if #t == 0 then
    return 0
  end
  local result = -math.huge
  for _, v in ipairs(t) do
    if v > result then
      result = v
    end
  end
  return result
end
`);break;case"MEDIAN":H=v.provideFunction_("math_median",`
function ${v.FUNCTION_NAME_PLACEHOLDER_}(t)
  -- Source: http://lua-users.org/wiki/SimpleStats
  if #t == 0 then
    return 0
  end
  local temp = {}
  for _, v in ipairs(t) do
    if type(v) == 'number' then
      table.insert(temp, v)
    end
  end
  table.sort(temp)
  if #temp % 2 == 0 then
    return (temp[#temp / 2] + temp[(#temp / 2) + 1]) / 2
  else
    return temp[math.ceil(#temp / 2)]
  end
end
`);break;case"MODE":H=v.provideFunction_("math_modes",`
function ${v.FUNCTION_NAME_PLACEHOLDER_}(t)
  -- Source: http://lua-users.org/wiki/SimpleStats
  local counts = {}
  for _, v in ipairs(t) do
    if counts[v] == nil then
      counts[v] = 1
    else
      counts[v] = counts[v] + 1
    end
  end
  local biggestCount = 0
  for _, v  in pairs(counts) do
    if v > biggestCount then
      biggestCount = v
    end
  end
  local temp = {}
  for k, v in pairs(counts) do
    if v == biggestCount then
      table.insert(temp, k)
    end
  end
  return temp
end
`);break;case"STD_DEV":H=v.provideFunction_("math_standard_deviation",`
function ${v.FUNCTION_NAME_PLACEHOLDER_}(t)
  local m
  local vm
  local total = 0
  local count = 0
  local result
  m = #t == 0 and 0 or ${I()}(t) / #t
  for _, v in ipairs(t) do
    if type(v) == 'number' then
      vm = v - m
      total = total + (vm * vm)
      count = count + 1
    end
  end
  result = math.sqrt(total / (count-1))
  return result
end
`);break;case"RANDOM":H=v.provideFunction_("math_random_list",`
function ${v.FUNCTION_NAME_PLACEHOLDER_}(t)
  if #t == 0 then
    return nil
  end
  return t[math.random(#t)]
end
`);break;default:throw Error("Unknown operator: "+H)}return[H+"("+b+")",k.HIGH]},se=function(b,v){const I=v.valueToCode(b,"DIVIDEND",k.MULTIPLICATIVE)||"0";return b=v.valueToCode(b,"DIVISOR",k.MULTIPLICATIVE)||"0",[I+" % "+b,k.MULTIPLICATIVE]},ke=function(b,v){const I=v.valueToCode(b,"VALUE",k.NONE)||"0",H=v.valueToCode(b,"LOW",k.NONE)||"-math.huge";return b=v.valueToCode(b,"HIGH",k.NONE)||"math.huge",["math.min(math.max("+I+", "+H+"), "+b+")",k.HIGH]},Be=function(b,v){const I=v.valueToCode(b,"FROM",k.NONE)||"0";return b=v.valueToCode(b,"TO",k.NONE)||"0",["math.random("+I+", "+b+")",k.HIGH]},et=function(b,v){return["math.random()",k.HIGH]},ut=function(b,v){const I=v.valueToCode(b,"X",k.NONE)||"0";return["math.deg(math.atan2("+(v.valueToCode(b,"Y",k.NONE)||"0")+", "+I+"))",k.HIGH]},dt=function(b,v){const I=v.nameDB_.getName(b.getFieldValue("NAME"),i.NameType$$module$build$src$core$names.PROCEDURE);var H="";v.STATEMENT_PREFIX&&(H+=v.injectId(v.STATEMENT_PREFIX,b)),v.STATEMENT_SUFFIX&&(H+=v.injectId(v.STATEMENT_SUFFIX,b)),H&&(H=v.prefixLines(H,v.INDENT));let pe="";v.INFINITE_LOOP_TRAP&&(pe=v.prefixLines(v.injectId(v.INFINITE_LOOP_TRAP,b),v.INDENT));let rt=v.statementToCode(b,"STACK"),bt=v.valueToCode(b,"RETURN",k.NONE)||"",Ft="";rt&&bt&&(Ft=H),bt?bt=v.INDENT+"return "+bt+`
`:rt||(rt="");const ln=[],Hn=b.getVars();for(let kt=0;kt<Hn.length;kt++)ln[kt]=v.nameDB_.getName(Hn[kt],i.NameType$$module$build$src$core$names.VARIABLE);return H="function "+I+"("+ln.join(", ")+`)
`+H+pe+rt+Ft+bt+`end
`,H=v.scrub_(b,H),v.definitions_["%"+I]=H,null},gt=function(b,v){const I=v.nameDB_.getName(b.getFieldValue("NAME"),i.NameType$$module$build$src$core$names.PROCEDURE),H=[],pe=b.getVars();for(let rt=0;rt<pe.length;rt++)H[rt]=v.valueToCode(b,"ARG"+rt,k.NONE)||"nil";return[I+"("+H.join(", ")+")",k.HIGH]},we=function(b,v){return v.forBlock.procedures_callreturn(b,v)[0]+`
`},le=function(b,v){let I="if "+(v.valueToCode(b,"CONDITION",k.NONE)||"false")+` then
`;return v.STATEMENT_SUFFIX&&(I+=v.prefixLines(v.injectId(v.STATEMENT_SUFFIX,b),v.INDENT)),b.hasReturnValue_?(b=v.valueToCode(b,"VALUE",k.NONE)||"nil",I+=v.INDENT+"return "+b+`
`):I+=v.INDENT+`return
`,I+`end
`},ce=function(b,v){return[v.quote_(b.getFieldValue("TEXT")),k.ATOMIC]},re=function(b,v){return b=v.multiline_quote_(b.getFieldValue("TEXT")),v=b.indexOf("..")!==-1?k.CONCATENATION:k.ATOMIC,[b,v]},Me=function(b,v){if(b.itemCount_===0)return["''",k.ATOMIC];if(b.itemCount_===1)return["tostring("+(v.valueToCode(b,"ADD0",k.NONE)||"''")+")",k.HIGH];if(b.itemCount_===2){var I=v.valueToCode(b,"ADD0",k.CONCATENATION)||"''";return b=v.valueToCode(b,"ADD1",k.CONCATENATION)||"''",[I+" .. "+b,k.CONCATENATION]}I=[];for(let H=0;H<b.itemCount_;H++)I[H]=v.valueToCode(b,"ADD"+H,k.NONE)||"''";return["table.concat({"+I.join(", ")+"})",k.HIGH]},Ne=function(b,v){const I=v.nameDB_.getName(b.getFieldValue("VAR"),i.NameType$$module$build$src$core$names.VARIABLE);return b=v.valueToCode(b,"TEXT",k.CONCATENATION)||"''",I+" = "+I+" .. "+b+`
`},$e=function(b,v){return["#"+(v.valueToCode(b,"VALUE",k.UNARY)||"''"),k.UNARY]},Fe=function(b,v){return["#"+(v.valueToCode(b,"VALUE",k.UNARY)||"''")+" == 0",k.RELATIONAL]},Le=function(b,v){const I=v.valueToCode(b,"FIND",k.NONE)||"''",H=v.valueToCode(b,"VALUE",k.NONE)||"''";return[(b.getFieldValue("END")==="FIRST"?v.provideFunction_("firstIndexOf",`
function ${v.FUNCTION_NAME_PLACEHOLDER_}(str, substr)
  local i = string.find(str, substr, 1, true)
  if i == nil then
    return 0
  end
  return i
end
`):v.provideFunction_("lastIndexOf",`
function ${v.FUNCTION_NAME_PLACEHOLDER_}(str, substr)
  local i = string.find(string.reverse(str), string.reverse(substr), 1, true)
  if i then
    return #str + 2 - i - #substr
  end
  return 0
end
`))+"("+H+", "+I+")",k.HIGH]},qe=function(b,v){var I=b.getFieldValue("WHERE")||"FROM_START";const H=v.valueToCode(b,"AT",I==="FROM_END"?k.UNARY:k.NONE)||"1";if(b=v.valueToCode(b,"VALUE",k.NONE)||"''",I==="RANDOM")v=v.provideFunction_("text_random_letter",`
function ${v.FUNCTION_NAME_PLACEHOLDER_}(str)
  local index = math.random(string.len(str))
  return string.sub(str, index, index)
end
`)+"("+b+")";else{if(I==="FIRST")I="1";else if(I==="LAST")I="-1";else if(I==="FROM_START")I=H;else if(I==="FROM_END")I="-"+H;else throw Error("Unhandled option (text_charAt).");v=I.match(/^-?\w*$/)?"string.sub("+b+", "+I+", "+I+")":v.provideFunction_("text_char_at",`
function ${v.FUNCTION_NAME_PLACEHOLDER_}(str, index)
  return string.sub(str, index, index)
end
`)+"("+b+", "+I+")"}return[v,k.HIGH]},Xe=function(b,v){const I=v.valueToCode(b,"STRING",k.NONE)||"''";var H=b.getFieldValue("WHERE1"),pe=v.valueToCode(b,"AT1",H==="FROM_END"?k.UNARY:k.NONE)||"1";if(H==="FIRST")H=1;else if(H==="FROM_START")H=pe;else if(H==="FROM_END")H="-"+pe;else throw Error("Unhandled option (text_getSubstring)");if(pe=b.getFieldValue("WHERE2"),b=v.valueToCode(b,"AT2",pe==="FROM_END"?k.UNARY:k.NONE)||"1",pe==="LAST")b=-1;else if(pe!=="FROM_START")if(pe==="FROM_END")b="-"+b;else throw Error("Unhandled option (text_getSubstring)");return["string.sub("+I+", "+H+", "+b+")",k.HIGH]},at=function(b,v){const I=b.getFieldValue("CASE");b=v.valueToCode(b,"TEXT",k.NONE)||"''";let H;return I==="UPPERCASE"?H="string.upper":I==="LOWERCASE"?H="string.lower":I==="TITLECASE"&&(H=v.provideFunction_("text_titlecase",`
function ${v.FUNCTION_NAME_PLACEHOLDER_}(str)
  local buf = {}
  local inWord = false
  for i = 1, #str do
    local c = string.sub(str, i, i)
    if inWord then
      table.insert(buf, string.lower(c))
      if string.find(c, "%s") then
        inWord = false
      end
    else
      table.insert(buf, string.upper(c))
      inWord = true
    end
  end
  return table.concat(buf)
end
`)),[H+"("+b+")",k.HIGH]},Ee=function(b,v){const I={LEFT:"^%s*(,-)",RIGHT:"(.-)%s*$",BOTH:"^%s*(.-)%s*$"}[b.getFieldValue("MODE")];return["string.gsub("+(v.valueToCode(b,"TEXT",k.NONE)||"''")+', "'+I+'", "%1")',k.HIGH]},Ie=function(b,v){return"print("+(v.valueToCode(b,"TEXT",k.NONE)||"''")+`)
`},he=function(b,v){let I;return I=b.getField("TEXT")?v.quote_(b.getFieldValue("TEXT")):v.valueToCode(b,"TEXT",k.NONE)||"''",v=v.provideFunction_("text_prompt",`
function ${v.FUNCTION_NAME_PLACEHOLDER_}(msg)
  io.write(msg)
  io.flush()
  return io.read()
end
`)+"("+I+")",b.getFieldValue("TYPE")==="NUMBER"&&(v="tonumber("+v+", 10)"),[v,k.HIGH]},me=function(b,v){const I=v.valueToCode(b,"TEXT",k.NONE)||"''";return b=v.valueToCode(b,"SUB",k.NONE)||"''",[v.provideFunction_("text_count",`
function ${v.FUNCTION_NAME_PLACEHOLDER_}(haystack, needle)
  if #needle == 0 then
    return #haystack + 1
  end
  local i = 1
  local count = 0
  while true do
    i = string.find(haystack, needle, i, true)
    if i == nil then
      break
    end
    count = count + 1
    i = i + #needle
  end
  return count
end
`)+"("+I+", "+b+")",k.HIGH]},Se=function(b,v){const I=v.valueToCode(b,"TEXT",k.NONE)||"''",H=v.valueToCode(b,"FROM",k.NONE)||"''";return b=v.valueToCode(b,"TO",k.NONE)||"''",[v.provideFunction_("text_replace",`
function ${v.FUNCTION_NAME_PLACEHOLDER_}(haystack, needle, replacement)
  local buf = {}
  local i = 1
  while i <= #haystack do
    if string.sub(haystack, i, i + #needle - 1) == needle then
      for j = 1, #replacement do
        table.insert(buf, string.sub(replacement, j, j))
      end
      i = i + #needle
    else
      table.insert(buf, string.sub(haystack, i, i))
      i = i + 1
    end
  end
  return table.concat(buf)
end
`)+"("+I+", "+H+", "+b+")",k.HIGH]},xe=function(b,v){return["string.reverse("+(v.valueToCode(b,"TEXT",k.NONE)||"''")+")",k.HIGH]},Ke=function(b,v){return[v.nameDB_.getName(b.getFieldValue("VAR"),i.NameType$$module$build$src$core$names.VARIABLE),k.ATOMIC]},C=function(b,v){const I=v.valueToCode(b,"VALUE",k.NONE)||"0";return v.nameDB_.getName(b.getFieldValue("VAR"),i.NameType$$module$build$src$core$names.VARIABLE)+" = "+I+`
`},k={ATOMIC:0,HIGH:1,EXPONENTIATION:2,UNARY:3,MULTIPLICATIVE:4,ADDITIVE:5,CONCATENATION:6,RELATIONAL:7,AND:8,OR:9,NONE:99},de=class extends i.CodeGenerator$$module$build$src$core$generator{constructor(b){super(b??"Lua"),this.isInitialized=!1;for(const v in k)this["ORDER_"+v]=k[v];this.addReservedWords("_,__inext,assert,bit,colors,colours,coroutine,disk,dofile,error,fs,fetfenv,getmetatable,gps,help,io,ipairs,keys,loadfile,loadstring,math,native,next,os,paintutils,pairs,parallel,pcall,peripheral,print,printError,rawequal,rawget,rawset,read,rednet,redstone,rs,select,setfenv,setmetatable,sleep,string,table,term,textutils,tonumber,tostring,turtle,type,unpack,vector,write,xpcall,_VERSION,__indext,HTTP,and,break,do,else,elseif,end,false,for,function,if,in,local,nil,not,or,repeat,return,then,true,until,while,add,sub,mul,div,mod,pow,unm,concat,len,eq,lt,le,index,newindex,call,assert,collectgarbage,dofile,error,_G,getmetatable,inpairs,load,loadfile,next,pairs,pcall,print,rawequal,rawget,rawlen,rawset,select,setmetatable,tonumber,tostring,type,_VERSION,xpcall,require,package,string,table,math,bit32,io,file,os,debug")}init(b){super.init(),this.nameDB_?this.nameDB_.reset():this.nameDB_=new i.Names$$module$build$src$core$names(this.RESERVED_WORDS_),this.nameDB_.setVariableMap(b.getVariableMap()),this.nameDB_.populateVariables(b),this.nameDB_.populateProcedures(b),this.isInitialized=!0}finish(b){const v=Object.values(this.definitions_);return b=super.finish(b),this.isInitialized=!1,this.nameDB_.reset(),v.join(`

`)+`


`+b}scrubNakedValue(b){return"local _ = "+b+`
`}quote_(b){return b=b.replace(/\\/g,"\\\\").replace(/\n/g,`\\
`).replace(/'/g,"\\'"),"'"+b+"'"}multiline_quote_(b){return b.split(/\n/g).map(this.quote_).join(` .. '\\n' ..
`)}scrub_(b,v,I){let H="";if(!b.outputConnection||!b.outputConnection.targetConnection){var pe=b.getCommentText();pe&&(pe=i.wrap$$module$build$src$core$utils$string(pe,this.COMMENT_WRAP-3),H+=this.prefixLines(pe,"-- ")+`
`);for(let rt=0;rt<b.inputList.length;rt++)b.inputList[rt].type===i.inputTypes$$module$build$src$core$inputs$input_types.VALUE&&(pe=b.inputList[rt].connection.targetBlock())&&(pe=this.allNestedComments(pe))&&(H+=this.prefixLines(pe,"-- "))}return b=b.nextConnection&&b.nextConnection.targetBlock(),I=I?"":this.blockToCode(b),H+v+I}},Ce={};Ce.colour_blend=h,Ce.colour_picker=l,Ce.colour_random=u,Ce.colour_rgb=a;var Te=function(b,v,I){return v==="FIRST"?"1":v==="FROM_END"?"#"+b+" + 1 - "+I:v==="LAST"?"#"+b:v==="RANDOM"?"math.random(#"+b+")":I},Ve={};Ve.lists_create_empty=p,Ve.lists_create_with=m,Ve.lists_getIndex=R,Ve.lists_getSublist=M,Ve.lists_indexOf=A,Ve.lists_isEmpty=w,Ve.lists_length=T,Ve.lists_repeat=$,Ve.lists_reverse=j,Ve.lists_setIndex=L,Ve.lists_sort=B,Ve.lists_split=G;var tt={};tt.controls_if=F,tt.controls_ifelse=F,tt.logic_boolean=te,tt.logic_compare=x,tt.logic_negate=U,tt.logic_null=Y,tt.logic_operation=D,tt.logic_ternary=J;var Et=`goto continue
`,St={};St.controls_flow_statements=q,St.controls_for=X,St.controls_forEach=K,St.controls_repeat=ue,St.controls_repeat_ext=ue,St.controls_whileUntil=oe;var Bt={};Bt.math_arithmetic=ne,Bt.math_atan2=ut,Bt.math_change=Re,Bt.math_constant=Q,Bt.math_constrain=ke,Bt.math_modulo=se,Bt.math_number=z,Bt.math_number_property=Oe,Bt.math_on_list=_e,Bt.math_random_float=et,Bt.math_random_int=Be,Bt.math_round=ge,Bt.math_single=ge,Bt.math_trig=ge;var qt={};qt.procedures_callnoreturn=we,qt.procedures_callreturn=gt,qt.procedures_defnoreturn=dt,qt.procedures_defreturn=dt,qt.procedures_ifreturn=le;var sn={};sn.text=ce,sn.text_append=Ne,sn.text_changeCase=at,sn.text_charAt=qe,sn.text_count=me,sn.text_getSubstring=Xe,sn.text_indexOf=Le,sn.text_isEmpty=Fe,sn.text_join=Me,sn.text_length=$e,sn.text_multiline=re,sn.text_print=Ie,sn.text_prompt=he,sn.text_prompt_ext=he,sn.text_replace=Se,sn.text_reverse=xe,sn.text_trim=Ee;var dn={};dn.variables_get=Ke,dn.variables_set=C;var y={};y.variables_get_dynamic=Ke,y.variables_set_dynamic=C;var N=new de;Object.assign(N.forBlock,Ce,Ve,tt,St,Bt,qt,sn,dn,y);var S={};return S.LuaGenerator=de,S.Order=k,S.luaGenerator=N,S.__namespace__=i,S})}(iC)),iC.exports}(function(e,o){(function(n,i){e.exports=i(id(),Eoe())})(Wn,function(n,i){/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */return i})})(b4);var Mu=b4.exports;Mu.luaGenerator.controls_forever=function(e){return`while(true) do
`+Mu.luaGenerator.statementToCode(e,"DO")+`end
`};Mu.luaGenerator.math_evenly_divisible=function(e){const o=Mu.luaGenerator.valueToCode(e,"DIVIDEND",Mu.luaGenerator.ORDER_ATOMIC)||"0",n=Mu.luaGenerator.valueToCode(e,"DIVISOR",Mu.luaGenerator.ORDER_ATOMIC)||"0";return[o+" % "+n+" == 0",Mu.luaGenerator.ORDER_NONE]};function Coe(e){const o={className:"subst",variants:[{begin:"\\$[A-Za-z0-9_]+"}]},n={className:"subst",variants:[{begin:/\$\{/,end:/\}/}],keywords:"true false null this is new super"},i={className:"string",variants:[{begin:"r'''",end:"'''"},{begin:'r"""',end:'"""'},{begin:"r'",end:"'",illegal:"\\n"},{begin:'r"',end:'"',illegal:"\\n"},{begin:"'''",end:"'''",contains:[e.BACKSLASH_ESCAPE,o,n]},{begin:'"""',end:'"""',contains:[e.BACKSLASH_ESCAPE,o,n]},{begin:"'",end:"'",illegal:"\\n",contains:[e.BACKSLASH_ESCAPE,o,n]},{begin:'"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE,o,n]}]};n.contains=[e.C_NUMBER_MODE,i];const l=["Comparable","DateTime","Duration","Function","Iterable","Iterator","List","Map","Match","Object","Pattern","RegExp","Set","Stopwatch","String","StringBuffer","StringSink","Symbol","Type","Uri","bool","double","int","num","Element","ElementList"],u=l.map(p=>`${p}?`);return{name:"Dart",keywords:{keyword:["abstract","as","assert","async","await","base","break","case","catch","class","const","continue","covariant","default","deferred","do","dynamic","else","enum","export","extends","extension","external","factory","false","final","finally","for","Function","get","hide","if","implements","import","in","interface","is","late","library","mixin","new","null","on","operator","part","required","rethrow","return","sealed","set","show","static","super","switch","sync","this","throw","true","try","typedef","var","void","when","while","with","yield"],built_in:l.concat(u).concat(["Never","Null","dynamic","print","document","querySelector","querySelectorAll","window"]),$pattern:/[A-Za-z][A-Za-z0-9_]*\??/},contains:[i,e.COMMENT(/\/\*\*(?!\/)/,/\*\//,{subLanguage:"markdown",relevance:0}),e.COMMENT(/\/{3,} ?/,/$/,{contains:[{subLanguage:"markdown",begin:".",end:"$",relevance:0}]}),e.C_LINE_COMMENT_MODE,e.C_BLOCK_COMMENT_MODE,{className:"class",beginKeywords:"class interface",end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},e.C_NUMBER_MODE,{className:"meta",begin:"@[A-Za-z]+"},{begin:"=>"}]}}const EN="[A-Za-z$_][0-9A-Za-z$_]*",Ioe=["as","in","of","if","for","while","finally","var","new","function","do","return","void","else","break","catch","instanceof","with","throw","case","default","try","switch","continue","typeof","delete","let","yield","const","class","debugger","async","await","static","import","from","export","extends"],Soe=["true","false","null","undefined","NaN","Infinity"],T4=["Object","Function","Boolean","Symbol","Math","Date","Number","BigInt","String","RegExp","Array","Float32Array","Float64Array","Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Int32Array","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array","Set","Map","WeakSet","WeakMap","ArrayBuffer","SharedArrayBuffer","Atomics","DataView","JSON","Promise","Generator","GeneratorFunction","AsyncFunction","Reflect","Proxy","Intl","WebAssembly"],y4=["Error","EvalError","InternalError","RangeError","ReferenceError","SyntaxError","TypeError","URIError"],E4=["setInterval","setTimeout","clearInterval","clearTimeout","require","exports","eval","isFinite","isNaN","parseFloat","parseInt","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","unescape"],Ooe=["arguments","this","super","console","window","document","localStorage","sessionStorage","module","global"],koe=[].concat(E4,T4,y4);function woe(e){const o=e.regex,n=(ne,{after:ge})=>{const Q="</"+ne[0].slice(1);return ne.input.indexOf(Q,ge)!==-1},i=EN,l={begin:"<>",end:"</>"},u=/<[A-Za-z0-9\\._:-]+\s*\/>/,a={begin:/<[A-Za-z0-9\\._:-]+/,end:/\/[A-Za-z0-9\\._:-]+>|\/>/,isTrulyOpeningTag:(ne,ge)=>{const Q=ne[0].length+ne.index,Oe=ne.input[Q];if(Oe==="<"||Oe===","){ge.ignoreMatch();return}Oe===">"&&(n(ne,{after:Q})||ge.ignoreMatch());let Re;const _e=ne.input.substring(Q);if(Re=_e.match(/^\s*=/)){ge.ignoreMatch();return}if((Re=_e.match(/^\s+extends\s+/))&&Re.index===0){ge.ignoreMatch();return}}},h={$pattern:EN,keyword:Ioe,literal:Soe,built_in:koe,"variable.language":Ooe},p="[0-9](_?[0-9])*",m=`\\.(${p})`,$="0|[1-9](_?[0-9])*|0[0-7]*[89][0-9]*",T={className:"number",variants:[{begin:`(\\b(${$})((${m})|\\.)?|(${m}))[eE][+-]?(${p})\\b`},{begin:`\\b(${$})\\b((${m})\\b|\\.)?|(${m})\\b`},{begin:"\\b(0|[1-9](_?[0-9])*)n\\b"},{begin:"\\b0[xX][0-9a-fA-F](_?[0-9a-fA-F])*n?\\b"},{begin:"\\b0[bB][0-1](_?[0-1])*n?\\b"},{begin:"\\b0[oO][0-7](_?[0-7])*n?\\b"},{begin:"\\b0[0-7]+n?\\b"}],relevance:0},w={className:"subst",begin:"\\$\\{",end:"\\}",keywords:h,contains:[]},A={begin:"html`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,w],subLanguage:"xml"}},R={begin:"css`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,w],subLanguage:"css"}},L={begin:"gql`",end:"",starts:{end:"`",returnEnd:!1,contains:[e.BACKSLASH_ESCAPE,w],subLanguage:"graphql"}},M={className:"string",begin:"`",end:"`",contains:[e.BACKSLASH_ESCAPE,w]},G={className:"comment",variants:[e.COMMENT(/\/\*\*(?!\/)/,"\\*/",{relevance:0,contains:[{begin:"(?=@[A-Za-z]+)",relevance:0,contains:[{className:"doctag",begin:"@[A-Za-z]+"},{className:"type",begin:"\\{",end:"\\}",excludeEnd:!0,excludeBegin:!0,relevance:0},{className:"variable",begin:i+"(?=\\s*(-)|$)",endsParent:!0,relevance:0},{begin:/(?=[^\n])\s/,relevance:0}]}]}),e.C_BLOCK_COMMENT_MODE,e.C_LINE_COMMENT_MODE]},j=[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,A,R,L,M,{match:/\$\d+/},T];w.contains=j.concat({begin:/\{/,end:/\}/,keywords:h,contains:["self"].concat(j)});const F=[].concat(G,w.contains),x=F.concat([{begin:/\(/,end:/\)/,keywords:h,contains:["self"].concat(F)}]),D={className:"params",begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:h,contains:x},U={variants:[{match:[/class/,/\s+/,i,/\s+/,/extends/,/\s+/,o.concat(i,"(",o.concat(/\./,i),")*")],scope:{1:"keyword",3:"title.class",5:"keyword",7:"title.class.inherited"}},{match:[/class/,/\s+/,i],scope:{1:"keyword",3:"title.class"}}]},te={relevance:0,match:o.either(/\bJSON/,/\b[A-Z][a-z]+([A-Z][a-z]*|\d)*/,/\b[A-Z]{2,}([A-Z][a-z]+|\d)+([A-Z][a-z]*)*/,/\b[A-Z]{2,}[a-z]+([A-Z][a-z]+|\d)*([A-Z][a-z]*)*/),className:"title.class",keywords:{_:[...T4,...y4]}},Y={label:"use_strict",className:"meta",relevance:10,begin:/^\s*['"]use (strict|asm)['"]/},J={variants:[{match:[/function/,/\s+/,i,/(?=\s*\()/]},{match:[/function/,/\s*(?=\()/]}],className:{1:"keyword",3:"title.function"},label:"func.def",contains:[D],illegal:/%/},ee={relevance:0,match:/\b[A-Z][A-Z_0-9]+\b/,className:"variable.constant"};function ue(ne){return o.concat("(?!",ne.join("|"),")")}const oe={match:o.concat(/\b/,ue([...E4,"super","import"]),i,o.lookahead(/\(/)),className:"title.function",relevance:0},X={begin:o.concat(/\./,o.lookahead(o.concat(i,/(?![0-9A-Za-z$_(])/))),end:i,excludeBegin:!0,keywords:"prototype",className:"property",relevance:0},K={match:[/get|set/,/\s+/,i,/(?=\()/],className:{1:"keyword",3:"title.function"},contains:[{begin:/\(\)/},D]},q="(\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)|"+e.UNDERSCORE_IDENT_RE+")\\s*=>",z={match:[/const|var|let/,/\s+/,i,/\s*/,/=\s*/,/(async\s*)?/,o.lookahead(q)],keywords:"async",className:{1:"keyword",3:"title.function"},contains:[D]};return{name:"JavaScript",aliases:["js","jsx","mjs","cjs"],keywords:h,exports:{PARAMS_CONTAINS:x,CLASS_REFERENCE:te},illegal:/#(?![$_A-z])/,contains:[e.SHEBANG({label:"shebang",binary:"node",relevance:5}),Y,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,A,R,L,M,G,{match:/\$\d+/},T,te,{className:"attr",begin:i+o.lookahead(":"),relevance:0},z,{begin:"("+e.RE_STARTERS_RE+"|\\b(case|return|throw)\\b)\\s*",keywords:"return throw case",relevance:0,contains:[G,e.REGEXP_MODE,{className:"function",begin:q,returnBegin:!0,end:"\\s*=>",contains:[{className:"params",variants:[{begin:e.UNDERSCORE_IDENT_RE,relevance:0},{className:null,begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:h,contains:x}]}]},{begin:/,/,relevance:0},{match:/\s+/,relevance:0},{variants:[{begin:l.begin,end:l.end},{match:u},{begin:a.begin,"on:begin":a.isTrulyOpeningTag,end:a.end}],subLanguage:"xml",contains:[{begin:a.begin,end:a.end,skip:!0,contains:["self"]}]}]},J,{beginKeywords:"while if switch catch for"},{begin:"\\b(?!function)"+e.UNDERSCORE_IDENT_RE+"\\([^()]*(\\([^()]*(\\([^()]*\\)[^()]*)*\\)[^()]*)*\\)\\s*\\{",returnBegin:!0,label:"func.def",contains:[D,e.inherit(e.TITLE_MODE,{begin:i,className:"title.function"})]},{match:/\.\.\./,relevance:0},X,{match:"\\$"+i,relevance:0},{match:[/\bconstructor(?=\s*\()/],className:{1:"title.function"},contains:[D]},oe,ee,U,K,{match:/\$[(.]/}]}}function Noe(e){const o="\\[=*\\[",n="\\]=*\\]",i={begin:o,end:n,contains:["self"]},l=[e.COMMENT("--(?!"+o+")","$"),e.COMMENT("--"+o,n,{contains:[i],relevance:10})];return{name:"Lua",keywords:{$pattern:e.UNDERSCORE_IDENT_RE,literal:"true false nil",keyword:"and break do else elseif end for goto if in local not or repeat return then until while",built_in:"_G _ENV _VERSION __index __newindex __mode __call __metatable __tostring __len __gc __add __sub __mul __div __mod __pow __concat __unm __eq __lt __le assert collectgarbage dofile error getfenv getmetatable ipairs load loadfile loadstring module next pairs pcall print rawequal rawget rawset require select setfenv setmetatable tonumber tostring type unpack xpcall arg self coroutine resume yield status wrap create running debug getupvalue debug sethook getmetatable gethook setmetatable setlocal traceback setfenv getinfo setupvalue getlocal getregistry getfenv io lines write close flush open output type read stderr stdin input stdout popen tmpfile math log max acos huge ldexp pi cos tanh pow deg tan cosh sinh random randomseed frexp ceil floor rad abs sqrt modf asin min mod fmod log10 atan2 exp sin atan os exit setlocale date getenv difftime remove time clock tmpname rename execute package preload loadlib loaded loaders cpath config path seeall string sub upper len gfind rep find match char dump gmatch reverse byte format gsub lower table setn insert getn foreachi maxn foreach concat sort remove"},contains:l.concat([{className:"function",beginKeywords:"function",end:"\\)",contains:[e.inherit(e.TITLE_MODE,{begin:"([_a-zA-Z]\\w*\\.)*([_a-zA-Z]\\w*:)?[_a-zA-Z]\\w*"}),{className:"params",begin:"\\(",endsWithParent:!0,contains:l}].concat(l)},e.C_NUMBER_MODE,e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,{className:"string",begin:o,end:n,contains:[i],relevance:5}])}}function Aoe(e){const o=e.regex,n=/(?![A-Za-z0-9])(?![$])/,i=o.concat(/[a-zA-Z_\x7f-\xff][a-zA-Z0-9_\x7f-\xff]*/,n),l=o.concat(/(\\?[A-Z][a-z0-9_\x7f-\xff]+|\\?[A-Z]+(?=[A-Z][a-z0-9_\x7f-\xff])){1,}/,n),u={scope:"variable",match:"\\$+"+i},a={scope:"meta",variants:[{begin:/<\?php/,relevance:10},{begin:/<\?=/},{begin:/<\?/,relevance:.1},{begin:/\?>/}]},h={scope:"subst",variants:[{begin:/\$\w+/},{begin:/\{\$/,end:/\}/}]},p=e.inherit(e.APOS_STRING_MODE,{illegal:null}),m=e.inherit(e.QUOTE_STRING_MODE,{illegal:null,contains:e.QUOTE_STRING_MODE.contains.concat(h)}),$={begin:/<<<[ \t]*(?:(\w+)|"(\w+)")\n/,end:/[ \t]*(\w+)\b/,contains:e.QUOTE_STRING_MODE.contains.concat(h),"on:begin":(oe,X)=>{X.data._beginMatch=oe[1]||oe[2]},"on:end":(oe,X)=>{X.data._beginMatch!==oe[1]&&X.ignoreMatch()}},T=e.END_SAME_AS_BEGIN({begin:/<<<[ \t]*'(\w+)'\n/,end:/[ \t]*(\w+)\b/}),w=`[ 	
]`,A={scope:"string",variants:[m,p,$,T]},R={scope:"number",variants:[{begin:"\\b0[bB][01]+(?:_[01]+)*\\b"},{begin:"\\b0[oO][0-7]+(?:_[0-7]+)*\\b"},{begin:"\\b0[xX][\\da-fA-F]+(?:_[\\da-fA-F]+)*\\b"},{begin:"(?:\\b\\d+(?:_\\d+)*(\\.(?:\\d+(?:_\\d+)*))?|\\B\\.\\d+)(?:[eE][+-]?\\d+)?"}],relevance:0},L=["false","null","true"],M=["__CLASS__","__DIR__","__FILE__","__FUNCTION__","__COMPILER_HALT_OFFSET__","__LINE__","__METHOD__","__NAMESPACE__","__TRAIT__","die","echo","exit","include","include_once","print","require","require_once","array","abstract","and","as","binary","bool","boolean","break","callable","case","catch","class","clone","const","continue","declare","default","do","double","else","elseif","empty","enddeclare","endfor","endforeach","endif","endswitch","endwhile","enum","eval","extends","final","finally","float","for","foreach","from","global","goto","if","implements","instanceof","insteadof","int","integer","interface","isset","iterable","list","match|0","mixed","new","never","object","or","private","protected","public","readonly","real","return","string","switch","throw","trait","try","unset","use","var","void","while","xor","yield"],B=["Error|0","AppendIterator","ArgumentCountError","ArithmeticError","ArrayIterator","ArrayObject","AssertionError","BadFunctionCallException","BadMethodCallException","CachingIterator","CallbackFilterIterator","CompileError","Countable","DirectoryIterator","DivisionByZeroError","DomainException","EmptyIterator","ErrorException","Exception","FilesystemIterator","FilterIterator","GlobIterator","InfiniteIterator","InvalidArgumentException","IteratorIterator","LengthException","LimitIterator","LogicException","MultipleIterator","NoRewindIterator","OutOfBoundsException","OutOfRangeException","OuterIterator","OverflowException","ParentIterator","ParseError","RangeException","RecursiveArrayIterator","RecursiveCachingIterator","RecursiveCallbackFilterIterator","RecursiveDirectoryIterator","RecursiveFilterIterator","RecursiveIterator","RecursiveIteratorIterator","RecursiveRegexIterator","RecursiveTreeIterator","RegexIterator","RuntimeException","SeekableIterator","SplDoublyLinkedList","SplFileInfo","SplFileObject","SplFixedArray","SplHeap","SplMaxHeap","SplMinHeap","SplObjectStorage","SplObserver","SplPriorityQueue","SplQueue","SplStack","SplSubject","SplTempFileObject","TypeError","UnderflowException","UnexpectedValueException","UnhandledMatchError","ArrayAccess","BackedEnum","Closure","Fiber","Generator","Iterator","IteratorAggregate","Serializable","Stringable","Throwable","Traversable","UnitEnum","WeakReference","WeakMap","Directory","__PHP_Incomplete_Class","parent","php_user_filter","self","static","stdClass"],j={keyword:M,literal:(oe=>{const X=[];return oe.forEach(K=>{X.push(K),K.toLowerCase()===K?X.push(K.toUpperCase()):X.push(K.toLowerCase())}),X})(L),built_in:B},F=oe=>oe.map(X=>X.replace(/\|\d+$/,"")),x={variants:[{match:[/new/,o.concat(w,"+"),o.concat("(?!",F(B).join("\\b|"),"\\b)"),l],scope:{1:"keyword",4:"title.class"}}]},D=o.concat(i,"\\b(?!\\()"),U={variants:[{match:[o.concat(/::/,o.lookahead(/(?!class\b)/)),D],scope:{2:"variable.constant"}},{match:[/::/,/class/],scope:{2:"variable.language"}},{match:[l,o.concat(/::/,o.lookahead(/(?!class\b)/)),D],scope:{1:"title.class",3:"variable.constant"}},{match:[l,o.concat("::",o.lookahead(/(?!class\b)/))],scope:{1:"title.class"}},{match:[l,/::/,/class/],scope:{1:"title.class",3:"variable.language"}}]},te={scope:"attr",match:o.concat(i,o.lookahead(":"),o.lookahead(/(?!::)/))},Y={relevance:0,begin:/\(/,end:/\)/,keywords:j,contains:[te,u,U,e.C_BLOCK_COMMENT_MODE,A,R,x]},J={relevance:0,match:[/\b/,o.concat("(?!fn\\b|function\\b|",F(M).join("\\b|"),"|",F(B).join("\\b|"),"\\b)"),i,o.concat(w,"*"),o.lookahead(/(?=\()/)],scope:{3:"title.function.invoke"},contains:[Y]};Y.contains.push(J);const ee=[te,U,e.C_BLOCK_COMMENT_MODE,A,R,x],ue={begin:o.concat(/#\[\s*/,l),beginScope:"meta",end:/]/,endScope:"meta",keywords:{literal:L,keyword:["new","array"]},contains:[{begin:/\[/,end:/]/,keywords:{literal:L,keyword:["new","array"]},contains:["self",...ee]},...ee,{scope:"meta",match:l}]};return{case_insensitive:!1,keywords:j,contains:[ue,e.HASH_COMMENT_MODE,e.COMMENT("//","$"),e.COMMENT("/\\*","\\*/",{contains:[{scope:"doctag",match:"@[A-Za-z]+"}]}),{match:/__halt_compiler\(\);/,keywords:"__halt_compiler",starts:{scope:"comment",end:e.MATCH_NOTHING_RE,contains:[{match:/\?>/,scope:"meta",endsParent:!0}]}},a,{scope:"variable.language",match:/\$this\b/},u,J,U,{match:[/const/,/\s/,i],scope:{1:"keyword",3:"variable.constant"}},x,{scope:"function",relevance:0,beginKeywords:"fn function",end:/[;{]/,excludeEnd:!0,illegal:"[$%\\[]",contains:[{beginKeywords:"use"},e.UNDERSCORE_TITLE_MODE,{begin:"=>",endsParent:!0},{scope:"params",begin:"\\(",end:"\\)",excludeBegin:!0,excludeEnd:!0,keywords:j,contains:["self",u,U,e.C_BLOCK_COMMENT_MODE,A,R]}]},{scope:"class",variants:[{beginKeywords:"enum",illegal:/[($"]/},{beginKeywords:"class interface trait",illegal:/[:($"]/}],relevance:0,end:/\{/,excludeEnd:!0,contains:[{beginKeywords:"extends implements"},e.UNDERSCORE_TITLE_MODE]},{beginKeywords:"namespace",relevance:0,end:";",illegal:/[.']/,contains:[e.inherit(e.UNDERSCORE_TITLE_MODE,{scope:"title.class"})]},{beginKeywords:"use",relevance:0,end:";",contains:[{match:/\b(as|const|function)\b/,scope:"keyword"},e.UNDERSCORE_TITLE_MODE]},A,R]}}function Roe(e){const o=e.regex,n=/[\p{XID_Start}_]\p{XID_Continue}*/u,i=["and","as","assert","async","await","break","case","class","continue","def","del","elif","else","except","finally","for","from","global","if","import","in","is","lambda","match","nonlocal|10","not","or","pass","raise","return","try","while","with","yield"],h={$pattern:/[A-Za-z]\w+|__\w+__/,keyword:i,built_in:["__import__","abs","all","any","ascii","bin","bool","breakpoint","bytearray","bytes","callable","chr","classmethod","compile","complex","delattr","dict","dir","divmod","enumerate","eval","exec","filter","float","format","frozenset","getattr","globals","hasattr","hash","help","hex","id","input","int","isinstance","issubclass","iter","len","list","locals","map","max","memoryview","min","next","object","oct","open","ord","pow","print","property","range","repr","reversed","round","set","setattr","slice","sorted","staticmethod","str","sum","super","tuple","type","vars","zip"],literal:["__debug__","Ellipsis","False","None","NotImplemented","True"],type:["Any","Callable","Coroutine","Dict","List","Literal","Generic","Optional","Sequence","Set","Tuple","Type","Union"]},p={className:"meta",begin:/^(>>>|\.\.\.) /},m={className:"subst",begin:/\{/,end:/\}/,keywords:h,illegal:/#/},$={begin:/\{\{/,relevance:0},T={className:"string",contains:[e.BACKSLASH_ESCAPE],variants:[{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,p],relevance:10},{begin:/([uU]|[bB]|[rR]|[bB][rR]|[rR][bB])?"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,p],relevance:10},{begin:/([fF][rR]|[rR][fF]|[fF])'''/,end:/'''/,contains:[e.BACKSLASH_ESCAPE,p,$,m]},{begin:/([fF][rR]|[rR][fF]|[fF])"""/,end:/"""/,contains:[e.BACKSLASH_ESCAPE,p,$,m]},{begin:/([uU]|[rR])'/,end:/'/,relevance:10},{begin:/([uU]|[rR])"/,end:/"/,relevance:10},{begin:/([bB]|[bB][rR]|[rR][bB])'/,end:/'/},{begin:/([bB]|[bB][rR]|[rR][bB])"/,end:/"/},{begin:/([fF][rR]|[rR][fF]|[fF])'/,end:/'/,contains:[e.BACKSLASH_ESCAPE,$,m]},{begin:/([fF][rR]|[rR][fF]|[fF])"/,end:/"/,contains:[e.BACKSLASH_ESCAPE,$,m]},e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]},w="[0-9](_?[0-9])*",A=`(\\b(${w}))?\\.(${w})|\\b(${w})\\.`,R=`\\b|${i.join("|")}`,L={className:"number",relevance:0,variants:[{begin:`(\\b(${w})|(${A}))[eE][+-]?(${w})[jJ]?(?=${R})`},{begin:`(${A})[jJ]?`},{begin:`\\b([1-9](_?[0-9])*|0+(_?0)*)[lLjJ]?(?=${R})`},{begin:`\\b0[bB](_?[01])+[lL]?(?=${R})`},{begin:`\\b0[oO](_?[0-7])+[lL]?(?=${R})`},{begin:`\\b0[xX](_?[0-9a-fA-F])+[lL]?(?=${R})`},{begin:`\\b(${w})[jJ](?=${R})`}]},M={className:"comment",begin:o.lookahead(/# type:/),end:/$/,keywords:h,contains:[{begin:/# type:/},{begin:/#/,end:/\b\B/,endsWithParent:!0}]},B={className:"params",variants:[{className:"",begin:/\(\s*\)/,skip:!0},{begin:/\(/,end:/\)/,excludeBegin:!0,excludeEnd:!0,keywords:h,contains:["self",p,L,T,e.HASH_COMMENT_MODE]}]};return m.contains=[T,L,p],{name:"Python",aliases:["py","gyp","ipython"],unicodeRegex:!0,keywords:h,illegal:/(<\/|\?)|=>/,contains:[p,L,{begin:/\bself\b/},{beginKeywords:"if",relevance:0},T,M,e.HASH_COMMENT_MODE,{match:[/\bdef/,/\s+/,n],scope:{1:"keyword",3:"title.function"},contains:[B]},{variants:[{match:[/\bclass/,/\s+/,n,/\s*/,/\(\s*/,n,/\s*\)/]},{match:[/\bclass/,/\s+/,n]}],scope:{1:"keyword",3:"title.class",6:"title.class.inherited"}},{className:"meta",begin:/^[\t ]*@/,end:/(?=#)|$/,contains:[L,B,T]}]}}var Kb={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Kb.exports;(function(e,o){(function(){var n,i="4.17.21",l=200,u="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",a="Expected a function",h="Invalid `variable` option passed into `_.template`",p="__lodash_hash_undefined__",m=500,$="__lodash_placeholder__",T=1,w=2,A=4,R=1,L=2,M=1,B=2,G=4,j=8,F=16,x=32,D=64,U=128,te=256,Y=512,J=30,ee="...",ue=800,oe=16,X=1,K=2,q=3,z=1/0,ne=9007199254740991,ge=17976931348623157e292,Q=0/0,Oe=4294967295,Re=Oe-1,_e=Oe>>>1,se=[["ary",U],["bind",M],["bindKey",B],["curry",j],["curryRight",F],["flip",Y],["partial",x],["partialRight",D],["rearg",te]],ke="[object Arguments]",Be="[object Array]",et="[object AsyncFunction]",ut="[object Boolean]",dt="[object Date]",gt="[object DOMException]",we="[object Error]",le="[object Function]",ce="[object GeneratorFunction]",re="[object Map]",Me="[object Number]",Ne="[object Null]",$e="[object Object]",Fe="[object Promise]",Le="[object Proxy]",qe="[object RegExp]",Xe="[object Set]",at="[object String]",Ee="[object Symbol]",Ie="[object Undefined]",he="[object WeakMap]",me="[object WeakSet]",Se="[object ArrayBuffer]",xe="[object DataView]",Ke="[object Float32Array]",C="[object Float64Array]",k="[object Int8Array]",de="[object Int16Array]",Ce="[object Int32Array]",Te="[object Uint8Array]",Ve="[object Uint8ClampedArray]",tt="[object Uint16Array]",Et="[object Uint32Array]",St=/\b__p \+= '';/g,Bt=/\b(__p \+=) '' \+/g,qt=/(__e\(.*?\)|\b__t\)) \+\n'';/g,sn=/&(?:amp|lt|gt|quot|#39);/g,dn=/[&<>"']/g,y=RegExp(sn.source),N=RegExp(dn.source),S=/<%-([\s\S]+?)%>/g,b=/<%([\s\S]+?)%>/g,v=/<%=([\s\S]+?)%>/g,I=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,H=/^\w*$/,pe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,rt=/[\\^$.*+?()[\]{}|]/g,bt=RegExp(rt.source),Ft=/^\s+/,ln=/\s/,Hn=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,kt=/\{\n\/\* \[wrapped with (.+)\] \*/,En=/,? & /,On=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,hr=/[()=,{}\[\]\/\s]/,br=/\\(\\)?/g,jr=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,xi=/\w*$/,Yn=/^[-+]0x[0-9a-f]+$/i,Vl=/^0b[01]+$/i,Ns=/^\[object .+?Constructor\]$/,Ra=/^0o[0-7]+$/i,Xr=/^(?:0|[1-9]\d*)$/,pr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,wt=/($^)/,Xt=/['\n\r\u2028\u2029\\]/g,Pn="\\ud800-\\udfff",uo="\\u0300-\\u036f",Ho="\\ufe20-\\ufe2f",Yo="\\u20d0-\\u20ff",rs=uo+Ho+Yo,La="\\u2700-\\u27bf",zu="a-z\\xdf-\\xf6\\xf8-\\xff",Qh="\\xac\\xb1\\xd7\\xf7",ld="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Wu="\\u2000-\\u206f",Ul=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ju="A-Z\\xc0-\\xd6\\xd8-\\xde",Xu="\\ufe0e\\ufe0f",is=Qh+ld+Wu+Ul,Co="['’]",Bi="["+Pn+"]",Hl="["+is+"]",Ku="["+rs+"]",qh="\\d+",Yu="["+La+"]",ad="["+zu+"]",ud="[^"+Pn+is+qh+La+zu+ju+"]",tl="\\ud83c[\\udffb-\\udfff]",Qu="(?:"+Ku+"|"+tl+")",qu="[^"+Pn+"]",ss="(?:\\ud83c[\\udde6-\\uddff]){2}",Ma="[\\ud800-\\udbff][\\udc00-\\udfff]",nl="["+ju+"]",Pa="\\u200d",cd="(?:"+ad+"|"+ud+")",Zh="(?:"+nl+"|"+ud+")",Da="(?:"+Co+"(?:d|ll|m|re|s|t|ve))?",xa="(?:"+Co+"(?:D|LL|M|RE|S|T|VE))?",Zu=Qu+"?",Kr="["+Xu+"]?",dd="(?:"+Pa+"(?:"+[qu,ss,Ma].join("|")+")"+Kr+Zu+")*",hd="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Ba="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",pd=Kr+Zu+dd,fd="(?:"+[Yu,ss,Ma].join("|")+")"+pd,gd="(?:"+[qu+Ku+"?",Ku,ss,Ma,Bi].join("|")+")",Jh=RegExp(Co,"g"),Fa=RegExp(Ku,"g"),_i=RegExp(tl+"(?="+tl+")|"+gd+pd,"g"),Va=RegExp([nl+"?"+ad+"+"+Da+"(?="+[Hl,nl,"$"].join("|")+")",Zh+"+"+xa+"(?="+[Hl,nl+cd,"$"].join("|")+")",nl+"?"+cd+"+"+Da,nl+"+"+xa,Ba,hd,qh,fd].join("|"),"g"),md=RegExp("["+Pa+Pn+rs+Xu+"]"),$d=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,vd=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],ep=-1,co={};co[Ke]=co[C]=co[k]=co[de]=co[Ce]=co[Te]=co[Ve]=co[tt]=co[Et]=!0,co[ke]=co[Be]=co[Se]=co[ut]=co[xe]=co[dt]=co[we]=co[le]=co[re]=co[Me]=co[$e]=co[qe]=co[Xe]=co[at]=co[he]=!1;var je={};je[ke]=je[Be]=je[Se]=je[xe]=je[ut]=je[dt]=je[Ke]=je[C]=je[k]=je[de]=je[Ce]=je[re]=je[Me]=je[$e]=je[qe]=je[Xe]=je[at]=je[Ee]=je[Te]=je[Ve]=je[tt]=je[Et]=!0,je[we]=je[le]=je[he]=!1;var pt={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Ot={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},xt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ht={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},en=parseFloat,hn=parseInt,eo=typeof Wn=="object"&&Wn&&Wn.Object===Object&&Wn,Mo=typeof self=="object"&&self&&self.Object===Object&&self,Mn=eo||Mo||Function("return this")(),fr=o&&!o.nodeType&&o,qo=fr&&!0&&e&&!e.nodeType&&e,ls=qo&&qo.exports===fr,xn=ls&&eo.process,_o=function(){try{var it=qo&&qo.require&&qo.require("util").types;return it||xn&&xn.binding&&xn.binding("util")}catch{}}(),As=_o&&_o.isArrayBuffer,bi=_o&&_o.isDate,ol=_o&&_o.isMap,rl=_o&&_o.isRegExp,Ua=_o&&_o.isSet,Gl=_o&&_o.isTypedArray;function bo(it,$t,ct){switch(ct.length){case 0:return it.call($t);case 1:return it.call($t,ct[0]);case 2:return it.call($t,ct[0],ct[1]);case 3:return it.call($t,ct[0],ct[1],ct[2])}return it.apply($t,ct)}function bg(it,$t,ct,Yt){for(var $n=-1,Gn=it==null?0:it.length;++$n<Gn;){var Go=it[$n];$t(Yt,Go,ct(Go),it)}return Yt}function Yr(it,$t){for(var ct=-1,Yt=it==null?0:it.length;++ct<Yt&&$t(it[ct],ct,it)!==!1;);return it}function Tg(it,$t){for(var ct=it==null?0:it.length;ct--&&$t(it[ct],ct,it)!==!1;);return it}function tp(it,$t){for(var ct=-1,Yt=it==null?0:it.length;++ct<Yt;)if(!$t(it[ct],ct,it))return!1;return!0}function Rs(it,$t){for(var ct=-1,Yt=it==null?0:it.length,$n=0,Gn=[];++ct<Yt;){var Go=it[ct];$t(Go,ct,it)&&(Gn[$n++]=Go)}return Gn}function _d(it,$t){var ct=it==null?0:it.length;return!!ct&&Ga(it,$t,0)>-1}function Ha(it,$t,ct){for(var Yt=-1,$n=it==null?0:it.length;++Yt<$n;)if(ct($t,it[Yt]))return!0;return!1}function po(it,$t){for(var ct=-1,Yt=it==null?0:it.length,$n=Array(Yt);++ct<Yt;)$n[ct]=$t(it[ct],ct,it);return $n}function Ti(it,$t){for(var ct=-1,Yt=$t.length,$n=it.length;++ct<Yt;)it[$n+ct]=$t[ct];return it}function Ju(it,$t,ct,Yt){var $n=-1,Gn=it==null?0:it.length;for(Yt&&Gn&&(ct=it[++$n]);++$n<Gn;)ct=$t(ct,it[$n],$n,it);return ct}function as(it,$t,ct,Yt){var $n=it==null?0:it.length;for(Yt&&$n&&(ct=it[--$n]);$n--;)ct=$t(ct,it[$n],$n,it);return ct}function bd(it,$t){for(var ct=-1,Yt=it==null?0:it.length;++ct<Yt;)if($t(it[ct],ct,it))return!0;return!1}var yg=ip("length");function mv(it){return it.split("")}function Td(it){return it.match(On)||[]}function np(it,$t,ct){var Yt;return ct(it,function($n,Gn,Go){if($t($n,Gn,Go))return Yt=Gn,!1}),Yt}function ec(it,$t,ct,Yt){for(var $n=it.length,Gn=ct+(Yt?1:-1);Yt?Gn--:++Gn<$n;)if($t(it[Gn],Gn,it))return Gn;return-1}function Ga(it,$t,ct){return $t===$t?hp(it,$t,ct):ec(it,rp,ct)}function op(it,$t,ct,Yt){for(var $n=ct-1,Gn=it.length;++$n<Gn;)if(Yt(it[$n],$t))return $n;return-1}function rp(it){return it!==it}function Eg(it,$t){var ct=it==null?0:it.length;return ct?zl(it,$t)/ct:Q}function ip(it){return function($t){return $t==null?n:$t[it]}}function sp(it){return function($t){return it==null?n:it[$t]}}function Cg(it,$t,ct,Yt,$n){return $n(it,function(Gn,Go,oo){ct=Yt?(Yt=!1,Gn):$t(ct,Gn,Go,oo)}),ct}function $v(it,$t){var ct=it.length;for(it.sort($t);ct--;)it[ct]=it[ct].value;return it}function zl(it,$t){for(var ct,Yt=-1,$n=it.length;++Yt<$n;){var Gn=$t(it[Yt]);Gn!==n&&(ct=ct===n?Gn:ct+Gn)}return ct}function yd(it,$t){for(var ct=-1,Yt=Array(it);++ct<it;)Yt[ct]=$t(ct);return Yt}function Ig(it,$t){return po($t,function(ct){return[ct,it[ct]]})}function tc(it){return it&&it.slice(0,Cd(it)+1).replace(Ft,"")}function Nr(it){return function($t){return it($t)}}function lp(it,$t){return po($t,function(ct){return it[ct]})}function nc(it,$t){return it.has($t)}function ap(it,$t){for(var ct=-1,Yt=it.length;++ct<Yt&&Ga($t,it[ct],0)>-1;);return ct}function up(it,$t){for(var ct=it.length;ct--&&Ga($t,it[ct],0)>-1;);return ct}function il(it,$t){for(var ct=it.length,Yt=0;ct--;)it[ct]===$t&&++Yt;return Yt}var Sg=sp(pt),Og=sp(Ot);function vv(it){return"\\"+Ht[it]}function _v(it,$t){return it==null?n:it[$t]}function za(it){return md.test(it)}function bv(it){return $d.test(it)}function kg(it){for(var $t,ct=[];!($t=it.next()).done;)ct.push($t.value);return ct}function cp(it){var $t=-1,ct=Array(it.size);return it.forEach(function(Yt,$n){ct[++$t]=[$n,Yt]}),ct}function dp(it,$t){return function(ct){return it($t(ct))}}function sl(it,$t){for(var ct=-1,Yt=it.length,$n=0,Gn=[];++ct<Yt;){var Go=it[ct];(Go===$t||Go===$)&&(it[ct]=$,Gn[$n++]=ct)}return Gn}function us(it){var $t=-1,ct=Array(it.size);return it.forEach(function(Yt){ct[++$t]=Yt}),ct}function Ed(it){var $t=-1,ct=Array(it.size);return it.forEach(function(Yt){ct[++$t]=[Yt,Yt]}),ct}function hp(it,$t,ct){for(var Yt=ct-1,$n=it.length;++Yt<$n;)if(it[Yt]===$t)return Yt;return-1}function pp(it,$t,ct){for(var Yt=ct+1;Yt--;)if(it[Yt]===$t)return Yt;return Yt}function Fi(it){return za(it)?wo(it):yg(it)}function yi(it){return za(it)?fp(it):mv(it)}function Cd(it){for(var $t=it.length;$t--&&ln.test(it.charAt($t)););return $t}var wg=sp(xt);function wo(it){for(var $t=_i.lastIndex=0;_i.test(it);)++$t;return $t}function fp(it){return it.match(_i)||[]}function oc(it){return it.match(Va)||[]}var Wa=function it($t){$t=$t==null?Mn:ja.defaults(Mn.Object(),$t,ja.pick(Mn,vd));var ct=$t.Array,Yt=$t.Date,$n=$t.Error,Gn=$t.Function,Go=$t.Math,oo=$t.Object,gp=$t.RegExp,Tv=$t.String,Qr=$t.TypeError,Tr=ct.prototype,yv=Gn.prototype,Xa=oo.prototype,qr=$t["__core-js_shared__"],to=yv.toString,qn=Xa.hasOwnProperty,Ev=0,mp=function(){var d=/[^.]+$/.exec(qr&&qr.keys&&qr.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),Vi=Xa.toString,$p=to.call(oo),Cv=Mn._,Id=gp("^"+to.call(qn).replace(rt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ka=ls?$t.Buffer:n,ll=$t.Symbol,Ya=$t.Uint8Array,Ng=Ka?Ka.allocUnsafe:n,Qa=dp(oo.getPrototypeOf,oo),vp=oo.create,_p=Xa.propertyIsEnumerable,Sd=Tr.splice,bp=ll?ll.isConcatSpreadable:n,Wl=ll?ll.iterator:n,jl=ll?ll.toStringTag:n,Od=function(){try{var d=sa(oo,"defineProperty");return d({},"",{}),d}catch{}}(),Iv=$t.clearTimeout!==Mn.clearTimeout&&$t.clearTimeout,Ag=Yt&&Yt.now!==Mn.Date.now&&Yt.now,Tp=$t.setTimeout!==Mn.setTimeout&&$t.setTimeout,rc=Go.ceil,qa=Go.floor,yp=oo.getOwnPropertySymbols,Ep=Ka?Ka.isBuffer:n,Rg=$t.isFinite,Sv=Tr.join,Zr=dp(oo.keys,oo),Vt=Go.max,no=Go.min,gr=Yt.now,fo=$t.parseInt,cs=Go.random,ic=Tr.reverse,zt=sa($t,"DataView"),go=sa($t,"Map"),kd=sa($t,"Promise"),Za=sa($t,"Set"),Ja=sa($t,"WeakMap"),eu=sa(oo,"create"),sc=Ja&&new Ja,Xl={},Lg=aa(zt),Mg=aa(go),lc=aa(kd),ac=aa(Za),Pg=aa(Ja),wd=ll?ll.prototype:n,Kl=wd?wd.valueOf:n,Cp=wd?wd.toString:n;function be(d){if(So(d)&&!un(d)&&!(d instanceof Nn)){if(d instanceof Jr)return d;if(qn.call(d,"__wrapped__"))return Im(d)}return new Jr(d)}var Yl=function(){function d(){}return function(f){if(!Io(f))return{};if(vp)return vp(f);d.prototype=f;var E=new d;return d.prototype=n,E}}();function Nd(){}function Jr(d,f){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!f,this.__index__=0,this.__values__=n}be.templateSettings={escape:S,evaluate:b,interpolate:v,variable:"",imports:{_:be}},be.prototype=Nd.prototype,be.prototype.constructor=be,Jr.prototype=Yl(Nd.prototype),Jr.prototype.constructor=Jr;function Nn(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Oe,this.__views__=[]}function Dg(){var d=new Nn(this.__wrapped__);return d.__actions__=lr(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=lr(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=lr(this.__views__),d}function xg(){if(this.__filtered__){var d=new Nn(this);d.__dir__=-1,d.__filtered__=!0}else d=this.clone(),d.__dir__*=-1;return d}function Ad(){var d=this.__wrapped__.value(),f=this.__dir__,E=un(d),V=f<0,ie=E?d.length:0,ye=jv(0,ie,this.__views__),He=ye.start,Ye=ye.end,st=Ye-He,Ct=V?Ye:He-1,Tt=this.__iteratees__,Nt=Tt.length,Wt=0,tn=no(st,this.__takeCount__);if(!E||!V&&ie==st&&tn==st)return Ms(d,this.__actions__);var pn=[];e:for(;st--&&Wt<tn;){Ct+=f;for(var In=-1,gn=d[Ct];++In<Nt;){var Rn=Tt[In],Dn=Rn.iteratee,ci=Rn.type,Br=Dn(gn);if(ci==K)gn=Br;else if(!Br){if(ci==X)continue e;break e}}pn[Wt++]=gn}return pn}Nn.prototype=Yl(Nd.prototype),Nn.prototype.constructor=Nn;function Ql(d){var f=-1,E=d==null?0:d.length;for(this.clear();++f<E;){var V=d[f];this.set(V[0],V[1])}}function Bg(){this.__data__=eu?eu(null):{},this.size=0}function Ip(d){var f=this.has(d)&&delete this.__data__[d];return this.size-=f?1:0,f}function Ov(d){var f=this.__data__;if(eu){var E=f[d];return E===p?n:E}return qn.call(f,d)?f[d]:n}function kv(d){var f=this.__data__;return eu?f[d]!==n:qn.call(f,d)}function Fg(d,f){var E=this.__data__;return this.size+=this.has(d)?0:1,E[d]=eu&&f===n?p:f,this}Ql.prototype.clear=Bg,Ql.prototype.delete=Ip,Ql.prototype.get=Ov,Ql.prototype.has=kv,Ql.prototype.set=Fg;function Ei(d){var f=-1,E=d==null?0:d.length;for(this.clear();++f<E;){var V=d[f];this.set(V[0],V[1])}}function wv(){this.__data__=[],this.size=0}function Nv(d){var f=this.__data__,E=uc(f,d);if(E<0)return!1;var V=f.length-1;return E==V?f.pop():Sd.call(f,E,1),--this.size,!0}function Av(d){var f=this.__data__,E=uc(f,d);return E<0?n:f[E][1]}function Rv(d){return uc(this.__data__,d)>-1}function Rd(d,f){var E=this.__data__,V=uc(E,d);return V<0?(++this.size,E.push([d,f])):E[V][1]=f,this}Ei.prototype.clear=wv,Ei.prototype.delete=Nv,Ei.prototype.get=Av,Ei.prototype.has=Rv,Ei.prototype.set=Rd;function ds(d){var f=-1,E=d==null?0:d.length;for(this.clear();++f<E;){var V=d[f];this.set(V[0],V[1])}}function Vg(){this.size=0,this.__data__={hash:new Ql,map:new(go||Ei),string:new Ql}}function Ug(d){var f=vc(this,d).delete(d);return this.size-=f?1:0,f}function Lv(d){return vc(this,d).get(d)}function Ld(d){return vc(this,d).has(d)}function Hg(d,f){var E=vc(this,d),V=E.size;return E.set(d,f),this.size+=E.size==V?0:1,this}ds.prototype.clear=Vg,ds.prototype.delete=Ug,ds.prototype.get=Lv,ds.prototype.has=Ld,ds.prototype.set=Hg;function Ui(d){var f=-1,E=d==null?0:d.length;for(this.__data__=new ds;++f<E;)this.add(d[f])}function Mv(d){return this.__data__.set(d,p),this}function Gg(d){return this.__data__.has(d)}Ui.prototype.add=Ui.prototype.push=Mv,Ui.prototype.has=Gg;function Ci(d){var f=this.__data__=new Ei(d);this.size=f.size}function zg(){this.__data__=new Ei,this.size=0}function Wg(d){var f=this.__data__,E=f.delete(d);return this.size=f.size,E}function jg(d){return this.__data__.get(d)}function Xg(d){return this.__data__.has(d)}function Kg(d,f){var E=this.__data__;if(E instanceof Ei){var V=E.__data__;if(!go||V.length<l-1)return V.push([d,f]),this.size=++E.size,this;E=this.__data__=new ds(V)}return E.set(d,f),this.size=E.size,this}Ci.prototype.clear=zg,Ci.prototype.delete=Wg,Ci.prototype.get=jg,Ci.prototype.has=Xg,Ci.prototype.set=Kg;function Sp(d,f){var E=un(d),V=!E&&ha(d),ie=!E&&!V&&$s(d),ye=!E&&!V&&!ie&&pa(d),He=E||V||ie||ye,Ye=He?yd(d.length,Tv):[],st=Ye.length;for(var Ct in d)(f||qn.call(d,Ct))&&!(He&&(Ct=="length"||ie&&(Ct=="offset"||Ct=="parent")||ye&&(Ct=="buffer"||Ct=="byteLength"||Ct=="byteOffset")||Fs(Ct,st)))&&Ye.push(Ct);return Ye}function Md(d){var f=d.length;return f?d[iu(0,f-1)]:n}function Pd(d,f){return bl(lr(d),ql(f,0,d.length))}function Yg(d){return bl(lr(d))}function Op(d,f,E){(E!==n&&!io(d[f],E)||E===n&&!(f in d))&&hs(d,f,E)}function tu(d,f,E){var V=d[f];(!(qn.call(d,f)&&io(V,E))||E===n&&!(f in d))&&hs(d,f,E)}function uc(d,f){for(var E=d.length;E--;)if(io(d[E][0],f))return E;return-1}function Qg(d,f,E,V){return al(d,function(ie,ye,He){f(V,ie,E(ie),He)}),V}function kp(d,f){return d&&ni(f,Vo(f),d)}function qg(d,f){return d&&ni(f,yr(f),d)}function hs(d,f,E){f=="__proto__"&&Od?Od(d,f,{configurable:!0,enumerable:!0,value:E,writable:!0}):d[f]=E}function Dd(d,f){for(var E=-1,V=f.length,ie=ct(V),ye=d==null;++E<V;)ie[E]=ye?n:xc(d,f[E]);return ie}function ql(d,f,E){return d===d&&(E!==n&&(d=d<=E?d:E),f!==n&&(d=d>=f?d:f)),d}function ei(d,f,E,V,ie,ye){var He,Ye=f&T,st=f&w,Ct=f&A;if(E&&(He=ie?E(d,V,ie,ye):E(d)),He!==n)return He;if(!Io(d))return d;var Tt=un(d);if(Tt){if(He=x1(d),!Ye)return lr(d,He)}else{var Nt=ar(d),Wt=Nt==le||Nt==ce;if($s(d))return su(d,Ye);if(Nt==$e||Nt==ke||Wt&&!ie){if(He=st||Wt?{}:Kv(d),!Ye)return st?D1(d,qg(He,d)):zv(d,kp(He,d))}else{if(!je[Nt])return ie?d:{};He=bm(d,Nt,Ye)}}ye||(ye=new Ci);var tn=ye.get(d);if(tn)return tn;ye.set(d,He),yf(d)?d.forEach(function(gn){He.add(ei(gn,f,E,gn,d,ye))}):Ac(d)&&d.forEach(function(gn,Rn){He.set(Rn,ei(gn,f,E,Rn,d,ye))});var pn=Ct?st?Wp:vm:st?yr:Vo,In=Tt?n:pn(d);return Yr(In||d,function(gn,Rn){In&&(Rn=gn,gn=d[Rn]),tu(He,Rn,ei(gn,f,E,Rn,d,ye))}),He}function Zl(d){var f=Vo(d);return function(E){return xd(E,d,f)}}function xd(d,f,E){var V=E.length;if(d==null)return!V;for(d=oo(d);V--;){var ie=E[V],ye=f[ie],He=d[ie];if(He===n&&!(ie in d)||!ye(He))return!1}return!0}function Bd(d,f,E){if(typeof d!="function")throw new Qr(a);return la(function(){d.apply(n,E)},f)}function nu(d,f,E,V){var ie=-1,ye=_d,He=!0,Ye=d.length,st=[],Ct=f.length;if(!Ye)return st;E&&(f=po(f,Nr(E))),V?(ye=Ha,He=!1):f.length>=l&&(ye=nc,He=!1,f=new Ui(f));e:for(;++ie<Ye;){var Tt=d[ie],Nt=E==null?Tt:E(Tt);if(Tt=V||Tt!==0?Tt:0,He&&Nt===Nt){for(var Wt=Ct;Wt--;)if(f[Wt]===Nt)continue e;st.push(Tt)}else ye(f,Nt,V)||st.push(Tt)}return st}var al=pm(Hi),wp=pm(Fd,!0);function Np(d,f){var E=!0;return al(d,function(V,ie,ye){return E=!!f(V,ie,ye),E}),E}function cc(d,f,E){for(var V=-1,ie=d.length;++V<ie;){var ye=d[V],He=f(ye);if(He!=null&&(Ye===n?He===He&&!Dr(He):E(He,Ye)))var Ye=He,st=ye}return st}function Zg(d,f,E,V){var ie=d.length;for(E=yn(E),E<0&&(E=-E>ie?0:ie+E),V=V===n||V>ie?ie:yn(V),V<0&&(V+=ie),V=E>V?0:Cf(V);E<V;)d[E++]=f;return d}function Jg(d,f){var E=[];return al(d,function(V,ie,ye){f(V,ie,ye)&&E.push(V)}),E}function Zo(d,f,E,V,ie){var ye=-1,He=d.length;for(E||(E=bc),ie||(ie=[]);++ye<He;){var Ye=d[ye];f>0&&E(Ye)?f>1?Zo(Ye,f-1,E,V,ie):Ti(ie,Ye):V||(ie[ie.length]=Ye)}return ie}var Ap=Wd(),Rp=Wd(!0);function Hi(d,f){return d&&Ap(d,f,Vo)}function Fd(d,f){return d&&Rp(d,f,Vo)}function ou(d,f){return Rs(f,function(E){return vs(d[E])})}function ul(d,f){f=Oi(f,d);for(var E=0,V=f.length;d!=null&&E<V;)d=d[ii(f[E++])];return E&&E==V?d:n}function Vd(d,f,E){var V=f(d);return un(d)?V:Ti(V,E(d))}function sr(d){return d==null?d===n?Ie:Ne:jl&&jl in oo(d)?Wv(d):vl(d)}function dc(d,f){return d>f}function Pv(d,f){return d!=null&&qn.call(d,f)}function Dv(d,f){return d!=null&&f in oo(d)}function xv(d,f,E){return d>=no(f,E)&&d<Vt(f,E)}function Lp(d,f,E){for(var V=E?Ha:_d,ie=d[0].length,ye=d.length,He=ye,Ye=ct(ye),st=1/0,Ct=[];He--;){var Tt=d[He];He&&f&&(Tt=po(Tt,Nr(f))),st=no(Tt.length,st),Ye[He]=!E&&(f||ie>=120&&Tt.length>=120)?new Ui(He&&Tt):n}Tt=d[0];var Nt=-1,Wt=Ye[0];e:for(;++Nt<ie&&Ct.length<st;){var tn=Tt[Nt],pn=f?f(tn):tn;if(tn=E||tn!==0?tn:0,!(Wt?nc(Wt,pn):V(Ct,pn,E))){for(He=ye;--He;){var In=Ye[He];if(!(In?nc(In,pn):V(d[He],pn,E)))continue e}Wt&&Wt.push(pn),Ct.push(tn)}}return Ct}function Bv(d,f,E,V){return Hi(d,function(ie,ye,He){f(V,E(ie),ye,He)}),V}function hc(d,f,E){f=Oi(f,d),d=ym(d,f);var V=d==null?d:d[ii(si(f))];return V==null?n:bo(V,d,E)}function em(d){return So(d)&&sr(d)==ke}function Fv(d){return So(d)&&sr(d)==Se}function tm(d){return So(d)&&sr(d)==dt}function ru(d,f,E,V,ie){return d===f?!0:d==null||f==null||!So(d)&&!So(f)?d!==d&&f!==f:nm(d,f,E,V,ru,ie)}function nm(d,f,E,V,ie,ye){var He=un(d),Ye=un(f),st=He?Be:ar(d),Ct=Ye?Be:ar(f);st=st==ke?$e:st,Ct=Ct==ke?$e:Ct;var Tt=st==$e,Nt=Ct==$e,Wt=st==Ct;if(Wt&&$s(d)){if(!$s(f))return!1;He=!0,Tt=!1}if(Wt&&!Tt)return ye||(ye=new Ci),He||pa(d)?Pt(d,f,E,V,ie,ye):Ds(d,f,st,E,V,ie,ye);if(!(E&R)){var tn=Tt&&qn.call(d,"__wrapped__"),pn=Nt&&qn.call(f,"__wrapped__");if(tn||pn){var In=tn?d.value():d,gn=pn?f.value():f;return ye||(ye=new Ci),ie(In,gn,E,V,ye)}}return Wt?(ye||(ye=new Ci),xs(d,f,E,V,ie,ye)):!1}function om(d){return So(d)&&ar(d)==re}function Mp(d,f,E,V){var ie=E.length,ye=ie,He=!V;if(d==null)return!ye;for(d=oo(d);ie--;){var Ye=E[ie];if(He&&Ye[2]?Ye[1]!==d[Ye[0]]:!(Ye[0]in d))return!1}for(;++ie<ye;){Ye=E[ie];var st=Ye[0],Ct=d[st],Tt=Ye[1];if(He&&Ye[2]){if(Ct===n&&!(st in d))return!1}else{var Nt=new Ci;if(V)var Wt=V(Ct,Tt,st,d,f,Nt);if(!(Wt===n?ru(Tt,Ct,R|L,V,Nt):Wt))return!1}}return!0}function rm(d){if(!Io(d)||Yv(d))return!1;var f=vs(d)?Id:Ns;return f.test(aa(d))}function im(d){return So(d)&&sr(d)==qe}function sm(d){return So(d)&&ar(d)==Xe}function lm(d){return So(d)&&It(d.length)&&!!co[sr(d)]}function Pp(d){return typeof d=="function"?d:d==null?so:typeof d=="object"?un(d)?cm(d[0],d[1]):um(d):g$(d)}function Ud(d){if(!hu(d))return Zr(d);var f=[];for(var E in oo(d))qn.call(d,E)&&E!="constructor"&&f.push(E);return f}function am(d){if(!Io(d))return Qv(d);var f=hu(d),E=[];for(var V in d)V=="constructor"&&(f||!qn.call(d,V))||E.push(V);return E}function Hd(d,f){return d<f}function Dp(d,f){var E=-1,V=Fo(d)?ct(d.length):[];return al(d,function(ie,ye,He){V[++E]=f(ie,ye,He)}),V}function um(d){var f=jp(d);return f.length==1&&f[0][2]?Qp(f[0][0],f[0][1]):function(E){return E===d||Mp(E,d,f)}}function cm(d,f){return Qd(d)&&Yp(f)?Qp(ii(d),f):function(E){var V=xc(E,d);return V===n&&V===f?ph(E,d):ru(f,V,R|L)}}function rn(d,f,E,V,ie){d!==f&&Ap(f,function(ye,He){if(ie||(ie=new Ci),Io(ye))ti(d,f,He,E,rn,V,ie);else{var Ye=V?V(_l(d,He),ye,He+"",d,f,ie):n;Ye===n&&(Ye=ye),Op(d,He,Ye)}},yr)}function ti(d,f,E,V,ie,ye,He){var Ye=_l(d,E),st=_l(f,E),Ct=He.get(st);if(Ct){Op(d,E,Ct);return}var Tt=ye?ye(Ye,st,E+"",d,f,He):n,Nt=Tt===n;if(Nt){var Wt=un(st),tn=!Wt&&$s(st),pn=!Wt&&!tn&&pa(st);Tt=st,Wt||tn||pn?un(Ye)?Tt=Ye:Ao(Ye)?Tt=lr(Ye):tn?(Nt=!1,Tt=su(st,!0)):pn?(Nt=!1,Tt=Gd(st,!0)):Tt=[]:Lc(st)||ha(st)?(Tt=Ye,ha(Ye)?Tt=If(Ye):(!Io(Ye)||vs(Ye))&&(Tt=Kv(st))):Nt=!1}Nt&&(He.set(st,Tt),ie(Tt,st,V,ye,He),He.delete(st)),Op(d,E,Tt)}function cl(d,f){var E=d.length;if(E)return f+=f<0?E:0,Fs(f,E)?d[f]:n}function Vv(d,f,E){f.length?f=po(f,function(ye){return un(ye)?function(He){return ul(He,ye.length===1?ye[0]:ye)}:ye}):f=[so];var V=-1;f=po(f,Nr(an()));var ie=Dp(d,function(ye,He,Ye){var st=po(f,function(Ct){return Ct(ye)});return{criteria:st,index:++V,value:ye}});return $v(ie,function(ye,He){return Vp(ye,He,E)})}function xp(d,f){return Ls(d,f,function(E,V){return ph(d,V)})}function Ls(d,f,E){for(var V=-1,ie=f.length,ye={};++V<ie;){var He=f[V],Ye=ul(d,He);E(Ye,He)&&Po(ye,Oi(He,d),Ye)}return ye}function Rt(d){return function(f){return ul(f,d)}}function Ii(d,f,E,V){var ie=V?op:Ga,ye=-1,He=f.length,Ye=d;for(d===f&&(f=lr(f)),E&&(Ye=po(d,Nr(E)));++ye<He;)for(var st=0,Ct=f[ye],Tt=E?E(Ct):Ct;(st=ie(Ye,Tt,st,V))>-1;)Ye!==d&&Sd.call(Ye,st,1),Sd.call(d,st,1);return d}function Ar(d,f){for(var E=d?f.length:0,V=E-1;E--;){var ie=f[E];if(E==V||ie!==ye){var ye=ie;Fs(ie)?Sd.call(d,ie,1):gc(d,ie)}}return d}function iu(d,f){return d+qa(cs()*(f-d+1))}function Uv(d,f,E,V){for(var ie=-1,ye=Vt(rc((f-d)/(E||1)),0),He=ct(ye);ye--;)He[V?ye:++ie]=d,d+=E;return He}function Bp(d,f){var E="";if(!d||f<1||f>ne)return E;do f%2&&(E+=d),f=qa(f/2),f&&(d+=d);while(f);return E}function kn(d,f){return Em(Tm(d,f,so),d+"")}function pc(d){return Md($a(d))}function Hv(d,f){var E=$a(d);return bl(E,ql(f,0,E.length))}function Po(d,f,E,V){if(!Io(d))return d;f=Oi(f,d);for(var ie=-1,ye=f.length,He=ye-1,Ye=d;Ye!=null&&++ie<ye;){var st=ii(f[ie]),Ct=E;if(st==="__proto__"||st==="constructor"||st==="prototype")return d;if(ie!=He){var Tt=Ye[st];Ct=V?V(Tt,st,Ye):n,Ct===n&&(Ct=Io(Tt)?Tt:Fs(f[ie+1])?[]:{})}tu(Ye,st,Ct),Ye=Ye[st]}return d}var dm=sc?function(d,f){return sc.set(d,f),d}:so,Gv=Od?function(d,f){return Od(d,"toString",{configurable:!0,enumerable:!1,value:ys(f),writable:!0})}:so;function P1(d){return bl($a(d))}function Rr(d,f,E){var V=-1,ie=d.length;f<0&&(f=-f>ie?0:ie+f),E=E>ie?ie:E,E<0&&(E+=ie),ie=f>E?0:E-f>>>0,f>>>=0;for(var ye=ct(ie);++V<ie;)ye[V]=d[V+f];return ye}function hm(d,f){var E;return al(d,function(V,ie,ye){return E=f(V,ie,ye),!E}),!!E}function dl(d,f,E){var V=0,ie=d==null?V:d.length;if(typeof f=="number"&&f===f&&ie<=_e){for(;V<ie;){var ye=V+ie>>>1,He=d[ye];He!==null&&!Dr(He)&&(E?He<=f:He<f)?V=ye+1:ie=ye}return ie}return fc(d,f,so,E)}function fc(d,f,E,V){var ie=0,ye=d==null?0:d.length;if(ye===0)return 0;f=E(f);for(var He=f!==f,Ye=f===null,st=Dr(f),Ct=f===n;ie<ye;){var Tt=qa((ie+ye)/2),Nt=E(d[Tt]),Wt=Nt!==n,tn=Nt===null,pn=Nt===Nt,In=Dr(Nt);if(He)var gn=V||pn;else Ct?gn=pn&&(V||Wt):Ye?gn=pn&&Wt&&(V||!tn):st?gn=pn&&Wt&&!tn&&(V||!In):tn||In?gn=!1:gn=V?Nt<=f:Nt<f;gn?ie=Tt+1:ye=Tt}return no(ye,Re)}function hl(d,f){for(var E=-1,V=d.length,ie=0,ye=[];++E<V;){var He=d[E],Ye=f?f(He):He;if(!E||!io(Ye,st)){var st=Ye;ye[ie++]=He===0?0:He}}return ye}function pl(d){return typeof d=="number"?d:Dr(d)?Q:+d}function Jo(d){if(typeof d=="string")return d;if(un(d))return po(d,Jo)+"";if(Dr(d))return Cp?Cp.call(d):"";var f=d+"";return f=="0"&&1/d==-z?"-0":f}function Si(d,f,E){var V=-1,ie=_d,ye=d.length,He=!0,Ye=[],st=Ye;if(E)He=!1,ie=Ha;else if(ye>=l){var Ct=f?null:mm(d);if(Ct)return us(Ct);He=!1,ie=nc,st=new Ui}else st=f?[]:Ye;e:for(;++V<ye;){var Tt=d[V],Nt=f?f(Tt):Tt;if(Tt=E||Tt!==0?Tt:0,He&&Nt===Nt){for(var Wt=st.length;Wt--;)if(st[Wt]===Nt)continue e;f&&st.push(Nt),Ye.push(Tt)}else ie(st,Nt,E)||(st!==Ye&&st.push(Nt),Ye.push(Tt))}return Ye}function gc(d,f){return f=Oi(f,d),d=ym(d,f),d==null||delete d[ii(si(f))]}function Jl(d,f,E,V){return Po(d,f,E(ul(d,f)),V)}function Gi(d,f,E,V){for(var ie=d.length,ye=V?ie:-1;(V?ye--:++ye<ie)&&f(d[ye],ye,d););return E?Rr(d,V?0:ye,V?ye+1:ie):Rr(d,V?ye+1:0,V?ie:ye)}function Ms(d,f){var E=d;return E instanceof Nn&&(E=E.value()),Ju(f,function(V,ie){return ie.func.apply(ie.thisArg,Ti([V],ie.args))},E)}function ea(d,f,E){var V=d.length;if(V<2)return V?Si(d[0]):[];for(var ie=-1,ye=ct(V);++ie<V;)for(var He=d[ie],Ye=-1;++Ye<V;)Ye!=ie&&(ye[ie]=nu(ye[ie]||He,d[Ye],f,E));return Si(Zo(ye,1),f,E)}function ps(d,f,E){for(var V=-1,ie=d.length,ye=f.length,He={};++V<ie;){var Ye=V<ye?f[V]:n;E(He,d[V],Ye)}return He}function ta(d){return Ao(d)?d:[]}function na(d){return typeof d=="function"?d:so}function Oi(d,f){return un(d)?d:Qd(d,f)?[d]:Cm(jn(d))}var oa=kn;function Lr(d,f,E){var V=d.length;return E=E===n?V:E,!f&&E>=V?d:Rr(d,f,E)}var ra=Iv||function(d){return Mn.clearTimeout(d)};function su(d,f){if(f)return d.slice();var E=d.length,V=Ng?Ng(E):new d.constructor(E);return d.copy(V),V}function zi(d){var f=new d.constructor(d.byteLength);return new Ya(f).set(new Ya(d)),f}function lu(d,f){var E=f?zi(d.buffer):d.buffer;return new d.constructor(E,d.byteOffset,d.byteLength)}function Fp(d){var f=new d.constructor(d.source,xi.exec(d));return f.lastIndex=d.lastIndex,f}function au(d){return Kl?oo(Kl.call(d)):{}}function Gd(d,f){var E=f?zi(d.buffer):d.buffer;return new d.constructor(E,d.byteOffset,d.length)}function _n(d,f){if(d!==f){var E=d!==n,V=d===null,ie=d===d,ye=Dr(d),He=f!==n,Ye=f===null,st=f===f,Ct=Dr(f);if(!Ye&&!Ct&&!ye&&d>f||ye&&He&&st&&!Ye&&!Ct||V&&He&&st||!E&&st||!ie)return 1;if(!V&&!ye&&!Ct&&d<f||Ct&&E&&ie&&!V&&!ye||Ye&&E&&ie||!He&&ie||!st)return-1}return 0}function Vp(d,f,E){for(var V=-1,ie=d.criteria,ye=f.criteria,He=ie.length,Ye=E.length;++V<He;){var st=_n(ie[V],ye[V]);if(st){if(V>=Ye)return st;var Ct=E[V];return st*(Ct=="desc"?-1:1)}}return d.index-f.index}function Up(d,f,E,V){for(var ie=-1,ye=d.length,He=E.length,Ye=-1,st=f.length,Ct=Vt(ye-He,0),Tt=ct(st+Ct),Nt=!V;++Ye<st;)Tt[Ye]=f[Ye];for(;++ie<He;)(Nt||ie<ye)&&(Tt[E[ie]]=d[ie]);for(;Ct--;)Tt[Ye++]=d[ie++];return Tt}function zd(d,f,E,V){for(var ie=-1,ye=d.length,He=-1,Ye=E.length,st=-1,Ct=f.length,Tt=Vt(ye-Ye,0),Nt=ct(Tt+Ct),Wt=!V;++ie<Tt;)Nt[ie]=d[ie];for(var tn=ie;++st<Ct;)Nt[tn+st]=f[st];for(;++He<Ye;)(Wt||ie<ye)&&(Nt[tn+E[He]]=d[ie++]);return Nt}function lr(d,f){var E=-1,V=d.length;for(f||(f=ct(V));++E<V;)f[E]=d[E];return f}function ni(d,f,E,V){var ie=!E;E||(E={});for(var ye=-1,He=f.length;++ye<He;){var Ye=f[ye],st=V?V(E[Ye],d[Ye],Ye,E,d):n;st===n&&(st=d[Ye]),ie?hs(E,Ye,st):tu(E,Ye,st)}return E}function zv(d,f){return ni(d,_c(d),f)}function D1(d,f){return ni(d,Yd(d),f)}function Ps(d,f){return function(E,V){var ie=un(E)?bg:Qg,ye=f?f():{};return ie(E,d,an(V,2),ye)}}function er(d){return kn(function(f,E){var V=-1,ie=E.length,ye=ie>1?E[ie-1]:n,He=ie>2?E[2]:n;for(ye=d.length>3&&typeof ye=="function"?(ie--,ye):n,He&&mr(E[0],E[1],He)&&(ye=ie<3?n:ye,ie=1),f=oo(f);++V<ie;){var Ye=E[V];Ye&&d(f,Ye,V,ye)}return f})}function pm(d,f){return function(E,V){if(E==null)return E;if(!Fo(E))return d(E,V);for(var ie=E.length,ye=f?ie:-1,He=oo(E);(f?ye--:++ye<ie)&&V(He[ye],ye,He)!==!1;);return E}}function Wd(d){return function(f,E,V){for(var ie=-1,ye=oo(f),He=V(f),Ye=He.length;Ye--;){var st=He[d?Ye:++ie];if(E(ye[st],st,ye)===!1)break}return f}}function fl(d,f,E){var V=f&M,ie=Mr(d);function ye(){var He=this&&this!==Mn&&this instanceof ye?ie:d;return He.apply(V?E:this,arguments)}return ye}function ki(d){return function(f){f=jn(f);var E=za(f)?yi(f):n,V=E?E[0]:f.charAt(0),ie=E?Lr(E,1).join(""):f.slice(1);return V[d]()+ie}}function oi(d){return function(f){return Ju(Il(Qi(f).replace(Jh,"")),d,"")}}function Mr(d){return function(){var f=arguments;switch(f.length){case 0:return new d;case 1:return new d(f[0]);case 2:return new d(f[0],f[1]);case 3:return new d(f[0],f[1],f[2]);case 4:return new d(f[0],f[1],f[2],f[3]);case 5:return new d(f[0],f[1],f[2],f[3],f[4]);case 6:return new d(f[0],f[1],f[2],f[3],f[4],f[5]);case 7:return new d(f[0],f[1],f[2],f[3],f[4],f[5],f[6])}var E=Yl(d.prototype),V=d.apply(E,f);return Io(V)?V:E}}function fm(d,f,E){var V=Mr(d);function ie(){for(var ye=arguments.length,He=ct(ye),Ye=ye,st=gl(ie);Ye--;)He[Ye]=arguments[Ye];var Ct=ye<3&&He[0]!==st&&He[ye-1]!==st?[]:sl(He,st);if(ye-=Ct.length,ye<E)return cu(d,f,Zn,ie.placeholder,n,He,Ct,n,n,E-ye);var Tt=this&&this!==Mn&&this instanceof ie?V:d;return bo(Tt,this,He)}return ie}function jd(d){return function(f,E,V){var ie=oo(f);if(!Fo(f)){var ye=an(E,3);f=Vo(f),E=function(Ye){return ye(ie[Ye],Ye,ie)}}var He=d(f,E,V);return He>-1?ie[ye?f[He]:He]:n}}function zo(d){return gs(function(f){var E=f.length,V=E,ie=Jr.prototype.thru;for(d&&f.reverse();V--;){var ye=f[V];if(typeof ye!="function")throw new Qr(a);if(ie&&!He&&Bs(ye)=="wrapper")var He=new Jr([],!0)}for(V=He?V:E;++V<E;){ye=f[V];var Ye=Bs(ye),st=Ye=="wrapper"?$c(ye):n;st&&Kp(st[0])&&st[1]==(U|j|x|te)&&!st[4].length&&st[9]==1?He=He[Bs(st[0])].apply(He,st[3]):He=ye.length==1&&Kp(ye)?He[Ye]():He.thru(ye)}return function(){var Ct=arguments,Tt=Ct[0];if(He&&Ct.length==1&&un(Tt))return He.plant(Tt).value();for(var Nt=0,Wt=E?f[Nt].apply(this,Ct):Tt;++Nt<E;)Wt=f[Nt].call(this,Wt);return Wt}})}function Zn(d,f,E,V,ie,ye,He,Ye,st,Ct){var Tt=f&U,Nt=f&M,Wt=f&B,tn=f&(j|F),pn=f&Y,In=Wt?n:Mr(d);function gn(){for(var Rn=arguments.length,Dn=ct(Rn),ci=Rn;ci--;)Dn[ci]=arguments[ci];if(tn)var Br=gl(gn),di=il(Dn,Br);if(V&&(Dn=Up(Dn,V,ie,tn)),ye&&(Dn=zd(Dn,ye,He,tn)),Rn-=di,tn&&Rn<Ct){var jo=sl(Dn,Br);return cu(d,f,Zn,gn.placeholder,E,Dn,jo,Ye,st,Ct-Rn)}var Cs=Nt?E:this,Sl=Wt?Cs[d]:d;return Rn=Dn.length,Ye?Dn=B1(Dn,Ye):pn&&Rn>1&&Dn.reverse(),Tt&&st<Rn&&(Dn.length=st),this&&this!==Mn&&this instanceof gn&&(Sl=In||Mr(Sl)),Sl.apply(Cs,Dn)}return gn}function gm(d,f){return function(E,V){return Bv(E,d,f(V),{})}}function Xd(d,f){return function(E,V){var ie;if(E===n&&V===n)return f;if(E!==n&&(ie=E),V!==n){if(ie===n)return V;typeof E=="string"||typeof V=="string"?(E=Jo(E),V=Jo(V)):(E=pl(E),V=pl(V)),ie=d(E,V)}return ie}}function Hp(d){return gs(function(f){return f=po(f,Nr(an())),kn(function(E){var V=this;return d(f,function(ie){return bo(ie,V,E)})})})}function Kd(d,f){f=f===n?" ":Jo(f);var E=f.length;if(E<2)return E?Bp(f,d):f;var V=Bp(f,rc(d/Fi(f)));return za(f)?Lr(yi(V),0,d).join(""):V.slice(0,d)}function ia(d,f,E,V){var ie=f&M,ye=Mr(d);function He(){for(var Ye=-1,st=arguments.length,Ct=-1,Tt=V.length,Nt=ct(Tt+st),Wt=this&&this!==Mn&&this instanceof He?ye:d;++Ct<Tt;)Nt[Ct]=V[Ct];for(;st--;)Nt[Ct++]=arguments[++Ye];return bo(Wt,ie?E:this,Nt)}return He}function Gp(d){return function(f,E,V){return V&&typeof V!="number"&&mr(f,E,V)&&(E=V=n),f=bs(f),E===n?(E=f,f=0):E=bs(E),V=V===n?f<E?1:-1:bs(V),Uv(f,E,V,d)}}function uu(d){return function(f,E){return typeof f=="string"&&typeof E=="string"||(f=ui(f),E=ui(E)),d(f,E)}}function cu(d,f,E,V,ie,ye,He,Ye,st,Ct){var Tt=f&j,Nt=Tt?He:n,Wt=Tt?n:He,tn=Tt?ye:n,pn=Tt?n:ye;f|=Tt?x:D,f&=~(Tt?D:x),f&G||(f&=~(M|B));var In=[d,f,ie,tn,Nt,pn,Wt,Ye,st,Ct],gn=E.apply(n,In);return Kp(d)&&Wo(gn,In),gn.placeholder=V,$r(gn,d,f)}function du(d){var f=Go[d];return function(E,V){if(E=ui(E),V=V==null?0:no(yn(V),292),V&&Rg(E)){var ie=(jn(E)+"e").split("e"),ye=f(ie[0]+"e"+(+ie[1]+V));return ie=(jn(ye)+"e").split("e"),+(ie[0]+"e"+(+ie[1]-V))}return f(E)}}var mm=Za&&1/us(new Za([,-0]))[1]==z?function(d){return new Za(d)}:Df;function mc(d){return function(f){var E=ar(f);return E==re?cp(f):E==Xe?Ed(f):Ig(f,d(f))}}function fs(d,f,E,V,ie,ye,He,Ye){var st=f&B;if(!st&&typeof d!="function")throw new Qr(a);var Ct=V?V.length:0;if(Ct||(f&=~(x|D),V=ie=n),He=He===n?He:Vt(yn(He),0),Ye=Ye===n?Ye:yn(Ye),Ct-=ie?ie.length:0,f&D){var Tt=V,Nt=ie;V=ie=n}var Wt=st?n:$c(d),tn=[d,f,E,V,ie,Tt,Nt,ye,He,Ye];if(Wt&&nt(tn,Wt),d=tn[0],f=tn[1],E=tn[2],V=tn[3],ie=tn[4],Ye=tn[9]=tn[9]===n?st?0:d.length:Vt(tn[9]-Ct,0),!Ye&&f&(j|F)&&(f&=~(j|F)),!f||f==M)var pn=fl(d,f,E);else f==j||f==F?pn=fm(d,f,Ye):(f==x||f==(M|x))&&!ie.length?pn=ia(d,f,E,V):pn=Zn.apply(n,tn);var In=Wt?dm:Wo;return $r(In(pn,tn),d,f)}function zp(d,f,E,V){return d===n||io(d,Xa[E])&&!qn.call(V,E)?f:d}function $m(d,f,E,V,ie,ye){return Io(d)&&Io(f)&&(ye.set(f,d),rn(d,f,n,$m,ye),ye.delete(f)),d}function Qo(d){return Lc(d)?n:d}function Pt(d,f,E,V,ie,ye){var He=E&R,Ye=d.length,st=f.length;if(Ye!=st&&!(He&&st>Ye))return!1;var Ct=ye.get(d),Tt=ye.get(f);if(Ct&&Tt)return Ct==f&&Tt==d;var Nt=-1,Wt=!0,tn=E&L?new Ui:n;for(ye.set(d,f),ye.set(f,d);++Nt<Ye;){var pn=d[Nt],In=f[Nt];if(V)var gn=He?V(In,pn,Nt,f,d,ye):V(pn,In,Nt,d,f,ye);if(gn!==n){if(gn)continue;Wt=!1;break}if(tn){if(!bd(f,function(Rn,Dn){if(!nc(tn,Dn)&&(pn===Rn||ie(pn,Rn,E,V,ye)))return tn.push(Dn)})){Wt=!1;break}}else if(!(pn===In||ie(pn,In,E,V,ye))){Wt=!1;break}}return ye.delete(d),ye.delete(f),Wt}function Ds(d,f,E,V,ie,ye,He){switch(E){case xe:if(d.byteLength!=f.byteLength||d.byteOffset!=f.byteOffset)return!1;d=d.buffer,f=f.buffer;case Se:return!(d.byteLength!=f.byteLength||!ye(new Ya(d),new Ya(f)));case ut:case dt:case Me:return io(+d,+f);case we:return d.name==f.name&&d.message==f.message;case qe:case at:return d==f+"";case re:var Ye=cp;case Xe:var st=V&R;if(Ye||(Ye=us),d.size!=f.size&&!st)return!1;var Ct=He.get(d);if(Ct)return Ct==f;V|=L,He.set(d,f);var Tt=Pt(Ye(d),Ye(f),V,ie,ye,He);return He.delete(d),Tt;case Ee:if(Kl)return Kl.call(d)==Kl.call(f)}return!1}function xs(d,f,E,V,ie,ye){var He=E&R,Ye=vm(d),st=Ye.length,Ct=vm(f),Tt=Ct.length;if(st!=Tt&&!He)return!1;for(var Nt=st;Nt--;){var Wt=Ye[Nt];if(!(He?Wt in f:qn.call(f,Wt)))return!1}var tn=ye.get(d),pn=ye.get(f);if(tn&&pn)return tn==f&&pn==d;var In=!0;ye.set(d,f),ye.set(f,d);for(var gn=He;++Nt<st;){Wt=Ye[Nt];var Rn=d[Wt],Dn=f[Wt];if(V)var ci=He?V(Dn,Rn,Wt,f,d,ye):V(Rn,Dn,Wt,d,f,ye);if(!(ci===n?Rn===Dn||ie(Rn,Dn,E,V,ye):ci)){In=!1;break}gn||(gn=Wt=="constructor")}if(In&&!gn){var Br=d.constructor,di=f.constructor;Br!=di&&"constructor"in d&&"constructor"in f&&!(typeof Br=="function"&&Br instanceof Br&&typeof di=="function"&&di instanceof di)&&(In=!1)}return ye.delete(d),ye.delete(f),In}function gs(d){return Em(Tm(d,n,Kt),d+"")}function vm(d){return Vd(d,Vo,_c)}function Wp(d){return Vd(d,yr,Yd)}var $c=sc?function(d){return sc.get(d)}:Df;function Bs(d){for(var f=d.name+"",E=Xl[f],V=qn.call(Xl,f)?E.length:0;V--;){var ie=E[V],ye=ie.func;if(ye==null||ye==d)return ie.name}return f}function gl(d){var f=qn.call(be,"placeholder")?be:d;return f.placeholder}function an(){var d=be.iteratee||Lf;return d=d===Lf?Pp:d,arguments.length?d(arguments[0],arguments[1]):d}function vc(d,f){var E=d.__data__;return ml(f)?E[typeof f=="string"?"string":"hash"]:E.map}function jp(d){for(var f=Vo(d),E=f.length;E--;){var V=f[E],ie=d[V];f[E]=[V,ie,Yp(ie)]}return f}function sa(d,f){var E=_v(d,f);return rm(E)?E:n}function Wv(d){var f=qn.call(d,jl),E=d[jl];try{d[jl]=n;var V=!0}catch{}var ie=Vi.call(d);return V&&(f?d[jl]=E:delete d[jl]),ie}var _c=yp?function(d){return d==null?[]:(d=oo(d),Rs(yp(d),function(f){return _p.call(d,f)}))}:xf,Yd=yp?function(d){for(var f=[];d;)Ti(f,_c(d)),d=Qa(d);return f}:xf,ar=sr;(zt&&ar(new zt(new ArrayBuffer(1)))!=xe||go&&ar(new go)!=re||kd&&ar(kd.resolve())!=Fe||Za&&ar(new Za)!=Xe||Ja&&ar(new Ja)!=he)&&(ar=function(d){var f=sr(d),E=f==$e?d.constructor:n,V=E?aa(E):"";if(V)switch(V){case Lg:return xe;case Mg:return re;case lc:return Fe;case ac:return Xe;case Pg:return he}return f});function jv(d,f,E){for(var V=-1,ie=E.length;++V<ie;){var ye=E[V],He=ye.size;switch(ye.type){case"drop":d+=He;break;case"dropRight":f-=He;break;case"take":f=no(f,d+He);break;case"takeRight":d=Vt(d,f-He);break}}return{start:d,end:f}}function Xv(d){var f=d.match(kt);return f?f[1].split(En):[]}function _m(d,f,E){f=Oi(f,d);for(var V=-1,ie=f.length,ye=!1;++V<ie;){var He=ii(f[V]);if(!(ye=d!=null&&E(d,He)))break;d=d[He]}return ye||++V!=ie?ye:(ie=d==null?0:d.length,!!ie&&It(ie)&&Fs(He,ie)&&(un(d)||ha(d)))}function x1(d){var f=d.length,E=new d.constructor(f);return f&&typeof d[0]=="string"&&qn.call(d,"index")&&(E.index=d.index,E.input=d.input),E}function Kv(d){return typeof d.constructor=="function"&&!hu(d)?Yl(Qa(d)):{}}function bm(d,f,E){var V=d.constructor;switch(f){case Se:return zi(d);case ut:case dt:return new V(+d);case xe:return lu(d,E);case Ke:case C:case k:case de:case Ce:case Te:case Ve:case tt:case Et:return Gd(d,E);case re:return new V;case Me:case at:return new V(d);case qe:return Fp(d);case Xe:return new V;case Ee:return au(d)}}function Xp(d,f){var E=f.length;if(!E)return d;var V=E-1;return f[V]=(E>1?"& ":"")+f[V],f=f.join(E>2?", ":" "),d.replace(Hn,`{
/* [wrapped with `+f+`] */
`)}function bc(d){return un(d)||ha(d)||!!(bp&&d&&d[bp])}function Fs(d,f){var E=typeof d;return f=f??ne,!!f&&(E=="number"||E!="symbol"&&Xr.test(d))&&d>-1&&d%1==0&&d<f}function mr(d,f,E){if(!Io(E))return!1;var V=typeof f;return(V=="number"?Fo(E)&&Fs(f,E.length):V=="string"&&f in E)?io(E[f],d):!1}function Qd(d,f){if(un(d))return!1;var E=typeof d;return E=="number"||E=="symbol"||E=="boolean"||d==null||Dr(d)?!0:H.test(d)||!I.test(d)||f!=null&&d in oo(f)}function ml(d){var f=typeof d;return f=="string"||f=="number"||f=="symbol"||f=="boolean"?d!=="__proto__":d===null}function Kp(d){var f=Bs(d),E=be[f];if(typeof E!="function"||!(f in Nn.prototype))return!1;if(d===E)return!0;var V=$c(E);return!!V&&d===V[0]}function Yv(d){return!!mp&&mp in d}var $l=qr?vs:Bf;function hu(d){var f=d&&d.constructor,E=typeof f=="function"&&f.prototype||Xa;return d===E}function Yp(d){return d===d&&!Io(d)}function Qp(d,f){return function(E){return E==null?!1:E[d]===f&&(f!==n||d in oo(E))}}function ro(d){var f=ur(d,function(V){return E.size===m&&E.clear(),V}),E=f.cache;return f}function nt(d,f){var E=d[1],V=f[1],ie=E|V,ye=ie<(M|B|U),He=V==U&&E==j||V==U&&E==te&&d[7].length<=f[8]||V==(U|te)&&f[7].length<=f[8]&&E==j;if(!(ye||He))return d;V&M&&(d[2]=f[2],ie|=E&M?0:G);var Ye=f[3];if(Ye){var st=d[3];d[3]=st?Up(st,Ye,f[4]):Ye,d[4]=st?sl(d[3],$):f[4]}return Ye=f[5],Ye&&(st=d[5],d[5]=st?zd(st,Ye,f[6]):Ye,d[6]=st?sl(d[5],$):f[6]),Ye=f[7],Ye&&(d[7]=Ye),V&U&&(d[8]=d[8]==null?f[8]:no(d[8],f[8])),d[9]==null&&(d[9]=f[9]),d[0]=f[0],d[1]=ie,d}function Qv(d){var f=[];if(d!=null)for(var E in oo(d))f.push(E);return f}function vl(d){return Vi.call(d)}function Tm(d,f,E){return f=Vt(f===n?d.length-1:f,0),function(){for(var V=arguments,ie=-1,ye=Vt(V.length-f,0),He=ct(ye);++ie<ye;)He[ie]=V[f+ie];ie=-1;for(var Ye=ct(f+1);++ie<f;)Ye[ie]=V[ie];return Ye[f]=E(He),bo(d,this,Ye)}}function ym(d,f){return f.length<2?d:ul(d,Rr(f,0,-1))}function B1(d,f){for(var E=d.length,V=no(f.length,E),ie=lr(d);V--;){var ye=f[V];d[V]=Fs(ye,E)?ie[ye]:n}return d}function _l(d,f){if(!(f==="constructor"&&typeof d[f]=="function")&&f!="__proto__")return d[f]}var Wo=ri(dm),la=Tp||function(d,f){return Mn.setTimeout(d,f)},Em=ri(Gv);function $r(d,f,E){var V=f+"";return Em(d,Xp(V,qv(Xv(V),E)))}function ri(d){var f=0,E=0;return function(){var V=gr(),ie=oe-(V-E);if(E=V,ie>0){if(++f>=ue)return arguments[0]}else f=0;return d.apply(n,arguments)}}function bl(d,f){var E=-1,V=d.length,ie=V-1;for(f=f===n?V:f;++E<f;){var ye=iu(E,ie),He=d[ye];d[ye]=d[E],d[E]=He}return d.length=f,d}var Cm=ro(function(d){var f=[];return d.charCodeAt(0)===46&&f.push(""),d.replace(pe,function(E,V,ie,ye){f.push(ie?ye.replace(br,"$1"):V||E)}),f});function ii(d){if(typeof d=="string"||Dr(d))return d;var f=d+"";return f=="0"&&1/d==-z?"-0":f}function aa(d){if(d!=null){try{return to.call(d)}catch{}try{return d+""}catch{}}return""}function qv(d,f){return Yr(se,function(E){var V="_."+E[0];f&E[1]&&!_d(d,V)&&d.push(V)}),d.sort()}function Im(d){if(d instanceof Nn)return d.clone();var f=new Jr(d.__wrapped__,d.__chain__);return f.__actions__=lr(d.__actions__),f.__index__=d.__index__,f.__values__=d.__values__,f}function pu(d,f,E){(E?mr(d,f,E):f===n)?f=1:f=Vt(yn(f),0);var V=d==null?0:d.length;if(!V||f<1)return[];for(var ie=0,ye=0,He=ct(rc(V/f));ie<V;)He[ye++]=Rr(d,ie,ie+=f);return He}function Zv(d){for(var f=-1,E=d==null?0:d.length,V=0,ie=[];++f<E;){var ye=d[f];ye&&(ie[V++]=ye)}return ie}function Jv(){var d=arguments.length;if(!d)return[];for(var f=ct(d-1),E=arguments[0],V=d;V--;)f[V-1]=arguments[V];return Ti(un(E)?lr(E):[E],Zo(f,1))}var e_=kn(function(d,f){return Ao(d)?nu(d,Zo(f,1,Ao,!0)):[]}),qp=kn(function(d,f){var E=si(f);return Ao(E)&&(E=n),Ao(d)?nu(d,Zo(f,1,Ao,!0),an(E,2)):[]}),Sm=kn(function(d,f){var E=si(f);return Ao(E)&&(E=n),Ao(d)?nu(d,Zo(f,1,Ao,!0),n,E):[]});function t_(d,f,E){var V=d==null?0:d.length;return V?(f=E||f===n?1:yn(f),Rr(d,f<0?0:f,V)):[]}function qd(d,f,E){var V=d==null?0:d.length;return V?(f=E||f===n?1:yn(f),f=V-f,Rr(d,0,f<0?0:f)):[]}function fu(d,f){return d&&d.length?Gi(d,an(f,3),!0,!0):[]}function Om(d,f){return d&&d.length?Gi(d,an(f,3),!0):[]}function n_(d,f,E,V){var ie=d==null?0:d.length;return ie?(E&&typeof E!="number"&&mr(d,f,E)&&(E=0,V=ie),Zg(d,f,E,V)):[]}function ua(d,f,E){var V=d==null?0:d.length;if(!V)return-1;var ie=E==null?0:yn(E);return ie<0&&(ie=Vt(V+ie,0)),ec(d,an(f,3),ie)}function Zp(d,f,E){var V=d==null?0:d.length;if(!V)return-1;var ie=V-1;return E!==n&&(ie=yn(E),ie=E<0?Vt(V+ie,0):no(ie,V-1)),ec(d,an(f,3),ie,!0)}function Kt(d){var f=d==null?0:d.length;return f?Zo(d,1):[]}function Bn(d){var f=d==null?0:d.length;return f?Zo(d,z):[]}function Tc(d,f){var E=d==null?0:d.length;return E?(f=f===n?1:yn(f),Zo(d,f)):[]}function Jp(d){for(var f=-1,E=d==null?0:d.length,V={};++f<E;){var ie=d[f];V[ie[0]]=ie[1]}return V}function ef(d){return d&&d.length?d[0]:n}function o_(d,f,E){var V=d==null?0:d.length;if(!V)return-1;var ie=E==null?0:yn(E);return ie<0&&(ie=Vt(V+ie,0)),Ga(d,f,ie)}function r_(d){var f=d==null?0:d.length;return f?Rr(d,0,-1):[]}var tf=kn(function(d){var f=po(d,ta);return f.length&&f[0]===d[0]?Lp(f):[]}),Zd=kn(function(d){var f=si(d),E=po(d,ta);return f===si(E)?f=n:E.pop(),E.length&&E[0]===d[0]?Lp(E,an(f,2)):[]}),km=kn(function(d){var f=si(d),E=po(d,ta);return f=typeof f=="function"?f:n,f&&E.pop(),E.length&&E[0]===d[0]?Lp(E,n,f):[]});function i_(d,f){return d==null?"":Sv.call(d,f)}function si(d){var f=d==null?0:d.length;return f?d[f-1]:n}function nf(d,f,E){var V=d==null?0:d.length;if(!V)return-1;var ie=V;return E!==n&&(ie=yn(E),ie=ie<0?Vt(V+ie,0):no(ie,V-1)),f===f?pp(d,f,ie):ec(d,rp,ie,!0)}function wm(d,f){return d&&d.length?cl(d,yn(f)):n}var gu=kn(mu);function mu(d,f){return d&&d.length&&f&&f.length?Ii(d,f):d}function yc(d,f,E){return d&&d.length&&f&&f.length?Ii(d,f,an(E,2)):d}function Fn(d,f,E){return d&&d.length&&f&&f.length?Ii(d,f,n,E):d}var Ec=gs(function(d,f){var E=d==null?0:d.length,V=Dd(d,f);return Ar(d,po(f,function(ie){return Fs(ie,E)?+ie:ie}).sort(_n)),V});function $u(d,f){var E=[];if(!(d&&d.length))return E;var V=-1,ie=[],ye=d.length;for(f=an(f,3);++V<ye;){var He=d[V];f(He,V,d)&&(E.push(He),ie.push(V))}return Ar(d,ie),E}function Jd(d){return d==null?d:ic.call(d)}function ca(d,f,E){var V=d==null?0:d.length;return V?(E&&typeof E!="number"&&mr(d,f,E)?(f=0,E=V):(f=f==null?0:yn(f),E=E===n?V:yn(E)),Rr(d,f,E)):[]}function s_(d,f){return dl(d,f)}function Nm(d,f,E){return fc(d,f,an(E,2))}function Do(d,f){var E=d==null?0:d.length;if(E){var V=dl(d,f);if(V<E&&io(d[V],f))return V}return-1}function eh(d,f){return dl(d,f,!0)}function vu(d,f,E){return fc(d,f,an(E,2),!0)}function of(d,f){var E=d==null?0:d.length;if(E){var V=dl(d,f,!0)-1;if(io(d[V],f))return V}return-1}function th(d){return d&&d.length?hl(d):[]}function Cc(d,f){return d&&d.length?hl(d,an(f,2)):[]}function l_(d){var f=d==null?0:d.length;return f?Rr(d,1,f):[]}function a_(d,f,E){return d&&d.length?(f=E||f===n?1:yn(f),Rr(d,0,f<0?0:f)):[]}function _u(d,f,E){var V=d==null?0:d.length;return V?(f=E||f===n?1:yn(f),f=V-f,Rr(d,f<0?0:f,V)):[]}function Am(d,f){return d&&d.length?Gi(d,an(f,3),!1,!0):[]}function Rm(d,f){return d&&d.length?Gi(d,an(f,3)):[]}var Wi=kn(function(d){return Si(Zo(d,1,Ao,!0))}),nh=kn(function(d){var f=si(d);return Ao(f)&&(f=n),Si(Zo(d,1,Ao,!0),an(f,2))}),Lm=kn(function(d){var f=si(d);return f=typeof f=="function"?f:n,Si(Zo(d,1,Ao,!0),n,f)});function Mm(d){return d&&d.length?Si(d):[]}function u_(d,f){return d&&d.length?Si(d,an(f,2)):[]}function c_(d,f){return f=typeof f=="function"?f:n,d&&d.length?Si(d,n,f):[]}function Ic(d){if(!(d&&d.length))return[];var f=0;return d=Rs(d,function(E){if(Ao(E))return f=Vt(E.length,f),!0}),yd(f,function(E){return po(d,ip(E))})}function xo(d,f){if(!(d&&d.length))return[];var E=Ic(d);return f==null?E:po(E,function(V){return bo(f,n,V)})}var tr=kn(function(d,f){return Ao(d)?nu(d,f):[]}),Pm=kn(function(d){return ea(Rs(d,Ao))}),Dm=kn(function(d){var f=si(d);return Ao(f)&&(f=n),ea(Rs(d,Ao),an(f,2))}),d_=kn(function(d){var f=si(d);return f=typeof f=="function"?f:n,ea(Rs(d,Ao),n,f)}),ji=kn(Ic);function oh(d,f){return ps(d||[],f||[],tu)}function Sc(d,f){return ps(d||[],f||[],Po)}var rf=kn(function(d){var f=d.length,E=f>1?d[f-1]:n;return E=typeof E=="function"?(d.pop(),E):n,xo(d,E)});function bu(d){var f=be(d);return f.__chain__=!0,f}function Oc(d,f){return f(d),d}function li(d,f){return f(d)}var Vs=gs(function(d){var f=d.length,E=f?d[0]:0,V=this.__wrapped__,ie=function(ye){return Dd(ye,d)};return f>1||this.__actions__.length||!(V instanceof Nn)||!Fs(E)?this.thru(ie):(V=V.slice(E,+E+(f?1:0)),V.__actions__.push({func:li,args:[ie],thisArg:n}),new Jr(V,this.__chain__).thru(function(ye){return f&&!ye.length&&ye.push(n),ye}))});function An(){return bu(this)}function Bo(){return new Jr(this.value(),this.__chain__)}function h_(){this.__values__===n&&(this.__values__=Ef(this.value()));var d=this.__index__>=this.__values__.length,f=d?n:this.__values__[this.__index__++];return{done:d,value:f}}function rh(){return this}function F1(d){for(var f,E=this;E instanceof Nd;){var V=Im(E);V.__index__=0,V.__values__=n,f?ie.__wrapped__=V:f=V;var ie=V;E=E.__wrapped__}return ie.__wrapped__=d,f}function V1(){var d=this.__wrapped__;if(d instanceof Nn){var f=d;return this.__actions__.length&&(f=new Nn(this)),f=f.reverse(),f.__actions__.push({func:li,args:[Jd],thisArg:n}),new Jr(f,this.__chain__)}return this.thru(Jd)}function ai(){return Ms(this.__wrapped__,this.__actions__)}var ho=Ps(function(d,f,E){qn.call(d,E)?++d[E]:hs(d,E,1)});function ih(d,f,E){var V=un(d)?tp:Np;return E&&mr(d,f,E)&&(f=n),V(d,an(f,3))}function xm(d,f){var E=un(d)?Rs:Jg;return E(d,an(f,3))}var Bm=jd(ua),Us=jd(Zp);function U1(d,f){return Zo(af(d,f),1)}function H1(d,f){return Zo(af(d,f),z)}function sf(d,f,E){return E=E===n?1:yn(E),Zo(af(d,f),E)}function No(d,f){var E=un(d)?Yr:al;return E(d,an(f,3))}function lf(d,f){var E=un(d)?Tg:wp;return E(d,an(f,3))}var Tn=Ps(function(d,f,E){qn.call(d,E)?d[E].push(f):hs(d,E,[f])});function p_(d,f,E,V){d=Fo(d)?d:$a(d),E=E&&!V?yn(E):0;var ie=d.length;return E<0&&(E=Vt(ie+E,0)),Pc(d)?E<=ie&&d.indexOf(f,E)>-1:!!ie&&Ga(d,f,E)>-1}var Tu=kn(function(d,f,E){var V=-1,ie=typeof f=="function",ye=Fo(d)?ct(d.length):[];return al(d,function(He){ye[++V]=ie?bo(f,He,E):hc(He,f,E)}),ye}),G1=Ps(function(d,f,E){hs(d,E,f)});function af(d,f){var E=un(d)?po:Dp;return E(d,an(f,3))}function uf(d,f,E,V){return d==null?[]:(un(f)||(f=f==null?[]:[f]),E=V?n:E,un(E)||(E=E==null?[]:[E]),Vv(d,f,E))}var Fm=Ps(function(d,f,E){d[E?0:1].push(f)},function(){return[[],[]]});function f_(d,f,E){var V=un(d)?Ju:Cg,ie=arguments.length<3;return V(d,an(f,4),E,ie,al)}function vn(d,f,E){var V=un(d)?as:Cg,ie=arguments.length<3;return V(d,an(f,4),E,ie,wp)}function g_(d,f){var E=un(d)?Rs:Jg;return E(d,Hs(an(f,3)))}function da(d){var f=un(d)?Md:pc;return f(d)}function Xi(d,f,E){(E?mr(d,f,E):f===n)?f=1:f=yn(f);var V=un(d)?Pd:Hv;return V(d,f)}function Tl(d){var f=un(d)?Yg:P1;return f(d)}function cf(d){if(d==null)return 0;if(Fo(d))return Pc(d)?Fi(d):d.length;var f=ar(d);return f==re||f==Xe?d.size:Ud(d).length}function df(d,f,E){var V=un(d)?bd:hm;return E&&mr(d,f,E)&&(f=n),V(d,an(f,3))}var kc=kn(function(d,f){if(d==null)return[];var E=f.length;return E>1&&mr(d,f[0],f[1])?f=[]:E>2&&mr(f[0],f[1],f[2])&&(f=[f[0]]),Vv(d,Zo(f,1),[])}),hf=Ag||function(){return Mn.Date.now()};function Ki(d,f){if(typeof f!="function")throw new Qr(a);return d=yn(d),function(){if(--d<1)return f.apply(this,arguments)}}function Vm(d,f,E){return f=E?n:f,f=d&&f==null?d.length:f,fs(d,U,n,n,n,n,f)}function Cn(d,f){var E;if(typeof f!="function")throw new Qr(a);return d=yn(d),function(){return--d>0&&(E=f.apply(this,arguments)),d<=1&&(f=n),E}}var ms=kn(function(d,f,E){var V=M;if(E.length){var ie=sl(E,gl(ms));V|=x}return fs(d,V,f,E,ie)}),To=kn(function(d,f,E){var V=M|B;if(E.length){var ie=sl(E,gl(To));V|=x}return fs(f,V,d,E,ie)});function pf(d,f,E){f=E?n:f;var V=fs(d,j,n,n,n,n,n,f);return V.placeholder=pf.placeholder,V}function ff(d,f,E){f=E?n:f;var V=fs(d,F,n,n,n,n,n,f);return V.placeholder=ff.placeholder,V}function Um(d,f,E){var V,ie,ye,He,Ye,st,Ct=0,Tt=!1,Nt=!1,Wt=!0;if(typeof d!="function")throw new Qr(a);f=ui(f)||0,Io(E)&&(Tt=!!E.leading,Nt="maxWait"in E,ye=Nt?Vt(ui(E.maxWait)||0,f):ye,Wt="trailing"in E?!!E.trailing:Wt);function tn(jo){var Cs=V,Sl=ie;return V=ie=n,Ct=jo,He=d.apply(Sl,Cs),He}function pn(jo){return Ct=jo,Ye=la(Rn,f),Tt?tn(jo):He}function In(jo){var Cs=jo-st,Sl=jo-Ct,t0=f-Cs;return Nt?no(t0,ye-Sl):t0}function gn(jo){var Cs=jo-st,Sl=jo-Ct;return st===n||Cs>=f||Cs<0||Nt&&Sl>=ye}function Rn(){var jo=hf();if(gn(jo))return Dn(jo);Ye=la(Rn,In(jo))}function Dn(jo){return Ye=n,Wt&&V?tn(jo):(V=ie=n,He)}function ci(){Ye!==n&&ra(Ye),Ct=0,V=st=ie=Ye=n}function Br(){return Ye===n?He:Dn(hf())}function di(){var jo=hf(),Cs=gn(jo);if(V=arguments,ie=this,st=jo,Cs){if(Ye===n)return pn(st);if(Nt)return ra(Ye),Ye=la(Rn,f),tn(st)}return Ye===n&&(Ye=la(Rn,f)),He}return di.cancel=ci,di.flush=Br,di}var Hm=kn(function(d,f){return Bd(d,1,f)}),m_=kn(function(d,f,E){return Bd(d,ui(f)||0,E)});function $_(d){return fs(d,Y)}function ur(d,f){if(typeof d!="function"||f!=null&&typeof f!="function")throw new Qr(a);var E=function(){var V=arguments,ie=f?f.apply(this,V):V[0],ye=E.cache;if(ye.has(ie))return ye.get(ie);var He=d.apply(this,V);return E.cache=ye.set(ie,He)||ye,He};return E.cache=new(ur.Cache||ds),E}ur.Cache=ds;function Hs(d){if(typeof d!="function")throw new Qr(a);return function(){var f=arguments;switch(f.length){case 0:return!d.call(this);case 1:return!d.call(this,f[0]);case 2:return!d.call(this,f[0],f[1]);case 3:return!d.call(this,f[0],f[1],f[2])}return!d.apply(this,f)}}function yl(d){return Cn(2,d)}var Gm=oa(function(d,f){f=f.length==1&&un(f[0])?po(f[0],Nr(an())):po(Zo(f,1),Nr(an()));var E=f.length;return kn(function(V){for(var ie=-1,ye=no(V.length,E);++ie<ye;)V[ie]=f[ie].call(this,V[ie]);return bo(d,this,V)})}),Yi=kn(function(d,f){var E=sl(f,gl(Yi));return fs(d,x,n,f,E)}),zm=kn(function(d,f){var E=sl(f,gl(zm));return fs(d,D,n,f,E)}),wi=gs(function(d,f){return fs(d,te,n,n,n,f)});function wc(d,f){if(typeof d!="function")throw new Qr(a);return f=f===n?f:yn(f),kn(d,f)}function sh(d,f){if(typeof d!="function")throw new Qr(a);return f=f==null?0:Vt(yn(f),0),kn(function(E){var V=E[f],ie=Lr(E,0,f);return V&&Ti(ie,V),bo(d,this,ie)})}function lh(d,f,E){var V=!0,ie=!0;if(typeof d!="function")throw new Qr(a);return Io(E)&&(V="leading"in E?!!E.leading:V,ie="trailing"in E?!!E.trailing:ie),Um(d,f,{leading:V,maxWait:f,trailing:ie})}function ah(d){return Vm(d,1)}function Wm(d,f){return Yi(na(f),d)}function gf(){if(!arguments.length)return[];var d=arguments[0];return un(d)?d:[d]}function mf(d){return ei(d,A)}function $f(d,f){return f=typeof f=="function"?f:n,ei(d,A,f)}function Nc(d){return ei(d,T|A)}function jm(d,f){return f=typeof f=="function"?f:n,ei(d,T|A,f)}function El(d,f){return f==null||xd(d,f,Vo(f))}function io(d,f){return d===f||d!==d&&f!==f}var Xm=uu(dc),v_=uu(function(d,f){return d>=f}),ha=em(function(){return arguments}())?em:function(d){return So(d)&&qn.call(d,"callee")&&!_p.call(d,"callee")},un=ct.isArray,__=As?Nr(As):Fv;function Fo(d){return d!=null&&It(d.length)&&!vs(d)}function Ao(d){return So(d)&&Fo(d)}function uh(d){return d===!0||d===!1||So(d)&&sr(d)==ut}var $s=Ep||Bf,b_=bi?Nr(bi):tm;function vf(d){return So(d)&&d.nodeType===1&&!Lc(d)}function Gs(d){if(d==null)return!0;if(Fo(d)&&(un(d)||typeof d=="string"||typeof d.splice=="function"||$s(d)||pa(d)||ha(d)))return!d.length;var f=ar(d);if(f==re||f==Xe)return!d.size;if(hu(d))return!Ud(d).length;for(var E in d)if(qn.call(d,E))return!1;return!0}function Vn(d,f){return ru(d,f)}function T_(d,f,E){E=typeof E=="function"?E:n;var V=E?E(d,f):n;return V===n?ru(d,f,n,E):!!V}function _f(d){if(!So(d))return!1;var f=sr(d);return f==we||f==gt||typeof d.message=="string"&&typeof d.name=="string"&&!Lc(d)}function yu(d){return typeof d=="number"&&Rg(d)}function vs(d){if(!Io(d))return!1;var f=sr(d);return f==le||f==ce||f==et||f==Le}function bf(d){return typeof d=="number"&&d==yn(d)}function It(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=ne}function Io(d){var f=typeof d;return d!=null&&(f=="object"||f=="function")}function So(d){return d!=null&&typeof d=="object"}var Ac=ol?Nr(ol):om;function y_(d,f){return d===f||Mp(d,f,jp(f))}function Km(d,f,E){return E=typeof E=="function"?E:n,Mp(d,f,jp(f),E)}function Pr(d){return Rc(d)&&d!=+d}function Ym(d){if($l(d))throw new $n(u);return rm(d)}function _s(d){return d===null}function Ni(d){return d==null}function Rc(d){return typeof d=="number"||So(d)&&sr(d)==Me}function Lc(d){if(!So(d)||sr(d)!=$e)return!1;var f=Qa(d);if(f===null)return!0;var E=qn.call(f,"constructor")&&f.constructor;return typeof E=="function"&&E instanceof E&&to.call(E)==$p}var Tf=rl?Nr(rl):im;function Mc(d){return bf(d)&&d>=-ne&&d<=ne}var yf=Ua?Nr(Ua):sm;function Pc(d){return typeof d=="string"||!un(d)&&So(d)&&sr(d)==at}function Dr(d){return typeof d=="symbol"||So(d)&&sr(d)==Ee}var pa=Gl?Nr(Gl):lm;function Qm(d){return d===n}function qm(d){return So(d)&&ar(d)==he}function fa(d){return So(d)&&sr(d)==me}var Zm=uu(Hd),Jm=uu(function(d,f){return d<=f});function Ef(d){if(!d)return[];if(Fo(d))return Pc(d)?yi(d):lr(d);if(Wl&&d[Wl])return kg(d[Wl]());var f=ar(d),E=f==re?cp:f==Xe?us:$a;return E(d)}function bs(d){if(!d)return d===0?d:0;if(d=ui(d),d===z||d===-z){var f=d<0?-1:1;return f*ge}return d===d?d:0}function yn(d){var f=bs(d),E=f%1;return f===f?E?f-E:f:0}function Cf(d){return d?ql(yn(d),0,Oe):0}function ui(d){if(typeof d=="number")return d;if(Dr(d))return Q;if(Io(d)){var f=typeof d.valueOf=="function"?d.valueOf():d;d=Io(f)?f+"":f}if(typeof d!="string")return d===0?d:+d;d=tc(d);var E=Vl.test(d);return E||Ra.test(d)?hn(d.slice(2),E?2:8):Yn.test(d)?Q:+d}function If(d){return ni(d,yr(d))}function e$(d){return d?ql(yn(d),-ne,ne):d===0?d:0}function jn(d){return d==null?"":Jo(d)}var t$=er(function(d,f){if(hu(f)||Fo(f)){ni(f,Vo(f),d);return}for(var E in f)qn.call(f,E)&&tu(d,E,f[E])}),jt=er(function(d,f){ni(f,yr(f),d)}),ga=er(function(d,f,E,V){ni(f,yr(f),d,V)}),E_=er(function(d,f,E,V){ni(f,Vo(f),d,V)}),z1=gs(Dd);function Qe(d,f){var E=Yl(d);return f==null?E:kp(E,f)}var zs=kn(function(d,f){d=oo(d);var E=-1,V=f.length,ie=V>2?f[2]:n;for(ie&&mr(f[0],f[1],ie)&&(V=1);++E<V;)for(var ye=f[E],He=yr(ye),Ye=-1,st=He.length;++Ye<st;){var Ct=He[Ye],Tt=d[Ct];(Tt===n||io(Tt,Xa[Ct])&&!qn.call(d,Ct))&&(d[Ct]=ye[Ct])}return d}),Eu=kn(function(d){return d.push(n,$m),bo(r$,n,d)});function ch(d,f){return np(d,an(f,3),Hi)}function C_(d,f){return np(d,an(f,3),Fd)}function Cu(d,f){return d==null?d:Ap(d,an(f,3),yr)}function dh(d,f){return d==null?d:Rp(d,an(f,3),yr)}function Dc(d,f){return d&&Hi(d,an(f,3))}function hh(d,f){return d&&Fd(d,an(f,3))}function n$(d){return d==null?[]:ou(d,Vo(d))}function ma(d){return d==null?[]:ou(d,yr(d))}function xc(d,f,E){var V=d==null?n:ul(d,f);return V===n?E:V}function Bc(d,f){return d!=null&&_m(d,f,Pv)}function ph(d,f){return d!=null&&_m(d,f,Dv)}var I_=gm(function(d,f,E){f!=null&&typeof f.toString!="function"&&(f=Vi.call(f)),d[f]=E},ys(so)),Ai=gm(function(d,f,E){f!=null&&typeof f.toString!="function"&&(f=Vi.call(f)),qn.call(d,f)?d[f].push(E):d[f]=[E]},an),o$=kn(hc);function Vo(d){return Fo(d)?Sp(d):Ud(d)}function yr(d){return Fo(d)?Sp(d,!0):am(d)}function S_(d,f){var E={};return f=an(f,3),Hi(d,function(V,ie,ye){hs(E,f(V,ie,ye),V)}),E}function O_(d,f){var E={};return f=an(f,3),Hi(d,function(V,ie,ye){hs(E,ie,f(V,ie,ye))}),E}var k_=er(function(d,f,E){rn(d,f,E)}),r$=er(function(d,f,E,V){rn(d,f,E,V)}),fh=gs(function(d,f){var E={};if(d==null)return E;var V=!1;f=po(f,function(ye){return ye=Oi(ye,d),V||(V=ye.length>1),ye}),ni(d,Wp(d),E),V&&(E=ei(E,T|w|A,Qo));for(var ie=f.length;ie--;)gc(E,f[ie]);return E});function i$(d,f){return Sf(d,Hs(an(f)))}var gh=gs(function(d,f){return d==null?{}:xp(d,f)});function Sf(d,f){if(d==null)return{};var E=po(Wp(d),function(V){return[V]});return f=an(f),Ls(d,E,function(V,ie){return f(V,ie[0])})}function Fc(d,f,E){f=Oi(f,d);var V=-1,ie=f.length;for(ie||(ie=1,d=n);++V<ie;){var ye=d==null?n:d[ii(f[V])];ye===n&&(V=ie,ye=E),d=vs(ye)?ye.call(d):ye}return d}function w_(d,f,E){return d==null?d:Po(d,f,E)}function Of(d,f,E,V){return V=typeof V=="function"?V:n,d==null?d:Po(d,f,E,V)}var s$=mc(Vo),l$=mc(yr);function N_(d,f,E){var V=un(d),ie=V||$s(d)||pa(d);if(f=an(f,4),E==null){var ye=d&&d.constructor;ie?E=V?new ye:[]:Io(d)?E=vs(ye)?Yl(Qa(d)):{}:E={}}return(ie?Yr:Hi)(d,function(He,Ye,st){return f(E,He,Ye,st)}),E}function W1(d,f){return d==null?!0:gc(d,f)}function j1(d,f,E){return d==null?d:Jl(d,f,na(E))}function X1(d,f,E,V){return V=typeof V=="function"?V:n,d==null?d:Jl(d,f,na(E),V)}function $a(d){return d==null?[]:lp(d,Vo(d))}function A_(d){return d==null?[]:lp(d,yr(d))}function kf(d,f,E){return E===n&&(E=f,f=n),E!==n&&(E=ui(E),E=E===E?E:0),f!==n&&(f=ui(f),f=f===f?f:0),ql(ui(d),f,E)}function R_(d,f,E){return f=bs(f),E===n?(E=f,f=0):E=bs(E),d=ui(d),xv(d,f,E)}function mh(d,f,E){if(E&&typeof E!="boolean"&&mr(d,f,E)&&(f=E=n),E===n&&(typeof f=="boolean"?(E=f,f=n):typeof d=="boolean"&&(E=d,d=n)),d===n&&f===n?(d=0,f=1):(d=bs(d),f===n?(f=d,d=0):f=bs(f)),d>f){var V=d;d=f,f=V}if(E||d%1||f%1){var ie=cs();return no(d+ie*(f-d+en("1e-"+((ie+"").length-1))),f)}return iu(d,f)}var Xn=oi(function(d,f,E){return f=f.toLowerCase(),d+(E?a$(f):f)});function a$(d){return vh(jn(d).toLowerCase())}function Qi(d){return d=jn(d),d&&d.replace(pr,Sg).replace(Fa,"")}function xr(d,f,E){d=jn(d),f=Jo(f);var V=d.length;E=E===n?V:ql(yn(E),0,V);var ie=E;return E-=f.length,E>=0&&d.slice(E,ie)==f}function L_(d){return d=jn(d),d&&N.test(d)?d.replace(dn,Og):d}function wf(d){return d=jn(d),d&&bt.test(d)?d.replace(rt,"\\$&"):d}var Sn=oi(function(d,f,E){return d+(E?"-":"")+f.toLowerCase()}),Nf=oi(function(d,f,E){return d+(E?" ":"")+f.toLowerCase()}),Iu=ki("toLowerCase");function Ri(d,f,E){d=jn(d),f=yn(f);var V=f?Fi(d):0;if(!f||V>=f)return d;var ie=(f-V)/2;return Kd(qa(ie),E)+d+Kd(rc(ie),E)}function M_(d,f,E){d=jn(d),f=yn(f);var V=f?Fi(d):0;return f&&V<f?d+Kd(f-V,E):d}function u$(d,f,E){d=jn(d),f=yn(f);var V=f?Fi(d):0;return f&&V<f?Kd(f-V,E)+d:d}function c$(d,f,E){return E||f==null?f=0:f&&(f=+f),fo(jn(d).replace(Ft,""),f||0)}function $h(d,f,E){return(E?mr(d,f,E):f===n)?f=1:f=yn(f),Bp(jn(d),f)}function Ts(){var d=arguments,f=jn(d[0]);return d.length<3?f:f.replace(d[1],d[2])}var d$=oi(function(d,f,E){return d+(E?"_":"")+f.toLowerCase()});function P_(d,f,E){return E&&typeof E!="number"&&mr(d,f,E)&&(f=E=n),E=E===n?Oe:E>>>0,E?(d=jn(d),d&&(typeof f=="string"||f!=null&&!Tf(f))&&(f=Jo(f),!f&&za(d))?Lr(yi(d),0,E):d.split(f,E)):[]}var h$=oi(function(d,f,E){return d+(E?" ":"")+vh(f)});function D_(d,f,E){return d=jn(d),E=E==null?0:ql(yn(E),0,d.length),f=Jo(f),d.slice(E,E+f.length)==f}function K1(d,f,E){var V=be.templateSettings;E&&mr(d,f,E)&&(f=n),d=jn(d),f=ga({},f,V,zp);var ie=ga({},f.imports,V.imports,zp),ye=Vo(ie),He=lp(ie,ye),Ye,st,Ct=0,Tt=f.interpolate||wt,Nt="__p += '",Wt=gp((f.escape||wt).source+"|"+Tt.source+"|"+(Tt===v?jr:wt).source+"|"+(f.evaluate||wt).source+"|$","g"),tn="//# sourceURL="+(qn.call(f,"sourceURL")?(f.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++ep+"]")+`
`;d.replace(Wt,function(gn,Rn,Dn,ci,Br,di){return Dn||(Dn=ci),Nt+=d.slice(Ct,di).replace(Xt,vv),Rn&&(Ye=!0,Nt+=`' +
__e(`+Rn+`) +
'`),Br&&(st=!0,Nt+=`';
`+Br+`;
__p += '`),Dn&&(Nt+=`' +
((__t = (`+Dn+`)) == null ? '' : __t) +
'`),Ct=di+gn.length,gn}),Nt+=`';
`;var pn=qn.call(f,"variable")&&f.variable;if(!pn)Nt=`with (obj) {
`+Nt+`
}
`;else if(hr.test(pn))throw new $n(h);Nt=(st?Nt.replace(St,""):Nt).replace(Bt,"$1").replace(qt,"$1;"),Nt="function("+(pn||"obj")+`) {
`+(pn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Ye?", __e = _.escape":"")+(st?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Nt+`return __p
}`;var In=Rf(function(){return Gn(ye,tn+"return "+Nt).apply(n,He)});if(In.source=Nt,_f(In))throw In;return In}function Y1(d){return jn(d).toLowerCase()}function Cl(d){return jn(d).toUpperCase()}function p$(d,f,E){if(d=jn(d),d&&(E||f===n))return tc(d);if(!d||!(f=Jo(f)))return d;var V=yi(d),ie=yi(f),ye=ap(V,ie),He=up(V,ie)+1;return Lr(V,ye,He).join("")}function x_(d,f,E){if(d=jn(d),d&&(E||f===n))return d.slice(0,Cd(d)+1);if(!d||!(f=Jo(f)))return d;var V=yi(d),ie=up(V,yi(f))+1;return Lr(V,0,ie).join("")}function va(d,f,E){if(d=jn(d),d&&(E||f===n))return d.replace(Ft,"");if(!d||!(f=Jo(f)))return d;var V=yi(d),ie=ap(V,yi(f));return Lr(V,ie).join("")}function Af(d,f){var E=J,V=ee;if(Io(f)){var ie="separator"in f?f.separator:ie;E="length"in f?yn(f.length):E,V="omission"in f?Jo(f.omission):V}d=jn(d);var ye=d.length;if(za(d)){var He=yi(d);ye=He.length}if(E>=ye)return d;var Ye=E-Fi(V);if(Ye<1)return V;var st=He?Lr(He,0,Ye).join(""):d.slice(0,Ye);if(ie===n)return st+V;if(He&&(Ye+=st.length-Ye),Tf(ie)){if(d.slice(Ye).search(ie)){var Ct,Tt=st;for(ie.global||(ie=gp(ie.source,jn(xi.exec(ie))+"g")),ie.lastIndex=0;Ct=ie.exec(Tt);)var Nt=Ct.index;st=st.slice(0,Nt===n?Ye:Nt)}}else if(d.indexOf(Jo(ie),Ye)!=Ye){var Wt=st.lastIndexOf(ie);Wt>-1&&(st=st.slice(0,Wt))}return st+V}function vr(d){return d=jn(d),d&&y.test(d)?d.replace(sn,wg):d}var B_=oi(function(d,f,E){return d+(E?" ":"")+f.toUpperCase()}),vh=ki("toUpperCase");function Il(d,f,E){return d=jn(d),f=E?n:f,f===n?bv(d)?oc(d):Td(d):d.match(f)||[]}var Rf=kn(function(d,f){try{return bo(d,n,f)}catch(E){return _f(E)?E:new $n(E)}}),_h=gs(function(d,f){return Yr(f,function(E){E=ii(E),hs(d,E,ms(d[E],d))}),d});function Q1(d){var f=d==null?0:d.length,E=an();return d=f?po(d,function(V){if(typeof V[1]!="function")throw new Qr(a);return[E(V[0]),V[1]]}):[],kn(function(V){for(var ie=-1;++ie<f;){var ye=d[ie];if(bo(ye[0],this,V))return bo(ye[1],this,V)}})}function F_(d){return Zl(ei(d,T))}function ys(d){return function(){return d}}function Vc(d,f){return d==null||d!==d?f:d}var _a=zo(),Su=zo(!0);function so(d){return d}function Lf(d){return Pp(typeof d=="function"?d:ei(d,T))}function q1(d){return um(ei(d,T))}function Es(d,f){return cm(d,ei(f,T))}var Uc=kn(function(d,f){return function(E){return hc(E,d,f)}}),Mf=kn(function(d,f){return function(E){return hc(d,E,f)}});function Pf(d,f,E){var V=Vo(f),ie=ou(f,V);E==null&&!(Io(f)&&(ie.length||!V.length))&&(E=f,f=d,d=this,ie=ou(f,Vo(f)));var ye=!(Io(E)&&"chain"in E)||!!E.chain,He=vs(d);return Yr(ie,function(Ye){var st=f[Ye];d[Ye]=st,He&&(d.prototype[Ye]=function(){var Ct=this.__chain__;if(ye||Ct){var Tt=d(this.__wrapped__),Nt=Tt.__actions__=lr(this.__actions__);return Nt.push({func:st,args:arguments,thisArg:d}),Tt.__chain__=Ct,Tt}return st.apply(d,Ti([this.value()],arguments))})}),d}function f$(){return Mn._===this&&(Mn._=Cv),this}function Df(){}function zn(d){return d=yn(d),kn(function(f){return cl(f,d)})}var V_=Hp(po),Ou=Hp(tp),U_=Hp(bd);function g$(d){return Qd(d)?ip(ii(d)):Rt(d)}function H_(d){return function(f){return d==null?n:ul(d,f)}}var G_=Gp(),z_=Gp(!0);function xf(){return[]}function Bf(){return!1}function W_(){return{}}function j_(){return""}function Ws(){return!0}function X_(d,f){if(d=yn(d),d<1||d>ne)return[];var E=Oe,V=no(d,Oe);f=an(f),d-=Oe;for(var ie=yd(V,f);++E<d;)f(E);return ie}function K_(d){return un(d)?po(d,ii):Dr(d)?[d]:lr(Cm(jn(d)))}function Y_(d){var f=++Ev;return jn(d)+f}var Q_=Xd(function(d,f){return d+f},0),bh=du("ceil"),q_=Xd(function(d,f){return d/f},1),Z_=du("floor");function m$(d){return d&&d.length?cc(d,so,dc):n}function Z1(d,f){return d&&d.length?cc(d,an(f,2),dc):n}function Hc(d){return Eg(d,so)}function J_(d,f){return Eg(d,an(f,2))}function e0(d){return d&&d.length?cc(d,so,Hd):n}function $$(d,f){return d&&d.length?cc(d,an(f,2),Hd):n}var J1=Xd(function(d,f){return d*f},1),js=du("round"),Xs=Xd(function(d,f){return d-f},0);function eT(d){return d&&d.length?zl(d,so):0}function tT(d,f){return d&&d.length?zl(d,an(f,2)):0}return be.after=Ki,be.ary=Vm,be.assign=t$,be.assignIn=jt,be.assignInWith=ga,be.assignWith=E_,be.at=z1,be.before=Cn,be.bind=ms,be.bindAll=_h,be.bindKey=To,be.castArray=gf,be.chain=bu,be.chunk=pu,be.compact=Zv,be.concat=Jv,be.cond=Q1,be.conforms=F_,be.constant=ys,be.countBy=ho,be.create=Qe,be.curry=pf,be.curryRight=ff,be.debounce=Um,be.defaults=zs,be.defaultsDeep=Eu,be.defer=Hm,be.delay=m_,be.difference=e_,be.differenceBy=qp,be.differenceWith=Sm,be.drop=t_,be.dropRight=qd,be.dropRightWhile=fu,be.dropWhile=Om,be.fill=n_,be.filter=xm,be.flatMap=U1,be.flatMapDeep=H1,be.flatMapDepth=sf,be.flatten=Kt,be.flattenDeep=Bn,be.flattenDepth=Tc,be.flip=$_,be.flow=_a,be.flowRight=Su,be.fromPairs=Jp,be.functions=n$,be.functionsIn=ma,be.groupBy=Tn,be.initial=r_,be.intersection=tf,be.intersectionBy=Zd,be.intersectionWith=km,be.invert=I_,be.invertBy=Ai,be.invokeMap=Tu,be.iteratee=Lf,be.keyBy=G1,be.keys=Vo,be.keysIn=yr,be.map=af,be.mapKeys=S_,be.mapValues=O_,be.matches=q1,be.matchesProperty=Es,be.memoize=ur,be.merge=k_,be.mergeWith=r$,be.method=Uc,be.methodOf=Mf,be.mixin=Pf,be.negate=Hs,be.nthArg=zn,be.omit=fh,be.omitBy=i$,be.once=yl,be.orderBy=uf,be.over=V_,be.overArgs=Gm,be.overEvery=Ou,be.overSome=U_,be.partial=Yi,be.partialRight=zm,be.partition=Fm,be.pick=gh,be.pickBy=Sf,be.property=g$,be.propertyOf=H_,be.pull=gu,be.pullAll=mu,be.pullAllBy=yc,be.pullAllWith=Fn,be.pullAt=Ec,be.range=G_,be.rangeRight=z_,be.rearg=wi,be.reject=g_,be.remove=$u,be.rest=wc,be.reverse=Jd,be.sampleSize=Xi,be.set=w_,be.setWith=Of,be.shuffle=Tl,be.slice=ca,be.sortBy=kc,be.sortedUniq=th,be.sortedUniqBy=Cc,be.split=P_,be.spread=sh,be.tail=l_,be.take=a_,be.takeRight=_u,be.takeRightWhile=Am,be.takeWhile=Rm,be.tap=Oc,be.throttle=lh,be.thru=li,be.toArray=Ef,be.toPairs=s$,be.toPairsIn=l$,be.toPath=K_,be.toPlainObject=If,be.transform=N_,be.unary=ah,be.union=Wi,be.unionBy=nh,be.unionWith=Lm,be.uniq=Mm,be.uniqBy=u_,be.uniqWith=c_,be.unset=W1,be.unzip=Ic,be.unzipWith=xo,be.update=j1,be.updateWith=X1,be.values=$a,be.valuesIn=A_,be.without=tr,be.words=Il,be.wrap=Wm,be.xor=Pm,be.xorBy=Dm,be.xorWith=d_,be.zip=ji,be.zipObject=oh,be.zipObjectDeep=Sc,be.zipWith=rf,be.entries=s$,be.entriesIn=l$,be.extend=jt,be.extendWith=ga,Pf(be,be),be.add=Q_,be.attempt=Rf,be.camelCase=Xn,be.capitalize=a$,be.ceil=bh,be.clamp=kf,be.clone=mf,be.cloneDeep=Nc,be.cloneDeepWith=jm,be.cloneWith=$f,be.conformsTo=El,be.deburr=Qi,be.defaultTo=Vc,be.divide=q_,be.endsWith=xr,be.eq=io,be.escape=L_,be.escapeRegExp=wf,be.every=ih,be.find=Bm,be.findIndex=ua,be.findKey=ch,be.findLast=Us,be.findLastIndex=Zp,be.findLastKey=C_,be.floor=Z_,be.forEach=No,be.forEachRight=lf,be.forIn=Cu,be.forInRight=dh,be.forOwn=Dc,be.forOwnRight=hh,be.get=xc,be.gt=Xm,be.gte=v_,be.has=Bc,be.hasIn=ph,be.head=ef,be.identity=so,be.includes=p_,be.indexOf=o_,be.inRange=R_,be.invoke=o$,be.isArguments=ha,be.isArray=un,be.isArrayBuffer=__,be.isArrayLike=Fo,be.isArrayLikeObject=Ao,be.isBoolean=uh,be.isBuffer=$s,be.isDate=b_,be.isElement=vf,be.isEmpty=Gs,be.isEqual=Vn,be.isEqualWith=T_,be.isError=_f,be.isFinite=yu,be.isFunction=vs,be.isInteger=bf,be.isLength=It,be.isMap=Ac,be.isMatch=y_,be.isMatchWith=Km,be.isNaN=Pr,be.isNative=Ym,be.isNil=Ni,be.isNull=_s,be.isNumber=Rc,be.isObject=Io,be.isObjectLike=So,be.isPlainObject=Lc,be.isRegExp=Tf,be.isSafeInteger=Mc,be.isSet=yf,be.isString=Pc,be.isSymbol=Dr,be.isTypedArray=pa,be.isUndefined=Qm,be.isWeakMap=qm,be.isWeakSet=fa,be.join=i_,be.kebabCase=Sn,be.last=si,be.lastIndexOf=nf,be.lowerCase=Nf,be.lowerFirst=Iu,be.lt=Zm,be.lte=Jm,be.max=m$,be.maxBy=Z1,be.mean=Hc,be.meanBy=J_,be.min=e0,be.minBy=$$,be.stubArray=xf,be.stubFalse=Bf,be.stubObject=W_,be.stubString=j_,be.stubTrue=Ws,be.multiply=J1,be.nth=wm,be.noConflict=f$,be.noop=Df,be.now=hf,be.pad=Ri,be.padEnd=M_,be.padStart=u$,be.parseInt=c$,be.random=mh,be.reduce=f_,be.reduceRight=vn,be.repeat=$h,be.replace=Ts,be.result=Fc,be.round=js,be.runInContext=it,be.sample=da,be.size=cf,be.snakeCase=d$,be.some=df,be.sortedIndex=s_,be.sortedIndexBy=Nm,be.sortedIndexOf=Do,be.sortedLastIndex=eh,be.sortedLastIndexBy=vu,be.sortedLastIndexOf=of,be.startCase=h$,be.startsWith=D_,be.subtract=Xs,be.sum=eT,be.sumBy=tT,be.template=K1,be.times=X_,be.toFinite=bs,be.toInteger=yn,be.toLength=Cf,be.toLower=Y1,be.toNumber=ui,be.toSafeInteger=e$,be.toString=jn,be.toUpper=Cl,be.trim=p$,be.trimEnd=x_,be.trimStart=va,be.truncate=Af,be.unescape=vr,be.uniqueId=Y_,be.upperCase=B_,be.upperFirst=vh,be.each=No,be.eachRight=lf,be.first=ef,Pf(be,function(){var d={};return Hi(be,function(f,E){qn.call(be.prototype,E)||(d[E]=f)}),d}(),{chain:!1}),be.VERSION=i,Yr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){be[d].placeholder=be}),Yr(["drop","take"],function(d,f){Nn.prototype[d]=function(E){E=E===n?1:Vt(yn(E),0);var V=this.__filtered__&&!f?new Nn(this):this.clone();return V.__filtered__?V.__takeCount__=no(E,V.__takeCount__):V.__views__.push({size:no(E,Oe),type:d+(V.__dir__<0?"Right":"")}),V},Nn.prototype[d+"Right"]=function(E){return this.reverse()[d](E).reverse()}}),Yr(["filter","map","takeWhile"],function(d,f){var E=f+1,V=E==X||E==q;Nn.prototype[d]=function(ie){var ye=this.clone();return ye.__iteratees__.push({iteratee:an(ie,3),type:E}),ye.__filtered__=ye.__filtered__||V,ye}}),Yr(["head","last"],function(d,f){var E="take"+(f?"Right":"");Nn.prototype[d]=function(){return this[E](1).value()[0]}}),Yr(["initial","tail"],function(d,f){var E="drop"+(f?"":"Right");Nn.prototype[d]=function(){return this.__filtered__?new Nn(this):this[E](1)}}),Nn.prototype.compact=function(){return this.filter(so)},Nn.prototype.find=function(d){return this.filter(d).head()},Nn.prototype.findLast=function(d){return this.reverse().find(d)},Nn.prototype.invokeMap=kn(function(d,f){return typeof d=="function"?new Nn(this):this.map(function(E){return hc(E,d,f)})}),Nn.prototype.reject=function(d){return this.filter(Hs(an(d)))},Nn.prototype.slice=function(d,f){d=yn(d);var E=this;return E.__filtered__&&(d>0||f<0)?new Nn(E):(d<0?E=E.takeRight(-d):d&&(E=E.drop(d)),f!==n&&(f=yn(f),E=f<0?E.dropRight(-f):E.take(f-d)),E)},Nn.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},Nn.prototype.toArray=function(){return this.take(Oe)},Hi(Nn.prototype,function(d,f){var E=/^(?:filter|find|map|reject)|While$/.test(f),V=/^(?:head|last)$/.test(f),ie=be[V?"take"+(f=="last"?"Right":""):f],ye=V||/^find/.test(f);ie&&(be.prototype[f]=function(){var He=this.__wrapped__,Ye=V?[1]:arguments,st=He instanceof Nn,Ct=Ye[0],Tt=st||un(He),Nt=function(Rn){var Dn=ie.apply(be,Ti([Rn],Ye));return V&&Wt?Dn[0]:Dn};Tt&&E&&typeof Ct=="function"&&Ct.length!=1&&(st=Tt=!1);var Wt=this.__chain__,tn=!!this.__actions__.length,pn=ye&&!Wt,In=st&&!tn;if(!ye&&Tt){He=In?He:new Nn(this);var gn=d.apply(He,Ye);return gn.__actions__.push({func:li,args:[Nt],thisArg:n}),new Jr(gn,Wt)}return pn&&In?d.apply(this,Ye):(gn=this.thru(Nt),pn?V?gn.value()[0]:gn.value():gn)})}),Yr(["pop","push","shift","sort","splice","unshift"],function(d){var f=Tr[d],E=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",V=/^(?:pop|shift)$/.test(d);be.prototype[d]=function(){var ie=arguments;if(V&&!this.__chain__){var ye=this.value();return f.apply(un(ye)?ye:[],ie)}return this[E](function(He){return f.apply(un(He)?He:[],ie)})}}),Hi(Nn.prototype,function(d,f){var E=be[f];if(E){var V=E.name+"";qn.call(Xl,V)||(Xl[V]=[]),Xl[V].push({name:f,func:E})}}),Xl[Zn(n,B).name]=[{name:"wrapper",func:n}],Nn.prototype.clone=Dg,Nn.prototype.reverse=xg,Nn.prototype.value=Ad,be.prototype.at=Vs,be.prototype.chain=An,be.prototype.commit=Bo,be.prototype.next=h_,be.prototype.plant=F1,be.prototype.reverse=V1,be.prototype.toJSON=be.prototype.valueOf=be.prototype.value=ai,be.prototype.first=be.prototype.head,Wl&&(be.prototype[Wl]=rh),be},ja=Wa();qo?((qo.exports=ja)._=ja,fr._=ja):Mn._=ja}).call(Wn)})(Kb,Kb.exports);var Loe=Kb.exports;const Moe=xl(Loe);function Poe(){document.querySelector("#boxy > .blocklyDiv > div > svg.blocklyFlyout");const o=document.getElementsByClassName("blocklyToolboxDiv")[0].getBoundingClientRect().width,n=320,i=350+Math.log(window.innerWidth);return window.innerWidth>o+n+i?"PC":"Phone"}class Doe{constructor(o){lo(this,"load",()=>{Nu.registerLanguage("javascript",woe),Nu.registerLanguage("dart",Coe),Nu.registerLanguage("php",Aoe),Nu.registerLanguage("python",Roe),Nu.registerLanguage("lua",Noe),window.addEventListener("resize",this.resize),this.resize()});lo(this,"updateCode",()=>{let o=this.language.workspaceToCode(this.workspace);o===""?this.codeDiv.innerHTML="未检测到积木块，拖动积木块至工作区以开始。":this.codeDiv.innerHTML=Moe.escape(o),Nu.highlightAll()});lo(this,"resize",()=>{window.changeSize(this.currentWidth()),this.currentWidth()===window.innerWidth?(this.codespaceHeadDiv.style.display="block",this.codeDiv.style.marginTop="0px",this.codeSelect.style.top="15px",this.codeSelect.style.left="20px"):(this.codespaceHeadDiv.style.display="none",this.codeDiv.style.marginTop="20px",this.codeSelect.style.top="0",this.codeSelect.style.left="0")});lo(this,"open",()=>{this.blocklyDiv.setAttribute("code",""),this.codespaceDiv.setAttribute("code",""),this.codespaceButton=document.getElementById("switchCode"),this.codespaceButton.style.color="var(--boxy-color)",this.codespaceDiv.style.display="",window.changeDirection(["left"])});lo(this,"close",()=>{this.blocklyDiv.removeAttribute("code"),this.codespaceDiv.removeAttribute("code"),this.codespaceButton=document.getElementById("switchCode"),this.codespaceButton.style.color="var(--zoombox-color)",this.codespaceDiv.style.display="none",window.changeDirection([])});lo(this,"switch",()=>{this.blocklyDiv.getAttributeNames().indexOf("code")===-1?(this.codespaceDiv.style.width="350px",this.open()):this.close(),this.resize()});lo(this,"state",()=>this.codespaceDiv.getAttributeNames().indexOf("code")!==-1);lo(this,"dueWidth",()=>Poe()==="PC"?parseInt(this.codespaceDiv.style.width):window.innerWidth);lo(this,"currentWidth",()=>this.state()?this.dueWidth():0);lo(this,"switch_generator",o=>{switch(o){case"Javascript":this.language=Ea.javascriptGenerator,this.codeDiv.className="language-javascript hljs";break;case"Dart":this.language=Lu.dartGenerator,this.codeDiv.className="language-dart hljs";break;case"Python":this.language=Ru.pythonGenerator,this.codeDiv.className="language-python hljs";break;case"Lua":this.language=Mu.luaGenerator,this.codeDiv.className="language-lua hljs";break;case"PHP":this.language=Au.phpGenerator,this.codeDiv.className="language-php hljs";break}this.updateCode()});this.workspace=o,this.blocklyDiv=document.getElementsByClassName("blocklyDiv")[0],this.codespaceDiv=document.getElementById("codespace"),this.codespaceHeadDiv=document.getElementById("codespaceHead"),this.codeDiv=document.getElementById("code"),this.workspaceDiv=document.getElementById("workspace"),this.codespaceButton=document.getElementById("switchCode"),this.codeSelect=document.querySelector(".codespace-change"),this.language=Ea.javascriptGenerator}}/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const xoe="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjE0Ij48cGF0aCBkPSJNMTkgNi40MUwxNy41OSA1IDEyIDEwLjU5IDYuNDEgNSA1IDYuNDEgMTAuNTkgMTIgNSAxNy41OSA2LjQxIDE5IDEyIDEzLjQxIDE3LjU5IDE5IDE5IDE3LjU5IDEzLjQxIDEyeiIvPjxwYXRoIGQ9Ik0wIDBoMjR2MjRIMHoiIGZpbGw9Im5vbmUiLz48L3N2Zz4=",Boe="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjE0Ij48cGF0aCBkPSJNNy40MSA4LjU5TDEyIDEzLjE3bDQuNTktNC41OEwxOCAxMGwtNiA2LTYtNiAxLjQxLTEuNDF6Ii8+PHBhdGggZD0iTTAgMGgyNHYyNEgwVjB6IiBmaWxsPSJub25lIi8+PC9zdmc+",Foe="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAyNCAyNCIgd2lkdGg9IjE0Ij48cGF0aCBkPSJNNy40MSAxNS40MUwxMiAxMC44M2w0LjU5IDQuNThMMTggMTRsLTYtNi02IDZ6Ii8+PHBhdGggZD0iTTAgMGgyNHYyNEgweiIgZmlsbD0ibm9uZSIvPjwvc3ZnPg==",Voe=["path.blocklyPath.blockly-ws-search-highlight {","fill: #000;","}","path.blocklyPath.blockly-ws-search-highlight.blockly-ws-search-current {","fill: grey;","}",".blockly-ws-search-close-btn {","background: url("+xoe+") no-repeat top left;","}",".blockly-ws-search-next-btn {","background: url("+Boe+") no-repeat top left;","}",".blockly-ws-search-previous-btn {","background: url("+Foe+") no-repeat top left;","}",".blockly-ws-search {","background: #fff;","border: solid lightgrey 0.5px;","box-shadow: 0px 10px 20px grey;","justify-content: center;","padding: 0.25em;","position: absolute;","z-index: 70;","}",".blockly-ws-search-input input {","border: none;","}",".blockly-ws-search button {","border: none;","}",".blockly-ws-search-actions {","display: flex;","}",".blockly-ws-search-container {","display: flex;","}",".blockly-ws-search-content {","display: flex;","}"],Uoe=function(){let e=!1;return function(){if(e)return;e=!0;const o=Voe.join(`
`),n=document.createElement("style");n.id="blockly-ws-search-style";const i=document.createTextNode(o);n.appendChild(i),document.head.insertBefore(n,document.head.firstChild)}}();var Zi=id();/**
 * @license
 * Copyright 2020 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Hoe{constructor(o){this.workspace_=o,this.id="workspaceSearch",this.htmlDiv_=null,this.actionDiv_=null,this.inputElement_=null,this.textInputPlaceholder_="Search",this.blocks_=[],this.currentBlockIndex_=-1,this.searchText_="",this.searchOnInput=!0,this.caseSensitive=!1,this.preserveSelected=!0,this.boundEvents_=[]}init(){this.workspace_.getComponentManager().addComponent({component:this,weight:0,capabilities:[Zi.ComponentManager.Capability.POSITIONABLE]}),Uoe(),this.createDom_(),this.setVisible_(!1),this.workspace_.resize()}dispose(){for(const o of this.boundEvents_)Zi.browserEvents.unbind(o);this.boundEvents_.length=0,this.htmlDiv_&&(this.htmlDiv_.remove(),this.htmlDiv_=null),this.actionDiv_=null,this.inputElement_=null}createDom_(){const o=this.workspace_.getInjectionDiv();this.addEvent_(o,"keydown",this,p=>this.onWorkspaceKeyDown_(p)),this.htmlDiv_=document.createElement("div"),Zi.utils.dom.addClass(this.htmlDiv_,"blockly-ws-search");const n=document.createElement("div");Zi.utils.dom.addClass(n,"blockly-ws-search-container");const i=document.createElement("div");Zi.utils.dom.addClass(i,"blockly-ws-search-content"),n.appendChild(i);const l=document.createElement("div");Zi.utils.dom.addClass(l,"blockly-ws-search-input"),this.inputElement_=this.createTextInput_(),this.addEvent_(this.inputElement_,"keydown",this,p=>this.onKeyDown_(p)),this.addEvent_(this.inputElement_,"input",this,()=>this.onInput_()),this.addEvent_(this.inputElement_,"click",this,()=>{this.searchAndHighlight(this.searchText_,this.preserveSelected),this.inputElement_.select()}),l.appendChild(this.inputElement_),i.appendChild(l),this.actionDiv_=document.createElement("div"),Zi.utils.dom.addClass(this.actionDiv_,"blockly-ws-search-actions"),i.appendChild(this.actionDiv_);const u=this.createNextBtn_();u&&this.addActionBtn(u,()=>this.next());const a=this.createPreviousBtn_();a&&this.addActionBtn(a,()=>this.previous());const h=this.createCloseBtn_();h&&(this.addBtnListener_(h,()=>this.close()),n.appendChild(h)),this.htmlDiv_.appendChild(n),o.insertBefore(this.htmlDiv_,this.workspace_.getParentSvg())}addEvent_(o,n,i,l){const u=Zi.browserEvents.conditionalBind(o,n,i,l);this.boundEvents_.push(u)}addActionBtn(o,n){this.addBtnListener_(o,n),this.actionDiv_.appendChild(o)}createTextInput_(){const o=document.createElement("input");return o.type="text",o.setAttribute("placeholder",this.textInputPlaceholder_),o}createNextBtn_(){return this.createBtn_("blockly-ws-search-next-btn","Find next")}createPreviousBtn_(){return this.createBtn_("blockly-ws-search-previous-btn","Find previous")}createCloseBtn_(){return this.createBtn_("blockly-ws-search-close-btn","Close search bar")}createBtn_(o,n){const i=document.createElement("button");return Zi.utils.dom.addClass(i,o),i.setAttribute("aria-label",n),i}addBtnListener_(o,n){this.addEvent_(o,"click",this,n),this.addEvent_(o,"keydown",this,i=>{i.key==="Enter"?(n(i),i.preventDefault()):i.key==="Escape"&&this.close(),i.stopPropagation()})}getBoundingRectangle(){return null}position(o,n){this.workspace_.RTL?this.htmlDiv_.style.left=o.absoluteMetrics.left+"px":o.toolboxMetrics.position===Zi.TOOLBOX_AT_RIGHT?this.htmlDiv_.style.right=o.toolboxMetrics.width+"px":this.htmlDiv_.style.right="0",this.htmlDiv_.style.top=o.absoluteMetrics.top+"px"}onInput_(){if(this.searchOnInput){const o=this.inputElement_.value.trim();o!==this.searchText_&&this.searchAndHighlight(o,this.preserveSelected)}}onKeyDown_(o){if(o.key==="Escape")this.close();else if(o.key==="Enter")if(this.searchOnInput)this.next();else{const n=this.inputElement_.value.trim();n!==this.searchText_&&this.searchAndHighlight(n,this.preserveSelected)}}onWorkspaceKeyDown_(o){(o.ctrlKey||o.metaKey)&&o.key==="f"&&(this.open(),o.preventDefault(),o.stopPropagation())}previous(){this.setCurrentBlock_(this.currentBlockIndex_-1)}next(){this.setCurrentBlock_(this.currentBlockIndex_+1)}setSearchPlaceholder(o){this.textInputPlaceholder_=o,this.inputElement_&&this.inputElement_.setAttribute("placeholder",this.textInputPlaceholder_)}setCurrentBlock_(o){if(!this.blocks_.length)return;let n=this.blocks_[this.currentBlockIndex_];n&&this.unhighlightCurrentSelection_(n),this.currentBlockIndex_=(o%this.blocks_.length+this.blocks_.length)%this.blocks_.length,n=this.blocks_[this.currentBlockIndex_],this.highlightCurrentSelection_(n),this.workspace_.centerOnBlock(n.id,!1)}open(){this.setVisible_(!0),this.inputElement_.focus(),this.searchText_&&this.searchAndHighlight(this.searchText_)}close(){this.setVisible_(!1),this.workspace_.markFocused(),this.clearBlocks()}setVisible_(o){this.htmlDiv_.style.display=o?"flex":"none"}searchAndHighlight(o,n){const i=this.blocks_[this.currentBlockIndex_];this.searchText_=o.trim(),this.clearBlocks(),this.blocks_=this.getMatchingBlocks_(this.workspace_,this.searchText_,this.caseSensitive),this.highlightSearchGroup_(this.blocks_);let l=0;n&&(l=this.blocks_.indexOf(i),l=l>-1?l:0),this.setCurrentBlock_(l)}getSearchPool_(o){return o.getAllBlocks(!0).filter(i=>{const l=i.getSurroundParent();return!l||!l.isCollapsed()})}isBlockMatch_(o,n,i){let l="";if(o.isCollapsed())l=o.toString();else{const u=[];o.inputList.forEach(a=>{a.fieldRow.forEach(h=>{u.push(h.getText())})}),l=u.join(" ").trim()}return i||(l=l.toLowerCase()),l.indexOf(n)>-1}getMatchingBlocks_(o,n,i){return n?(this.caseSensitive||(n=n.toLowerCase()),this.getSearchPool_(o).filter(u=>this.isBlockMatch_(u,n,i))):[]}clearBlocks(){this.unhighlightSearchGroup_(this.blocks_);const o=this.blocks_[this.currentBlockIndex_];o&&this.unhighlightCurrentSelection_(o),this.currentBlockIndex_=-1,this.blocks_=[]}highlightCurrentSelection_(o){const n=o.pathObject.svgPath;Zi.utils.dom.addClass(n,"blockly-ws-search-current")}unhighlightCurrentSelection_(o){const n=o.pathObject.svgPath;Zi.utils.dom.removeClass(n,"blockly-ws-search-current")}highlightSearchGroup_(o){o.forEach(n=>{const i=n.pathObject.svgPath;Zi.utils.dom.addClass(i,"blockly-ws-search-highlight")})}unhighlightSearchGroup_(o){o.forEach(n=>{const i=n.pathObject.svgPath;Zi.utils.dom.removeClass(i,"blockly-ws-search-highlight")})}}class Goe{constructor(o){lo(this,"load",()=>{this.workspaceSearch=new Hoe(this.workspace),this.workspaceSearch.setSearchPlaceholder("搜索作品中的积木"),this.workspaceSearch.init(),this.workspaceSearchDiv=document.getElementsByClassName("blockly-ws-search")[0],this.zoomBoxDiv=document.getElementById("zoomBox"),window.addEventListener("resize",this.resize)});lo(this,"resize",()=>{this.workspaceSearchDiv.style.width=this.zoomBoxDiv.style.width+"px",this.workspaceSearchDiv.style.height=this.zoomBoxDiv.style.height+"px"});this.workspace=o}}class zoe{constructor(){lo(this,"switch",o=>{this.trashCan=document.getElementById("trashcan"),this.trashcanLid=document.getElementById("trashcan-lid"),this.trashcanBody=document.getElementById("trashcan-body"),o.type==="drag"?this.switchOn():o.type==="move"&&o.oldCoordinate!==void 0&&(this.switchOff(),this.coverOff())});lo(this,"switchOn",()=>{this.trashCan.style.zIndex="6",this.trashcanLid.style.zIndex="7",this.trashcanBody.style.zIndex="7",this.trashCan.style.opacity="1",this.trashcanLid.style.opacity="1",this.trashcanBody.style.opacity="1"});lo(this,"switchOff",()=>{this.trashCan.style.zIndex="0",this.trashcanLid.style.zIndex="0",this.trashcanBody.style.zIndex="0",this.trashCan.style.opacity="0",this.trashcanLid.style.opacity="0",this.trashcanBody.style.opacity="0"});lo(this,"coverOn",()=>{this.trashcanLid.style.transform="translate(-4px,-4px) rotate(-20deg)"});lo(this,"coverOff",()=>{this.trashcanLid.style.transform="translate(0px, 0px) rotate(0deg)"});this.trashCan=document.getElementById("trashcan"),this.trashcanLid=document.getElementById("trashcan-lid"),this.trashcanBody=document.getElementById("trashcan-body")}}let jC=new zoe;function Woe(e){const o=Math.E**e;return o/(o+1)}class joe{constructor(o,n,i){lo(this,"load",()=>{this.zoomBoxDiv=document.getElementById("zoomBox"),this.blocklyZoomButtons=document.getElementsByClassName("blocklyZoom"),this.resetButton=this.blocklyZoomButtons[2];let o=document.getElementsByClassName("zoomFunctions");Array.prototype.forEach.call(o,function(n){n.setAttribute("width","25px"),n.setAttribute("height","25px"),n.setAttribute("size","1em")}),this.zoomBoxDiv.addEventListener("contextmenu",function(n){n.preventDefault()}),window.addEventListener("resize",this.resize),this.resize(),this.reset(),this.workspace.addChangeListener(()=>document.getElementById("zoomBoxReset").innerHTML=Math.floor((this.workspace.scale*(5/3)-1/3)*100)+"%")});lo(this,"resize",()=>{this.zoomBoxDiv=document.getElementById("zoomBox");const o=this.zoomBoxDiv.getBoundingClientRect(),n=55-10*Woe(.005*o.left-2);this.zoomBoxDiv.style.width=5.5*n+"px",this.zoomBoxDiv.style.height=n+"px",this.zoomBoxDiv.style.right=this.codespace.currentWidth()+40+"px",document.querySelector(".blocklyDiv").style.width=window.innerWidth-this.codespace.currentWidth()+"px",bn.svgResize(this.workspace)});lo(this,"searchSwitch",()=>{document.getElementsByClassName("blockly-ws-search")[0].style.display==="none"?this.workspaceSearch.workspaceSearch.open():this.workspaceSearch.workspaceSearch.close()});lo(this,"codespaceSwitch",()=>{this.codespace.switch(),this.codespace.resize(),this.resize()});lo(this,"smaller",()=>{let o=this.workspace.options.zoomOptions.scaleSpeed,n=this.workspace.scale;this.workspace.zoom(0,0,Math.log((n-.15)/n)/Math.log(o))});lo(this,"reset",()=>{this.resetButton=this.blocklyZoomButtons[2],this.resetButton.dispatchEvent(new PointerEvent("pointerdown"))});lo(this,"bigger",()=>{let o=this.workspace.options.zoomOptions.scaleSpeed,n=this.workspace.scale;this.workspace.zoom(0,0,Math.log((n+.15)/n)/Math.log(o))});this.workspace=o,this.codespace=n,this.workspaceSearch=i,this.zoomBoxDiv=document.getElementById("zoomBox"),this.blocklyZoomButtons=document.getElementsByClassName("blocklyZoom"),this.resetButton=this.blocklyZoomButtons[2]}}const bS=e=>(cI("data-v-02c86434"),e=e(),dI(),e),Xoe={id:"codespaceHead"},Koe=bS(()=>De("iconpark-icon",{id:"codespaceClose",name:"close",onclick:"codespaceSwitch();zoomBoxResize()"},null,-1)),Yoe=bS(()=>De("pre",null,[De("code",{id:"code",class:"language-javascript"})],-1)),Qoe=bS(()=>De("div",{id:"trashcan",class:"blocklyToolboxDelete",style:{cursor:"grabbing"}},[De("img",{src:aoe,id:"trashcan-lid",class:"trashcan",alt:"垃圾桶盖"}),De("img",{src:uoe,id:"trashcan-body",class:"trashcan",alt:"垃圾桶身"})],-1)),qoe={__name:"workspace",props:["options"],setup(e,{expose:o}){const n=e;bn.setLocale(doe),bn.Msg.CONTROLS_REPEAT_INPUT_DO="",bn.Msg.CONTROLS_IF_MSG_THEN="",bn.Msg.CONTROLS_IF_MSG_ELSE="",bn.Msg.LOGIC_BOOLEAN_TRUE="真",bn.Msg.LOGIC_BOOLEAN_FALSE="假",bn.Msg.NEW_VARIABLE="创建变量";const i=ve(),l=ve(),u=j3(),a=ve("Javascript");let h,p=ve([]),m=ve(0);o({workspace:u}),fn(()=>{const w=n.options||{};w.toolbox||(w.toolbox=i.value),u.value=bn.inject(l.value,w);const A=new Goe(u.value);A.load();let R=new Doe(u.value);R.load(),h=M=>{a.value=M,R.switch_generator(M)};const L=new joe(u.value,R,A);L.load(),window.zoomBoxResize=L.resize,window.searchSwitch=L.searchSwitch,window.codespaceSwitch=L.codespaceSwitch,window.zoomBoxSmaller=L.smaller,window.zoomBoxReset=L.reset,window.zoomBoxBigger=L.bigger,u.value.addChangeListener(function(M){R.updateCode(),jC.switch(M)}),KC.resize()}),window.changeDirection=w=>{p.value=w},window.changeSize=w=>{w<=768&&(m.value=w)};let $=w=>{w.width<=768?m.value=w.width:m.value=768,window.zoomBoxResize()},T=()=>{window.zoomBoxResize()};return(w,A)=>{const R=Pe("a-option"),L=Pe("a-select"),M=Pe("a-resize-box");return W(),fe("div",null,[_(_oe,{workspace:u.value},null,8,["workspace"]),De("div",{class:"blocklyDiv",ref_key:"blocklyDiv",ref:l},null,512),De("xml",{ref_key:"blocklyToolbox",ref:i,style:{display:"none"}},[Ue(w.$slots,"default",{},void 0,!0)],512),_(M,{id:"codespace",width:Ta(m),"onUpdate:width":A[1]||(A[1]=B=>nr(m)?m.value=B:m=B),directions:Ta(p),onMoving:Ta($),onMovingEnd:Ta(T),style:{width:"0px"}},{default:Je(()=>[_(L,{onChange:Ta(h),"model-value":a.value,"onUpdate:modelValue":A[0]||(A[0]=B=>a.value=B),style:{width:"150px"},"default-value":"Javascript",class:"codespace-change"},{default:Je(()=>[_(R,null,{default:Je(()=>[Dt("Dart")]),_:1}),_(R,null,{default:Je(()=>[Dt("Javascript")]),_:1}),_(R,null,{default:Je(()=>[Dt("Lua")]),_:1}),_(R,null,{default:Je(()=>[Dt("PHP")]),_:1}),_(R,null,{default:Je(()=>[Dt("Python")]),_:1})]),_:1},8,["onChange","model-value"]),De("div",Xoe,[Koe,_(Ta(noe),{id:"codespaceClose",onclick:"codespaceSwitch();zoomBoxResize()"})]),Yoe]),_:1},8,["width","directions","onMoving","onMovingEnd"]),Qoe])}}},Zoe=M1(qoe,[["__scopeId","data-v-02c86434"]]);const Joe={__name:"App",setup(e){const o=ve(),n={toolbox:SN,trashcan:!1,media:"media/",zoom:{controls:!0,wheel:!0,startScale:.8,maxScale:1.4,minScale:.5},move:{scrollbars:!0,drag:!0,wheel:!0},theme:"codemao",renderer:"codemao"};return(i,l)=>(W(),fe(Lt,null,[_(Zoe,{id:"boxy",options:n,ref_key:"foo",ref:o},null,512),_(loe,{id:"zoomBox"}),_(ine)],64))}};function XC(e,o,n){let i=document.querySelector(e);XC=new window.MutationObserver(function(l){l.forEach(function(u){u.type==="attributes"&&n(i)})}),XC.observe(i,{attributes:!0,attributeFilter:o})}const C4=XC,TS=bI(Joe);TS.use(tte);TS.use(Yte);TS.mount("#app");document.querySelector(".blocklyFlyout").addEventListener("mouseenter",function(){this.getBoundingClientRect().width<this.getAttribute("width")&&(this.style.width=this.getAttribute("width"))});document.querySelector(".blocklyFlyout").addEventListener("mouseleave",function(){this.style.width=localStorage.getItem("block_all_shown")?"":"320px"});C4("#boxy > .blocklyDiv > div > svg.blocklyFlyout",["style","width"],function(e){e.style.display==="block"?e.style.transform="translate(60px,0px)":e.style.transform=`translate(${-(localStorage.getItem("block_all_shown")&&e.getAttribute("width")||320)+60}px,0px)`});C4("#boxy > .blocklyDiv > div >  div.blocklyToolboxDiv.blocklyNonSelectable",["class"],function(e){e.classList.contains("blocklyToolboxDelete")?jC.coverOn():jC.coverOff()});"serviceWorker"in navigator&&Jte()